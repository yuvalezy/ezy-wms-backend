function T8(t,r){for(var e=0;e<r.length;e++){const s=r[e];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in t)){const o=Object.getOwnPropertyDescriptor(s,l);o&&Object.defineProperty(t,l,o.get?o:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=e(l);fetch(l.href,o)}})();var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r0={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function A8(){if(_w)return xu;_w=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function e(s,l,o){var i=null;if(o!==void 0&&(i=""+o),l.key!==void 0&&(i=""+l.key),"key"in l){o={};for(var d in l)d!=="key"&&(o[d]=l[d])}else o=l;return l=o.ref,{$$typeof:t,type:s,key:i,ref:l!==void 0?l:null,props:o}}return xu.Fragment=r,xu.jsx=e,xu.jsxs=e,xu}var Cw;function M8(){return Cw||(Cw=1,r0.exports=A8()),r0.exports}var n=M8(),s0={exports:{}},dn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function O8(){if(Nw)return dn;Nw=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),i=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),a=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),m=Symbol.iterator;function h(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function g(M,L,z){this.props=M,this.context=L,this.refs=x,this.updater=z||p}g.prototype.isReactComponent={},g.prototype.setState=function(M,L){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,L,"setState")},g.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function w(){}w.prototype=g.prototype;function v(M,L,z){this.props=M,this.context=L,this.refs=x,this.updater=z||p}var j=v.prototype=new w;j.constructor=v,y(j,g.prototype),j.isPureReactComponent=!0;var N=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function V(M,L,z,K,Z,te){return z=te.ref,{$$typeof:t,type:M,key:L,ref:z!==void 0?z:null,props:te}}function P(M,L){return V(M.type,L,void 0,void 0,void 0,M.props)}function $(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function G(M){var L={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(z){return L[z]})}var Y=/\/+/g;function W(M,L){return typeof M=="object"&&M!==null&&M.key!=null?G(""+M.key):L.toString(36)}function O(){}function I(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(O,O):(M.status="pending",M.then(function(L){M.status==="pending"&&(M.status="fulfilled",M.value=L)},function(L){M.status==="pending"&&(M.status="rejected",M.reason=L)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function R(M,L,z,K,Z){var te=typeof M;(te==="undefined"||te==="boolean")&&(M=null);var H=!1;if(M===null)H=!0;else switch(te){case"bigint":case"string":case"number":H=!0;break;case"object":switch(M.$$typeof){case t:case r:H=!0;break;case u:return H=M._init,R(H(M._payload),L,z,K,Z)}}if(H)return Z=Z(M),H=K===""?"."+W(M,0):K,N(Z)?(z="",H!=null&&(z=H.replace(Y,"$&/")+"/"),R(Z,L,z,"",function(F){return F})):Z!=null&&($(Z)&&(Z=P(Z,z+(Z.key==null||M&&M.key===Z.key?"":(""+Z.key).replace(Y,"$&/")+"/")+H)),L.push(Z)),1;H=0;var ee=K===""?".":K+":";if(N(M))for(var U=0;U<M.length;U++)K=M[U],te=ee+W(K,U),H+=R(K,L,z,te,Z);else if(U=h(M),typeof U=="function")for(M=U.call(M),U=0;!(K=M.next()).done;)K=K.value,te=ee+W(K,U++),H+=R(K,L,z,te,Z);else if(te==="object"){if(typeof M.then=="function")return R(I(M),L,z,K,Z);throw L=String(M),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return H}function S(M,L,z){if(M==null)return M;var K=[],Z=0;return R(M,K,"","",function(te){return L.call(z,te,Z++)}),K}function C(M){if(M._status===-1){var L=M._result;L=L(),L.then(function(z){(M._status===0||M._status===-1)&&(M._status=1,M._result=z)},function(z){(M._status===0||M._status===-1)&&(M._status=2,M._result=z)}),M._status===-1&&(M._status=0,M._result=L)}if(M._status===1)return M._result.default;throw M._result}var k=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function E(){}return dn.Children={map:S,forEach:function(M,L,z){S(M,function(){L.apply(this,arguments)},z)},count:function(M){var L=0;return S(M,function(){L++}),L},toArray:function(M){return S(M,function(L){return L})||[]},only:function(M){if(!$(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},dn.Component=g,dn.Fragment=e,dn.Profiler=l,dn.PureComponent=v,dn.StrictMode=s,dn.Suspense=c,dn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,dn.__COMPILER_RUNTIME={__proto__:null,c:function(M){return T.H.useMemoCache(M)}},dn.cache=function(M){return function(){return M.apply(null,arguments)}},dn.cloneElement=function(M,L,z){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var K=y({},M.props),Z=M.key,te=void 0;if(L!=null)for(H in L.ref!==void 0&&(te=void 0),L.key!==void 0&&(Z=""+L.key),L)!D.call(L,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&L.ref===void 0||(K[H]=L[H]);var H=arguments.length-2;if(H===1)K.children=z;else if(1<H){for(var ee=Array(H),U=0;U<H;U++)ee[U]=arguments[U+2];K.children=ee}return V(M.type,Z,void 0,void 0,te,K)},dn.createContext=function(M){return M={$$typeof:i,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},dn.createElement=function(M,L,z){var K,Z={},te=null;if(L!=null)for(K in L.key!==void 0&&(te=""+L.key),L)D.call(L,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(Z[K]=L[K]);var H=arguments.length-2;if(H===1)Z.children=z;else if(1<H){for(var ee=Array(H),U=0;U<H;U++)ee[U]=arguments[U+2];Z.children=ee}if(M&&M.defaultProps)for(K in H=M.defaultProps,H)Z[K]===void 0&&(Z[K]=H[K]);return V(M,te,void 0,void 0,null,Z)},dn.createRef=function(){return{current:null}},dn.forwardRef=function(M){return{$$typeof:d,render:M}},dn.isValidElement=$,dn.lazy=function(M){return{$$typeof:u,_payload:{_status:-1,_result:M},_init:C}},dn.memo=function(M,L){return{$$typeof:a,type:M,compare:L===void 0?null:L}},dn.startTransition=function(M){var L=T.T,z={};T.T=z;try{var K=M(),Z=T.S;Z!==null&&Z(z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(E,k)}catch(te){k(te)}finally{T.T=L}},dn.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},dn.use=function(M){return T.H.use(M)},dn.useActionState=function(M,L,z){return T.H.useActionState(M,L,z)},dn.useCallback=function(M,L){return T.H.useCallback(M,L)},dn.useContext=function(M){return T.H.useContext(M)},dn.useDebugValue=function(){},dn.useDeferredValue=function(M,L){return T.H.useDeferredValue(M,L)},dn.useEffect=function(M,L,z){var K=T.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(M,L)},dn.useId=function(){return T.H.useId()},dn.useImperativeHandle=function(M,L,z){return T.H.useImperativeHandle(M,L,z)},dn.useInsertionEffect=function(M,L){return T.H.useInsertionEffect(M,L)},dn.useLayoutEffect=function(M,L){return T.H.useLayoutEffect(M,L)},dn.useMemo=function(M,L){return T.H.useMemo(M,L)},dn.useOptimistic=function(M,L){return T.H.useOptimistic(M,L)},dn.useReducer=function(M,L,z){return T.H.useReducer(M,L,z)},dn.useRef=function(M){return T.H.useRef(M)},dn.useState=function(M){return T.H.useState(M)},dn.useSyncExternalStore=function(M,L,z){return T.H.useSyncExternalStore(M,L,z)},dn.useTransition=function(){return T.H.useTransition()},dn.version="19.1.1",dn}var kw;function Tb(){return kw||(kw=1,s0.exports=O8()),s0.exports}var B=Tb();const Te=Jh(B),Y4=T8({__proto__:null,default:Te},[B]);var a0={exports:{}},vu={},i0={exports:{}},o0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function D8(){return Ew||(Ew=1,(function(t){function r(S,C){var k=S.length;S.push(C);e:for(;0<k;){var E=k-1>>>1,M=S[E];if(0<l(M,C))S[E]=C,S[k]=M,k=E;else break e}}function e(S){return S.length===0?null:S[0]}function s(S){if(S.length===0)return null;var C=S[0],k=S.pop();if(k!==C){S[0]=k;e:for(var E=0,M=S.length,L=M>>>1;E<L;){var z=2*(E+1)-1,K=S[z],Z=z+1,te=S[Z];if(0>l(K,k))Z<M&&0>l(te,K)?(S[E]=te,S[Z]=k,E=Z):(S[E]=K,S[z]=k,E=z);else if(Z<M&&0>l(te,k))S[E]=te,S[Z]=k,E=Z;else break e}}return C}function l(S,C){var k=S.sortIndex-C.sortIndex;return k!==0?k:S.id-C.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,d=i.now();t.unstable_now=function(){return i.now()-d}}var c=[],a=[],u=1,m=null,h=3,p=!1,y=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function N(S){for(var C=e(a);C!==null;){if(C.callback===null)s(a);else if(C.startTime<=S)s(a),C.sortIndex=C.expirationTime,r(c,C);else break;C=e(a)}}function T(S){if(x=!1,N(S),!y)if(e(c)!==null)y=!0,D||(D=!0,W());else{var C=e(a);C!==null&&R(T,C.startTime-S)}}var D=!1,V=-1,P=5,$=-1;function G(){return g?!0:!(t.unstable_now()-$<P)}function Y(){if(g=!1,D){var S=t.unstable_now();$=S;var C=!0;try{e:{y=!1,x&&(x=!1,v(V),V=-1),p=!0;var k=h;try{t:{for(N(S),m=e(c);m!==null&&!(m.expirationTime>S&&G());){var E=m.callback;if(typeof E=="function"){m.callback=null,h=m.priorityLevel;var M=E(m.expirationTime<=S);if(S=t.unstable_now(),typeof M=="function"){m.callback=M,N(S),C=!0;break t}m===e(c)&&s(c),N(S)}else s(c);m=e(c)}if(m!==null)C=!0;else{var L=e(a);L!==null&&R(T,L.startTime-S),C=!1}}break e}finally{m=null,h=k,p=!1}C=void 0}}finally{C?W():D=!1}}}var W;if(typeof j=="function")W=function(){j(Y)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,I=O.port2;O.port1.onmessage=Y,W=function(){I.postMessage(null)}}else W=function(){w(Y,0)};function R(S,C){V=w(function(){S(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(S){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var k=h;h=C;try{return S()}finally{h=k}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(S,C){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var k=h;h=S;try{return C()}finally{h=k}},t.unstable_scheduleCallback=function(S,C,k){var E=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?E+k:E):k=E,S){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=k+M,S={id:u++,callback:C,priorityLevel:S,startTime:k,expirationTime:M,sortIndex:-1},k>E?(S.sortIndex=k,r(a,S),e(c)===null&&S===e(a)&&(x?(v(V),V=-1):x=!0,R(T,k-E))):(S.sortIndex=M,r(c,S),y||p||(y=!0,D||(D=!0,W()))),S},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(S){var C=h;return function(){var k=h;h=C;try{return S.apply(this,arguments)}finally{h=k}}}})(o0)),o0}var Rw;function I8(){return Rw||(Rw=1,i0.exports=D8()),i0.exports}var l0={exports:{}},ts={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function P8(){if(Tw)return ts;Tw=1;var t=Tb();function r(c){var a="https://react.dev/errors/"+c;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(r(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(c,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:m==null?null:""+m,children:c,containerInfo:a,implementation:u}}var i=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(c,a){if(c==="font")return"";if(typeof a=="string")return a==="use-credentials"?a:""}return ts.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ts.createPortal=function(c,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)throw Error(r(299));return o(c,a,null,u)},ts.flushSync=function(c){var a=i.T,u=s.p;try{if(i.T=null,s.p=2,c)return c()}finally{i.T=a,s.p=u,s.d.f()}},ts.preconnect=function(c,a){typeof c=="string"&&(a?(a=a.crossOrigin,a=typeof a=="string"?a==="use-credentials"?a:"":void 0):a=null,s.d.C(c,a))},ts.prefetchDNS=function(c){typeof c=="string"&&s.d.D(c)},ts.preinit=function(c,a){if(typeof c=="string"&&a&&typeof a.as=="string"){var u=a.as,m=d(u,a.crossOrigin),h=typeof a.integrity=="string"?a.integrity:void 0,p=typeof a.fetchPriority=="string"?a.fetchPriority:void 0;u==="style"?s.d.S(c,typeof a.precedence=="string"?a.precedence:void 0,{crossOrigin:m,integrity:h,fetchPriority:p}):u==="script"&&s.d.X(c,{crossOrigin:m,integrity:h,fetchPriority:p,nonce:typeof a.nonce=="string"?a.nonce:void 0})}},ts.preinitModule=function(c,a){if(typeof c=="string")if(typeof a=="object"&&a!==null){if(a.as==null||a.as==="script"){var u=d(a.as,a.crossOrigin);s.d.M(c,{crossOrigin:u,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0})}}else a==null&&s.d.M(c)},ts.preload=function(c,a){if(typeof c=="string"&&typeof a=="object"&&a!==null&&typeof a.as=="string"){var u=a.as,m=d(u,a.crossOrigin);s.d.L(c,u,{crossOrigin:m,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0,type:typeof a.type=="string"?a.type:void 0,fetchPriority:typeof a.fetchPriority=="string"?a.fetchPriority:void 0,referrerPolicy:typeof a.referrerPolicy=="string"?a.referrerPolicy:void 0,imageSrcSet:typeof a.imageSrcSet=="string"?a.imageSrcSet:void 0,imageSizes:typeof a.imageSizes=="string"?a.imageSizes:void 0,media:typeof a.media=="string"?a.media:void 0})}},ts.preloadModule=function(c,a){if(typeof c=="string")if(a){var u=d(a.as,a.crossOrigin);s.d.m(c,{as:typeof a.as=="string"&&a.as!=="script"?a.as:void 0,crossOrigin:u,integrity:typeof a.integrity=="string"?a.integrity:void 0})}else s.d.m(c)},ts.requestFormReset=function(c){s.d.r(c)},ts.unstable_batchedUpdates=function(c,a){return c(a)},ts.useFormState=function(c,a,u){return i.H.useFormState(c,a,u)},ts.useFormStatus=function(){return i.H.useHostTransitionStatus()},ts.version="19.1.1",ts}var Aw;function X4(){if(Aw)return l0.exports;Aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),l0.exports=P8(),l0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function L8(){if(Mw)return vu;Mw=1;var t=I8(),r=Tb(),e=X4();function s(f){var b="https://react.dev/errors/"+f;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function o(f){var b=f,_=f;if(f.alternate)for(;b.return;)b=b.return;else{f=b;do b=f,(b.flags&4098)!==0&&(_=b.return),f=b.return;while(f)}return b.tag===3?_:null}function i(f){if(f.tag===13){var b=f.memoizedState;if(b===null&&(f=f.alternate,f!==null&&(b=f.memoizedState)),b!==null)return b.dehydrated}return null}function d(f){if(o(f)!==f)throw Error(s(188))}function c(f){var b=f.alternate;if(!b){if(b=o(f),b===null)throw Error(s(188));return b!==f?null:f}for(var _=f,A=b;;){var q=_.return;if(q===null)break;var X=q.alternate;if(X===null){if(A=q.return,A!==null){_=A;continue}break}if(q.child===X.child){for(X=q.child;X;){if(X===_)return d(q),f;if(X===A)return d(q),b;X=X.sibling}throw Error(s(188))}if(_.return!==A.return)_=q,A=X;else{for(var ne=!1,oe=q.child;oe;){if(oe===_){ne=!0,_=q,A=X;break}if(oe===A){ne=!0,A=q,_=X;break}oe=oe.sibling}if(!ne){for(oe=X.child;oe;){if(oe===_){ne=!0,_=X,A=q;break}if(oe===A){ne=!0,A=X,_=q;break}oe=oe.sibling}if(!ne)throw Error(s(189))}}if(_.alternate!==A)throw Error(s(190))}if(_.tag!==3)throw Error(s(188));return _.stateNode.current===_?f:b}function a(f){var b=f.tag;if(b===5||b===26||b===27||b===6)return f;for(f=f.child;f!==null;){if(b=a(f),b!==null)return b;f=f.sibling}return null}var u=Object.assign,m=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function W(f){return f===null||typeof f!="object"?null:(f=Y&&f[Y]||f["@@iterator"],typeof f=="function"?f:null)}var O=Symbol.for("react.client.reference");function I(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===O?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case y:return"Fragment";case g:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList";case $:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case p:return"Portal";case j:return(f.displayName||"Context")+".Provider";case v:return(f._context.displayName||"Context")+".Consumer";case N:var b=f.render;return f=f.displayName,f||(f=b.displayName||b.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case V:return b=f.displayName||null,b!==null?b:I(f.type)||"Memo";case P:b=f._payload,f=f._init;try{return I(f(b))}catch{}}return null}var R=Array.isArray,S=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},E=[],M=-1;function L(f){return{current:f}}function z(f){0>M||(f.current=E[M],E[M]=null,M--)}function K(f,b){M++,E[M]=f.current,f.current=b}var Z=L(null),te=L(null),H=L(null),ee=L(null);function U(f,b){switch(K(H,b),K(te,f),K(Z,null),b.nodeType){case 9:case 11:f=(f=b.documentElement)&&(f=f.namespaceURI)?Z1(f):0;break;default:if(f=b.tagName,b=b.namespaceURI)b=Z1(b),f=J1(b,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}z(Z),K(Z,f)}function F(){z(Z),z(te),z(H)}function J(f){f.memoizedState!==null&&K(ee,f);var b=Z.current,_=J1(b,f.type);b!==_&&(K(te,f),K(Z,_))}function re(f){te.current===f&&(z(Z),z(te)),ee.current===f&&(z(ee),pu._currentValue=k)}var ce=Object.prototype.hasOwnProperty,se=t.unstable_scheduleCallback,de=t.unstable_cancelCallback,we=t.unstable_shouldYield,ve=t.unstable_requestPaint,ie=t.unstable_now,ge=t.unstable_getCurrentPriorityLevel,me=t.unstable_ImmediatePriority,ae=t.unstable_UserBlockingPriority,le=t.unstable_NormalPriority,fe=t.unstable_LowPriority,xe=t.unstable_IdlePriority,je=t.log,_e=t.unstable_setDisableYieldValue,De=null,Fe=null;function Ue(f){if(typeof je=="function"&&_e(f),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(De,f)}catch{}}var Je=Math.clz32?Math.clz32:yt,dt=Math.log,ft=Math.LN2;function yt(f){return f>>>=0,f===0?32:31-(dt(f)/ft|0)|0}var et=256,Ke=4194304;function rt(f){var b=f&42;if(b!==0)return b;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function pt(f,b,_){var A=f.pendingLanes;if(A===0)return 0;var q=0,X=f.suspendedLanes,ne=f.pingedLanes;f=f.warmLanes;var oe=A&134217727;return oe!==0?(A=oe&~X,A!==0?q=rt(A):(ne&=oe,ne!==0?q=rt(ne):_||(_=oe&~f,_!==0&&(q=rt(_))))):(oe=A&~X,oe!==0?q=rt(oe):ne!==0?q=rt(ne):_||(_=A&~f,_!==0&&(q=rt(_)))),q===0?0:b!==0&&b!==q&&(b&X)===0&&(X=q&-q,_=b&-b,X>=_||X===32&&(_&4194048)!==0)?b:q}function it(f,b){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&b)===0}function Kt(f,b){switch(f){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rn(){var f=et;return et<<=1,(et&4194048)===0&&(et=256),f}function Ct(){var f=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),f}function pn(f){for(var b=[],_=0;31>_;_++)b.push(f);return b}function Xt(f,b){f.pendingLanes|=b,b!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Ut(f,b,_,A,q,X){var ne=f.pendingLanes;f.pendingLanes=_,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=_,f.entangledLanes&=_,f.errorRecoveryDisabledLanes&=_,f.shellSuspendCounter=0;var oe=f.entanglements,be=f.expirationTimes,Re=f.hiddenUpdates;for(_=ne&~_;0<_;){var $e=31-Je(_),Ge=1<<$e;oe[$e]=0,be[$e]=-1;var Me=Re[$e];if(Me!==null)for(Re[$e]=null,$e=0;$e<Me.length;$e++){var Oe=Me[$e];Oe!==null&&(Oe.lane&=-536870913)}_&=~Ge}A!==0&&lt(f,A,0),X!==0&&q===0&&f.tag!==0&&(f.suspendedLanes|=X&~(ne&~b))}function lt(f,b,_){f.pendingLanes|=b,f.suspendedLanes&=~b;var A=31-Je(b);f.entangledLanes|=b,f.entanglements[A]=f.entanglements[A]|1073741824|_&4194090}function It(f,b){var _=f.entangledLanes|=b;for(f=f.entanglements;_;){var A=31-Je(_),q=1<<A;q&b|f[A]&b&&(f[A]|=b),_&=~q}}function ct(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function Bt(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function jn(){var f=C.p;return f!==0?f:(f=window.event,f===void 0?32:yw(f.type))}function gt(f,b){var _=C.p;try{return C.p=f,b()}finally{C.p=_}}var Lt=Math.random().toString(36).slice(2),zt="__reactFiber$"+Lt,ht="__reactProps$"+Lt,ye="__reactContainer$"+Lt,Ne="__reactEvents$"+Lt,Pe="__reactListeners$"+Lt,st="__reactHandles$"+Lt,Ot="__reactResources$"+Lt,tt="__reactMarker$"+Lt;function Ft(f){delete f[zt],delete f[ht],delete f[Ne],delete f[Pe],delete f[st]}function Nt(f){var b=f[zt];if(b)return b;for(var _=f.parentNode;_;){if(b=_[ye]||_[zt]){if(_=b.alternate,b.child!==null||_!==null&&_.child!==null)for(f=rw(f);f!==null;){if(_=f[zt])return _;f=rw(f)}return b}f=_,_=f.parentNode}return null}function vt(f){if(f=f[zt]||f[ye]){var b=f.tag;if(b===5||b===6||b===13||b===26||b===27||b===3)return f}return null}function $t(f){var b=f.tag;if(b===5||b===26||b===27||b===6)return f.stateNode;throw Error(s(33))}function Pt(f){var b=f[Ot];return b||(b=f[Ot]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function Et(f){f[tt]=!0}var Xn=new Set,On={};function qn(f,b){Hn(f,b),Hn(f+"Capture",b)}function Hn(f,b){for(On[f]=b,f=0;f<b.length;f++)Xn.add(b[f])}var Jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pe={},ke={};function He(f){return ce.call(ke,f)?!0:ce.call(pe,f)?!1:Jr.test(f)?ke[f]=!0:(pe[f]=!0,!1)}function Xe(f,b,_){if(He(b))if(_===null)f.removeAttribute(b);else{switch(typeof _){case"undefined":case"function":case"symbol":f.removeAttribute(b);return;case"boolean":var A=b.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){f.removeAttribute(b);return}}f.setAttribute(b,""+_)}}function xt(f,b,_){if(_===null)f.removeAttribute(b);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(b);return}f.setAttribute(b,""+_)}}function Qe(f,b,_,A){if(A===null)f.removeAttribute(_);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(_);return}f.setAttributeNS(b,_,""+A)}}var nt,mn;function Wt(f){if(nt===void 0)try{throw Error()}catch(_){var b=_.stack.trim().match(/\n( *(at )?)/);nt=b&&b[1]||"",mn=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+f+mn}var nn=!1;function Rt(f,b){if(!f||nn)return"";nn=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(b){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Oe){var Me=Oe}Reflect.construct(f,[],Ge)}else{try{Ge.call()}catch(Oe){Me=Oe}f.call(Ge.prototype)}}else{try{throw Error()}catch(Oe){Me=Oe}(Ge=f())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Oe){if(Oe&&Me&&typeof Oe.stack=="string")return[Oe.stack,Me.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var q=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");q&&q.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var X=A.DetermineComponentFrameRoot(),ne=X[0],oe=X[1];if(ne&&oe){var be=ne.split(`
`),Re=oe.split(`
`);for(q=A=0;A<be.length&&!be[A].includes("DetermineComponentFrameRoot");)A++;for(;q<Re.length&&!Re[q].includes("DetermineComponentFrameRoot");)q++;if(A===be.length||q===Re.length)for(A=be.length-1,q=Re.length-1;1<=A&&0<=q&&be[A]!==Re[q];)q--;for(;1<=A&&0<=q;A--,q--)if(be[A]!==Re[q]){if(A!==1||q!==1)do if(A--,q--,0>q||be[A]!==Re[q]){var $e=`
`+be[A].replace(" at new "," at ");return f.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",f.displayName)),$e}while(1<=A&&0<=q);break}}}finally{nn=!1,Error.prepareStackTrace=_}return(_=f?f.displayName||f.name:"")?Wt(_):""}function Rn(f){switch(f.tag){case 26:case 27:case 5:return Wt(f.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return Rt(f.type,!1);case 11:return Rt(f.type.render,!1);case 1:return Rt(f.type,!0);case 31:return Wt("Activity");default:return""}}function Nn(f){try{var b="";do b+=Rn(f),f=f.return;while(f);return b}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function ln(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Wn(f){var b=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function yr(f){var b=Wn(f)?"checked":"value",_=Object.getOwnPropertyDescriptor(f.constructor.prototype,b),A=""+f[b];if(!f.hasOwnProperty(b)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var q=_.get,X=_.set;return Object.defineProperty(f,b,{configurable:!0,get:function(){return q.call(this)},set:function(ne){A=""+ne,X.call(this,ne)}}),Object.defineProperty(f,b,{enumerable:_.enumerable}),{getValue:function(){return A},setValue:function(ne){A=""+ne},stopTracking:function(){f._valueTracker=null,delete f[b]}}}}function xr(f){f._valueTracker||(f._valueTracker=yr(f))}function ms(f){if(!f)return!1;var b=f._valueTracker;if(!b)return!0;var _=b.getValue(),A="";return f&&(A=Wn(f)?f.checked?"true":"false":f.value),f=A,f!==_?(b.setValue(f),!0):!1}function Vs(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var Ti=/[\n"\\]/g;function Er(f){return f.replace(Ti,function(b){return"\\"+b.charCodeAt(0).toString(16)+" "})}function Ea(f,b,_,A,q,X,ne,oe){f.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?f.type=ne:f.removeAttribute("type"),b!=null?ne==="number"?(b===0&&f.value===""||f.value!=b)&&(f.value=""+ln(b)):f.value!==""+ln(b)&&(f.value=""+ln(b)):ne!=="submit"&&ne!=="reset"||f.removeAttribute("value"),b!=null?vn(f,ne,ln(b)):_!=null?vn(f,ne,ln(_)):A!=null&&f.removeAttribute("value"),q==null&&X!=null&&(f.defaultChecked=!!X),q!=null&&(f.checked=q&&typeof q!="function"&&typeof q!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?f.name=""+ln(oe):f.removeAttribute("name")}function kn(f,b,_,A,q,X,ne,oe){if(X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(f.type=X),b!=null||_!=null){if(!(X!=="submit"&&X!=="reset"||b!=null))return;_=_!=null?""+ln(_):"",b=b!=null?""+ln(b):_,oe||b===f.value||(f.value=b),f.defaultValue=b}A=A??q,A=typeof A!="function"&&typeof A!="symbol"&&!!A,f.checked=oe?f.checked:!!A,f.defaultChecked=!!A,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(f.name=ne)}function vn(f,b,_){b==="number"&&Vs(f.ownerDocument)===f||f.defaultValue===""+_||(f.defaultValue=""+_)}function as(f,b,_,A){if(f=f.options,b){b={};for(var q=0;q<_.length;q++)b["$"+_[q]]=!0;for(_=0;_<f.length;_++)q=b.hasOwnProperty("$"+f[_].value),f[_].selected!==q&&(f[_].selected=q),q&&A&&(f[_].defaultSelected=!0)}else{for(_=""+ln(_),b=null,q=0;q<f.length;q++){if(f[q].value===_){f[q].selected=!0,A&&(f[q].defaultSelected=!0);return}b!==null||f[q].disabled||(b=f[q])}b!==null&&(b.selected=!0)}}function Ra(f,b,_){if(b!=null&&(b=""+ln(b),b!==f.value&&(f.value=b),_==null)){f.defaultValue!==b&&(f.defaultValue=b);return}f.defaultValue=_!=null?""+ln(_):""}function Co(f,b,_,A){if(b==null){if(A!=null){if(_!=null)throw Error(s(92));if(R(A)){if(1<A.length)throw Error(s(93));A=A[0]}_=A}_==null&&(_=""),b=_}_=ln(b),f.defaultValue=_,A=f.textContent,A===_&&A!==""&&A!==null&&(f.value=A)}function vr(f,b){if(b){var _=f.firstChild;if(_&&_===f.lastChild&&_.nodeType===3){_.nodeValue=b;return}}f.textContent=b}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ia(f,b,_){var A=b.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?A?f.setProperty(b,""):b==="float"?f.cssFloat="":f[b]="":A?f.setProperty(b,_):typeof _!="number"||_===0||aa.has(b)?b==="float"?f.cssFloat=_:f[b]=(""+_).trim():f[b]=_+"px"}function Ai(f,b,_){if(b!=null&&typeof b!="object")throw Error(s(62));if(f=f.style,_!=null){for(var A in _)!_.hasOwnProperty(A)||b!=null&&b.hasOwnProperty(A)||(A.indexOf("--")===0?f.setProperty(A,""):A==="float"?f.cssFloat="":f[A]="");for(var q in b)A=b[q],b.hasOwnProperty(q)&&_[q]!==A&&ia(f,q,A)}else for(var X in b)b.hasOwnProperty(X)&&ia(f,X,b[X])}function Mi(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(f){return Ta.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var Di=null;function ko(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var oa=null,la=null;function Nc(f){var b=vt(f);if(b&&(f=b.stateNode)){var _=f[ht]||null;e:switch(f=b.stateNode,b.type){case"input":if(Ea(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),b=_.name,_.type==="radio"&&b!=null){for(_=f;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+Er(""+b)+'"][type="radio"]'),b=0;b<_.length;b++){var A=_[b];if(A!==f&&A.form===f.form){var q=A[ht]||null;if(!q)throw Error(s(90));Ea(A,q.value,q.defaultValue,q.defaultValue,q.checked,q.defaultChecked,q.type,q.name)}}for(b=0;b<_.length;b++)A=_[b],A.form===f.form&&ms(A)}break e;case"textarea":Ra(f,_.value,_.defaultValue);break e;case"select":b=_.value,b!=null&&as(f,!!_.multiple,b,!1)}}}var Ii=!1;function Eo(f,b,_){if(Ii)return f(b,_);Ii=!0;try{var A=f(b);return A}finally{if(Ii=!1,(oa!==null||la!==null)&&(wf(),oa&&(b=oa,f=la,la=oa=null,Nc(b),f)))for(b=0;b<f.length;b++)Nc(f[b])}}function kc(f,b){var _=f.stateNode;if(_===null)return null;var A=_[ht]||null;if(A===null)return null;_=A[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(f=f.type,A=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!A;break e;default:f=!1}if(f)return null;if(_&&typeof _!="function")throw Error(s(231,b,typeof _));return _}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),im=!1;if(ri)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){im=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{im=!1}var Pi=null,om=null,Pd=null;function nx(){if(Pd)return Pd;var f,b=om,_=b.length,A,q="value"in Pi?Pi.value:Pi.textContent,X=q.length;for(f=0;f<_&&b[f]===q[f];f++);var ne=_-f;for(A=1;A<=ne&&b[_-A]===q[X-A];A++);return Pd=q.slice(f,1<A?1-A:void 0)}function Ld(f){var b=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&b===13&&(f=13)):f=b,f===10&&(f=13),32<=f||f===13?f:0}function Bd(){return!0}function rx(){return!1}function gs(f){function b(_,A,q,X,ne){this._reactName=_,this._targetInst=q,this.type=A,this.nativeEvent=X,this.target=ne,this.currentTarget=null;for(var oe in f)f.hasOwnProperty(oe)&&(_=f[oe],this[oe]=_?_(X):X[oe]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?Bd:rx,this.isPropagationStopped=rx,this}return u(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=Bd)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=Bd)},persist:function(){},isPersistent:Bd}),b}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fd=gs(Ro),Rc=u({},Ro,{view:0,detail:0}),TC=gs(Rc),lm,cm,Tc,Ud=u({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dm,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Tc&&(Tc&&f.type==="mousemove"?(lm=f.screenX-Tc.screenX,cm=f.screenY-Tc.screenY):cm=lm=0,Tc=f),lm)},movementY:function(f){return"movementY"in f?f.movementY:cm}}),sx=gs(Ud),AC=u({},Ud,{dataTransfer:0}),MC=gs(AC),OC=u({},Rc,{relatedTarget:0}),um=gs(OC),DC=u({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),IC=gs(DC),PC=u({},Ro,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),LC=gs(PC),BC=u({},Ro,{data:0}),ax=gs(BC),FC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zC(f){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(f):(f=$C[f])?!!b[f]:!1}function dm(){return zC}var qC=u({},Rc,{key:function(f){if(f.key){var b=FC[f.key]||f.key;if(b!=="Unidentified")return b}return f.type==="keypress"?(f=Ld(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?UC[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dm,charCode:function(f){return f.type==="keypress"?Ld(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Ld(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),VC=gs(qC),HC=u({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ix=gs(HC),WC=u({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dm}),GC=gs(WC),YC=u({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),XC=gs(YC),KC=u({},Ud,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),QC=gs(KC),ZC=u({},Ro,{newState:0,oldState:0}),JC=gs(ZC),eN=[9,13,27,32],fm=ri&&"CompositionEvent"in window,Ac=null;ri&&"documentMode"in document&&(Ac=document.documentMode);var tN=ri&&"TextEvent"in window&&!Ac,ox=ri&&(!fm||Ac&&8<Ac&&11>=Ac),lx=" ",cx=!1;function ux(f,b){switch(f){case"keyup":return eN.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dx(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ml=!1;function nN(f,b){switch(f){case"compositionend":return dx(b);case"keypress":return b.which!==32?null:(cx=!0,lx);case"textInput":return f=b.data,f===lx&&cx?null:f;default:return null}}function rN(f,b){if(ml)return f==="compositionend"||!fm&&ux(f,b)?(f=nx(),Pd=om=Pi=null,ml=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return ox&&b.locale!=="ko"?null:b.data;default:return null}}var sN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fx(f){var b=f&&f.nodeName&&f.nodeName.toLowerCase();return b==="input"?!!sN[f.type]:b==="textarea"}function hx(f,b,_,A){oa?la?la.push(A):la=[A]:oa=A,b=kf(b,"onChange"),0<b.length&&(_=new Fd("onChange","change",null,_,A),f.push({event:_,listeners:b}))}var Mc=null,Oc=null;function aN(f){G1(f,0)}function $d(f){var b=$t(f);if(ms(b))return f}function px(f,b){if(f==="change")return b}var mx=!1;if(ri){var hm;if(ri){var pm="oninput"in document;if(!pm){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),pm=typeof gx.oninput=="function"}hm=pm}else hm=!1;mx=hm&&(!document.documentMode||9<document.documentMode)}function bx(){Mc&&(Mc.detachEvent("onpropertychange",yx),Oc=Mc=null)}function yx(f){if(f.propertyName==="value"&&$d(Oc)){var b=[];hx(b,Oc,f,ko(f)),Eo(aN,b)}}function iN(f,b,_){f==="focusin"?(bx(),Mc=b,Oc=_,Mc.attachEvent("onpropertychange",yx)):f==="focusout"&&bx()}function oN(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return $d(Oc)}function lN(f,b){if(f==="click")return $d(b)}function cN(f,b){if(f==="input"||f==="change")return $d(b)}function uN(f,b){return f===b&&(f!==0||1/f===1/b)||f!==f&&b!==b}var ks=typeof Object.is=="function"?Object.is:uN;function Dc(f,b){if(ks(f,b))return!0;if(typeof f!="object"||f===null||typeof b!="object"||b===null)return!1;var _=Object.keys(f),A=Object.keys(b);if(_.length!==A.length)return!1;for(A=0;A<_.length;A++){var q=_[A];if(!ce.call(b,q)||!ks(f[q],b[q]))return!1}return!0}function xx(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function vx(f,b){var _=xx(f);f=0;for(var A;_;){if(_.nodeType===3){if(A=f+_.textContent.length,f<=b&&A>=b)return{node:_,offset:b-f};f=A}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=xx(_)}}function wx(f,b){return f&&b?f===b?!0:f&&f.nodeType===3?!1:b&&b.nodeType===3?wx(f,b.parentNode):"contains"in f?f.contains(b):f.compareDocumentPosition?!!(f.compareDocumentPosition(b)&16):!1:!1}function jx(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var b=Vs(f.document);b instanceof f.HTMLIFrameElement;){try{var _=typeof b.contentWindow.location.href=="string"}catch{_=!1}if(_)f=b.contentWindow;else break;b=Vs(f.document)}return b}function mm(f){var b=f&&f.nodeName&&f.nodeName.toLowerCase();return b&&(b==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||b==="textarea"||f.contentEditable==="true")}var dN=ri&&"documentMode"in document&&11>=document.documentMode,gl=null,gm=null,Ic=null,bm=!1;function Sx(f,b,_){var A=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;bm||gl==null||gl!==Vs(A)||(A=gl,"selectionStart"in A&&mm(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Ic&&Dc(Ic,A)||(Ic=A,A=kf(gm,"onSelect"),0<A.length&&(b=new Fd("onSelect","select",null,b,_),f.push({event:b,listeners:A}),b.target=gl)))}function To(f,b){var _={};return _[f.toLowerCase()]=b.toLowerCase(),_["Webkit"+f]="webkit"+b,_["Moz"+f]="moz"+b,_}var bl={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionrun:To("Transition","TransitionRun"),transitionstart:To("Transition","TransitionStart"),transitioncancel:To("Transition","TransitionCancel"),transitionend:To("Transition","TransitionEnd")},ym={},_x={};ri&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function Ao(f){if(ym[f])return ym[f];if(!bl[f])return f;var b=bl[f],_;for(_ in b)if(b.hasOwnProperty(_)&&_ in _x)return ym[f]=b[_];return f}var Cx=Ao("animationend"),Nx=Ao("animationiteration"),kx=Ao("animationstart"),fN=Ao("transitionrun"),hN=Ao("transitionstart"),pN=Ao("transitioncancel"),Ex=Ao("transitionend"),Rx=new Map,xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xm.push("scrollEnd");function ca(f,b){Rx.set(f,b),qn(b,[f])}var Tx=new WeakMap;function Hs(f,b){if(typeof f=="object"&&f!==null){var _=Tx.get(f);return _!==void 0?_:(b={value:f,source:b,stack:Nn(b)},Tx.set(f,b),b)}return{value:f,source:b,stack:Nn(b)}}var Ws=[],yl=0,vm=0;function zd(){for(var f=yl,b=vm=yl=0;b<f;){var _=Ws[b];Ws[b++]=null;var A=Ws[b];Ws[b++]=null;var q=Ws[b];Ws[b++]=null;var X=Ws[b];if(Ws[b++]=null,A!==null&&q!==null){var ne=A.pending;ne===null?q.next=q:(q.next=ne.next,ne.next=q),A.pending=q}X!==0&&Ax(_,q,X)}}function qd(f,b,_,A){Ws[yl++]=f,Ws[yl++]=b,Ws[yl++]=_,Ws[yl++]=A,vm|=A,f.lanes|=A,f=f.alternate,f!==null&&(f.lanes|=A)}function wm(f,b,_,A){return qd(f,b,_,A),Vd(f)}function xl(f,b){return qd(f,null,null,b),Vd(f)}function Ax(f,b,_){f.lanes|=_;var A=f.alternate;A!==null&&(A.lanes|=_);for(var q=!1,X=f.return;X!==null;)X.childLanes|=_,A=X.alternate,A!==null&&(A.childLanes|=_),X.tag===22&&(f=X.stateNode,f===null||f._visibility&1||(q=!0)),f=X,X=X.return;return f.tag===3?(X=f.stateNode,q&&b!==null&&(q=31-Je(_),f=X.hiddenUpdates,A=f[q],A===null?f[q]=[b]:A.push(b),b.lane=_|536870912),X):null}function Vd(f){if(50<iu)throw iu=0,kg=null,Error(s(185));for(var b=f.return;b!==null;)f=b,b=f.return;return f.tag===3?f.stateNode:null}var vl={};function mN(f,b,_,A){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(f,b,_,A){return new mN(f,b,_,A)}function jm(f){return f=f.prototype,!(!f||!f.isReactComponent)}function si(f,b){var _=f.alternate;return _===null?(_=Es(f.tag,b,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=b,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&65011712,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,b=f.dependencies,_.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_.refCleanup=f.refCleanup,_}function Mx(f,b){f.flags&=65011714;var _=f.alternate;return _===null?(f.childLanes=0,f.lanes=b,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,b=_.dependencies,f.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),f}function Hd(f,b,_,A,q,X){var ne=0;if(A=f,typeof f=="function")jm(f)&&(ne=1);else if(typeof f=="string")ne=b8(f,_,Z.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case $:return f=Es(31,_,b,q),f.elementType=$,f.lanes=X,f;case y:return Mo(_.children,q,X,b);case x:ne=8,q|=24;break;case g:return f=Es(12,_,b,q|2),f.elementType=g,f.lanes=X,f;case T:return f=Es(13,_,b,q),f.elementType=T,f.lanes=X,f;case D:return f=Es(19,_,b,q),f.elementType=D,f.lanes=X,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case w:case j:ne=10;break e;case v:ne=9;break e;case N:ne=11;break e;case V:ne=14;break e;case P:ne=16,A=null;break e}ne=29,_=Error(s(130,f===null?"null":typeof f,"")),A=null}return b=Es(ne,_,b,q),b.elementType=f,b.type=A,b.lanes=X,b}function Mo(f,b,_,A){return f=Es(7,f,A,b),f.lanes=_,f}function Sm(f,b,_){return f=Es(6,f,null,b),f.lanes=_,f}function _m(f,b,_){return b=Es(4,f.children!==null?f.children:[],f.key,b),b.lanes=_,b.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},b}var wl=[],jl=0,Wd=null,Gd=0,Gs=[],Ys=0,Oo=null,ai=1,ii="";function Do(f,b){wl[jl++]=Gd,wl[jl++]=Wd,Wd=f,Gd=b}function Ox(f,b,_){Gs[Ys++]=ai,Gs[Ys++]=ii,Gs[Ys++]=Oo,Oo=f;var A=ai;f=ii;var q=32-Je(A)-1;A&=~(1<<q),_+=1;var X=32-Je(b)+q;if(30<X){var ne=q-q%5;X=(A&(1<<ne)-1).toString(32),A>>=ne,q-=ne,ai=1<<32-Je(b)+q|_<<q|A,ii=X+f}else ai=1<<X|_<<q|A,ii=f}function Cm(f){f.return!==null&&(Do(f,1),Ox(f,1,0))}function Nm(f){for(;f===Wd;)Wd=wl[--jl],wl[jl]=null,Gd=wl[--jl],wl[jl]=null;for(;f===Oo;)Oo=Gs[--Ys],Gs[Ys]=null,ii=Gs[--Ys],Gs[Ys]=null,ai=Gs[--Ys],Gs[Ys]=null}var is=null,ir=null,Mn=!1,Io=null,Aa=!1,km=Error(s(519));function Po(f){var b=Error(s(418,""));throw Bc(Hs(b,f)),km}function Dx(f){var b=f.stateNode,_=f.type,A=f.memoizedProps;switch(b[zt]=f,b[ht]=A,_){case"dialog":_n("cancel",b),_n("close",b);break;case"iframe":case"object":case"embed":_n("load",b);break;case"video":case"audio":for(_=0;_<lu.length;_++)_n(lu[_],b);break;case"source":_n("error",b);break;case"img":case"image":case"link":_n("error",b),_n("load",b);break;case"details":_n("toggle",b);break;case"input":_n("invalid",b),kn(b,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0),xr(b);break;case"select":_n("invalid",b);break;case"textarea":_n("invalid",b),Co(b,A.value,A.defaultValue,A.children),xr(b)}_=A.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||b.textContent===""+_||A.suppressHydrationWarning===!0||Q1(b.textContent,_)?(A.popover!=null&&(_n("beforetoggle",b),_n("toggle",b)),A.onScroll!=null&&_n("scroll",b),A.onScrollEnd!=null&&_n("scrollend",b),A.onClick!=null&&(b.onclick=Ef),b=!0):b=!1,b||Po(f)}function Ix(f){for(is=f.return;is;)switch(is.tag){case 5:case 13:Aa=!1;return;case 27:case 3:Aa=!0;return;default:is=is.return}}function Pc(f){if(f!==is)return!1;if(!Mn)return Ix(f),Mn=!0,!1;var b=f.tag,_;if((_=b!==3&&b!==27)&&((_=b===5)&&(_=f.type,_=!(_!=="form"&&_!=="button")||qg(f.type,f.memoizedProps)),_=!_),_&&ir&&Po(f),Ix(f),b===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));e:{for(f=f.nextSibling,b=0;f;){if(f.nodeType===8)if(_=f.data,_==="/$"){if(b===0){ir=da(f.nextSibling);break e}b--}else _!=="$"&&_!=="$!"&&_!=="$?"||b++;f=f.nextSibling}ir=null}}else b===27?(b=ir,Zi(f.type)?(f=Gg,Gg=null,ir=f):ir=b):ir=is?da(f.stateNode.nextSibling):null;return!0}function Lc(){ir=is=null,Mn=!1}function Px(){var f=Io;return f!==null&&(xs===null?xs=f:xs.push.apply(xs,f),Io=null),f}function Bc(f){Io===null?Io=[f]:Io.push(f)}var Em=L(null),Lo=null,oi=null;function Li(f,b,_){K(Em,b._currentValue),b._currentValue=_}function li(f){f._currentValue=Em.current,z(Em)}function Rm(f,b,_){for(;f!==null;){var A=f.alternate;if((f.childLanes&b)!==b?(f.childLanes|=b,A!==null&&(A.childLanes|=b)):A!==null&&(A.childLanes&b)!==b&&(A.childLanes|=b),f===_)break;f=f.return}}function Tm(f,b,_,A){var q=f.child;for(q!==null&&(q.return=f);q!==null;){var X=q.dependencies;if(X!==null){var ne=q.child;X=X.firstContext;e:for(;X!==null;){var oe=X;X=q;for(var be=0;be<b.length;be++)if(oe.context===b[be]){X.lanes|=_,oe=X.alternate,oe!==null&&(oe.lanes|=_),Rm(X.return,_,f),A||(ne=null);break e}X=oe.next}}else if(q.tag===18){if(ne=q.return,ne===null)throw Error(s(341));ne.lanes|=_,X=ne.alternate,X!==null&&(X.lanes|=_),Rm(ne,_,f),ne=null}else ne=q.child;if(ne!==null)ne.return=q;else for(ne=q;ne!==null;){if(ne===f){ne=null;break}if(q=ne.sibling,q!==null){q.return=ne.return,ne=q;break}ne=ne.return}q=ne}}function Fc(f,b,_,A){f=null;for(var q=b,X=!1;q!==null;){if(!X){if((q.flags&524288)!==0)X=!0;else if((q.flags&262144)!==0)break}if(q.tag===10){var ne=q.alternate;if(ne===null)throw Error(s(387));if(ne=ne.memoizedProps,ne!==null){var oe=q.type;ks(q.pendingProps.value,ne.value)||(f!==null?f.push(oe):f=[oe])}}else if(q===ee.current){if(ne=q.alternate,ne===null)throw Error(s(387));ne.memoizedState.memoizedState!==q.memoizedState.memoizedState&&(f!==null?f.push(pu):f=[pu])}q=q.return}f!==null&&Tm(b,f,_,A),b.flags|=262144}function Yd(f){for(f=f.firstContext;f!==null;){if(!ks(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Bo(f){Lo=f,oi=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function es(f){return Lx(Lo,f)}function Xd(f,b){return Lo===null&&Bo(f),Lx(f,b)}function Lx(f,b){var _=b._currentValue;if(b={context:b,memoizedValue:_,next:null},oi===null){if(f===null)throw Error(s(308));oi=b,f.dependencies={lanes:0,firstContext:b},f.flags|=524288}else oi=oi.next=b;return _}var gN=typeof AbortController<"u"?AbortController:function(){var f=[],b=this.signal={aborted:!1,addEventListener:function(_,A){f.push(A)}};this.abort=function(){b.aborted=!0,f.forEach(function(_){return _()})}},bN=t.unstable_scheduleCallback,yN=t.unstable_NormalPriority,Rr={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new gN,data:new Map,refCount:0}}function Uc(f){f.refCount--,f.refCount===0&&bN(yN,function(){f.controller.abort()})}var $c=null,Mm=0,Sl=0,_l=null;function xN(f,b){if($c===null){var _=$c=[];Mm=0,Sl=Dg(),_l={status:"pending",value:void 0,then:function(A){_.push(A)}}}return Mm++,b.then(Bx,Bx),b}function Bx(){if(--Mm===0&&$c!==null){_l!==null&&(_l.status="fulfilled");var f=$c;$c=null,Sl=0,_l=null;for(var b=0;b<f.length;b++)(0,f[b])()}}function vN(f,b){var _=[],A={status:"pending",value:null,reason:null,then:function(q){_.push(q)}};return f.then(function(){A.status="fulfilled",A.value=b;for(var q=0;q<_.length;q++)(0,_[q])(b)},function(q){for(A.status="rejected",A.reason=q,q=0;q<_.length;q++)(0,_[q])(void 0)}),A}var Fx=S.S;S.S=function(f,b){typeof b=="object"&&b!==null&&typeof b.then=="function"&&xN(f,b),Fx!==null&&Fx(f,b)};var Fo=L(null);function Om(){var f=Fo.current;return f!==null?f:Gn.pooledCache}function Kd(f,b){b===null?K(Fo,Fo.current):K(Fo,b.pool)}function Ux(){var f=Om();return f===null?null:{parent:Rr._currentValue,pool:f}}var zc=Error(s(460)),$x=Error(s(474)),Qd=Error(s(542)),Dm={then:function(){}};function zx(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Zd(){}function qx(f,b,_){switch(_=f[_],_===void 0?f.push(b):_!==b&&(b.then(Zd,Zd),b=_),b.status){case"fulfilled":return b.value;case"rejected":throw f=b.reason,Hx(f),f;default:if(typeof b.status=="string")b.then(Zd,Zd);else{if(f=Gn,f!==null&&100<f.shellSuspendCounter)throw Error(s(482));f=b,f.status="pending",f.then(function(A){if(b.status==="pending"){var q=b;q.status="fulfilled",q.value=A}},function(A){if(b.status==="pending"){var q=b;q.status="rejected",q.reason=A}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw f=b.reason,Hx(f),f}throw qc=b,zc}}var qc=null;function Vx(){if(qc===null)throw Error(s(459));var f=qc;return qc=null,f}function Hx(f){if(f===zc||f===Qd)throw Error(s(483))}var Bi=!1;function Im(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(f,b){f=f.updateQueue,b.updateQueue===f&&(b.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Fi(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Ui(f,b,_){var A=f.updateQueue;if(A===null)return null;if(A=A.shared,(Dn&2)!==0){var q=A.pending;return q===null?b.next=b:(b.next=q.next,q.next=b),A.pending=b,b=Vd(f),Ax(f,null,_),b}return qd(f,A,b,_),Vd(f)}function Vc(f,b,_){if(b=b.updateQueue,b!==null&&(b=b.shared,(_&4194048)!==0)){var A=b.lanes;A&=f.pendingLanes,_|=A,b.lanes=_,It(f,_)}}function Lm(f,b){var _=f.updateQueue,A=f.alternate;if(A!==null&&(A=A.updateQueue,_===A)){var q=null,X=null;if(_=_.firstBaseUpdate,_!==null){do{var ne={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};X===null?q=X=ne:X=X.next=ne,_=_.next}while(_!==null);X===null?q=X=b:X=X.next=b}else q=X=b;_={baseState:A.baseState,firstBaseUpdate:q,lastBaseUpdate:X,shared:A.shared,callbacks:A.callbacks},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=b:f.next=b,_.lastBaseUpdate=b}var Bm=!1;function Hc(){if(Bm){var f=_l;if(f!==null)throw f}}function Wc(f,b,_,A){Bm=!1;var q=f.updateQueue;Bi=!1;var X=q.firstBaseUpdate,ne=q.lastBaseUpdate,oe=q.shared.pending;if(oe!==null){q.shared.pending=null;var be=oe,Re=be.next;be.next=null,ne===null?X=Re:ne.next=Re,ne=be;var $e=f.alternate;$e!==null&&($e=$e.updateQueue,oe=$e.lastBaseUpdate,oe!==ne&&(oe===null?$e.firstBaseUpdate=Re:oe.next=Re,$e.lastBaseUpdate=be))}if(X!==null){var Ge=q.baseState;ne=0,$e=Re=be=null,oe=X;do{var Me=oe.lane&-536870913,Oe=Me!==oe.lane;if(Oe?(Cn&Me)===Me:(A&Me)===Me){Me!==0&&Me===Sl&&(Bm=!0),$e!==null&&($e=$e.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Yt=f,qt=oe;Me=b;var Un=_;switch(qt.tag){case 1:if(Yt=qt.payload,typeof Yt=="function"){Ge=Yt.call(Un,Ge,Me);break e}Ge=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=qt.payload,Me=typeof Yt=="function"?Yt.call(Un,Ge,Me):Yt,Me==null)break e;Ge=u({},Ge,Me);break e;case 2:Bi=!0}}Me=oe.callback,Me!==null&&(f.flags|=64,Oe&&(f.flags|=8192),Oe=q.callbacks,Oe===null?q.callbacks=[Me]:Oe.push(Me))}else Oe={lane:Me,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},$e===null?(Re=$e=Oe,be=Ge):$e=$e.next=Oe,ne|=Me;if(oe=oe.next,oe===null){if(oe=q.shared.pending,oe===null)break;Oe=oe,oe=Oe.next,Oe.next=null,q.lastBaseUpdate=Oe,q.shared.pending=null}}while(!0);$e===null&&(be=Ge),q.baseState=be,q.firstBaseUpdate=Re,q.lastBaseUpdate=$e,X===null&&(q.shared.lanes=0),Yi|=ne,f.lanes=ne,f.memoizedState=Ge}}function Wx(f,b){if(typeof f!="function")throw Error(s(191,f));f.call(b)}function Gx(f,b){var _=f.callbacks;if(_!==null)for(f.callbacks=null,f=0;f<_.length;f++)Wx(_[f],b)}var Cl=L(null),Jd=L(0);function Yx(f,b){f=mi,K(Jd,f),K(Cl,b),mi=f|b.baseLanes}function Fm(){K(Jd,mi),K(Cl,Cl.current)}function Um(){mi=Jd.current,z(Cl),z(Jd)}var $i=0,gn=null,Bn=null,wr=null,ef=!1,Nl=!1,Uo=!1,tf=0,Gc=0,kl=null,wN=0;function fr(){throw Error(s(321))}function $m(f,b){if(b===null)return!1;for(var _=0;_<b.length&&_<f.length;_++)if(!ks(f[_],b[_]))return!1;return!0}function zm(f,b,_,A,q,X){return $i=X,gn=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,S.H=f===null||f.memoizedState===null?Av:Mv,Uo=!1,X=_(A,q),Uo=!1,Nl&&(X=Kx(b,_,A,q)),Xx(f),X}function Xx(f){S.H=lf;var b=Bn!==null&&Bn.next!==null;if($i=0,wr=Bn=gn=null,ef=!1,Gc=0,kl=null,b)throw Error(s(300));f===null||Ur||(f=f.dependencies,f!==null&&Yd(f)&&(Ur=!0))}function Kx(f,b,_,A){gn=f;var q=0;do{if(Nl&&(kl=null),Gc=0,Nl=!1,25<=q)throw Error(s(301));if(q+=1,wr=Bn=null,f.updateQueue!=null){var X=f.updateQueue;X.lastEffect=null,X.events=null,X.stores=null,X.memoCache!=null&&(X.memoCache.index=0)}S.H=EN,X=b(_,A)}while(Nl);return X}function jN(){var f=S.H,b=f.useState()[0];return b=typeof b.then=="function"?Yc(b):b,f=f.useState()[0],(Bn!==null?Bn.memoizedState:null)!==f&&(gn.flags|=1024),b}function qm(){var f=tf!==0;return tf=0,f}function Vm(f,b,_){b.updateQueue=f.updateQueue,b.flags&=-2053,f.lanes&=~_}function Hm(f){if(ef){for(f=f.memoizedState;f!==null;){var b=f.queue;b!==null&&(b.pending=null),f=f.next}ef=!1}$i=0,wr=Bn=gn=null,Nl=!1,Gc=tf=0,kl=null}function bs(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?gn.memoizedState=wr=f:wr=wr.next=f,wr}function jr(){if(Bn===null){var f=gn.alternate;f=f!==null?f.memoizedState:null}else f=Bn.next;var b=wr===null?gn.memoizedState:wr.next;if(b!==null)wr=b,Bn=f;else{if(f===null)throw gn.alternate===null?Error(s(467)):Error(s(310));Bn=f,f={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},wr===null?gn.memoizedState=wr=f:wr=wr.next=f}return wr}function Wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(f){var b=Gc;return Gc+=1,kl===null&&(kl=[]),f=qx(kl,f,b),b=gn,(wr===null?b.memoizedState:wr.next)===null&&(b=b.alternate,S.H=b===null||b.memoizedState===null?Av:Mv),f}function nf(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Yc(f);if(f.$$typeof===j)return es(f)}throw Error(s(438,String(f)))}function Gm(f){var b=null,_=gn.updateQueue;if(_!==null&&(b=_.memoCache),b==null){var A=gn.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(b={data:A.data.map(function(q){return q.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),_===null&&(_=Wm(),gn.updateQueue=_),_.memoCache=b,_=b.data[b.index],_===void 0)for(_=b.data[b.index]=Array(f),A=0;A<f;A++)_[A]=G;return b.index++,_}function ci(f,b){return typeof b=="function"?b(f):b}function rf(f){var b=jr();return Ym(b,Bn,f)}function Ym(f,b,_){var A=f.queue;if(A===null)throw Error(s(311));A.lastRenderedReducer=_;var q=f.baseQueue,X=A.pending;if(X!==null){if(q!==null){var ne=q.next;q.next=X.next,X.next=ne}b.baseQueue=q=X,A.pending=null}if(X=f.baseState,q===null)f.memoizedState=X;else{b=q.next;var oe=ne=null,be=null,Re=b,$e=!1;do{var Ge=Re.lane&-536870913;if(Ge!==Re.lane?(Cn&Ge)===Ge:($i&Ge)===Ge){var Me=Re.revertLane;if(Me===0)be!==null&&(be=be.next={lane:0,revertLane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ge===Sl&&($e=!0);else if(($i&Me)===Me){Re=Re.next,Me===Sl&&($e=!0);continue}else Ge={lane:0,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},be===null?(oe=be=Ge,ne=X):be=be.next=Ge,gn.lanes|=Me,Yi|=Me;Ge=Re.action,Uo&&_(X,Ge),X=Re.hasEagerState?Re.eagerState:_(X,Ge)}else Me={lane:Ge,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},be===null?(oe=be=Me,ne=X):be=be.next=Me,gn.lanes|=Ge,Yi|=Ge;Re=Re.next}while(Re!==null&&Re!==b);if(be===null?ne=X:be.next=oe,!ks(X,f.memoizedState)&&(Ur=!0,$e&&(_=_l,_!==null)))throw _;f.memoizedState=X,f.baseState=ne,f.baseQueue=be,A.lastRenderedState=X}return q===null&&(A.lanes=0),[f.memoizedState,A.dispatch]}function Xm(f){var b=jr(),_=b.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=f;var A=_.dispatch,q=_.pending,X=b.memoizedState;if(q!==null){_.pending=null;var ne=q=q.next;do X=f(X,ne.action),ne=ne.next;while(ne!==q);ks(X,b.memoizedState)||(Ur=!0),b.memoizedState=X,b.baseQueue===null&&(b.baseState=X),_.lastRenderedState=X}return[X,A]}function Qx(f,b,_){var A=gn,q=jr(),X=Mn;if(X){if(_===void 0)throw Error(s(407));_=_()}else _=b();var ne=!ks((Bn||q).memoizedState,_);ne&&(q.memoizedState=_,Ur=!0),q=q.queue;var oe=ev.bind(null,A,q,f);if(Xc(2048,8,oe,[f]),q.getSnapshot!==b||ne||wr!==null&&wr.memoizedState.tag&1){if(A.flags|=2048,El(9,sf(),Jx.bind(null,A,q,_,b),null),Gn===null)throw Error(s(349));X||($i&124)!==0||Zx(A,b,_)}return _}function Zx(f,b,_){f.flags|=16384,f={getSnapshot:b,value:_},b=gn.updateQueue,b===null?(b=Wm(),gn.updateQueue=b,b.stores=[f]):(_=b.stores,_===null?b.stores=[f]:_.push(f))}function Jx(f,b,_,A){b.value=_,b.getSnapshot=A,tv(b)&&nv(f)}function ev(f,b,_){return _(function(){tv(b)&&nv(f)})}function tv(f){var b=f.getSnapshot;f=f.value;try{var _=b();return!ks(f,_)}catch{return!0}}function nv(f){var b=xl(f,2);b!==null&&Os(b,f,2)}function Km(f){var b=bs();if(typeof f=="function"){var _=f;if(f=_(),Uo){Ue(!0);try{_()}finally{Ue(!1)}}}return b.memoizedState=b.baseState=f,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:f},b}function rv(f,b,_,A){return f.baseState=_,Ym(f,Bn,typeof A=="function"?A:ci)}function SN(f,b,_,A,q){if(of(f))throw Error(s(485));if(f=b.action,f!==null){var X={payload:q,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){X.listeners.push(ne)}};S.T!==null?_(!0):X.isTransition=!1,A(X),_=b.pending,_===null?(X.next=b.pending=X,sv(b,X)):(X.next=_.next,b.pending=_.next=X)}}function sv(f,b){var _=b.action,A=b.payload,q=f.state;if(b.isTransition){var X=S.T,ne={};S.T=ne;try{var oe=_(q,A),be=S.S;be!==null&&be(ne,oe),av(f,b,oe)}catch(Re){Qm(f,b,Re)}finally{S.T=X}}else try{X=_(q,A),av(f,b,X)}catch(Re){Qm(f,b,Re)}}function av(f,b,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(A){iv(f,b,A)},function(A){return Qm(f,b,A)}):iv(f,b,_)}function iv(f,b,_){b.status="fulfilled",b.value=_,ov(b),f.state=_,b=f.pending,b!==null&&(_=b.next,_===b?f.pending=null:(_=_.next,b.next=_,sv(f,_)))}function Qm(f,b,_){var A=f.pending;if(f.pending=null,A!==null){A=A.next;do b.status="rejected",b.reason=_,ov(b),b=b.next;while(b!==A)}f.action=null}function ov(f){f=f.listeners;for(var b=0;b<f.length;b++)(0,f[b])()}function lv(f,b){return b}function cv(f,b){if(Mn){var _=Gn.formState;if(_!==null){e:{var A=gn;if(Mn){if(ir){t:{for(var q=ir,X=Aa;q.nodeType!==8;){if(!X){q=null;break t}if(q=da(q.nextSibling),q===null){q=null;break t}}X=q.data,q=X==="F!"||X==="F"?q:null}if(q){ir=da(q.nextSibling),A=q.data==="F!";break e}}Po(A)}A=!1}A&&(b=_[0])}}return _=bs(),_.memoizedState=_.baseState=b,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:b},_.queue=A,_=Ev.bind(null,gn,A),A.dispatch=_,A=Km(!1),X=ng.bind(null,gn,!1,A.queue),A=bs(),q={state:b,dispatch:null,action:f,pending:null},A.queue=q,_=SN.bind(null,gn,q,X,_),q.dispatch=_,A.memoizedState=f,[b,_,!1]}function uv(f){var b=jr();return dv(b,Bn,f)}function dv(f,b,_){if(b=Ym(f,b,lv)[0],f=rf(ci)[0],typeof b=="object"&&b!==null&&typeof b.then=="function")try{var A=Yc(b)}catch(ne){throw ne===zc?Qd:ne}else A=b;b=jr();var q=b.queue,X=q.dispatch;return _!==b.memoizedState&&(gn.flags|=2048,El(9,sf(),_N.bind(null,q,_),null)),[A,X,f]}function _N(f,b){f.action=b}function fv(f){var b=jr(),_=Bn;if(_!==null)return dv(b,_,f);jr(),b=b.memoizedState,_=jr();var A=_.queue.dispatch;return _.memoizedState=f,[b,A,!1]}function El(f,b,_,A){return f={tag:f,create:_,deps:A,inst:b,next:null},b=gn.updateQueue,b===null&&(b=Wm(),gn.updateQueue=b),_=b.lastEffect,_===null?b.lastEffect=f.next=f:(A=_.next,_.next=f,f.next=A,b.lastEffect=f),f}function sf(){return{destroy:void 0,resource:void 0}}function hv(){return jr().memoizedState}function af(f,b,_,A){var q=bs();A=A===void 0?null:A,gn.flags|=f,q.memoizedState=El(1|b,sf(),_,A)}function Xc(f,b,_,A){var q=jr();A=A===void 0?null:A;var X=q.memoizedState.inst;Bn!==null&&A!==null&&$m(A,Bn.memoizedState.deps)?q.memoizedState=El(b,X,_,A):(gn.flags|=f,q.memoizedState=El(1|b,X,_,A))}function pv(f,b){af(8390656,8,f,b)}function mv(f,b){Xc(2048,8,f,b)}function gv(f,b){return Xc(4,2,f,b)}function bv(f,b){return Xc(4,4,f,b)}function yv(f,b){if(typeof b=="function"){f=f();var _=b(f);return function(){typeof _=="function"?_():b(null)}}if(b!=null)return f=f(),b.current=f,function(){b.current=null}}function xv(f,b,_){_=_!=null?_.concat([f]):null,Xc(4,4,yv.bind(null,b,f),_)}function Zm(){}function vv(f,b){var _=jr();b=b===void 0?null:b;var A=_.memoizedState;return b!==null&&$m(b,A[1])?A[0]:(_.memoizedState=[f,b],f)}function wv(f,b){var _=jr();b=b===void 0?null:b;var A=_.memoizedState;if(b!==null&&$m(b,A[1]))return A[0];if(A=f(),Uo){Ue(!0);try{f()}finally{Ue(!1)}}return _.memoizedState=[A,b],A}function Jm(f,b,_){return _===void 0||($i&1073741824)!==0?f.memoizedState=b:(f.memoizedState=_,f=_1(),gn.lanes|=f,Yi|=f,_)}function jv(f,b,_,A){return ks(_,b)?_:Cl.current!==null?(f=Jm(f,_,A),ks(f,b)||(Ur=!0),f):($i&42)===0?(Ur=!0,f.memoizedState=_):(f=_1(),gn.lanes|=f,Yi|=f,b)}function Sv(f,b,_,A,q){var X=C.p;C.p=X!==0&&8>X?X:8;var ne=S.T,oe={};S.T=oe,ng(f,!1,b,_);try{var be=q(),Re=S.S;if(Re!==null&&Re(oe,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var $e=vN(be,A);Kc(f,b,$e,Ms(f))}else Kc(f,b,A,Ms(f))}catch(Ge){Kc(f,b,{then:function(){},status:"rejected",reason:Ge},Ms())}finally{C.p=X,S.T=ne}}function CN(){}function eg(f,b,_,A){if(f.tag!==5)throw Error(s(476));var q=_v(f).queue;Sv(f,q,b,k,_===null?CN:function(){return Cv(f),_(A)})}function _v(f){var b=f.memoizedState;if(b!==null)return b;b={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:k},next:null};var _={};return b.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:_},next:null},f.memoizedState=b,f=f.alternate,f!==null&&(f.memoizedState=b),b}function Cv(f){var b=_v(f).next.queue;Kc(f,b,{},Ms())}function tg(){return es(pu)}function Nv(){return jr().memoizedState}function kv(){return jr().memoizedState}function NN(f){for(var b=f.return;b!==null;){switch(b.tag){case 24:case 3:var _=Ms();f=Fi(_);var A=Ui(b,f,_);A!==null&&(Os(A,b,_),Vc(A,b,_)),b={cache:Am()},f.payload=b;return}b=b.return}}function kN(f,b,_){var A=Ms();_={lane:A,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},of(f)?Rv(b,_):(_=wm(f,b,_,A),_!==null&&(Os(_,f,A),Tv(_,b,A)))}function Ev(f,b,_){var A=Ms();Kc(f,b,_,A)}function Kc(f,b,_,A){var q={lane:A,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(of(f))Rv(b,q);else{var X=f.alternate;if(f.lanes===0&&(X===null||X.lanes===0)&&(X=b.lastRenderedReducer,X!==null))try{var ne=b.lastRenderedState,oe=X(ne,_);if(q.hasEagerState=!0,q.eagerState=oe,ks(oe,ne))return qd(f,b,q,0),Gn===null&&zd(),!1}catch{}finally{}if(_=wm(f,b,q,A),_!==null)return Os(_,f,A),Tv(_,b,A),!0}return!1}function ng(f,b,_,A){if(A={lane:2,revertLane:Dg(),action:A,hasEagerState:!1,eagerState:null,next:null},of(f)){if(b)throw Error(s(479))}else b=wm(f,_,A,2),b!==null&&Os(b,f,2)}function of(f){var b=f.alternate;return f===gn||b!==null&&b===gn}function Rv(f,b){Nl=ef=!0;var _=f.pending;_===null?b.next=b:(b.next=_.next,_.next=b),f.pending=b}function Tv(f,b,_){if((_&4194048)!==0){var A=b.lanes;A&=f.pendingLanes,_|=A,b.lanes=_,It(f,_)}}var lf={readContext:es,use:nf,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr},Av={readContext:es,use:nf,useCallback:function(f,b){return bs().memoizedState=[f,b===void 0?null:b],f},useContext:es,useEffect:pv,useImperativeHandle:function(f,b,_){_=_!=null?_.concat([f]):null,af(4194308,4,yv.bind(null,b,f),_)},useLayoutEffect:function(f,b){return af(4194308,4,f,b)},useInsertionEffect:function(f,b){af(4,2,f,b)},useMemo:function(f,b){var _=bs();b=b===void 0?null:b;var A=f();if(Uo){Ue(!0);try{f()}finally{Ue(!1)}}return _.memoizedState=[A,b],A},useReducer:function(f,b,_){var A=bs();if(_!==void 0){var q=_(b);if(Uo){Ue(!0);try{_(b)}finally{Ue(!1)}}}else q=b;return A.memoizedState=A.baseState=q,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:q},A.queue=f,f=f.dispatch=kN.bind(null,gn,f),[A.memoizedState,f]},useRef:function(f){var b=bs();return f={current:f},b.memoizedState=f},useState:function(f){f=Km(f);var b=f.queue,_=Ev.bind(null,gn,b);return b.dispatch=_,[f.memoizedState,_]},useDebugValue:Zm,useDeferredValue:function(f,b){var _=bs();return Jm(_,f,b)},useTransition:function(){var f=Km(!1);return f=Sv.bind(null,gn,f.queue,!0,!1),bs().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,b,_){var A=gn,q=bs();if(Mn){if(_===void 0)throw Error(s(407));_=_()}else{if(_=b(),Gn===null)throw Error(s(349));(Cn&124)!==0||Zx(A,b,_)}q.memoizedState=_;var X={value:_,getSnapshot:b};return q.queue=X,pv(ev.bind(null,A,X,f),[f]),A.flags|=2048,El(9,sf(),Jx.bind(null,A,X,_,b),null),_},useId:function(){var f=bs(),b=Gn.identifierPrefix;if(Mn){var _=ii,A=ai;_=(A&~(1<<32-Je(A)-1)).toString(32)+_,b=""+b+"R"+_,_=tf++,0<_&&(b+="H"+_.toString(32)),b+=""}else _=wN++,b=""+b+"r"+_.toString(32)+"";return f.memoizedState=b},useHostTransitionStatus:tg,useFormState:cv,useActionState:cv,useOptimistic:function(f){var b=bs();b.memoizedState=b.baseState=f;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=_,b=ng.bind(null,gn,!0,_),_.dispatch=b,[f,b]},useMemoCache:Gm,useCacheRefresh:function(){return bs().memoizedState=NN.bind(null,gn)}},Mv={readContext:es,use:nf,useCallback:vv,useContext:es,useEffect:mv,useImperativeHandle:xv,useInsertionEffect:gv,useLayoutEffect:bv,useMemo:wv,useReducer:rf,useRef:hv,useState:function(){return rf(ci)},useDebugValue:Zm,useDeferredValue:function(f,b){var _=jr();return jv(_,Bn.memoizedState,f,b)},useTransition:function(){var f=rf(ci)[0],b=jr().memoizedState;return[typeof f=="boolean"?f:Yc(f),b]},useSyncExternalStore:Qx,useId:Nv,useHostTransitionStatus:tg,useFormState:uv,useActionState:uv,useOptimistic:function(f,b){var _=jr();return rv(_,Bn,f,b)},useMemoCache:Gm,useCacheRefresh:kv},EN={readContext:es,use:nf,useCallback:vv,useContext:es,useEffect:mv,useImperativeHandle:xv,useInsertionEffect:gv,useLayoutEffect:bv,useMemo:wv,useReducer:Xm,useRef:hv,useState:function(){return Xm(ci)},useDebugValue:Zm,useDeferredValue:function(f,b){var _=jr();return Bn===null?Jm(_,f,b):jv(_,Bn.memoizedState,f,b)},useTransition:function(){var f=Xm(ci)[0],b=jr().memoizedState;return[typeof f=="boolean"?f:Yc(f),b]},useSyncExternalStore:Qx,useId:Nv,useHostTransitionStatus:tg,useFormState:fv,useActionState:fv,useOptimistic:function(f,b){var _=jr();return Bn!==null?rv(_,Bn,f,b):(_.baseState=f,[f,_.queue.dispatch])},useMemoCache:Gm,useCacheRefresh:kv},Rl=null,Qc=0;function cf(f){var b=Qc;return Qc+=1,Rl===null&&(Rl=[]),qx(Rl,f,b)}function Zc(f,b){b=b.props.ref,f.ref=b!==void 0?b:null}function uf(f,b){throw b.$$typeof===m?Error(s(525)):(f=Object.prototype.toString.call(b),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":f)))}function Ov(f){var b=f._init;return b(f._payload)}function Dv(f){function b(Ce,Se){if(f){var Ee=Ce.deletions;Ee===null?(Ce.deletions=[Se],Ce.flags|=16):Ee.push(Se)}}function _(Ce,Se){if(!f)return null;for(;Se!==null;)b(Ce,Se),Se=Se.sibling;return null}function A(Ce){for(var Se=new Map;Ce!==null;)Ce.key!==null?Se.set(Ce.key,Ce):Se.set(Ce.index,Ce),Ce=Ce.sibling;return Se}function q(Ce,Se){return Ce=si(Ce,Se),Ce.index=0,Ce.sibling=null,Ce}function X(Ce,Se,Ee){return Ce.index=Ee,f?(Ee=Ce.alternate,Ee!==null?(Ee=Ee.index,Ee<Se?(Ce.flags|=67108866,Se):Ee):(Ce.flags|=67108866,Se)):(Ce.flags|=1048576,Se)}function ne(Ce){return f&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function oe(Ce,Se,Ee,Ve){return Se===null||Se.tag!==6?(Se=Sm(Ee,Ce.mode,Ve),Se.return=Ce,Se):(Se=q(Se,Ee),Se.return=Ce,Se)}function be(Ce,Se,Ee,Ve){var wt=Ee.type;return wt===y?$e(Ce,Se,Ee.props.children,Ve,Ee.key):Se!==null&&(Se.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===P&&Ov(wt)===Se.type)?(Se=q(Se,Ee.props),Zc(Se,Ee),Se.return=Ce,Se):(Se=Hd(Ee.type,Ee.key,Ee.props,null,Ce.mode,Ve),Zc(Se,Ee),Se.return=Ce,Se)}function Re(Ce,Se,Ee,Ve){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Ee.containerInfo||Se.stateNode.implementation!==Ee.implementation?(Se=_m(Ee,Ce.mode,Ve),Se.return=Ce,Se):(Se=q(Se,Ee.children||[]),Se.return=Ce,Se)}function $e(Ce,Se,Ee,Ve,wt){return Se===null||Se.tag!==7?(Se=Mo(Ee,Ce.mode,Ve,wt),Se.return=Ce,Se):(Se=q(Se,Ee),Se.return=Ce,Se)}function Ge(Ce,Se,Ee){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=Sm(""+Se,Ce.mode,Ee),Se.return=Ce,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case h:return Ee=Hd(Se.type,Se.key,Se.props,null,Ce.mode,Ee),Zc(Ee,Se),Ee.return=Ce,Ee;case p:return Se=_m(Se,Ce.mode,Ee),Se.return=Ce,Se;case P:var Ve=Se._init;return Se=Ve(Se._payload),Ge(Ce,Se,Ee)}if(R(Se)||W(Se))return Se=Mo(Se,Ce.mode,Ee,null),Se.return=Ce,Se;if(typeof Se.then=="function")return Ge(Ce,cf(Se),Ee);if(Se.$$typeof===j)return Ge(Ce,Xd(Ce,Se),Ee);uf(Ce,Se)}return null}function Me(Ce,Se,Ee,Ve){var wt=Se!==null?Se.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return wt!==null?null:oe(Ce,Se,""+Ee,Ve);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case h:return Ee.key===wt?be(Ce,Se,Ee,Ve):null;case p:return Ee.key===wt?Re(Ce,Se,Ee,Ve):null;case P:return wt=Ee._init,Ee=wt(Ee._payload),Me(Ce,Se,Ee,Ve)}if(R(Ee)||W(Ee))return wt!==null?null:$e(Ce,Se,Ee,Ve,null);if(typeof Ee.then=="function")return Me(Ce,Se,cf(Ee),Ve);if(Ee.$$typeof===j)return Me(Ce,Se,Xd(Ce,Ee),Ve);uf(Ce,Ee)}return null}function Oe(Ce,Se,Ee,Ve,wt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ce=Ce.get(Ee)||null,oe(Se,Ce,""+Ve,wt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case h:return Ce=Ce.get(Ve.key===null?Ee:Ve.key)||null,be(Se,Ce,Ve,wt);case p:return Ce=Ce.get(Ve.key===null?Ee:Ve.key)||null,Re(Se,Ce,Ve,wt);case P:var wn=Ve._init;return Ve=wn(Ve._payload),Oe(Ce,Se,Ee,Ve,wt)}if(R(Ve)||W(Ve))return Ce=Ce.get(Ee)||null,$e(Se,Ce,Ve,wt,null);if(typeof Ve.then=="function")return Oe(Ce,Se,Ee,cf(Ve),wt);if(Ve.$$typeof===j)return Oe(Ce,Se,Ee,Xd(Se,Ve),wt);uf(Se,Ve)}return null}function Yt(Ce,Se,Ee,Ve){for(var wt=null,wn=null,Tt=Se,Vt=Se=0,zr=null;Tt!==null&&Vt<Ee.length;Vt++){Tt.index>Vt?(zr=Tt,Tt=null):zr=Tt.sibling;var Tn=Me(Ce,Tt,Ee[Vt],Ve);if(Tn===null){Tt===null&&(Tt=zr);break}f&&Tt&&Tn.alternate===null&&b(Ce,Tt),Se=X(Tn,Se,Vt),wn===null?wt=Tn:wn.sibling=Tn,wn=Tn,Tt=zr}if(Vt===Ee.length)return _(Ce,Tt),Mn&&Do(Ce,Vt),wt;if(Tt===null){for(;Vt<Ee.length;Vt++)Tt=Ge(Ce,Ee[Vt],Ve),Tt!==null&&(Se=X(Tt,Se,Vt),wn===null?wt=Tt:wn.sibling=Tt,wn=Tt);return Mn&&Do(Ce,Vt),wt}for(Tt=A(Tt);Vt<Ee.length;Vt++)zr=Oe(Tt,Ce,Vt,Ee[Vt],Ve),zr!==null&&(f&&zr.alternate!==null&&Tt.delete(zr.key===null?Vt:zr.key),Se=X(zr,Se,Vt),wn===null?wt=zr:wn.sibling=zr,wn=zr);return f&&Tt.forEach(function(ro){return b(Ce,ro)}),Mn&&Do(Ce,Vt),wt}function qt(Ce,Se,Ee,Ve){if(Ee==null)throw Error(s(151));for(var wt=null,wn=null,Tt=Se,Vt=Se=0,zr=null,Tn=Ee.next();Tt!==null&&!Tn.done;Vt++,Tn=Ee.next()){Tt.index>Vt?(zr=Tt,Tt=null):zr=Tt.sibling;var ro=Me(Ce,Tt,Tn.value,Ve);if(ro===null){Tt===null&&(Tt=zr);break}f&&Tt&&ro.alternate===null&&b(Ce,Tt),Se=X(ro,Se,Vt),wn===null?wt=ro:wn.sibling=ro,wn=ro,Tt=zr}if(Tn.done)return _(Ce,Tt),Mn&&Do(Ce,Vt),wt;if(Tt===null){for(;!Tn.done;Vt++,Tn=Ee.next())Tn=Ge(Ce,Tn.value,Ve),Tn!==null&&(Se=X(Tn,Se,Vt),wn===null?wt=Tn:wn.sibling=Tn,wn=Tn);return Mn&&Do(Ce,Vt),wt}for(Tt=A(Tt);!Tn.done;Vt++,Tn=Ee.next())Tn=Oe(Tt,Ce,Vt,Tn.value,Ve),Tn!==null&&(f&&Tn.alternate!==null&&Tt.delete(Tn.key===null?Vt:Tn.key),Se=X(Tn,Se,Vt),wn===null?wt=Tn:wn.sibling=Tn,wn=Tn);return f&&Tt.forEach(function(R8){return b(Ce,R8)}),Mn&&Do(Ce,Vt),wt}function Un(Ce,Se,Ee,Ve){if(typeof Ee=="object"&&Ee!==null&&Ee.type===y&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case h:e:{for(var wt=Ee.key;Se!==null;){if(Se.key===wt){if(wt=Ee.type,wt===y){if(Se.tag===7){_(Ce,Se.sibling),Ve=q(Se,Ee.props.children),Ve.return=Ce,Ce=Ve;break e}}else if(Se.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===P&&Ov(wt)===Se.type){_(Ce,Se.sibling),Ve=q(Se,Ee.props),Zc(Ve,Ee),Ve.return=Ce,Ce=Ve;break e}_(Ce,Se);break}else b(Ce,Se);Se=Se.sibling}Ee.type===y?(Ve=Mo(Ee.props.children,Ce.mode,Ve,Ee.key),Ve.return=Ce,Ce=Ve):(Ve=Hd(Ee.type,Ee.key,Ee.props,null,Ce.mode,Ve),Zc(Ve,Ee),Ve.return=Ce,Ce=Ve)}return ne(Ce);case p:e:{for(wt=Ee.key;Se!==null;){if(Se.key===wt)if(Se.tag===4&&Se.stateNode.containerInfo===Ee.containerInfo&&Se.stateNode.implementation===Ee.implementation){_(Ce,Se.sibling),Ve=q(Se,Ee.children||[]),Ve.return=Ce,Ce=Ve;break e}else{_(Ce,Se);break}else b(Ce,Se);Se=Se.sibling}Ve=_m(Ee,Ce.mode,Ve),Ve.return=Ce,Ce=Ve}return ne(Ce);case P:return wt=Ee._init,Ee=wt(Ee._payload),Un(Ce,Se,Ee,Ve)}if(R(Ee))return Yt(Ce,Se,Ee,Ve);if(W(Ee)){if(wt=W(Ee),typeof wt!="function")throw Error(s(150));return Ee=wt.call(Ee),qt(Ce,Se,Ee,Ve)}if(typeof Ee.then=="function")return Un(Ce,Se,cf(Ee),Ve);if(Ee.$$typeof===j)return Un(Ce,Se,Xd(Ce,Ee),Ve);uf(Ce,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,Se!==null&&Se.tag===6?(_(Ce,Se.sibling),Ve=q(Se,Ee),Ve.return=Ce,Ce=Ve):(_(Ce,Se),Ve=Sm(Ee,Ce.mode,Ve),Ve.return=Ce,Ce=Ve),ne(Ce)):_(Ce,Se)}return function(Ce,Se,Ee,Ve){try{Qc=0;var wt=Un(Ce,Se,Ee,Ve);return Rl=null,wt}catch(Tt){if(Tt===zc||Tt===Qd)throw Tt;var wn=Es(29,Tt,null,Ce.mode);return wn.lanes=Ve,wn.return=Ce,wn}finally{}}}var Tl=Dv(!0),Iv=Dv(!1),Xs=L(null),Ma=null;function zi(f){var b=f.alternate;K(Tr,Tr.current&1),K(Xs,f),Ma===null&&(b===null||Cl.current!==null||b.memoizedState!==null)&&(Ma=f)}function Pv(f){if(f.tag===22){if(K(Tr,Tr.current),K(Xs,f),Ma===null){var b=f.alternate;b!==null&&b.memoizedState!==null&&(Ma=f)}}else qi()}function qi(){K(Tr,Tr.current),K(Xs,Xs.current)}function ui(f){z(Xs),Ma===f&&(Ma=null),z(Tr)}var Tr=L(0);function df(f){for(var b=f;b!==null;){if(b.tag===13){var _=b.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||Wg(_)))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}function rg(f,b,_,A){b=f.memoizedState,_=_(A,b),_=_==null?b:u({},b,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var sg={enqueueSetState:function(f,b,_){f=f._reactInternals;var A=Ms(),q=Fi(A);q.payload=b,_!=null&&(q.callback=_),b=Ui(f,q,A),b!==null&&(Os(b,f,A),Vc(b,f,A))},enqueueReplaceState:function(f,b,_){f=f._reactInternals;var A=Ms(),q=Fi(A);q.tag=1,q.payload=b,_!=null&&(q.callback=_),b=Ui(f,q,A),b!==null&&(Os(b,f,A),Vc(b,f,A))},enqueueForceUpdate:function(f,b){f=f._reactInternals;var _=Ms(),A=Fi(_);A.tag=2,b!=null&&(A.callback=b),b=Ui(f,A,_),b!==null&&(Os(b,f,_),Vc(b,f,_))}};function Lv(f,b,_,A,q,X,ne){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(A,X,ne):b.prototype&&b.prototype.isPureReactComponent?!Dc(_,A)||!Dc(q,X):!0}function Bv(f,b,_,A){f=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(_,A),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(_,A),b.state!==f&&sg.enqueueReplaceState(b,b.state,null)}function $o(f,b){var _=b;if("ref"in b){_={};for(var A in b)A!=="ref"&&(_[A]=b[A])}if(f=f.defaultProps){_===b&&(_=u({},_));for(var q in f)_[q]===void 0&&(_[q]=f[q])}return _}var ff=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function Fv(f){ff(f)}function Uv(f){console.error(f)}function $v(f){ff(f)}function hf(f,b){try{var _=f.onUncaughtError;_(b.value,{componentStack:b.stack})}catch(A){setTimeout(function(){throw A})}}function zv(f,b,_){try{var A=f.onCaughtError;A(_.value,{componentStack:_.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(q){setTimeout(function(){throw q})}}function ag(f,b,_){return _=Fi(_),_.tag=3,_.payload={element:null},_.callback=function(){hf(f,b)},_}function qv(f){return f=Fi(f),f.tag=3,f}function Vv(f,b,_,A){var q=_.type.getDerivedStateFromError;if(typeof q=="function"){var X=A.value;f.payload=function(){return q(X)},f.callback=function(){zv(b,_,A)}}var ne=_.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(f.callback=function(){zv(b,_,A),typeof q!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var oe=A.stack;this.componentDidCatch(A.value,{componentStack:oe!==null?oe:""})})}function RN(f,b,_,A,q){if(_.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(b=_.alternate,b!==null&&Fc(b,_,q,!0),_=Xs.current,_!==null){switch(_.tag){case 13:return Ma===null?Rg():_.alternate===null&&or===0&&(or=3),_.flags&=-257,_.flags|=65536,_.lanes=q,A===Dm?_.flags|=16384:(b=_.updateQueue,b===null?_.updateQueue=new Set([A]):b.add(A),Ag(f,A,q)),!1;case 22:return _.flags|=65536,A===Dm?_.flags|=16384:(b=_.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([A])},_.updateQueue=b):(_=b.retryQueue,_===null?b.retryQueue=new Set([A]):_.add(A)),Ag(f,A,q)),!1}throw Error(s(435,_.tag))}return Ag(f,A,q),Rg(),!1}if(Mn)return b=Xs.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=q,A!==km&&(f=Error(s(422),{cause:A}),Bc(Hs(f,_)))):(A!==km&&(b=Error(s(423),{cause:A}),Bc(Hs(b,_))),f=f.current.alternate,f.flags|=65536,q&=-q,f.lanes|=q,A=Hs(A,_),q=ag(f.stateNode,A,q),Lm(f,q),or!==4&&(or=2)),!1;var X=Error(s(520),{cause:A});if(X=Hs(X,_),au===null?au=[X]:au.push(X),or!==4&&(or=2),b===null)return!0;A=Hs(A,_),_=b;do{switch(_.tag){case 3:return _.flags|=65536,f=q&-q,_.lanes|=f,f=ag(_.stateNode,A,f),Lm(_,f),!1;case 1:if(b=_.type,X=_.stateNode,(_.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Xi===null||!Xi.has(X))))return _.flags|=65536,q&=-q,_.lanes|=q,q=qv(q),Vv(q,f,_,A),Lm(_,q),!1}_=_.return}while(_!==null);return!1}var Hv=Error(s(461)),Ur=!1;function Wr(f,b,_,A){b.child=f===null?Iv(b,null,_,A):Tl(b,f.child,_,A)}function Wv(f,b,_,A,q){_=_.render;var X=b.ref;if("ref"in A){var ne={};for(var oe in A)oe!=="ref"&&(ne[oe]=A[oe])}else ne=A;return Bo(b),A=zm(f,b,_,ne,X,q),oe=qm(),f!==null&&!Ur?(Vm(f,b,q),di(f,b,q)):(Mn&&oe&&Cm(b),b.flags|=1,Wr(f,b,A,q),b.child)}function Gv(f,b,_,A,q){if(f===null){var X=_.type;return typeof X=="function"&&!jm(X)&&X.defaultProps===void 0&&_.compare===null?(b.tag=15,b.type=X,Yv(f,b,X,A,q)):(f=Hd(_.type,null,A,b,b.mode,q),f.ref=b.ref,f.return=b,b.child=f)}if(X=f.child,!hg(f,q)){var ne=X.memoizedProps;if(_=_.compare,_=_!==null?_:Dc,_(ne,A)&&f.ref===b.ref)return di(f,b,q)}return b.flags|=1,f=si(X,A),f.ref=b.ref,f.return=b,b.child=f}function Yv(f,b,_,A,q){if(f!==null){var X=f.memoizedProps;if(Dc(X,A)&&f.ref===b.ref)if(Ur=!1,b.pendingProps=A=X,hg(f,q))(f.flags&131072)!==0&&(Ur=!0);else return b.lanes=f.lanes,di(f,b,q)}return ig(f,b,_,A,q)}function Xv(f,b,_){var A=b.pendingProps,q=A.children,X=f!==null?f.memoizedState:null;if(A.mode==="hidden"){if((b.flags&128)!==0){if(A=X!==null?X.baseLanes|_:_,f!==null){for(q=b.child=f.child,X=0;q!==null;)X=X|q.lanes|q.childLanes,q=q.sibling;b.childLanes=X&~A}else b.childLanes=0,b.child=null;return Kv(f,b,A,_)}if((_&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},f!==null&&Kd(b,X!==null?X.cachePool:null),X!==null?Yx(b,X):Fm(),Pv(b);else return b.lanes=b.childLanes=536870912,Kv(f,b,X!==null?X.baseLanes|_:_,_)}else X!==null?(Kd(b,X.cachePool),Yx(b,X),qi(),b.memoizedState=null):(f!==null&&Kd(b,null),Fm(),qi());return Wr(f,b,q,_),b.child}function Kv(f,b,_,A){var q=Om();return q=q===null?null:{parent:Rr._currentValue,pool:q},b.memoizedState={baseLanes:_,cachePool:q},f!==null&&Kd(b,null),Fm(),Pv(b),f!==null&&Fc(f,b,A,!0),null}function pf(f,b){var _=b.ref;if(_===null)f!==null&&f.ref!==null&&(b.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(s(284));(f===null||f.ref!==_)&&(b.flags|=4194816)}}function ig(f,b,_,A,q){return Bo(b),_=zm(f,b,_,A,void 0,q),A=qm(),f!==null&&!Ur?(Vm(f,b,q),di(f,b,q)):(Mn&&A&&Cm(b),b.flags|=1,Wr(f,b,_,q),b.child)}function Qv(f,b,_,A,q,X){return Bo(b),b.updateQueue=null,_=Kx(b,A,_,q),Xx(f),A=qm(),f!==null&&!Ur?(Vm(f,b,X),di(f,b,X)):(Mn&&A&&Cm(b),b.flags|=1,Wr(f,b,_,X),b.child)}function Zv(f,b,_,A,q){if(Bo(b),b.stateNode===null){var X=vl,ne=_.contextType;typeof ne=="object"&&ne!==null&&(X=es(ne)),X=new _(A,X),b.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,X.updater=sg,b.stateNode=X,X._reactInternals=b,X=b.stateNode,X.props=A,X.state=b.memoizedState,X.refs={},Im(b),ne=_.contextType,X.context=typeof ne=="object"&&ne!==null?es(ne):vl,X.state=b.memoizedState,ne=_.getDerivedStateFromProps,typeof ne=="function"&&(rg(b,_,ne,A),X.state=b.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(ne=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),ne!==X.state&&sg.enqueueReplaceState(X,X.state,null),Wc(b,A,X,q),Hc(),X.state=b.memoizedState),typeof X.componentDidMount=="function"&&(b.flags|=4194308),A=!0}else if(f===null){X=b.stateNode;var oe=b.memoizedProps,be=$o(_,oe);X.props=be;var Re=X.context,$e=_.contextType;ne=vl,typeof $e=="object"&&$e!==null&&(ne=es($e));var Ge=_.getDerivedStateFromProps;$e=typeof Ge=="function"||typeof X.getSnapshotBeforeUpdate=="function",oe=b.pendingProps!==oe,$e||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(oe||Re!==ne)&&Bv(b,X,A,ne),Bi=!1;var Me=b.memoizedState;X.state=Me,Wc(b,A,X,q),Hc(),Re=b.memoizedState,oe||Me!==Re||Bi?(typeof Ge=="function"&&(rg(b,_,Ge,A),Re=b.memoizedState),(be=Bi||Lv(b,_,be,A,Me,Re,ne))?($e||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(b.flags|=4194308)):(typeof X.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=A,b.memoizedState=Re),X.props=A,X.state=Re,X.context=ne,A=be):(typeof X.componentDidMount=="function"&&(b.flags|=4194308),A=!1)}else{X=b.stateNode,Pm(f,b),ne=b.memoizedProps,$e=$o(_,ne),X.props=$e,Ge=b.pendingProps,Me=X.context,Re=_.contextType,be=vl,typeof Re=="object"&&Re!==null&&(be=es(Re)),oe=_.getDerivedStateFromProps,(Re=typeof oe=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ne!==Ge||Me!==be)&&Bv(b,X,A,be),Bi=!1,Me=b.memoizedState,X.state=Me,Wc(b,A,X,q),Hc();var Oe=b.memoizedState;ne!==Ge||Me!==Oe||Bi||f!==null&&f.dependencies!==null&&Yd(f.dependencies)?(typeof oe=="function"&&(rg(b,_,oe,A),Oe=b.memoizedState),($e=Bi||Lv(b,_,$e,A,Me,Oe,be)||f!==null&&f.dependencies!==null&&Yd(f.dependencies))?(Re||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(A,Oe,be),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(A,Oe,be)),typeof X.componentDidUpdate=="function"&&(b.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof X.componentDidUpdate!="function"||ne===f.memoizedProps&&Me===f.memoizedState||(b.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ne===f.memoizedProps&&Me===f.memoizedState||(b.flags|=1024),b.memoizedProps=A,b.memoizedState=Oe),X.props=A,X.state=Oe,X.context=be,A=$e):(typeof X.componentDidUpdate!="function"||ne===f.memoizedProps&&Me===f.memoizedState||(b.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ne===f.memoizedProps&&Me===f.memoizedState||(b.flags|=1024),A=!1)}return X=A,pf(f,b),A=(b.flags&128)!==0,X||A?(X=b.stateNode,_=A&&typeof _.getDerivedStateFromError!="function"?null:X.render(),b.flags|=1,f!==null&&A?(b.child=Tl(b,f.child,null,q),b.child=Tl(b,null,_,q)):Wr(f,b,_,q),b.memoizedState=X.state,f=b.child):f=di(f,b,q),f}function Jv(f,b,_,A){return Lc(),b.flags|=256,Wr(f,b,_,A),b.child}var og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lg(f){return{baseLanes:f,cachePool:Ux()}}function cg(f,b,_){return f=f!==null?f.childLanes&~_:0,b&&(f|=Ks),f}function e1(f,b,_){var A=b.pendingProps,q=!1,X=(b.flags&128)!==0,ne;if((ne=X)||(ne=f!==null&&f.memoizedState===null?!1:(Tr.current&2)!==0),ne&&(q=!0,b.flags&=-129),ne=(b.flags&32)!==0,b.flags&=-33,f===null){if(Mn){if(q?zi(b):qi(),Mn){var oe=ir,be;if(be=oe){e:{for(be=oe,oe=Aa;be.nodeType!==8;){if(!oe){oe=null;break e}if(be=da(be.nextSibling),be===null){oe=null;break e}}oe=be}oe!==null?(b.memoizedState={dehydrated:oe,treeContext:Oo!==null?{id:ai,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},be=Es(18,null,null,0),be.stateNode=oe,be.return=b,b.child=be,is=b,ir=null,be=!0):be=!1}be||Po(b)}if(oe=b.memoizedState,oe!==null&&(oe=oe.dehydrated,oe!==null))return Wg(oe)?b.lanes=32:b.lanes=536870912,null;ui(b)}return oe=A.children,A=A.fallback,q?(qi(),q=b.mode,oe=mf({mode:"hidden",children:oe},q),A=Mo(A,q,_,null),oe.return=b,A.return=b,oe.sibling=A,b.child=oe,q=b.child,q.memoizedState=lg(_),q.childLanes=cg(f,ne,_),b.memoizedState=og,A):(zi(b),ug(b,oe))}if(be=f.memoizedState,be!==null&&(oe=be.dehydrated,oe!==null)){if(X)b.flags&256?(zi(b),b.flags&=-257,b=dg(f,b,_)):b.memoizedState!==null?(qi(),b.child=f.child,b.flags|=128,b=null):(qi(),q=A.fallback,oe=b.mode,A=mf({mode:"visible",children:A.children},oe),q=Mo(q,oe,_,null),q.flags|=2,A.return=b,q.return=b,A.sibling=q,b.child=A,Tl(b,f.child,null,_),A=b.child,A.memoizedState=lg(_),A.childLanes=cg(f,ne,_),b.memoizedState=og,b=q);else if(zi(b),Wg(oe)){if(ne=oe.nextSibling&&oe.nextSibling.dataset,ne)var Re=ne.dgst;ne=Re,A=Error(s(419)),A.stack="",A.digest=ne,Bc({value:A,source:null,stack:null}),b=dg(f,b,_)}else if(Ur||Fc(f,b,_,!1),ne=(_&f.childLanes)!==0,Ur||ne){if(ne=Gn,ne!==null&&(A=_&-_,A=(A&42)!==0?1:ct(A),A=(A&(ne.suspendedLanes|_))!==0?0:A,A!==0&&A!==be.retryLane))throw be.retryLane=A,xl(f,A),Os(ne,f,A),Hv;oe.data==="$?"||Rg(),b=dg(f,b,_)}else oe.data==="$?"?(b.flags|=192,b.child=f.child,b=null):(f=be.treeContext,ir=da(oe.nextSibling),is=b,Mn=!0,Io=null,Aa=!1,f!==null&&(Gs[Ys++]=ai,Gs[Ys++]=ii,Gs[Ys++]=Oo,ai=f.id,ii=f.overflow,Oo=b),b=ug(b,A.children),b.flags|=4096);return b}return q?(qi(),q=A.fallback,oe=b.mode,be=f.child,Re=be.sibling,A=si(be,{mode:"hidden",children:A.children}),A.subtreeFlags=be.subtreeFlags&65011712,Re!==null?q=si(Re,q):(q=Mo(q,oe,_,null),q.flags|=2),q.return=b,A.return=b,A.sibling=q,b.child=A,A=q,q=b.child,oe=f.child.memoizedState,oe===null?oe=lg(_):(be=oe.cachePool,be!==null?(Re=Rr._currentValue,be=be.parent!==Re?{parent:Re,pool:Re}:be):be=Ux(),oe={baseLanes:oe.baseLanes|_,cachePool:be}),q.memoizedState=oe,q.childLanes=cg(f,ne,_),b.memoizedState=og,A):(zi(b),_=f.child,f=_.sibling,_=si(_,{mode:"visible",children:A.children}),_.return=b,_.sibling=null,f!==null&&(ne=b.deletions,ne===null?(b.deletions=[f],b.flags|=16):ne.push(f)),b.child=_,b.memoizedState=null,_)}function ug(f,b){return b=mf({mode:"visible",children:b},f.mode),b.return=f,f.child=b}function mf(f,b){return f=Es(22,f,null,b),f.lanes=0,f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},f}function dg(f,b,_){return Tl(b,f.child,null,_),f=ug(b,b.pendingProps.children),f.flags|=2,b.memoizedState=null,f}function t1(f,b,_){f.lanes|=b;var A=f.alternate;A!==null&&(A.lanes|=b),Rm(f.return,b,_)}function fg(f,b,_,A,q){var X=f.memoizedState;X===null?f.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:A,tail:_,tailMode:q}:(X.isBackwards=b,X.rendering=null,X.renderingStartTime=0,X.last=A,X.tail=_,X.tailMode=q)}function n1(f,b,_){var A=b.pendingProps,q=A.revealOrder,X=A.tail;if(Wr(f,b,A.children,_),A=Tr.current,(A&2)!==0)A=A&1|2,b.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=b.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&t1(f,_,b);else if(f.tag===19)t1(f,_,b);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===b)break e;for(;f.sibling===null;){if(f.return===null||f.return===b)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}A&=1}switch(K(Tr,A),q){case"forwards":for(_=b.child,q=null;_!==null;)f=_.alternate,f!==null&&df(f)===null&&(q=_),_=_.sibling;_=q,_===null?(q=b.child,b.child=null):(q=_.sibling,_.sibling=null),fg(b,!1,q,_,X);break;case"backwards":for(_=null,q=b.child,b.child=null;q!==null;){if(f=q.alternate,f!==null&&df(f)===null){b.child=q;break}f=q.sibling,q.sibling=_,_=q,q=f}fg(b,!0,_,null,X);break;case"together":fg(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function di(f,b,_){if(f!==null&&(b.dependencies=f.dependencies),Yi|=b.lanes,(_&b.childLanes)===0)if(f!==null){if(Fc(f,b,_,!1),(_&b.childLanes)===0)return null}else return null;if(f!==null&&b.child!==f.child)throw Error(s(153));if(b.child!==null){for(f=b.child,_=si(f,f.pendingProps),b.child=_,_.return=b;f.sibling!==null;)f=f.sibling,_=_.sibling=si(f,f.pendingProps),_.return=b;_.sibling=null}return b.child}function hg(f,b){return(f.lanes&b)!==0?!0:(f=f.dependencies,!!(f!==null&&Yd(f)))}function TN(f,b,_){switch(b.tag){case 3:U(b,b.stateNode.containerInfo),Li(b,Rr,f.memoizedState.cache),Lc();break;case 27:case 5:J(b);break;case 4:U(b,b.stateNode.containerInfo);break;case 10:Li(b,b.type,b.memoizedProps.value);break;case 13:var A=b.memoizedState;if(A!==null)return A.dehydrated!==null?(zi(b),b.flags|=128,null):(_&b.child.childLanes)!==0?e1(f,b,_):(zi(b),f=di(f,b,_),f!==null?f.sibling:null);zi(b);break;case 19:var q=(f.flags&128)!==0;if(A=(_&b.childLanes)!==0,A||(Fc(f,b,_,!1),A=(_&b.childLanes)!==0),q){if(A)return n1(f,b,_);b.flags|=128}if(q=b.memoizedState,q!==null&&(q.rendering=null,q.tail=null,q.lastEffect=null),K(Tr,Tr.current),A)break;return null;case 22:case 23:return b.lanes=0,Xv(f,b,_);case 24:Li(b,Rr,f.memoizedState.cache)}return di(f,b,_)}function r1(f,b,_){if(f!==null)if(f.memoizedProps!==b.pendingProps)Ur=!0;else{if(!hg(f,_)&&(b.flags&128)===0)return Ur=!1,TN(f,b,_);Ur=(f.flags&131072)!==0}else Ur=!1,Mn&&(b.flags&1048576)!==0&&Ox(b,Gd,b.index);switch(b.lanes=0,b.tag){case 16:e:{f=b.pendingProps;var A=b.elementType,q=A._init;if(A=q(A._payload),b.type=A,typeof A=="function")jm(A)?(f=$o(A,f),b.tag=1,b=Zv(null,b,A,f,_)):(b.tag=0,b=ig(null,b,A,f,_));else{if(A!=null){if(q=A.$$typeof,q===N){b.tag=11,b=Wv(null,b,A,f,_);break e}else if(q===V){b.tag=14,b=Gv(null,b,A,f,_);break e}}throw b=I(A)||A,Error(s(306,b,""))}}return b;case 0:return ig(f,b,b.type,b.pendingProps,_);case 1:return A=b.type,q=$o(A,b.pendingProps),Zv(f,b,A,q,_);case 3:e:{if(U(b,b.stateNode.containerInfo),f===null)throw Error(s(387));A=b.pendingProps;var X=b.memoizedState;q=X.element,Pm(f,b),Wc(b,A,null,_);var ne=b.memoizedState;if(A=ne.cache,Li(b,Rr,A),A!==X.cache&&Tm(b,[Rr],_,!0),Hc(),A=ne.element,X.isDehydrated)if(X={element:A,isDehydrated:!1,cache:ne.cache},b.updateQueue.baseState=X,b.memoizedState=X,b.flags&256){b=Jv(f,b,A,_);break e}else if(A!==q){q=Hs(Error(s(424)),b),Bc(q),b=Jv(f,b,A,_);break e}else{switch(f=b.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(ir=da(f.firstChild),is=b,Mn=!0,Io=null,Aa=!0,_=Iv(b,null,A,_),b.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(Lc(),A===q){b=di(f,b,_);break e}Wr(f,b,A,_)}b=b.child}return b;case 26:return pf(f,b),f===null?(_=ow(b.type,null,b.pendingProps,null))?b.memoizedState=_:Mn||(_=b.type,f=b.pendingProps,A=Rf(H.current).createElement(_),A[zt]=b,A[ht]=f,Yr(A,_,f),Et(A),b.stateNode=A):b.memoizedState=ow(b.type,f.memoizedProps,b.pendingProps,f.memoizedState),null;case 27:return J(b),f===null&&Mn&&(A=b.stateNode=sw(b.type,b.pendingProps,H.current),is=b,Aa=!0,q=ir,Zi(b.type)?(Gg=q,ir=da(A.firstChild)):ir=q),Wr(f,b,b.pendingProps.children,_),pf(f,b),f===null&&(b.flags|=4194304),b.child;case 5:return f===null&&Mn&&((q=A=ir)&&(A=s8(A,b.type,b.pendingProps,Aa),A!==null?(b.stateNode=A,is=b,ir=da(A.firstChild),Aa=!1,q=!0):q=!1),q||Po(b)),J(b),q=b.type,X=b.pendingProps,ne=f!==null?f.memoizedProps:null,A=X.children,qg(q,X)?A=null:ne!==null&&qg(q,ne)&&(b.flags|=32),b.memoizedState!==null&&(q=zm(f,b,jN,null,null,_),pu._currentValue=q),pf(f,b),Wr(f,b,A,_),b.child;case 6:return f===null&&Mn&&((f=_=ir)&&(_=a8(_,b.pendingProps,Aa),_!==null?(b.stateNode=_,is=b,ir=null,f=!0):f=!1),f||Po(b)),null;case 13:return e1(f,b,_);case 4:return U(b,b.stateNode.containerInfo),A=b.pendingProps,f===null?b.child=Tl(b,null,A,_):Wr(f,b,A,_),b.child;case 11:return Wv(f,b,b.type,b.pendingProps,_);case 7:return Wr(f,b,b.pendingProps,_),b.child;case 8:return Wr(f,b,b.pendingProps.children,_),b.child;case 12:return Wr(f,b,b.pendingProps.children,_),b.child;case 10:return A=b.pendingProps,Li(b,b.type,A.value),Wr(f,b,A.children,_),b.child;case 9:return q=b.type._context,A=b.pendingProps.children,Bo(b),q=es(q),A=A(q),b.flags|=1,Wr(f,b,A,_),b.child;case 14:return Gv(f,b,b.type,b.pendingProps,_);case 15:return Yv(f,b,b.type,b.pendingProps,_);case 19:return n1(f,b,_);case 31:return A=b.pendingProps,_=b.mode,A={mode:A.mode,children:A.children},f===null?(_=mf(A,_),_.ref=b.ref,b.child=_,_.return=b,b=_):(_=si(f.child,A),_.ref=b.ref,b.child=_,_.return=b,b=_),b;case 22:return Xv(f,b,_);case 24:return Bo(b),A=es(Rr),f===null?(q=Om(),q===null&&(q=Gn,X=Am(),q.pooledCache=X,X.refCount++,X!==null&&(q.pooledCacheLanes|=_),q=X),b.memoizedState={parent:A,cache:q},Im(b),Li(b,Rr,q)):((f.lanes&_)!==0&&(Pm(f,b),Wc(b,null,null,_),Hc()),q=f.memoizedState,X=b.memoizedState,q.parent!==A?(q={parent:A,cache:A},b.memoizedState=q,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=q),Li(b,Rr,A)):(A=X.cache,Li(b,Rr,A),A!==q.cache&&Tm(b,[Rr],_,!0))),Wr(f,b,b.pendingProps.children,_),b.child;case 29:throw b.pendingProps}throw Error(s(156,b.tag))}function fi(f){f.flags|=4}function s1(f,b){if(b.type!=="stylesheet"||(b.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!fw(b)){if(b=Xs.current,b!==null&&((Cn&4194048)===Cn?Ma!==null:(Cn&62914560)!==Cn&&(Cn&536870912)===0||b!==Ma))throw qc=Dm,$x;f.flags|=8192}}function gf(f,b){b!==null&&(f.flags|=4),f.flags&16384&&(b=f.tag!==22?Ct():536870912,f.lanes|=b,Dl|=b)}function Jc(f,b){if(!Mn)switch(f.tailMode){case"hidden":b=f.tail;for(var _=null;b!==null;)b.alternate!==null&&(_=b),b=b.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var A=null;_!==null;)_.alternate!==null&&(A=_),_=_.sibling;A===null?b||f.tail===null?f.tail=null:f.tail.sibling=null:A.sibling=null}}function tr(f){var b=f.alternate!==null&&f.alternate.child===f.child,_=0,A=0;if(b)for(var q=f.child;q!==null;)_|=q.lanes|q.childLanes,A|=q.subtreeFlags&65011712,A|=q.flags&65011712,q.return=f,q=q.sibling;else for(q=f.child;q!==null;)_|=q.lanes|q.childLanes,A|=q.subtreeFlags,A|=q.flags,q.return=f,q=q.sibling;return f.subtreeFlags|=A,f.childLanes=_,b}function AN(f,b,_){var A=b.pendingProps;switch(Nm(b),b.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(b),null;case 1:return tr(b),null;case 3:return _=b.stateNode,A=null,f!==null&&(A=f.memoizedState.cache),b.memoizedState.cache!==A&&(b.flags|=2048),li(Rr),F(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(Pc(b)?fi(b):f===null||f.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,Px())),tr(b),null;case 26:return _=b.memoizedState,f===null?(fi(b),_!==null?(tr(b),s1(b,_)):(tr(b),b.flags&=-16777217)):_?_!==f.memoizedState?(fi(b),tr(b),s1(b,_)):(tr(b),b.flags&=-16777217):(f.memoizedProps!==A&&fi(b),tr(b),b.flags&=-16777217),null;case 27:re(b),_=H.current;var q=b.type;if(f!==null&&b.stateNode!=null)f.memoizedProps!==A&&fi(b);else{if(!A){if(b.stateNode===null)throw Error(s(166));return tr(b),null}f=Z.current,Pc(b)?Dx(b):(f=sw(q,A,_),b.stateNode=f,fi(b))}return tr(b),null;case 5:if(re(b),_=b.type,f!==null&&b.stateNode!=null)f.memoizedProps!==A&&fi(b);else{if(!A){if(b.stateNode===null)throw Error(s(166));return tr(b),null}if(f=Z.current,Pc(b))Dx(b);else{switch(q=Rf(H.current),f){case 1:f=q.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:f=q.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":f=q.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":f=q.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":f=q.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof A.is=="string"?q.createElement("select",{is:A.is}):q.createElement("select"),A.multiple?f.multiple=!0:A.size&&(f.size=A.size);break;default:f=typeof A.is=="string"?q.createElement(_,{is:A.is}):q.createElement(_)}}f[zt]=b,f[ht]=A;e:for(q=b.child;q!==null;){if(q.tag===5||q.tag===6)f.appendChild(q.stateNode);else if(q.tag!==4&&q.tag!==27&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===b)break e;for(;q.sibling===null;){if(q.return===null||q.return===b)break e;q=q.return}q.sibling.return=q.return,q=q.sibling}b.stateNode=f;e:switch(Yr(f,_,A),_){case"button":case"input":case"select":case"textarea":f=!!A.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&fi(b)}}return tr(b),b.flags&=-16777217,null;case 6:if(f&&b.stateNode!=null)f.memoizedProps!==A&&fi(b);else{if(typeof A!="string"&&b.stateNode===null)throw Error(s(166));if(f=H.current,Pc(b)){if(f=b.stateNode,_=b.memoizedProps,A=null,q=is,q!==null)switch(q.tag){case 27:case 5:A=q.memoizedProps}f[zt]=b,f=!!(f.nodeValue===_||A!==null&&A.suppressHydrationWarning===!0||Q1(f.nodeValue,_)),f||Po(b)}else f=Rf(f).createTextNode(A),f[zt]=b,b.stateNode=f}return tr(b),null;case 13:if(A=b.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(q=Pc(b),A!==null&&A.dehydrated!==null){if(f===null){if(!q)throw Error(s(318));if(q=b.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(s(317));q[zt]=b}else Lc(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;tr(b),q=!1}else q=Px(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=q),q=!0;if(!q)return b.flags&256?(ui(b),b):(ui(b),null)}if(ui(b),(b.flags&128)!==0)return b.lanes=_,b;if(_=A!==null,f=f!==null&&f.memoizedState!==null,_){A=b.child,q=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(q=A.alternate.memoizedState.cachePool.pool);var X=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(X=A.memoizedState.cachePool.pool),X!==q&&(A.flags|=2048)}return _!==f&&_&&(b.child.flags|=8192),gf(b,b.updateQueue),tr(b),null;case 4:return F(),f===null&&Bg(b.stateNode.containerInfo),tr(b),null;case 10:return li(b.type),tr(b),null;case 19:if(z(Tr),q=b.memoizedState,q===null)return tr(b),null;if(A=(b.flags&128)!==0,X=q.rendering,X===null)if(A)Jc(q,!1);else{if(or!==0||f!==null&&(f.flags&128)!==0)for(f=b.child;f!==null;){if(X=df(f),X!==null){for(b.flags|=128,Jc(q,!1),f=X.updateQueue,b.updateQueue=f,gf(b,f),b.subtreeFlags=0,f=_,_=b.child;_!==null;)Mx(_,f),_=_.sibling;return K(Tr,Tr.current&1|2),b.child}f=f.sibling}q.tail!==null&&ie()>xf&&(b.flags|=128,A=!0,Jc(q,!1),b.lanes=4194304)}else{if(!A)if(f=df(X),f!==null){if(b.flags|=128,A=!0,f=f.updateQueue,b.updateQueue=f,gf(b,f),Jc(q,!0),q.tail===null&&q.tailMode==="hidden"&&!X.alternate&&!Mn)return tr(b),null}else 2*ie()-q.renderingStartTime>xf&&_!==536870912&&(b.flags|=128,A=!0,Jc(q,!1),b.lanes=4194304);q.isBackwards?(X.sibling=b.child,b.child=X):(f=q.last,f!==null?f.sibling=X:b.child=X,q.last=X)}return q.tail!==null?(b=q.tail,q.rendering=b,q.tail=b.sibling,q.renderingStartTime=ie(),b.sibling=null,f=Tr.current,K(Tr,A?f&1|2:f&1),b):(tr(b),null);case 22:case 23:return ui(b),Um(),A=b.memoizedState!==null,f!==null?f.memoizedState!==null!==A&&(b.flags|=8192):A&&(b.flags|=8192),A?(_&536870912)!==0&&(b.flags&128)===0&&(tr(b),b.subtreeFlags&6&&(b.flags|=8192)):tr(b),_=b.updateQueue,_!==null&&gf(b,_.retryQueue),_=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),A=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(A=b.memoizedState.cachePool.pool),A!==_&&(b.flags|=2048),f!==null&&z(Fo),null;case 24:return _=null,f!==null&&(_=f.memoizedState.cache),b.memoizedState.cache!==_&&(b.flags|=2048),li(Rr),tr(b),null;case 25:return null;case 30:return null}throw Error(s(156,b.tag))}function MN(f,b){switch(Nm(b),b.tag){case 1:return f=b.flags,f&65536?(b.flags=f&-65537|128,b):null;case 3:return li(Rr),F(),f=b.flags,(f&65536)!==0&&(f&128)===0?(b.flags=f&-65537|128,b):null;case 26:case 27:case 5:return re(b),null;case 13:if(ui(b),f=b.memoizedState,f!==null&&f.dehydrated!==null){if(b.alternate===null)throw Error(s(340));Lc()}return f=b.flags,f&65536?(b.flags=f&-65537|128,b):null;case 19:return z(Tr),null;case 4:return F(),null;case 10:return li(b.type),null;case 22:case 23:return ui(b),Um(),f!==null&&z(Fo),f=b.flags,f&65536?(b.flags=f&-65537|128,b):null;case 24:return li(Rr),null;case 25:return null;default:return null}}function a1(f,b){switch(Nm(b),b.tag){case 3:li(Rr),F();break;case 26:case 27:case 5:re(b);break;case 4:F();break;case 13:ui(b);break;case 19:z(Tr);break;case 10:li(b.type);break;case 22:case 23:ui(b),Um(),f!==null&&z(Fo);break;case 24:li(Rr)}}function eu(f,b){try{var _=b.updateQueue,A=_!==null?_.lastEffect:null;if(A!==null){var q=A.next;_=q;do{if((_.tag&f)===f){A=void 0;var X=_.create,ne=_.inst;A=X(),ne.destroy=A}_=_.next}while(_!==q)}}catch(oe){Vn(b,b.return,oe)}}function Vi(f,b,_){try{var A=b.updateQueue,q=A!==null?A.lastEffect:null;if(q!==null){var X=q.next;A=X;do{if((A.tag&f)===f){var ne=A.inst,oe=ne.destroy;if(oe!==void 0){ne.destroy=void 0,q=b;var be=_,Re=oe;try{Re()}catch($e){Vn(q,be,$e)}}}A=A.next}while(A!==X)}}catch($e){Vn(b,b.return,$e)}}function i1(f){var b=f.updateQueue;if(b!==null){var _=f.stateNode;try{Gx(b,_)}catch(A){Vn(f,f.return,A)}}}function o1(f,b,_){_.props=$o(f.type,f.memoizedProps),_.state=f.memoizedState;try{_.componentWillUnmount()}catch(A){Vn(f,b,A)}}function tu(f,b){try{var _=f.ref;if(_!==null){switch(f.tag){case 26:case 27:case 5:var A=f.stateNode;break;case 30:A=f.stateNode;break;default:A=f.stateNode}typeof _=="function"?f.refCleanup=_(A):_.current=A}}catch(q){Vn(f,b,q)}}function Oa(f,b){var _=f.ref,A=f.refCleanup;if(_!==null)if(typeof A=="function")try{A()}catch(q){Vn(f,b,q)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(q){Vn(f,b,q)}else _.current=null}function l1(f){var b=f.type,_=f.memoizedProps,A=f.stateNode;try{e:switch(b){case"button":case"input":case"select":case"textarea":_.autoFocus&&A.focus();break e;case"img":_.src?A.src=_.src:_.srcSet&&(A.srcset=_.srcSet)}}catch(q){Vn(f,f.return,q)}}function pg(f,b,_){try{var A=f.stateNode;JN(A,f.type,_,b),A[ht]=b}catch(q){Vn(f,f.return,q)}}function c1(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Zi(f.type)||f.tag===4}function mg(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||c1(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Zi(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function gg(f,b,_){var A=f.tag;if(A===5||A===6)f=f.stateNode,b?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(f,b):(b=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,b.appendChild(f),_=_._reactRootContainer,_!=null||b.onclick!==null||(b.onclick=Ef));else if(A!==4&&(A===27&&Zi(f.type)&&(_=f.stateNode,b=null),f=f.child,f!==null))for(gg(f,b,_),f=f.sibling;f!==null;)gg(f,b,_),f=f.sibling}function bf(f,b,_){var A=f.tag;if(A===5||A===6)f=f.stateNode,b?_.insertBefore(f,b):_.appendChild(f);else if(A!==4&&(A===27&&Zi(f.type)&&(_=f.stateNode),f=f.child,f!==null))for(bf(f,b,_),f=f.sibling;f!==null;)bf(f,b,_),f=f.sibling}function u1(f){var b=f.stateNode,_=f.memoizedProps;try{for(var A=f.type,q=b.attributes;q.length;)b.removeAttributeNode(q[0]);Yr(b,A,_),b[zt]=f,b[ht]=_}catch(X){Vn(f,f.return,X)}}var hi=!1,hr=!1,bg=!1,d1=typeof WeakSet=="function"?WeakSet:Set,$r=null;function ON(f,b){if(f=f.containerInfo,$g=If,f=jx(f),mm(f)){if("selectionStart"in f)var _={start:f.selectionStart,end:f.selectionEnd};else e:{_=(_=f.ownerDocument)&&_.defaultView||window;var A=_.getSelection&&_.getSelection();if(A&&A.rangeCount!==0){_=A.anchorNode;var q=A.anchorOffset,X=A.focusNode;A=A.focusOffset;try{_.nodeType,X.nodeType}catch{_=null;break e}var ne=0,oe=-1,be=-1,Re=0,$e=0,Ge=f,Me=null;t:for(;;){for(var Oe;Ge!==_||q!==0&&Ge.nodeType!==3||(oe=ne+q),Ge!==X||A!==0&&Ge.nodeType!==3||(be=ne+A),Ge.nodeType===3&&(ne+=Ge.nodeValue.length),(Oe=Ge.firstChild)!==null;)Me=Ge,Ge=Oe;for(;;){if(Ge===f)break t;if(Me===_&&++Re===q&&(oe=ne),Me===X&&++$e===A&&(be=ne),(Oe=Ge.nextSibling)!==null)break;Ge=Me,Me=Ge.parentNode}Ge=Oe}_=oe===-1||be===-1?null:{start:oe,end:be}}else _=null}_=_||{start:0,end:0}}else _=null;for(zg={focusedElem:f,selectionRange:_},If=!1,$r=b;$r!==null;)if(b=$r,f=b.child,(b.subtreeFlags&1024)!==0&&f!==null)f.return=b,$r=f;else for(;$r!==null;){switch(b=$r,X=b.alternate,f=b.flags,b.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&X!==null){f=void 0,_=b,q=X.memoizedProps,X=X.memoizedState,A=_.stateNode;try{var Yt=$o(_.type,q,_.elementType===_.type);f=A.getSnapshotBeforeUpdate(Yt,X),A.__reactInternalSnapshotBeforeUpdate=f}catch(qt){Vn(_,_.return,qt)}}break;case 3:if((f&1024)!==0){if(f=b.stateNode.containerInfo,_=f.nodeType,_===9)Hg(f);else if(_===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":Hg(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(s(163))}if(f=b.sibling,f!==null){f.return=b.return,$r=f;break}$r=b.return}}function f1(f,b,_){var A=_.flags;switch(_.tag){case 0:case 11:case 15:Hi(f,_),A&4&&eu(5,_);break;case 1:if(Hi(f,_),A&4)if(f=_.stateNode,b===null)try{f.componentDidMount()}catch(ne){Vn(_,_.return,ne)}else{var q=$o(_.type,b.memoizedProps);b=b.memoizedState;try{f.componentDidUpdate(q,b,f.__reactInternalSnapshotBeforeUpdate)}catch(ne){Vn(_,_.return,ne)}}A&64&&i1(_),A&512&&tu(_,_.return);break;case 3:if(Hi(f,_),A&64&&(f=_.updateQueue,f!==null)){if(b=null,_.child!==null)switch(_.child.tag){case 27:case 5:b=_.child.stateNode;break;case 1:b=_.child.stateNode}try{Gx(f,b)}catch(ne){Vn(_,_.return,ne)}}break;case 27:b===null&&A&4&&u1(_);case 26:case 5:Hi(f,_),b===null&&A&4&&l1(_),A&512&&tu(_,_.return);break;case 12:Hi(f,_);break;case 13:Hi(f,_),A&4&&m1(f,_),A&64&&(f=_.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(_=zN.bind(null,_),i8(f,_))));break;case 22:if(A=_.memoizedState!==null||hi,!A){b=b!==null&&b.memoizedState!==null||hr,q=hi;var X=hr;hi=A,(hr=b)&&!X?Wi(f,_,(_.subtreeFlags&8772)!==0):Hi(f,_),hi=q,hr=X}break;case 30:break;default:Hi(f,_)}}function h1(f){var b=f.alternate;b!==null&&(f.alternate=null,h1(b)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(b=f.stateNode,b!==null&&Ft(b)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Qn=null,ys=!1;function pi(f,b,_){for(_=_.child;_!==null;)p1(f,b,_),_=_.sibling}function p1(f,b,_){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(De,_)}catch{}switch(_.tag){case 26:hr||Oa(_,b),pi(f,b,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:hr||Oa(_,b);var A=Qn,q=ys;Zi(_.type)&&(Qn=_.stateNode,ys=!1),pi(f,b,_),uu(_.stateNode),Qn=A,ys=q;break;case 5:hr||Oa(_,b);case 6:if(A=Qn,q=ys,Qn=null,pi(f,b,_),Qn=A,ys=q,Qn!==null)if(ys)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(_.stateNode)}catch(X){Vn(_,b,X)}else try{Qn.removeChild(_.stateNode)}catch(X){Vn(_,b,X)}break;case 18:Qn!==null&&(ys?(f=Qn,nw(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,_.stateNode),yu(f)):nw(Qn,_.stateNode));break;case 4:A=Qn,q=ys,Qn=_.stateNode.containerInfo,ys=!0,pi(f,b,_),Qn=A,ys=q;break;case 0:case 11:case 14:case 15:hr||Vi(2,_,b),hr||Vi(4,_,b),pi(f,b,_);break;case 1:hr||(Oa(_,b),A=_.stateNode,typeof A.componentWillUnmount=="function"&&o1(_,b,A)),pi(f,b,_);break;case 21:pi(f,b,_);break;case 22:hr=(A=hr)||_.memoizedState!==null,pi(f,b,_),hr=A;break;default:pi(f,b,_)}}function m1(f,b){if(b.memoizedState===null&&(f=b.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{yu(f)}catch(_){Vn(b,b.return,_)}}function DN(f){switch(f.tag){case 13:case 19:var b=f.stateNode;return b===null&&(b=f.stateNode=new d1),b;case 22:return f=f.stateNode,b=f._retryCache,b===null&&(b=f._retryCache=new d1),b;default:throw Error(s(435,f.tag))}}function yg(f,b){var _=DN(f);b.forEach(function(A){var q=qN.bind(null,f,A);_.has(A)||(_.add(A),A.then(q,q))})}function Rs(f,b){var _=b.deletions;if(_!==null)for(var A=0;A<_.length;A++){var q=_[A],X=f,ne=b,oe=ne;e:for(;oe!==null;){switch(oe.tag){case 27:if(Zi(oe.type)){Qn=oe.stateNode,ys=!1;break e}break;case 5:Qn=oe.stateNode,ys=!1;break e;case 3:case 4:Qn=oe.stateNode.containerInfo,ys=!0;break e}oe=oe.return}if(Qn===null)throw Error(s(160));p1(X,ne,q),Qn=null,ys=!1,X=q.alternate,X!==null&&(X.return=null),q.return=null}if(b.subtreeFlags&13878)for(b=b.child;b!==null;)g1(b,f),b=b.sibling}var ua=null;function g1(f,b){var _=f.alternate,A=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Rs(b,f),Ts(f),A&4&&(Vi(3,f,f.return),eu(3,f),Vi(5,f,f.return));break;case 1:Rs(b,f),Ts(f),A&512&&(hr||_===null||Oa(_,_.return)),A&64&&hi&&(f=f.updateQueue,f!==null&&(A=f.callbacks,A!==null&&(_=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=_===null?A:_.concat(A))));break;case 26:var q=ua;if(Rs(b,f),Ts(f),A&512&&(hr||_===null||Oa(_,_.return)),A&4){var X=_!==null?_.memoizedState:null;if(A=f.memoizedState,_===null)if(A===null)if(f.stateNode===null){e:{A=f.type,_=f.memoizedProps,q=q.ownerDocument||q;t:switch(A){case"title":X=q.getElementsByTagName("title")[0],(!X||X[tt]||X[zt]||X.namespaceURI==="http://www.w3.org/2000/svg"||X.hasAttribute("itemprop"))&&(X=q.createElement(A),q.head.insertBefore(X,q.querySelector("head > title"))),Yr(X,A,_),X[zt]=f,Et(X),A=X;break e;case"link":var ne=uw("link","href",q).get(A+(_.href||""));if(ne){for(var oe=0;oe<ne.length;oe++)if(X=ne[oe],X.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&X.getAttribute("rel")===(_.rel==null?null:_.rel)&&X.getAttribute("title")===(_.title==null?null:_.title)&&X.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){ne.splice(oe,1);break t}}X=q.createElement(A),Yr(X,A,_),q.head.appendChild(X);break;case"meta":if(ne=uw("meta","content",q).get(A+(_.content||""))){for(oe=0;oe<ne.length;oe++)if(X=ne[oe],X.getAttribute("content")===(_.content==null?null:""+_.content)&&X.getAttribute("name")===(_.name==null?null:_.name)&&X.getAttribute("property")===(_.property==null?null:_.property)&&X.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&X.getAttribute("charset")===(_.charSet==null?null:_.charSet)){ne.splice(oe,1);break t}}X=q.createElement(A),Yr(X,A,_),q.head.appendChild(X);break;default:throw Error(s(468,A))}X[zt]=f,Et(X),A=X}f.stateNode=A}else dw(q,f.type,f.stateNode);else f.stateNode=cw(q,A,f.memoizedProps);else X!==A?(X===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):X.count--,A===null?dw(q,f.type,f.stateNode):cw(q,A,f.memoizedProps)):A===null&&f.stateNode!==null&&pg(f,f.memoizedProps,_.memoizedProps)}break;case 27:Rs(b,f),Ts(f),A&512&&(hr||_===null||Oa(_,_.return)),_!==null&&A&4&&pg(f,f.memoizedProps,_.memoizedProps);break;case 5:if(Rs(b,f),Ts(f),A&512&&(hr||_===null||Oa(_,_.return)),f.flags&32){q=f.stateNode;try{vr(q,"")}catch(Oe){Vn(f,f.return,Oe)}}A&4&&f.stateNode!=null&&(q=f.memoizedProps,pg(f,q,_!==null?_.memoizedProps:q)),A&1024&&(bg=!0);break;case 6:if(Rs(b,f),Ts(f),A&4){if(f.stateNode===null)throw Error(s(162));A=f.memoizedProps,_=f.stateNode;try{_.nodeValue=A}catch(Oe){Vn(f,f.return,Oe)}}break;case 3:if(Mf=null,q=ua,ua=Tf(b.containerInfo),Rs(b,f),ua=q,Ts(f),A&4&&_!==null&&_.memoizedState.isDehydrated)try{yu(b.containerInfo)}catch(Oe){Vn(f,f.return,Oe)}bg&&(bg=!1,b1(f));break;case 4:A=ua,ua=Tf(f.stateNode.containerInfo),Rs(b,f),Ts(f),ua=A;break;case 12:Rs(b,f),Ts(f);break;case 13:Rs(b,f),Ts(f),f.child.flags&8192&&f.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(_g=ie()),A&4&&(A=f.updateQueue,A!==null&&(f.updateQueue=null,yg(f,A)));break;case 22:q=f.memoizedState!==null;var be=_!==null&&_.memoizedState!==null,Re=hi,$e=hr;if(hi=Re||q,hr=$e||be,Rs(b,f),hr=$e,hi=Re,Ts(f),A&8192)e:for(b=f.stateNode,b._visibility=q?b._visibility&-2:b._visibility|1,q&&(_===null||be||hi||hr||zo(f)),_=null,b=f;;){if(b.tag===5||b.tag===26){if(_===null){be=_=b;try{if(X=be.stateNode,q)ne=X.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{oe=be.stateNode;var Ge=be.memoizedProps.style,Me=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;oe.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(Oe){Vn(be,be.return,Oe)}}}else if(b.tag===6){if(_===null){be=b;try{be.stateNode.nodeValue=q?"":be.memoizedProps}catch(Oe){Vn(be,be.return,Oe)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===f)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===f)break e;for(;b.sibling===null;){if(b.return===null||b.return===f)break e;_===b&&(_=null),b=b.return}_===b&&(_=null),b.sibling.return=b.return,b=b.sibling}A&4&&(A=f.updateQueue,A!==null&&(_=A.retryQueue,_!==null&&(A.retryQueue=null,yg(f,_))));break;case 19:Rs(b,f),Ts(f),A&4&&(A=f.updateQueue,A!==null&&(f.updateQueue=null,yg(f,A)));break;case 30:break;case 21:break;default:Rs(b,f),Ts(f)}}function Ts(f){var b=f.flags;if(b&2){try{for(var _,A=f.return;A!==null;){if(c1(A)){_=A;break}A=A.return}if(_==null)throw Error(s(160));switch(_.tag){case 27:var q=_.stateNode,X=mg(f);bf(f,X,q);break;case 5:var ne=_.stateNode;_.flags&32&&(vr(ne,""),_.flags&=-33);var oe=mg(f);bf(f,oe,ne);break;case 3:case 4:var be=_.stateNode.containerInfo,Re=mg(f);gg(f,Re,be);break;default:throw Error(s(161))}}catch($e){Vn(f,f.return,$e)}f.flags&=-3}b&4096&&(f.flags&=-4097)}function b1(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var b=f;b1(b),b.tag===5&&b.flags&1024&&b.stateNode.reset(),f=f.sibling}}function Hi(f,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)f1(f,b.alternate,b),b=b.sibling}function zo(f){for(f=f.child;f!==null;){var b=f;switch(b.tag){case 0:case 11:case 14:case 15:Vi(4,b,b.return),zo(b);break;case 1:Oa(b,b.return);var _=b.stateNode;typeof _.componentWillUnmount=="function"&&o1(b,b.return,_),zo(b);break;case 27:uu(b.stateNode);case 26:case 5:Oa(b,b.return),zo(b);break;case 22:b.memoizedState===null&&zo(b);break;case 30:zo(b);break;default:zo(b)}f=f.sibling}}function Wi(f,b,_){for(_=_&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var A=b.alternate,q=f,X=b,ne=X.flags;switch(X.tag){case 0:case 11:case 15:Wi(q,X,_),eu(4,X);break;case 1:if(Wi(q,X,_),A=X,q=A.stateNode,typeof q.componentDidMount=="function")try{q.componentDidMount()}catch(Re){Vn(A,A.return,Re)}if(A=X,q=A.updateQueue,q!==null){var oe=A.stateNode;try{var be=q.shared.hiddenCallbacks;if(be!==null)for(q.shared.hiddenCallbacks=null,q=0;q<be.length;q++)Wx(be[q],oe)}catch(Re){Vn(A,A.return,Re)}}_&&ne&64&&i1(X),tu(X,X.return);break;case 27:u1(X);case 26:case 5:Wi(q,X,_),_&&A===null&&ne&4&&l1(X),tu(X,X.return);break;case 12:Wi(q,X,_);break;case 13:Wi(q,X,_),_&&ne&4&&m1(q,X);break;case 22:X.memoizedState===null&&Wi(q,X,_),tu(X,X.return);break;case 30:break;default:Wi(q,X,_)}b=b.sibling}}function xg(f,b){var _=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),f=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(f=b.memoizedState.cachePool.pool),f!==_&&(f!=null&&f.refCount++,_!=null&&Uc(_))}function vg(f,b){f=null,b.alternate!==null&&(f=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==f&&(b.refCount++,f!=null&&Uc(f))}function Da(f,b,_,A){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)y1(f,b,_,A),b=b.sibling}function y1(f,b,_,A){var q=b.flags;switch(b.tag){case 0:case 11:case 15:Da(f,b,_,A),q&2048&&eu(9,b);break;case 1:Da(f,b,_,A);break;case 3:Da(f,b,_,A),q&2048&&(f=null,b.alternate!==null&&(f=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==f&&(b.refCount++,f!=null&&Uc(f)));break;case 12:if(q&2048){Da(f,b,_,A),f=b.stateNode;try{var X=b.memoizedProps,ne=X.id,oe=X.onPostCommit;typeof oe=="function"&&oe(ne,b.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(be){Vn(b,b.return,be)}}else Da(f,b,_,A);break;case 13:Da(f,b,_,A);break;case 23:break;case 22:X=b.stateNode,ne=b.alternate,b.memoizedState!==null?X._visibility&2?Da(f,b,_,A):nu(f,b):X._visibility&2?Da(f,b,_,A):(X._visibility|=2,Al(f,b,_,A,(b.subtreeFlags&10256)!==0)),q&2048&&xg(ne,b);break;case 24:Da(f,b,_,A),q&2048&&vg(b.alternate,b);break;default:Da(f,b,_,A)}}function Al(f,b,_,A,q){for(q=q&&(b.subtreeFlags&10256)!==0,b=b.child;b!==null;){var X=f,ne=b,oe=_,be=A,Re=ne.flags;switch(ne.tag){case 0:case 11:case 15:Al(X,ne,oe,be,q),eu(8,ne);break;case 23:break;case 22:var $e=ne.stateNode;ne.memoizedState!==null?$e._visibility&2?Al(X,ne,oe,be,q):nu(X,ne):($e._visibility|=2,Al(X,ne,oe,be,q)),q&&Re&2048&&xg(ne.alternate,ne);break;case 24:Al(X,ne,oe,be,q),q&&Re&2048&&vg(ne.alternate,ne);break;default:Al(X,ne,oe,be,q)}b=b.sibling}}function nu(f,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var _=f,A=b,q=A.flags;switch(A.tag){case 22:nu(_,A),q&2048&&xg(A.alternate,A);break;case 24:nu(_,A),q&2048&&vg(A.alternate,A);break;default:nu(_,A)}b=b.sibling}}var ru=8192;function Ml(f){if(f.subtreeFlags&ru)for(f=f.child;f!==null;)x1(f),f=f.sibling}function x1(f){switch(f.tag){case 26:Ml(f),f.flags&ru&&f.memoizedState!==null&&x8(ua,f.memoizedState,f.memoizedProps);break;case 5:Ml(f);break;case 3:case 4:var b=ua;ua=Tf(f.stateNode.containerInfo),Ml(f),ua=b;break;case 22:f.memoizedState===null&&(b=f.alternate,b!==null&&b.memoizedState!==null?(b=ru,ru=16777216,Ml(f),ru=b):Ml(f));break;default:Ml(f)}}function v1(f){var b=f.alternate;if(b!==null&&(f=b.child,f!==null)){b.child=null;do b=f.sibling,f.sibling=null,f=b;while(f!==null)}}function su(f){var b=f.deletions;if((f.flags&16)!==0){if(b!==null)for(var _=0;_<b.length;_++){var A=b[_];$r=A,j1(A,f)}v1(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)w1(f),f=f.sibling}function w1(f){switch(f.tag){case 0:case 11:case 15:su(f),f.flags&2048&&Vi(9,f,f.return);break;case 3:su(f);break;case 12:su(f);break;case 22:var b=f.stateNode;f.memoizedState!==null&&b._visibility&2&&(f.return===null||f.return.tag!==13)?(b._visibility&=-3,yf(f)):su(f);break;default:su(f)}}function yf(f){var b=f.deletions;if((f.flags&16)!==0){if(b!==null)for(var _=0;_<b.length;_++){var A=b[_];$r=A,j1(A,f)}v1(f)}for(f=f.child;f!==null;){switch(b=f,b.tag){case 0:case 11:case 15:Vi(8,b,b.return),yf(b);break;case 22:_=b.stateNode,_._visibility&2&&(_._visibility&=-3,yf(b));break;default:yf(b)}f=f.sibling}}function j1(f,b){for(;$r!==null;){var _=$r;switch(_.tag){case 0:case 11:case 15:Vi(8,_,b);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var A=_.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:Uc(_.memoizedState.cache)}if(A=_.child,A!==null)A.return=_,$r=A;else e:for(_=f;$r!==null;){A=$r;var q=A.sibling,X=A.return;if(h1(A),A===_){$r=null;break e}if(q!==null){q.return=X,$r=q;break e}$r=X}}}var IN={getCacheForType:function(f){var b=es(Rr),_=b.data.get(f);return _===void 0&&(_=f(),b.data.set(f,_)),_}},PN=typeof WeakMap=="function"?WeakMap:Map,Dn=0,Gn=null,Sn=null,Cn=0,In=0,As=null,Gi=!1,Ol=!1,wg=!1,mi=0,or=0,Yi=0,qo=0,jg=0,Ks=0,Dl=0,au=null,xs=null,Sg=!1,_g=0,xf=1/0,vf=null,Xi=null,Gr=0,Ki=null,Il=null,Pl=0,Cg=0,Ng=null,S1=null,iu=0,kg=null;function Ms(){if((Dn&2)!==0&&Cn!==0)return Cn&-Cn;if(S.T!==null){var f=Sl;return f!==0?f:Dg()}return jn()}function _1(){Ks===0&&(Ks=(Cn&536870912)===0||Mn?rn():536870912);var f=Xs.current;return f!==null&&(f.flags|=32),Ks}function Os(f,b,_){(f===Gn&&(In===2||In===9)||f.cancelPendingCommit!==null)&&(Ll(f,0),Qi(f,Cn,Ks,!1)),Xt(f,_),((Dn&2)===0||f!==Gn)&&(f===Gn&&((Dn&2)===0&&(qo|=_),or===4&&Qi(f,Cn,Ks,!1)),Ia(f))}function C1(f,b,_){if((Dn&6)!==0)throw Error(s(327));var A=!_&&(b&124)===0&&(b&f.expiredLanes)===0||it(f,b),q=A?FN(f,b):Tg(f,b,!0),X=A;do{if(q===0){Ol&&!A&&Qi(f,b,0,!1);break}else{if(_=f.current.alternate,X&&!LN(_)){q=Tg(f,b,!1),X=!1;continue}if(q===2){if(X=b,f.errorRecoveryDisabledLanes&X)var ne=0;else ne=f.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){b=ne;e:{var oe=f;q=au;var be=oe.current.memoizedState.isDehydrated;if(be&&(Ll(oe,ne).flags|=256),ne=Tg(oe,ne,!1),ne!==2){if(wg&&!be){oe.errorRecoveryDisabledLanes|=X,qo|=X,q=4;break e}X=xs,xs=q,X!==null&&(xs===null?xs=X:xs.push.apply(xs,X))}q=ne}if(X=!1,q!==2)continue}}if(q===1){Ll(f,0),Qi(f,b,0,!0);break}e:{switch(A=f,X=q,X){case 0:case 1:throw Error(s(345));case 4:if((b&4194048)!==b)break;case 6:Qi(A,b,Ks,!Gi);break e;case 2:xs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((b&62914560)===b&&(q=_g+300-ie(),10<q)){if(Qi(A,b,Ks,!Gi),pt(A,0,!0)!==0)break e;A.timeoutHandle=ew(N1.bind(null,A,_,xs,vf,Sg,b,Ks,qo,Dl,Gi,X,2,-0,0),q);break e}N1(A,_,xs,vf,Sg,b,Ks,qo,Dl,Gi,X,0,-0,0)}}break}while(!0);Ia(f)}function N1(f,b,_,A,q,X,ne,oe,be,Re,$e,Ge,Me,Oe){if(f.timeoutHandle=-1,Ge=b.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(hu={stylesheets:null,count:0,unsuspend:y8},x1(b),Ge=v8(),Ge!==null)){f.cancelPendingCommit=Ge(O1.bind(null,f,b,X,_,A,q,ne,oe,be,$e,1,Me,Oe)),Qi(f,X,ne,!Re);return}O1(f,b,X,_,A,q,ne,oe,be)}function LN(f){for(var b=f;;){var _=b.tag;if((_===0||_===11||_===15)&&b.flags&16384&&(_=b.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var A=0;A<_.length;A++){var q=_[A],X=q.getSnapshot;q=q.value;try{if(!ks(X(),q))return!1}catch{return!1}}if(_=b.child,b.subtreeFlags&16384&&_!==null)_.return=b,b=_;else{if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Qi(f,b,_,A){b&=~jg,b&=~qo,f.suspendedLanes|=b,f.pingedLanes&=~b,A&&(f.warmLanes|=b),A=f.expirationTimes;for(var q=b;0<q;){var X=31-Je(q),ne=1<<X;A[X]=-1,q&=~ne}_!==0&&lt(f,_,b)}function wf(){return(Dn&6)===0?(ou(0),!1):!0}function Eg(){if(Sn!==null){if(In===0)var f=Sn.return;else f=Sn,oi=Lo=null,Hm(f),Rl=null,Qc=0,f=Sn;for(;f!==null;)a1(f.alternate,f),f=f.return;Sn=null}}function Ll(f,b){var _=f.timeoutHandle;_!==-1&&(f.timeoutHandle=-1,t8(_)),_=f.cancelPendingCommit,_!==null&&(f.cancelPendingCommit=null,_()),Eg(),Gn=f,Sn=_=si(f.current,null),Cn=b,In=0,As=null,Gi=!1,Ol=it(f,b),wg=!1,Dl=Ks=jg=qo=Yi=or=0,xs=au=null,Sg=!1,(b&8)!==0&&(b|=b&32);var A=f.entangledLanes;if(A!==0)for(f=f.entanglements,A&=b;0<A;){var q=31-Je(A),X=1<<q;b|=f[q],A&=~X}return mi=b,zd(),_}function k1(f,b){gn=null,S.H=lf,b===zc||b===Qd?(b=Vx(),In=3):b===$x?(b=Vx(),In=4):In=b===Hv?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,As=b,Sn===null&&(or=1,hf(f,Hs(b,f.current)))}function E1(){var f=S.H;return S.H=lf,f===null?lf:f}function R1(){var f=S.A;return S.A=IN,f}function Rg(){or=4,Gi||(Cn&4194048)!==Cn&&Xs.current!==null||(Ol=!0),(Yi&134217727)===0&&(qo&134217727)===0||Gn===null||Qi(Gn,Cn,Ks,!1)}function Tg(f,b,_){var A=Dn;Dn|=2;var q=E1(),X=R1();(Gn!==f||Cn!==b)&&(vf=null,Ll(f,b)),b=!1;var ne=or;e:do try{if(In!==0&&Sn!==null){var oe=Sn,be=As;switch(In){case 8:Eg(),ne=6;break e;case 3:case 2:case 9:case 6:Xs.current===null&&(b=!0);var Re=In;if(In=0,As=null,Bl(f,oe,be,Re),_&&Ol){ne=0;break e}break;default:Re=In,In=0,As=null,Bl(f,oe,be,Re)}}BN(),ne=or;break}catch($e){k1(f,$e)}while(!0);return b&&f.shellSuspendCounter++,oi=Lo=null,Dn=A,S.H=q,S.A=X,Sn===null&&(Gn=null,Cn=0,zd()),ne}function BN(){for(;Sn!==null;)T1(Sn)}function FN(f,b){var _=Dn;Dn|=2;var A=E1(),q=R1();Gn!==f||Cn!==b?(vf=null,xf=ie()+500,Ll(f,b)):Ol=it(f,b);e:do try{if(In!==0&&Sn!==null){b=Sn;var X=As;t:switch(In){case 1:In=0,As=null,Bl(f,b,X,1);break;case 2:case 9:if(zx(X)){In=0,As=null,A1(b);break}b=function(){In!==2&&In!==9||Gn!==f||(In=7),Ia(f)},X.then(b,b);break e;case 3:In=7;break e;case 4:In=5;break e;case 7:zx(X)?(In=0,As=null,A1(b)):(In=0,As=null,Bl(f,b,X,7));break;case 5:var ne=null;switch(Sn.tag){case 26:ne=Sn.memoizedState;case 5:case 27:var oe=Sn;if(!ne||fw(ne)){In=0,As=null;var be=oe.sibling;if(be!==null)Sn=be;else{var Re=oe.return;Re!==null?(Sn=Re,jf(Re)):Sn=null}break t}}In=0,As=null,Bl(f,b,X,5);break;case 6:In=0,As=null,Bl(f,b,X,6);break;case 8:Eg(),or=6;break e;default:throw Error(s(462))}}UN();break}catch($e){k1(f,$e)}while(!0);return oi=Lo=null,S.H=A,S.A=q,Dn=_,Sn!==null?0:(Gn=null,Cn=0,zd(),or)}function UN(){for(;Sn!==null&&!we();)T1(Sn)}function T1(f){var b=r1(f.alternate,f,mi);f.memoizedProps=f.pendingProps,b===null?jf(f):Sn=b}function A1(f){var b=f,_=b.alternate;switch(b.tag){case 15:case 0:b=Qv(_,b,b.pendingProps,b.type,void 0,Cn);break;case 11:b=Qv(_,b,b.pendingProps,b.type.render,b.ref,Cn);break;case 5:Hm(b);default:a1(_,b),b=Sn=Mx(b,mi),b=r1(_,b,mi)}f.memoizedProps=f.pendingProps,b===null?jf(f):Sn=b}function Bl(f,b,_,A){oi=Lo=null,Hm(b),Rl=null,Qc=0;var q=b.return;try{if(RN(f,q,b,_,Cn)){or=1,hf(f,Hs(_,f.current)),Sn=null;return}}catch(X){if(q!==null)throw Sn=q,X;or=1,hf(f,Hs(_,f.current)),Sn=null;return}b.flags&32768?(Mn||A===1?f=!0:Ol||(Cn&536870912)!==0?f=!1:(Gi=f=!0,(A===2||A===9||A===3||A===6)&&(A=Xs.current,A!==null&&A.tag===13&&(A.flags|=16384))),M1(b,f)):jf(b)}function jf(f){var b=f;do{if((b.flags&32768)!==0){M1(b,Gi);return}f=b.return;var _=AN(b.alternate,b,mi);if(_!==null){Sn=_;return}if(b=b.sibling,b!==null){Sn=b;return}Sn=b=f}while(b!==null);or===0&&(or=5)}function M1(f,b){do{var _=MN(f.alternate,f);if(_!==null){_.flags&=32767,Sn=_;return}if(_=f.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!b&&(f=f.sibling,f!==null)){Sn=f;return}Sn=f=_}while(f!==null);or=6,Sn=null}function O1(f,b,_,A,q,X,ne,oe,be){f.cancelPendingCommit=null;do Sf();while(Gr!==0);if((Dn&6)!==0)throw Error(s(327));if(b!==null){if(b===f.current)throw Error(s(177));if(X=b.lanes|b.childLanes,X|=vm,Ut(f,_,X,ne,oe,be),f===Gn&&(Sn=Gn=null,Cn=0),Il=b,Ki=f,Pl=_,Cg=X,Ng=q,S1=A,(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,VN(le,function(){return B1(),null})):(f.callbackNode=null,f.callbackPriority=0),A=(b.flags&13878)!==0,(b.subtreeFlags&13878)!==0||A){A=S.T,S.T=null,q=C.p,C.p=2,ne=Dn,Dn|=4;try{ON(f,b,_)}finally{Dn=ne,C.p=q,S.T=A}}Gr=1,D1(),I1(),P1()}}function D1(){if(Gr===1){Gr=0;var f=Ki,b=Il,_=(b.flags&13878)!==0;if((b.subtreeFlags&13878)!==0||_){_=S.T,S.T=null;var A=C.p;C.p=2;var q=Dn;Dn|=4;try{g1(b,f);var X=zg,ne=jx(f.containerInfo),oe=X.focusedElem,be=X.selectionRange;if(ne!==oe&&oe&&oe.ownerDocument&&wx(oe.ownerDocument.documentElement,oe)){if(be!==null&&mm(oe)){var Re=be.start,$e=be.end;if($e===void 0&&($e=Re),"selectionStart"in oe)oe.selectionStart=Re,oe.selectionEnd=Math.min($e,oe.value.length);else{var Ge=oe.ownerDocument||document,Me=Ge&&Ge.defaultView||window;if(Me.getSelection){var Oe=Me.getSelection(),Yt=oe.textContent.length,qt=Math.min(be.start,Yt),Un=be.end===void 0?qt:Math.min(be.end,Yt);!Oe.extend&&qt>Un&&(ne=Un,Un=qt,qt=ne);var Ce=vx(oe,qt),Se=vx(oe,Un);if(Ce&&Se&&(Oe.rangeCount!==1||Oe.anchorNode!==Ce.node||Oe.anchorOffset!==Ce.offset||Oe.focusNode!==Se.node||Oe.focusOffset!==Se.offset)){var Ee=Ge.createRange();Ee.setStart(Ce.node,Ce.offset),Oe.removeAllRanges(),qt>Un?(Oe.addRange(Ee),Oe.extend(Se.node,Se.offset)):(Ee.setEnd(Se.node,Se.offset),Oe.addRange(Ee))}}}}for(Ge=[],Oe=oe;Oe=Oe.parentNode;)Oe.nodeType===1&&Ge.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<Ge.length;oe++){var Ve=Ge[oe];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}If=!!$g,zg=$g=null}finally{Dn=q,C.p=A,S.T=_}}f.current=b,Gr=2}}function I1(){if(Gr===2){Gr=0;var f=Ki,b=Il,_=(b.flags&8772)!==0;if((b.subtreeFlags&8772)!==0||_){_=S.T,S.T=null;var A=C.p;C.p=2;var q=Dn;Dn|=4;try{f1(f,b.alternate,b)}finally{Dn=q,C.p=A,S.T=_}}Gr=3}}function P1(){if(Gr===4||Gr===3){Gr=0,ve();var f=Ki,b=Il,_=Pl,A=S1;(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?Gr=5:(Gr=0,Il=Ki=null,L1(f,f.pendingLanes));var q=f.pendingLanes;if(q===0&&(Xi=null),Bt(_),b=b.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(De,b,void 0,(b.current.flags&128)===128)}catch{}if(A!==null){b=S.T,q=C.p,C.p=2,S.T=null;try{for(var X=f.onRecoverableError,ne=0;ne<A.length;ne++){var oe=A[ne];X(oe.value,{componentStack:oe.stack})}}finally{S.T=b,C.p=q}}(Pl&3)!==0&&Sf(),Ia(f),q=f.pendingLanes,(_&4194090)!==0&&(q&42)!==0?f===kg?iu++:(iu=0,kg=f):iu=0,ou(0)}}function L1(f,b){(f.pooledCacheLanes&=b)===0&&(b=f.pooledCache,b!=null&&(f.pooledCache=null,Uc(b)))}function Sf(f){return D1(),I1(),P1(),B1()}function B1(){if(Gr!==5)return!1;var f=Ki,b=Cg;Cg=0;var _=Bt(Pl),A=S.T,q=C.p;try{C.p=32>_?32:_,S.T=null,_=Ng,Ng=null;var X=Ki,ne=Pl;if(Gr=0,Il=Ki=null,Pl=0,(Dn&6)!==0)throw Error(s(331));var oe=Dn;if(Dn|=4,w1(X.current),y1(X,X.current,ne,_),Dn=oe,ou(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(De,X)}catch{}return!0}finally{C.p=q,S.T=A,L1(f,b)}}function F1(f,b,_){b=Hs(_,b),b=ag(f.stateNode,b,2),f=Ui(f,b,2),f!==null&&(Xt(f,2),Ia(f))}function Vn(f,b,_){if(f.tag===3)F1(f,f,_);else for(;b!==null;){if(b.tag===3){F1(b,f,_);break}else if(b.tag===1){var A=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Xi===null||!Xi.has(A))){f=Hs(_,f),_=qv(2),A=Ui(b,_,2),A!==null&&(Vv(_,A,b,f),Xt(A,2),Ia(A));break}}b=b.return}}function Ag(f,b,_){var A=f.pingCache;if(A===null){A=f.pingCache=new PN;var q=new Set;A.set(b,q)}else q=A.get(b),q===void 0&&(q=new Set,A.set(b,q));q.has(_)||(wg=!0,q.add(_),f=$N.bind(null,f,b,_),b.then(f,f))}function $N(f,b,_){var A=f.pingCache;A!==null&&A.delete(b),f.pingedLanes|=f.suspendedLanes&_,f.warmLanes&=~_,Gn===f&&(Cn&_)===_&&(or===4||or===3&&(Cn&62914560)===Cn&&300>ie()-_g?(Dn&2)===0&&Ll(f,0):jg|=_,Dl===Cn&&(Dl=0)),Ia(f)}function U1(f,b){b===0&&(b=Ct()),f=xl(f,b),f!==null&&(Xt(f,b),Ia(f))}function zN(f){var b=f.memoizedState,_=0;b!==null&&(_=b.retryLane),U1(f,_)}function qN(f,b){var _=0;switch(f.tag){case 13:var A=f.stateNode,q=f.memoizedState;q!==null&&(_=q.retryLane);break;case 19:A=f.stateNode;break;case 22:A=f.stateNode._retryCache;break;default:throw Error(s(314))}A!==null&&A.delete(b),U1(f,_)}function VN(f,b){return se(f,b)}var _f=null,Fl=null,Mg=!1,Cf=!1,Og=!1,Vo=0;function Ia(f){f!==Fl&&f.next===null&&(Fl===null?_f=Fl=f:Fl=Fl.next=f),Cf=!0,Mg||(Mg=!0,WN())}function ou(f,b){if(!Og&&Cf){Og=!0;do for(var _=!1,A=_f;A!==null;){if(f!==0){var q=A.pendingLanes;if(q===0)var X=0;else{var ne=A.suspendedLanes,oe=A.pingedLanes;X=(1<<31-Je(42|f)+1)-1,X&=q&~(ne&~oe),X=X&201326741?X&201326741|1:X?X|2:0}X!==0&&(_=!0,V1(A,X))}else X=Cn,X=pt(A,A===Gn?X:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(X&3)===0||it(A,X)||(_=!0,V1(A,X));A=A.next}while(_);Og=!1}}function HN(){$1()}function $1(){Cf=Mg=!1;var f=0;Vo!==0&&(e8()&&(f=Vo),Vo=0);for(var b=ie(),_=null,A=_f;A!==null;){var q=A.next,X=z1(A,b);X===0?(A.next=null,_===null?_f=q:_.next=q,q===null&&(Fl=_)):(_=A,(f!==0||(X&3)!==0)&&(Cf=!0)),A=q}ou(f)}function z1(f,b){for(var _=f.suspendedLanes,A=f.pingedLanes,q=f.expirationTimes,X=f.pendingLanes&-62914561;0<X;){var ne=31-Je(X),oe=1<<ne,be=q[ne];be===-1?((oe&_)===0||(oe&A)!==0)&&(q[ne]=Kt(oe,b)):be<=b&&(f.expiredLanes|=oe),X&=~oe}if(b=Gn,_=Cn,_=pt(f,f===b?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),A=f.callbackNode,_===0||f===b&&(In===2||In===9)||f.cancelPendingCommit!==null)return A!==null&&A!==null&&de(A),f.callbackNode=null,f.callbackPriority=0;if((_&3)===0||it(f,_)){if(b=_&-_,b===f.callbackPriority)return b;switch(A!==null&&de(A),Bt(_)){case 2:case 8:_=ae;break;case 32:_=le;break;case 268435456:_=xe;break;default:_=le}return A=q1.bind(null,f),_=se(_,A),f.callbackPriority=b,f.callbackNode=_,b}return A!==null&&A!==null&&de(A),f.callbackPriority=2,f.callbackNode=null,2}function q1(f,b){if(Gr!==0&&Gr!==5)return f.callbackNode=null,f.callbackPriority=0,null;var _=f.callbackNode;if(Sf()&&f.callbackNode!==_)return null;var A=Cn;return A=pt(f,f===Gn?A:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),A===0?null:(C1(f,A,b),z1(f,ie()),f.callbackNode!=null&&f.callbackNode===_?q1.bind(null,f):null)}function V1(f,b){if(Sf())return null;C1(f,b,!0)}function WN(){n8(function(){(Dn&6)!==0?se(me,HN):$1()})}function Dg(){return Vo===0&&(Vo=rn()),Vo}function H1(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:No(""+f)}function W1(f,b){var _=b.ownerDocument.createElement("input");return _.name=b.name,_.value=b.value,f.id&&_.setAttribute("form",f.id),b.parentNode.insertBefore(_,b),f=new FormData(f),_.parentNode.removeChild(_),f}function GN(f,b,_,A,q){if(b==="submit"&&_&&_.stateNode===q){var X=H1((q[ht]||null).action),ne=A.submitter;ne&&(b=(b=ne[ht]||null)?H1(b.formAction):ne.getAttribute("formAction"),b!==null&&(X=b,ne=null));var oe=new Fd("action","action",null,A,q);f.push({event:oe,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(Vo!==0){var be=ne?W1(q,ne):new FormData(q);eg(_,{pending:!0,data:be,method:q.method,action:X},null,be)}}else typeof X=="function"&&(oe.preventDefault(),be=ne?W1(q,ne):new FormData(q),eg(_,{pending:!0,data:be,method:q.method,action:X},X,be))},currentTarget:q}]})}}for(var Ig=0;Ig<xm.length;Ig++){var Pg=xm[Ig],YN=Pg.toLowerCase(),XN=Pg[0].toUpperCase()+Pg.slice(1);ca(YN,"on"+XN)}ca(Cx,"onAnimationEnd"),ca(Nx,"onAnimationIteration"),ca(kx,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(fN,"onTransitionRun"),ca(hN,"onTransitionStart"),ca(pN,"onTransitionCancel"),ca(Ex,"onTransitionEnd"),Hn("onMouseEnter",["mouseout","mouseover"]),Hn("onMouseLeave",["mouseout","mouseover"]),Hn("onPointerEnter",["pointerout","pointerover"]),Hn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function G1(f,b){b=(b&4)!==0;for(var _=0;_<f.length;_++){var A=f[_],q=A.event;A=A.listeners;e:{var X=void 0;if(b)for(var ne=A.length-1;0<=ne;ne--){var oe=A[ne],be=oe.instance,Re=oe.currentTarget;if(oe=oe.listener,be!==X&&q.isPropagationStopped())break e;X=oe,q.currentTarget=Re;try{X(q)}catch($e){ff($e)}q.currentTarget=null,X=be}else for(ne=0;ne<A.length;ne++){if(oe=A[ne],be=oe.instance,Re=oe.currentTarget,oe=oe.listener,be!==X&&q.isPropagationStopped())break e;X=oe,q.currentTarget=Re;try{X(q)}catch($e){ff($e)}q.currentTarget=null,X=be}}}}function _n(f,b){var _=b[Ne];_===void 0&&(_=b[Ne]=new Set);var A=f+"__bubble";_.has(A)||(Y1(b,f,2,!1),_.add(A))}function Lg(f,b,_){var A=0;b&&(A|=4),Y1(_,f,A,b)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Bg(f){if(!f[Nf]){f[Nf]=!0,Xn.forEach(function(_){_!=="selectionchange"&&(KN.has(_)||Lg(_,!1,f),Lg(_,!0,f))});var b=f.nodeType===9?f:f.ownerDocument;b===null||b[Nf]||(b[Nf]=!0,Lg("selectionchange",!1,b))}}function Y1(f,b,_,A){switch(yw(b)){case 2:var q=S8;break;case 8:q=_8;break;default:q=Zg}_=q.bind(null,b,_,f),q=void 0,!im||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(q=!0),A?q!==void 0?f.addEventListener(b,_,{capture:!0,passive:q}):f.addEventListener(b,_,!0):q!==void 0?f.addEventListener(b,_,{passive:q}):f.addEventListener(b,_,!1)}function Fg(f,b,_,A,q){var X=A;if((b&1)===0&&(b&2)===0&&A!==null)e:for(;;){if(A===null)return;var ne=A.tag;if(ne===3||ne===4){var oe=A.stateNode.containerInfo;if(oe===q)break;if(ne===4)for(ne=A.return;ne!==null;){var be=ne.tag;if((be===3||be===4)&&ne.stateNode.containerInfo===q)return;ne=ne.return}for(;oe!==null;){if(ne=Nt(oe),ne===null)return;if(be=ne.tag,be===5||be===6||be===26||be===27){A=X=ne;continue e}oe=oe.parentNode}}A=A.return}Eo(function(){var Re=X,$e=ko(_),Ge=[];e:{var Me=Rx.get(f);if(Me!==void 0){var Oe=Fd,Yt=f;switch(f){case"keypress":if(Ld(_)===0)break e;case"keydown":case"keyup":Oe=VC;break;case"focusin":Yt="focus",Oe=um;break;case"focusout":Yt="blur",Oe=um;break;case"beforeblur":case"afterblur":Oe=um;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=sx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=MC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=GC;break;case Cx:case Nx:case kx:Oe=IC;break;case Ex:Oe=XC;break;case"scroll":case"scrollend":Oe=TC;break;case"wheel":Oe=QC;break;case"copy":case"cut":case"paste":Oe=LC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=ix;break;case"toggle":case"beforetoggle":Oe=JC}var qt=(b&4)!==0,Un=!qt&&(f==="scroll"||f==="scrollend"),Ce=qt?Me!==null?Me+"Capture":null:Me;qt=[];for(var Se=Re,Ee;Se!==null;){var Ve=Se;if(Ee=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Ee===null||Ce===null||(Ve=kc(Se,Ce),Ve!=null&&qt.push(cu(Se,Ve,Ee))),Un)break;Se=Se.return}0<qt.length&&(Me=new Oe(Me,Yt,null,_,$e),Ge.push({event:Me,listeners:qt}))}}if((b&7)===0){e:{if(Me=f==="mouseover"||f==="pointerover",Oe=f==="mouseout"||f==="pointerout",Me&&_!==Di&&(Yt=_.relatedTarget||_.fromElement)&&(Nt(Yt)||Yt[ye]))break e;if((Oe||Me)&&(Me=$e.window===$e?$e:(Me=$e.ownerDocument)?Me.defaultView||Me.parentWindow:window,Oe?(Yt=_.relatedTarget||_.toElement,Oe=Re,Yt=Yt?Nt(Yt):null,Yt!==null&&(Un=o(Yt),qt=Yt.tag,Yt!==Un||qt!==5&&qt!==27&&qt!==6)&&(Yt=null)):(Oe=null,Yt=Re),Oe!==Yt)){if(qt=sx,Ve="onMouseLeave",Ce="onMouseEnter",Se="mouse",(f==="pointerout"||f==="pointerover")&&(qt=ix,Ve="onPointerLeave",Ce="onPointerEnter",Se="pointer"),Un=Oe==null?Me:$t(Oe),Ee=Yt==null?Me:$t(Yt),Me=new qt(Ve,Se+"leave",Oe,_,$e),Me.target=Un,Me.relatedTarget=Ee,Ve=null,Nt($e)===Re&&(qt=new qt(Ce,Se+"enter",Yt,_,$e),qt.target=Ee,qt.relatedTarget=Un,Ve=qt),Un=Ve,Oe&&Yt)t:{for(qt=Oe,Ce=Yt,Se=0,Ee=qt;Ee;Ee=Ul(Ee))Se++;for(Ee=0,Ve=Ce;Ve;Ve=Ul(Ve))Ee++;for(;0<Se-Ee;)qt=Ul(qt),Se--;for(;0<Ee-Se;)Ce=Ul(Ce),Ee--;for(;Se--;){if(qt===Ce||Ce!==null&&qt===Ce.alternate)break t;qt=Ul(qt),Ce=Ul(Ce)}qt=null}else qt=null;Oe!==null&&X1(Ge,Me,Oe,qt,!1),Yt!==null&&Un!==null&&X1(Ge,Un,Yt,qt,!0)}}e:{if(Me=Re?$t(Re):window,Oe=Me.nodeName&&Me.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&Me.type==="file")var wt=px;else if(fx(Me))if(mx)wt=cN;else{wt=oN;var wn=iN}else Oe=Me.nodeName,!Oe||Oe.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Re&&Mi(Re.elementType)&&(wt=px):wt=lN;if(wt&&(wt=wt(f,Re))){hx(Ge,wt,_,$e);break e}wn&&wn(f,Me,Re),f==="focusout"&&Re&&Me.type==="number"&&Re.memoizedProps.value!=null&&vn(Me,"number",Me.value)}switch(wn=Re?$t(Re):window,f){case"focusin":(fx(wn)||wn.contentEditable==="true")&&(gl=wn,gm=Re,Ic=null);break;case"focusout":Ic=gm=gl=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,Sx(Ge,_,$e);break;case"selectionchange":if(dN)break;case"keydown":case"keyup":Sx(Ge,_,$e)}var Tt;if(fm)e:{switch(f){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else ml?ux(f,_)&&(Vt="onCompositionEnd"):f==="keydown"&&_.keyCode===229&&(Vt="onCompositionStart");Vt&&(ox&&_.locale!=="ko"&&(ml||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ml&&(Tt=nx()):(Pi=$e,om="value"in Pi?Pi.value:Pi.textContent,ml=!0)),wn=kf(Re,Vt),0<wn.length&&(Vt=new ax(Vt,f,null,_,$e),Ge.push({event:Vt,listeners:wn}),Tt?Vt.data=Tt:(Tt=dx(_),Tt!==null&&(Vt.data=Tt)))),(Tt=tN?nN(f,_):rN(f,_))&&(Vt=kf(Re,"onBeforeInput"),0<Vt.length&&(wn=new ax("onBeforeInput","beforeinput",null,_,$e),Ge.push({event:wn,listeners:Vt}),wn.data=Tt)),GN(Ge,f,Re,_,$e)}G1(Ge,b)})}function cu(f,b,_){return{instance:f,listener:b,currentTarget:_}}function kf(f,b){for(var _=b+"Capture",A=[];f!==null;){var q=f,X=q.stateNode;if(q=q.tag,q!==5&&q!==26&&q!==27||X===null||(q=kc(f,_),q!=null&&A.unshift(cu(f,q,X)),q=kc(f,b),q!=null&&A.push(cu(f,q,X))),f.tag===3)return A;f=f.return}return[]}function Ul(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function X1(f,b,_,A,q){for(var X=b._reactName,ne=[];_!==null&&_!==A;){var oe=_,be=oe.alternate,Re=oe.stateNode;if(oe=oe.tag,be!==null&&be===A)break;oe!==5&&oe!==26&&oe!==27||Re===null||(be=Re,q?(Re=kc(_,X),Re!=null&&ne.unshift(cu(_,Re,be))):q||(Re=kc(_,X),Re!=null&&ne.push(cu(_,Re,be)))),_=_.return}ne.length!==0&&f.push({event:b,listeners:ne})}var QN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function K1(f){return(typeof f=="string"?f:""+f).replace(QN,`
`).replace(ZN,"")}function Q1(f,b){return b=K1(b),K1(f)===b}function Ef(){}function Fn(f,b,_,A,q,X){switch(_){case"children":typeof A=="string"?b==="body"||b==="textarea"&&A===""||vr(f,A):(typeof A=="number"||typeof A=="bigint")&&b!=="body"&&vr(f,""+A);break;case"className":xt(f,"class",A);break;case"tabIndex":xt(f,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":xt(f,_,A);break;case"style":Ai(f,A,X);break;case"data":if(b!=="object"){xt(f,"data",A);break}case"src":case"href":if(A===""&&(b!=="a"||_!=="href")){f.removeAttribute(_);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){f.removeAttribute(_);break}A=No(""+A),f.setAttribute(_,A);break;case"action":case"formAction":if(typeof A=="function"){f.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof X=="function"&&(_==="formAction"?(b!=="input"&&Fn(f,b,"name",q.name,q,null),Fn(f,b,"formEncType",q.formEncType,q,null),Fn(f,b,"formMethod",q.formMethod,q,null),Fn(f,b,"formTarget",q.formTarget,q,null)):(Fn(f,b,"encType",q.encType,q,null),Fn(f,b,"method",q.method,q,null),Fn(f,b,"target",q.target,q,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){f.removeAttribute(_);break}A=No(""+A),f.setAttribute(_,A);break;case"onClick":A!=null&&(f.onclick=Ef);break;case"onScroll":A!=null&&_n("scroll",f);break;case"onScrollEnd":A!=null&&_n("scrollend",f);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(s(61));if(_=A.__html,_!=null){if(q.children!=null)throw Error(s(60));f.innerHTML=_}}break;case"multiple":f.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":f.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){f.removeAttribute("xlink:href");break}_=No(""+A),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?f.setAttribute(_,""+A):f.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?f.setAttribute(_,""):f.removeAttribute(_);break;case"capture":case"download":A===!0?f.setAttribute(_,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?f.setAttribute(_,A):f.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?f.setAttribute(_,A):f.removeAttribute(_);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?f.removeAttribute(_):f.setAttribute(_,A);break;case"popover":_n("beforetoggle",f),_n("toggle",f),Xe(f,"popover",A);break;case"xlinkActuate":Qe(f,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":Qe(f,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":Qe(f,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":Qe(f,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":Qe(f,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":Qe(f,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":Qe(f,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":Qe(f,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":Qe(f,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Xe(f,"is",A);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=Oi.get(_)||_,Xe(f,_,A))}}function Ug(f,b,_,A,q,X){switch(_){case"style":Ai(f,A,X);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(s(61));if(_=A.__html,_!=null){if(q.children!=null)throw Error(s(60));f.innerHTML=_}}break;case"children":typeof A=="string"?vr(f,A):(typeof A=="number"||typeof A=="bigint")&&vr(f,""+A);break;case"onScroll":A!=null&&_n("scroll",f);break;case"onScrollEnd":A!=null&&_n("scrollend",f);break;case"onClick":A!=null&&(f.onclick=Ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!On.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(q=_.endsWith("Capture"),b=_.slice(2,q?_.length-7:void 0),X=f[ht]||null,X=X!=null?X[_]:null,typeof X=="function"&&f.removeEventListener(b,X,q),typeof A=="function")){typeof X!="function"&&X!==null&&(_ in f?f[_]=null:f.hasAttribute(_)&&f.removeAttribute(_)),f.addEventListener(b,A,q);break e}_ in f?f[_]=A:A===!0?f.setAttribute(_,""):Xe(f,_,A)}}}function Yr(f,b,_){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",f),_n("load",f);var A=!1,q=!1,X;for(X in _)if(_.hasOwnProperty(X)){var ne=_[X];if(ne!=null)switch(X){case"src":A=!0;break;case"srcSet":q=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,b));default:Fn(f,b,X,ne,_,null)}}q&&Fn(f,b,"srcSet",_.srcSet,_,null),A&&Fn(f,b,"src",_.src,_,null);return;case"input":_n("invalid",f);var oe=X=ne=q=null,be=null,Re=null;for(A in _)if(_.hasOwnProperty(A)){var $e=_[A];if($e!=null)switch(A){case"name":q=$e;break;case"type":ne=$e;break;case"checked":be=$e;break;case"defaultChecked":Re=$e;break;case"value":X=$e;break;case"defaultValue":oe=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(s(137,b));break;default:Fn(f,b,A,$e,_,null)}}kn(f,X,oe,be,Re,ne,q,!1),xr(f);return;case"select":_n("invalid",f),A=ne=X=null;for(q in _)if(_.hasOwnProperty(q)&&(oe=_[q],oe!=null))switch(q){case"value":X=oe;break;case"defaultValue":ne=oe;break;case"multiple":A=oe;default:Fn(f,b,q,oe,_,null)}b=X,_=ne,f.multiple=!!A,b!=null?as(f,!!A,b,!1):_!=null&&as(f,!!A,_,!0);return;case"textarea":_n("invalid",f),X=q=A=null;for(ne in _)if(_.hasOwnProperty(ne)&&(oe=_[ne],oe!=null))switch(ne){case"value":A=oe;break;case"defaultValue":q=oe;break;case"children":X=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(91));break;default:Fn(f,b,ne,oe,_,null)}Co(f,A,q,X),xr(f);return;case"option":for(be in _)if(_.hasOwnProperty(be)&&(A=_[be],A!=null))switch(be){case"selected":f.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Fn(f,b,be,A,_,null)}return;case"dialog":_n("beforetoggle",f),_n("toggle",f),_n("cancel",f),_n("close",f);break;case"iframe":case"object":_n("load",f);break;case"video":case"audio":for(A=0;A<lu.length;A++)_n(lu[A],f);break;case"image":_n("error",f),_n("load",f);break;case"details":_n("toggle",f);break;case"embed":case"source":case"link":_n("error",f),_n("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in _)if(_.hasOwnProperty(Re)&&(A=_[Re],A!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,b));default:Fn(f,b,Re,A,_,null)}return;default:if(Mi(b)){for($e in _)_.hasOwnProperty($e)&&(A=_[$e],A!==void 0&&Ug(f,b,$e,A,_,void 0));return}}for(oe in _)_.hasOwnProperty(oe)&&(A=_[oe],A!=null&&Fn(f,b,oe,A,_,null))}function JN(f,b,_,A){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var q=null,X=null,ne=null,oe=null,be=null,Re=null,$e=null;for(Oe in _){var Ge=_[Oe];if(_.hasOwnProperty(Oe)&&Ge!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":be=Ge;default:A.hasOwnProperty(Oe)||Fn(f,b,Oe,null,A,Ge)}}for(var Me in A){var Oe=A[Me];if(Ge=_[Me],A.hasOwnProperty(Me)&&(Oe!=null||Ge!=null))switch(Me){case"type":X=Oe;break;case"name":q=Oe;break;case"checked":Re=Oe;break;case"defaultChecked":$e=Oe;break;case"value":ne=Oe;break;case"defaultValue":oe=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(s(137,b));break;default:Oe!==Ge&&Fn(f,b,Me,Oe,A,Ge)}}Ea(f,ne,oe,be,Re,$e,X,q);return;case"select":Oe=ne=oe=Me=null;for(X in _)if(be=_[X],_.hasOwnProperty(X)&&be!=null)switch(X){case"value":break;case"multiple":Oe=be;default:A.hasOwnProperty(X)||Fn(f,b,X,null,A,be)}for(q in A)if(X=A[q],be=_[q],A.hasOwnProperty(q)&&(X!=null||be!=null))switch(q){case"value":Me=X;break;case"defaultValue":oe=X;break;case"multiple":ne=X;default:X!==be&&Fn(f,b,q,X,A,be)}b=oe,_=ne,A=Oe,Me!=null?as(f,!!_,Me,!1):!!A!=!!_&&(b!=null?as(f,!!_,b,!0):as(f,!!_,_?[]:"",!1));return;case"textarea":Oe=Me=null;for(oe in _)if(q=_[oe],_.hasOwnProperty(oe)&&q!=null&&!A.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:Fn(f,b,oe,null,A,q)}for(ne in A)if(q=A[ne],X=_[ne],A.hasOwnProperty(ne)&&(q!=null||X!=null))switch(ne){case"value":Me=q;break;case"defaultValue":Oe=q;break;case"children":break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(91));break;default:q!==X&&Fn(f,b,ne,q,A,X)}Ra(f,Me,Oe);return;case"option":for(var Yt in _)if(Me=_[Yt],_.hasOwnProperty(Yt)&&Me!=null&&!A.hasOwnProperty(Yt))switch(Yt){case"selected":f.selected=!1;break;default:Fn(f,b,Yt,null,A,Me)}for(be in A)if(Me=A[be],Oe=_[be],A.hasOwnProperty(be)&&Me!==Oe&&(Me!=null||Oe!=null))switch(be){case"selected":f.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Fn(f,b,be,Me,A,Oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in _)Me=_[qt],_.hasOwnProperty(qt)&&Me!=null&&!A.hasOwnProperty(qt)&&Fn(f,b,qt,null,A,Me);for(Re in A)if(Me=A[Re],Oe=_[Re],A.hasOwnProperty(Re)&&Me!==Oe&&(Me!=null||Oe!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(s(137,b));break;default:Fn(f,b,Re,Me,A,Oe)}return;default:if(Mi(b)){for(var Un in _)Me=_[Un],_.hasOwnProperty(Un)&&Me!==void 0&&!A.hasOwnProperty(Un)&&Ug(f,b,Un,void 0,A,Me);for($e in A)Me=A[$e],Oe=_[$e],!A.hasOwnProperty($e)||Me===Oe||Me===void 0&&Oe===void 0||Ug(f,b,$e,Me,A,Oe);return}}for(var Ce in _)Me=_[Ce],_.hasOwnProperty(Ce)&&Me!=null&&!A.hasOwnProperty(Ce)&&Fn(f,b,Ce,null,A,Me);for(Ge in A)Me=A[Ge],Oe=_[Ge],!A.hasOwnProperty(Ge)||Me===Oe||Me==null&&Oe==null||Fn(f,b,Ge,Me,A,Oe)}var $g=null,zg=null;function Rf(f){return f.nodeType===9?f:f.ownerDocument}function Z1(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J1(f,b){if(f===0)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&b==="foreignObject"?0:f}function qg(f,b){return f==="textarea"||f==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.children=="bigint"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var Vg=null;function e8(){var f=window.event;return f&&f.type==="popstate"?f===Vg?!1:(Vg=f,!0):(Vg=null,!1)}var ew=typeof setTimeout=="function"?setTimeout:void 0,t8=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,n8=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(f){return tw.resolve(null).then(f).catch(r8)}:ew;function r8(f){setTimeout(function(){throw f})}function Zi(f){return f==="head"}function nw(f,b){var _=b,A=0,q=0;do{var X=_.nextSibling;if(f.removeChild(_),X&&X.nodeType===8)if(_=X.data,_==="/$"){if(0<A&&8>A){_=A;var ne=f.ownerDocument;if(_&1&&uu(ne.documentElement),_&2&&uu(ne.body),_&4)for(_=ne.head,uu(_),ne=_.firstChild;ne;){var oe=ne.nextSibling,be=ne.nodeName;ne[tt]||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&ne.rel.toLowerCase()==="stylesheet"||_.removeChild(ne),ne=oe}}if(q===0){f.removeChild(X),yu(b);return}q--}else _==="$"||_==="$?"||_==="$!"?q++:A=_.charCodeAt(0)-48;else A=0;_=X}while(_);yu(b)}function Hg(f){var b=f.firstChild;for(b&&b.nodeType===10&&(b=b.nextSibling);b;){var _=b;switch(b=b.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":Hg(_),Ft(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}f.removeChild(_)}}function s8(f,b,_,A){for(;f.nodeType===1;){var q=_;if(f.nodeName.toLowerCase()!==b.toLowerCase()){if(!A&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(A){if(!f[tt])switch(b){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(X=f.getAttribute("rel"),X==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(X!==q.rel||f.getAttribute("href")!==(q.href==null||q.href===""?null:q.href)||f.getAttribute("crossorigin")!==(q.crossOrigin==null?null:q.crossOrigin)||f.getAttribute("title")!==(q.title==null?null:q.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(X=f.getAttribute("src"),(X!==(q.src==null?null:q.src)||f.getAttribute("type")!==(q.type==null?null:q.type)||f.getAttribute("crossorigin")!==(q.crossOrigin==null?null:q.crossOrigin))&&X&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(b==="input"&&f.type==="hidden"){var X=q.name==null?null:""+q.name;if(q.type==="hidden"&&f.getAttribute("name")===X)return f}else return f;if(f=da(f.nextSibling),f===null)break}return null}function a8(f,b,_){if(b==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!_||(f=da(f.nextSibling),f===null))return null;return f}function Wg(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState==="complete"}function i8(f,b){var _=f.ownerDocument;if(f.data!=="$?"||_.readyState==="complete")b();else{var A=function(){b(),_.removeEventListener("DOMContentLoaded",A)};_.addEventListener("DOMContentLoaded",A),f._reactRetry=A}}function da(f){for(;f!=null;f=f.nextSibling){var b=f.nodeType;if(b===1||b===3)break;if(b===8){if(b=f.data,b==="$"||b==="$!"||b==="$?"||b==="F!"||b==="F")break;if(b==="/$")return null}}return f}var Gg=null;function rw(f){f=f.previousSibling;for(var b=0;f;){if(f.nodeType===8){var _=f.data;if(_==="$"||_==="$!"||_==="$?"){if(b===0)return f;b--}else _==="/$"&&b++}f=f.previousSibling}return null}function sw(f,b,_){switch(b=Rf(_),f){case"html":if(f=b.documentElement,!f)throw Error(s(452));return f;case"head":if(f=b.head,!f)throw Error(s(453));return f;case"body":if(f=b.body,!f)throw Error(s(454));return f;default:throw Error(s(451))}}function uu(f){for(var b=f.attributes;b.length;)f.removeAttributeNode(b[0]);Ft(f)}var Qs=new Map,aw=new Set;function Tf(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var gi=C.d;C.d={f:o8,r:l8,D:c8,C:u8,L:d8,m:f8,X:p8,S:h8,M:m8};function o8(){var f=gi.f(),b=wf();return f||b}function l8(f){var b=vt(f);b!==null&&b.tag===5&&b.type==="form"?Cv(b):gi.r(f)}var $l=typeof document>"u"?null:document;function iw(f,b,_){var A=$l;if(A&&typeof b=="string"&&b){var q=Er(b);q='link[rel="'+f+'"][href="'+q+'"]',typeof _=="string"&&(q+='[crossorigin="'+_+'"]'),aw.has(q)||(aw.add(q),f={rel:f,crossOrigin:_,href:b},A.querySelector(q)===null&&(b=A.createElement("link"),Yr(b,"link",f),Et(b),A.head.appendChild(b)))}}function c8(f){gi.D(f),iw("dns-prefetch",f,null)}function u8(f,b){gi.C(f,b),iw("preconnect",f,b)}function d8(f,b,_){gi.L(f,b,_);var A=$l;if(A&&f&&b){var q='link[rel="preload"][as="'+Er(b)+'"]';b==="image"&&_&&_.imageSrcSet?(q+='[imagesrcset="'+Er(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(q+='[imagesizes="'+Er(_.imageSizes)+'"]')):q+='[href="'+Er(f)+'"]';var X=q;switch(b){case"style":X=zl(f);break;case"script":X=ql(f)}Qs.has(X)||(f=u({rel:"preload",href:b==="image"&&_&&_.imageSrcSet?void 0:f,as:b},_),Qs.set(X,f),A.querySelector(q)!==null||b==="style"&&A.querySelector(du(X))||b==="script"&&A.querySelector(fu(X))||(b=A.createElement("link"),Yr(b,"link",f),Et(b),A.head.appendChild(b)))}}function f8(f,b){gi.m(f,b);var _=$l;if(_&&f){var A=b&&typeof b.as=="string"?b.as:"script",q='link[rel="modulepreload"][as="'+Er(A)+'"][href="'+Er(f)+'"]',X=q;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":X=ql(f)}if(!Qs.has(X)&&(f=u({rel:"modulepreload",href:f},b),Qs.set(X,f),_.querySelector(q)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(fu(X)))return}A=_.createElement("link"),Yr(A,"link",f),Et(A),_.head.appendChild(A)}}}function h8(f,b,_){gi.S(f,b,_);var A=$l;if(A&&f){var q=Pt(A).hoistableStyles,X=zl(f);b=b||"default";var ne=q.get(X);if(!ne){var oe={loading:0,preload:null};if(ne=A.querySelector(du(X)))oe.loading=5;else{f=u({rel:"stylesheet",href:f,"data-precedence":b},_),(_=Qs.get(X))&&Yg(f,_);var be=ne=A.createElement("link");Et(be),Yr(be,"link",f),be._p=new Promise(function(Re,$e){be.onload=Re,be.onerror=$e}),be.addEventListener("load",function(){oe.loading|=1}),be.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,Af(ne,b,A)}ne={type:"stylesheet",instance:ne,count:1,state:oe},q.set(X,ne)}}}function p8(f,b){gi.X(f,b);var _=$l;if(_&&f){var A=Pt(_).hoistableScripts,q=ql(f),X=A.get(q);X||(X=_.querySelector(fu(q)),X||(f=u({src:f,async:!0},b),(b=Qs.get(q))&&Xg(f,b),X=_.createElement("script"),Et(X),Yr(X,"link",f),_.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},A.set(q,X))}}function m8(f,b){gi.M(f,b);var _=$l;if(_&&f){var A=Pt(_).hoistableScripts,q=ql(f),X=A.get(q);X||(X=_.querySelector(fu(q)),X||(f=u({src:f,async:!0,type:"module"},b),(b=Qs.get(q))&&Xg(f,b),X=_.createElement("script"),Et(X),Yr(X,"link",f),_.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},A.set(q,X))}}function ow(f,b,_,A){var q=(q=H.current)?Tf(q):null;if(!q)throw Error(s(446));switch(f){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(b=zl(_.href),_=Pt(q).hoistableStyles,A=_.get(b),A||(A={type:"style",instance:null,count:0,state:null},_.set(b,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){f=zl(_.href);var X=Pt(q).hoistableStyles,ne=X.get(f);if(ne||(q=q.ownerDocument||q,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},X.set(f,ne),(X=q.querySelector(du(f)))&&!X._p&&(ne.instance=X,ne.state.loading=5),Qs.has(f)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},Qs.set(f,_),X||g8(q,f,_,ne.state))),b&&A===null)throw Error(s(528,""));return ne}if(b&&A!==null)throw Error(s(529,""));return null;case"script":return b=_.async,_=_.src,typeof _=="string"&&b&&typeof b!="function"&&typeof b!="symbol"?(b=ql(_),_=Pt(q).hoistableScripts,A=_.get(b),A||(A={type:"script",instance:null,count:0,state:null},_.set(b,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,f))}}function zl(f){return'href="'+Er(f)+'"'}function du(f){return'link[rel="stylesheet"]['+f+"]"}function lw(f){return u({},f,{"data-precedence":f.precedence,precedence:null})}function g8(f,b,_,A){f.querySelector('link[rel="preload"][as="style"]['+b+"]")?A.loading=1:(b=f.createElement("link"),A.preload=b,b.addEventListener("load",function(){return A.loading|=1}),b.addEventListener("error",function(){return A.loading|=2}),Yr(b,"link",_),Et(b),f.head.appendChild(b))}function ql(f){return'[src="'+Er(f)+'"]'}function fu(f){return"script[async]"+f}function cw(f,b,_){if(b.count++,b.instance===null)switch(b.type){case"style":var A=f.querySelector('style[data-href~="'+Er(_.href)+'"]');if(A)return b.instance=A,Et(A),A;var q=u({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return A=(f.ownerDocument||f).createElement("style"),Et(A),Yr(A,"style",q),Af(A,_.precedence,f),b.instance=A;case"stylesheet":q=zl(_.href);var X=f.querySelector(du(q));if(X)return b.state.loading|=4,b.instance=X,Et(X),X;A=lw(_),(q=Qs.get(q))&&Yg(A,q),X=(f.ownerDocument||f).createElement("link"),Et(X);var ne=X;return ne._p=new Promise(function(oe,be){ne.onload=oe,ne.onerror=be}),Yr(X,"link",A),b.state.loading|=4,Af(X,_.precedence,f),b.instance=X;case"script":return X=ql(_.src),(q=f.querySelector(fu(X)))?(b.instance=q,Et(q),q):(A=_,(q=Qs.get(X))&&(A=u({},_),Xg(A,q)),f=f.ownerDocument||f,q=f.createElement("script"),Et(q),Yr(q,"link",A),f.head.appendChild(q),b.instance=q);case"void":return null;default:throw Error(s(443,b.type))}else b.type==="stylesheet"&&(b.state.loading&4)===0&&(A=b.instance,b.state.loading|=4,Af(A,_.precedence,f));return b.instance}function Af(f,b,_){for(var A=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),q=A.length?A[A.length-1]:null,X=q,ne=0;ne<A.length;ne++){var oe=A[ne];if(oe.dataset.precedence===b)X=oe;else if(X!==q)break}X?X.parentNode.insertBefore(f,X.nextSibling):(b=_.nodeType===9?_.head:_,b.insertBefore(f,b.firstChild))}function Yg(f,b){f.crossOrigin==null&&(f.crossOrigin=b.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=b.referrerPolicy),f.title==null&&(f.title=b.title)}function Xg(f,b){f.crossOrigin==null&&(f.crossOrigin=b.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=b.referrerPolicy),f.integrity==null&&(f.integrity=b.integrity)}var Mf=null;function uw(f,b,_){if(Mf===null){var A=new Map,q=Mf=new Map;q.set(_,A)}else q=Mf,A=q.get(_),A||(A=new Map,q.set(_,A));if(A.has(f))return A;for(A.set(f,null),_=_.getElementsByTagName(f),q=0;q<_.length;q++){var X=_[q];if(!(X[tt]||X[zt]||f==="link"&&X.getAttribute("rel")==="stylesheet")&&X.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=X.getAttribute(b)||"";ne=f+ne;var oe=A.get(ne);oe?oe.push(X):A.set(ne,[X])}}return A}function dw(f,b,_){f=f.ownerDocument||f,f.head.insertBefore(_,b==="title"?f.querySelector("head > title"):null)}function b8(f,b,_){if(_===1||b.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof b.precedence!="string"||typeof b.href!="string"||b.href==="")break;return!0;case"link":if(typeof b.rel!="string"||typeof b.href!="string"||b.href===""||b.onLoad||b.onError)break;switch(b.rel){case"stylesheet":return f=b.disabled,typeof b.precedence=="string"&&f==null;default:return!0}case"script":if(b.async&&typeof b.async!="function"&&typeof b.async!="symbol"&&!b.onLoad&&!b.onError&&b.src&&typeof b.src=="string")return!0}return!1}function fw(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var hu=null;function y8(){}function x8(f,b,_){if(hu===null)throw Error(s(475));var A=hu;if(b.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var q=zl(_.href),X=f.querySelector(du(q));if(X){f=X._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(A.count++,A=Of.bind(A),f.then(A,A)),b.state.loading|=4,b.instance=X,Et(X);return}X=f.ownerDocument||f,_=lw(_),(q=Qs.get(q))&&Yg(_,q),X=X.createElement("link"),Et(X);var ne=X;ne._p=new Promise(function(oe,be){ne.onload=oe,ne.onerror=be}),Yr(X,"link",_),b.instance=X}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(b,f),(f=b.state.preload)&&(b.state.loading&3)===0&&(A.count++,b=Of.bind(A),f.addEventListener("load",b),f.addEventListener("error",b))}}function v8(){if(hu===null)throw Error(s(475));var f=hu;return f.stylesheets&&f.count===0&&Kg(f,f.stylesheets),0<f.count?function(b){var _=setTimeout(function(){if(f.stylesheets&&Kg(f,f.stylesheets),f.unsuspend){var A=f.unsuspend;f.unsuspend=null,A()}},6e4);return f.unsuspend=b,function(){f.unsuspend=null,clearTimeout(_)}}:null}function Of(){if(this.count--,this.count===0){if(this.stylesheets)Kg(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Df=null;function Kg(f,b){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Df=new Map,b.forEach(w8,f),Df=null,Of.call(f))}function w8(f,b){if(!(b.state.loading&4)){var _=Df.get(f);if(_)var A=_.get(null);else{_=new Map,Df.set(f,_);for(var q=f.querySelectorAll("link[data-precedence],style[data-precedence]"),X=0;X<q.length;X++){var ne=q[X];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(_.set(ne.dataset.precedence,ne),A=ne)}A&&_.set(null,A)}q=b.instance,ne=q.getAttribute("data-precedence"),X=_.get(ne)||A,X===A&&_.set(null,q),_.set(ne,q),this.count++,A=Of.bind(this),q.addEventListener("load",A),q.addEventListener("error",A),X?X.parentNode.insertBefore(q,X.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(q,f.firstChild)),b.state.loading|=4}}var pu={$$typeof:j,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function j8(f,b,_,A,q,X,ne,oe){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pn(0),this.hiddenUpdates=pn(null),this.identifierPrefix=A,this.onUncaughtError=q,this.onCaughtError=X,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function hw(f,b,_,A,q,X,ne,oe,be,Re,$e,Ge){return f=new j8(f,b,_,ne,oe,be,Re,Ge),b=1,X===!0&&(b|=24),X=Es(3,null,null,b),f.current=X,X.stateNode=f,b=Am(),b.refCount++,f.pooledCache=b,b.refCount++,X.memoizedState={element:A,isDehydrated:_,cache:b},Im(X),f}function pw(f){return f?(f=vl,f):vl}function mw(f,b,_,A,q,X){q=pw(q),A.context===null?A.context=q:A.pendingContext=q,A=Fi(b),A.payload={element:_},X=X===void 0?null:X,X!==null&&(A.callback=X),_=Ui(f,A,b),_!==null&&(Os(_,f,b),Vc(_,f,b))}function gw(f,b){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<b?_:b}}function Qg(f,b){gw(f,b),(f=f.alternate)&&gw(f,b)}function bw(f){if(f.tag===13){var b=xl(f,67108864);b!==null&&Os(b,f,67108864),Qg(f,67108864)}}var If=!0;function S8(f,b,_,A){var q=S.T;S.T=null;var X=C.p;try{C.p=2,Zg(f,b,_,A)}finally{C.p=X,S.T=q}}function _8(f,b,_,A){var q=S.T;S.T=null;var X=C.p;try{C.p=8,Zg(f,b,_,A)}finally{C.p=X,S.T=q}}function Zg(f,b,_,A){if(If){var q=Jg(A);if(q===null)Fg(f,b,A,Pf,_),xw(f,A);else if(N8(q,f,b,_,A))A.stopPropagation();else if(xw(f,A),b&4&&-1<C8.indexOf(f)){for(;q!==null;){var X=vt(q);if(X!==null)switch(X.tag){case 3:if(X=X.stateNode,X.current.memoizedState.isDehydrated){var ne=rt(X.pendingLanes);if(ne!==0){var oe=X;for(oe.pendingLanes|=2,oe.entangledLanes|=2;ne;){var be=1<<31-Je(ne);oe.entanglements[1]|=be,ne&=~be}Ia(X),(Dn&6)===0&&(xf=ie()+500,ou(0))}}break;case 13:oe=xl(X,2),oe!==null&&Os(oe,X,2),wf(),Qg(X,2)}if(X=Jg(A),X===null&&Fg(f,b,A,Pf,_),X===q)break;q=X}q!==null&&A.stopPropagation()}else Fg(f,b,A,null,_)}}function Jg(f){return f=ko(f),e0(f)}var Pf=null;function e0(f){if(Pf=null,f=Nt(f),f!==null){var b=o(f);if(b===null)f=null;else{var _=b.tag;if(_===13){if(f=i(b),f!==null)return f;f=null}else if(_===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;f=null}else b!==f&&(f=null)}}return Pf=f,null}function yw(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case me:return 2;case ae:return 8;case le:case fe:return 32;case xe:return 268435456;default:return 32}default:return 32}}var t0=!1,Ji=null,eo=null,to=null,mu=new Map,gu=new Map,no=[],C8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xw(f,b){switch(f){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":mu.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(b.pointerId)}}function bu(f,b,_,A,q,X){return f===null||f.nativeEvent!==X?(f={blockedOn:b,domEventName:_,eventSystemFlags:A,nativeEvent:X,targetContainers:[q]},b!==null&&(b=vt(b),b!==null&&bw(b)),f):(f.eventSystemFlags|=A,b=f.targetContainers,q!==null&&b.indexOf(q)===-1&&b.push(q),f)}function N8(f,b,_,A,q){switch(b){case"focusin":return Ji=bu(Ji,f,b,_,A,q),!0;case"dragenter":return eo=bu(eo,f,b,_,A,q),!0;case"mouseover":return to=bu(to,f,b,_,A,q),!0;case"pointerover":var X=q.pointerId;return mu.set(X,bu(mu.get(X)||null,f,b,_,A,q)),!0;case"gotpointercapture":return X=q.pointerId,gu.set(X,bu(gu.get(X)||null,f,b,_,A,q)),!0}return!1}function vw(f){var b=Nt(f.target);if(b!==null){var _=o(b);if(_!==null){if(b=_.tag,b===13){if(b=i(_),b!==null){f.blockedOn=b,gt(f.priority,function(){if(_.tag===13){var A=Ms();A=ct(A);var q=xl(_,A);q!==null&&Os(q,_,A),Qg(_,A)}});return}}else if(b===3&&_.stateNode.current.memoizedState.isDehydrated){f.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Lf(f){if(f.blockedOn!==null)return!1;for(var b=f.targetContainers;0<b.length;){var _=Jg(f.nativeEvent);if(_===null){_=f.nativeEvent;var A=new _.constructor(_.type,_);Di=A,_.target.dispatchEvent(A),Di=null}else return b=vt(_),b!==null&&bw(b),f.blockedOn=_,!1;b.shift()}return!0}function ww(f,b,_){Lf(f)&&_.delete(b)}function k8(){t0=!1,Ji!==null&&Lf(Ji)&&(Ji=null),eo!==null&&Lf(eo)&&(eo=null),to!==null&&Lf(to)&&(to=null),mu.forEach(ww),gu.forEach(ww)}function Bf(f,b){f.blockedOn===b&&(f.blockedOn=null,t0||(t0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,k8)))}var Ff=null;function jw(f){Ff!==f&&(Ff=f,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ff===f&&(Ff=null);for(var b=0;b<f.length;b+=3){var _=f[b],A=f[b+1],q=f[b+2];if(typeof A!="function"){if(e0(A||_)===null)continue;break}var X=vt(_);X!==null&&(f.splice(b,3),b-=3,eg(X,{pending:!0,data:q,method:_.method,action:A},A,q))}}))}function yu(f){function b(be){return Bf(be,f)}Ji!==null&&Bf(Ji,f),eo!==null&&Bf(eo,f),to!==null&&Bf(to,f),mu.forEach(b),gu.forEach(b);for(var _=0;_<no.length;_++){var A=no[_];A.blockedOn===f&&(A.blockedOn=null)}for(;0<no.length&&(_=no[0],_.blockedOn===null);)vw(_),_.blockedOn===null&&no.shift();if(_=(f.ownerDocument||f).$$reactFormReplay,_!=null)for(A=0;A<_.length;A+=3){var q=_[A],X=_[A+1],ne=q[ht]||null;if(typeof X=="function")ne||jw(_);else if(ne){var oe=null;if(X&&X.hasAttribute("formAction")){if(q=X,ne=X[ht]||null)oe=ne.formAction;else if(e0(q)!==null)continue}else oe=ne.action;typeof oe=="function"?_[A+1]=oe:(_.splice(A,3),A-=3),jw(_)}}}function n0(f){this._internalRoot=f}Uf.prototype.render=n0.prototype.render=function(f){var b=this._internalRoot;if(b===null)throw Error(s(409));var _=b.current,A=Ms();mw(_,A,f,b,null,null)},Uf.prototype.unmount=n0.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var b=f.containerInfo;mw(f.current,2,null,f,null,null),wf(),b[ye]=null}};function Uf(f){this._internalRoot=f}Uf.prototype.unstable_scheduleHydration=function(f){if(f){var b=jn();f={blockedOn:null,target:f,priority:b};for(var _=0;_<no.length&&b!==0&&b<no[_].priority;_++);no.splice(_,0,f),_===0&&vw(f)}};var Sw=r.version;if(Sw!=="19.1.1")throw Error(s(527,Sw,"19.1.1"));C.findDOMNode=function(f){var b=f._reactInternals;if(b===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return f=c(b),f=f!==null?a(f):null,f=f===null?null:f.stateNode,f};var E8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{De=$f.inject(E8),Fe=$f}catch{}}return vu.createRoot=function(f,b){if(!l(f))throw Error(s(299));var _=!1,A="",q=Fv,X=Uv,ne=$v,oe=null;return b!=null&&(b.unstable_strictMode===!0&&(_=!0),b.identifierPrefix!==void 0&&(A=b.identifierPrefix),b.onUncaughtError!==void 0&&(q=b.onUncaughtError),b.onCaughtError!==void 0&&(X=b.onCaughtError),b.onRecoverableError!==void 0&&(ne=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(oe=b.unstable_transitionCallbacks)),b=hw(f,1,!1,null,null,_,A,q,X,ne,oe,null),f[ye]=b.current,Bg(f),new n0(b)},vu.hydrateRoot=function(f,b,_){if(!l(f))throw Error(s(299));var A=!1,q="",X=Fv,ne=Uv,oe=$v,be=null,Re=null;return _!=null&&(_.unstable_strictMode===!0&&(A=!0),_.identifierPrefix!==void 0&&(q=_.identifierPrefix),_.onUncaughtError!==void 0&&(X=_.onUncaughtError),_.onCaughtError!==void 0&&(ne=_.onCaughtError),_.onRecoverableError!==void 0&&(oe=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(be=_.unstable_transitionCallbacks),_.formState!==void 0&&(Re=_.formState)),b=hw(f,1,!0,b,_??null,A,q,X,ne,oe,be,Re),b.context=pw(null),_=b.current,A=Ms(),A=ct(A),q=Fi(A),q.callback=null,Ui(_,q,A),_=A,b.current.lanes=_,Xt(b,_),Ia(b),f[ye]=b.current,Bg(f),new Uf(b)},vu.version="19.1.1",vu}var Ow;function B8(){if(Ow)return a0.exports;Ow=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),a0.exports=L8(),a0.exports}var F8=B8();const U8=Jh(F8);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dw="popstate";function $8(t={}){function r(s,l){let{pathname:o,search:i,hash:d}=s.location;return $0("",{pathname:o,search:i,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(s,l){return typeof l=="string"?l:zu(l)}return q8(r,e,null,t)}function er(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function ea(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function z8(){return Math.random().toString(36).substring(2,10)}function Iw(t,r){return{usr:t.state,key:t.key,idx:r}}function $0(t,r,e=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?uc(r):r,state:e,key:r&&r.key||s||z8()}}function zu({pathname:t="/",search:r="",hash:e=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),e&&e!=="#"&&(t+=e.charAt(0)==="#"?e:"#"+e),t}function uc(t){let r={};if(t){let e=t.indexOf("#");e>=0&&(r.hash=t.substring(e),t=t.substring(0,e));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function q8(t,r,e,s={}){let{window:l=document.defaultView,v5Compat:o=!1}=s,i=l.history,d="POP",c=null,a=u();a==null&&(a=0,i.replaceState({...i.state,idx:a},""));function u(){return(i.state||{idx:null}).idx}function m(){d="POP";let g=u(),w=g==null?null:g-a;a=g,c&&c({action:d,location:x.location,delta:w})}function h(g,w){d="PUSH";let v=$0(x.location,g,w);a=u()+1;let j=Iw(v,a),N=x.createHref(v);try{i.pushState(j,"",N)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(N)}o&&c&&c({action:d,location:x.location,delta:1})}function p(g,w){d="REPLACE";let v=$0(x.location,g,w);a=u();let j=Iw(v,a),N=x.createHref(v);i.replaceState(j,"",N),o&&c&&c({action:d,location:x.location,delta:0})}function y(g){return V8(g)}let x={get action(){return d},get location(){return t(l,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Dw,m),c=g,()=>{l.removeEventListener(Dw,m),c=null}},createHref(g){return r(l,g)},createURL:y,encodeLocation(g){let w=y(g);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(g){return i.go(g)}};return x}function V8(t,r=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),er(e,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:zu(t);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function K4(t,r,e="/"){return H8(t,r,e,!1)}function H8(t,r,e,s){let l=typeof r=="string"?uc(r):r,o=wi(l.pathname||"/",e);if(o==null)return null;let i=Q4(t);W8(i);let d=null;for(let c=0;d==null&&c<i.length;++c){let a=rk(o);d=tk(i[c],a,s)}return d}function Q4(t,r=[],e=[],s="",l=!1){let o=(i,d,c=l,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:d,route:i};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;er(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let m=vi([s,u.relativePath]),h=e.concat(u);i.children&&i.children.length>0&&(er(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Q4(i.children,r,h,m,c)),!(i.path==null&&!i.index)&&r.push({path:m,score:J8(m,i.index),routesMeta:h})};return t.forEach((i,d)=>{if(i.path===""||!i.path?.includes("?"))o(i,d);else for(let c of Z4(i.path))o(i,d,!0,c)}),r}function Z4(t){let r=t.split("/");if(r.length===0)return[];let[e,...s]=r,l=e.endsWith("?"),o=e.replace(/\?$/,"");if(s.length===0)return l?[o,""]:[o];let i=Z4(s.join("/")),d=[];return d.push(...i.map(c=>c===""?o:[o,c].join("/"))),l&&d.push(...i),d.map(c=>t.startsWith("/")&&c===""?"/":c)}function W8(t){t.sort((r,e)=>r.score!==e.score?e.score-r.score:ek(r.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var G8=/^:[\w-]+$/,Y8=3,X8=2,K8=1,Q8=10,Z8=-2,Pw=t=>t==="*";function J8(t,r){let e=t.split("/"),s=e.length;return e.some(Pw)&&(s+=Z8),r&&(s+=X8),e.filter(l=>!Pw(l)).reduce((l,o)=>l+(G8.test(o)?Y8:o===""?K8:Q8),s)}function ek(t,r){return t.length===r.length&&t.slice(0,-1).every((s,l)=>s===r[l])?t[t.length-1]-r[r.length-1]:0}function tk(t,r,e=!1){let{routesMeta:s}=t,l={},o="/",i=[];for(let d=0;d<s.length;++d){let c=s[d],a=d===s.length-1,u=o==="/"?r:r.slice(o.length)||"/",m=bh({path:c.relativePath,caseSensitive:c.caseSensitive,end:a},u),h=c.route;if(!m&&a&&e&&!s[s.length-1].route.index&&(m=bh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(l,m.params),i.push({params:l,pathname:vi([o,m.pathname]),pathnameBase:ok(vi([o,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(o=vi([o,m.pathnameBase]))}return i}function bh(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[e,s]=nk(t.path,t.caseSensitive,t.end),l=r.match(e);if(!l)return null;let o=l[0],i=o.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:s.reduce((a,{paramName:u,isOptional:m},h)=>{if(u==="*"){let y=d[h]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const p=d[h];return m&&!p?a[u]=void 0:a[u]=(p||"").replace(/%2F/g,"/"),a},{}),pathname:o,pathnameBase:i,pattern:t}}function nk(t,r=!1,e=!0){ea(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,d,c)=>(s.push({paramName:d,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),s]}function rk(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ea(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function wi(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let e=r.endsWith("/")?r.length-1:r.length,s=t.charAt(e);return s&&s!=="/"?null:t.slice(e)||"/"}function sk(t,r="/"){let{pathname:e,search:s="",hash:l=""}=typeof t=="string"?uc(t):t;return{pathname:e?e.startsWith("/")?e:ak(e,r):r,search:lk(s),hash:ck(l)}}function ak(t,r){let e=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?e.length>1&&e.pop():l!=="."&&e.push(l)}),e.length>1?e.join("/"):"/"}function c0(t,r,e,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ik(t){return t.filter((r,e)=>e===0||r.route.path&&r.route.path.length>0)}function Ab(t){let r=ik(t);return r.map((e,s)=>s===r.length-1?e.pathname:e.pathnameBase)}function Mb(t,r,e,s=!1){let l;typeof t=="string"?l=uc(t):(l={...t},er(!l.pathname||!l.pathname.includes("?"),c0("?","pathname","search",l)),er(!l.pathname||!l.pathname.includes("#"),c0("#","pathname","hash",l)),er(!l.search||!l.search.includes("#"),c0("#","search","hash",l)));let o=t===""||l.pathname==="",i=o?"/":l.pathname,d;if(i==null)d=e;else{let m=r.length-1;if(!s&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),m-=1;l.pathname=h.join("/")}d=m>=0?r[m]:"/"}let c=sk(l,d),a=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&e.endsWith("/");return!c.pathname.endsWith("/")&&(a||u)&&(c.pathname+="/"),c}var vi=t=>t.join("/").replace(/\/\/+/g,"/"),ok=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ck=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var J4=["POST","PUT","PATCH","DELETE"];new Set(J4);var dk=["GET",...J4];new Set(dk);var dc=B.createContext(null);dc.displayName="DataRouter";var ep=B.createContext(null);ep.displayName="DataRouterState";B.createContext(!1);var ej=B.createContext({isTransitioning:!1});ej.displayName="ViewTransition";var fk=B.createContext(new Map);fk.displayName="Fetchers";var hk=B.createContext(null);hk.displayName="Await";var ja=B.createContext(null);ja.displayName="Navigation";var sd=B.createContext(null);sd.displayName="Location";var Sa=B.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var Ob=B.createContext(null);Ob.displayName="RouteError";function pk(t,{relative:r}={}){er(fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=B.useContext(ja),{hash:l,pathname:o,search:i}=ad(t,{relative:r}),d=o;return e!=="/"&&(d=o==="/"?e:vi([e,o])),s.createHref({pathname:d,search:i,hash:l})}function fc(){return B.useContext(sd)!=null}function na(){return er(fc(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(sd).location}var tj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nj(t){B.useContext(ja).static||B.useLayoutEffect(t)}function fn(){let{isDataRoute:t}=B.useContext(Sa);return t?kk():mk()}function mk(){er(fc(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(dc),{basename:r,navigator:e}=B.useContext(ja),{matches:s}=B.useContext(Sa),{pathname:l}=na(),o=JSON.stringify(Ab(s)),i=B.useRef(!1);return nj(()=>{i.current=!0}),B.useCallback((c,a={})=>{if(ea(i.current,tj),!i.current)return;if(typeof c=="number"){e.go(c);return}let u=Mb(c,JSON.parse(o),l,a.relative==="path");t==null&&r!=="/"&&(u.pathname=u.pathname==="/"?r:vi([r,u.pathname])),(a.replace?e.replace:e.push)(u,a.state,a)},[r,e,o,l,t])}B.createContext(null);function ss(){let{matches:t}=B.useContext(Sa),r=t[t.length-1];return r?r.params:{}}function ad(t,{relative:r}={}){let{matches:e}=B.useContext(Sa),{pathname:s}=na(),l=JSON.stringify(Ab(e));return B.useMemo(()=>Mb(t,JSON.parse(l),s,r==="path"),[t,l,s,r])}function gk(t,r){return rj(t,r)}function rj(t,r,e,s,l){er(fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(ja),{matches:i}=B.useContext(Sa),d=i[i.length-1],c=d?d.params:{},a=d?d.pathname:"/",u=d?d.pathnameBase:"/",m=d&&d.route;{let v=m&&m.path||"";sj(a,!m||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${a}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=na(),p;if(r){let v=typeof r=="string"?uc(r):r;er(u==="/"||v.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=h;let y=p.pathname||"/",x=y;if(u!=="/"){let v=u.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=K4(t,{pathname:x});ea(m||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ea(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=wk(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:vi([u,o.encodeLocation?o.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:vi([u,o.encodeLocation?o.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,e,s,l);return r&&w?B.createElement(sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function bk(){let t=Nk(),r=uk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),e=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},r),e?B.createElement("pre",{style:l},e):null,i)}var yk=B.createElement(bk,null),xk=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.unstable_onError?this.props.unstable_onError(t,r):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?B.createElement(Sa.Provider,{value:this.props.routeContext},B.createElement(Ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vk({routeContext:t,match:r,children:e}){let s=B.useContext(dc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(Sa.Provider,{value:t},e)}function wk(t,r=[],e=null,s=null,l=null){if(t==null){if(!e)return null;if(e.errors)t=e.matches;else if(r.length===0&&!e.initialized&&e.matches.length>0)t=e.matches;else return null}let o=t,i=e?.errors;if(i!=null){let a=o.findIndex(u=>u.route.id&&i?.[u.route.id]!==void 0);er(a>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,a+1))}let d=!1,c=-1;if(e)for(let a=0;a<o.length;a++){let u=o[a];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=a),u.route.id){let{loaderData:m,errors:h}=e,p=u.route.loader&&!m.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){d=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((a,u,m)=>{let h,p=!1,y=null,x=null;e&&(h=i&&u.route.id?i[u.route.id]:void 0,y=u.route.errorElement||yk,d&&(c<0&&m===0?(sj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):c===m&&(p=!0,x=u.route.hydrateFallbackElement||null)));let g=r.concat(o.slice(0,m+1)),w=()=>{let v;return h?v=y:p?v=x:u.route.Component?v=B.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=a,B.createElement(vk,{match:u,routeContext:{outlet:a,matches:g,isDataRoute:e!=null},children:v})};return e&&(u.route.ErrorBoundary||u.route.errorElement||m===0)?B.createElement(xk,{location:e.location,revalidation:e.revalidation,component:y,error:h,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:s}):w()},null)}function Db(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jk(t){let r=B.useContext(dc);return er(r,Db(t)),r}function Sk(t){let r=B.useContext(ep);return er(r,Db(t)),r}function _k(t){let r=B.useContext(Sa);return er(r,Db(t)),r}function Ib(t){let r=_k(t),e=r.matches[r.matches.length-1];return er(e.route.id,`${t} can only be used on routes that contain a unique "id"`),e.route.id}function Ck(){return Ib("useRouteId")}function Nk(){let t=B.useContext(Ob),r=Sk("useRouteError"),e=Ib("useRouteError");return t!==void 0?t:r.errors?.[e]}function kk(){let{router:t}=jk("useNavigate"),r=Ib("useNavigate"),e=B.useRef(!1);return nj(()=>{e.current=!0}),B.useCallback(async(l,o={})=>{ea(e.current,tj),e.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:r,...o}))},[t,r])}var Lw={};function sj(t,r,e){!r&&!Lw[t]&&(Lw[t]=!0,ea(!1,e))}B.memo(Ek);function Ek({routes:t,future:r,state:e,unstable_onError:s}){return rj(t,void 0,e,s,r)}function Bw({to:t,replace:r,state:e,relative:s}){er(fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=B.useContext(ja);ea(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(Sa),{pathname:i}=na(),d=fn(),c=Mb(t,Ab(o),i,s==="path"),a=JSON.stringify(c);return B.useEffect(()=>{d(JSON.parse(a),{replace:r,state:e,relative:s})},[d,a,s,r,e]),null}function At(t){er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rk({basename:t="/",children:r=null,location:e,navigationType:s="POP",navigator:l,static:o=!1}){er(!fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:i,navigator:l,static:o,future:{}}),[i,l,o]);typeof e=="string"&&(e=uc(e));let{pathname:c="/",search:a="",hash:u="",state:m=null,key:h="default"}=e,p=B.useMemo(()=>{let y=wi(c,i);return y==null?null:{location:{pathname:y,search:a,hash:u,state:m,key:h},navigationType:s}},[i,c,a,u,m,h,s]);return ea(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${a}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:B.createElement(ja.Provider,{value:d},B.createElement(sd.Provider,{children:r,value:p}))}function Fw({children:t,location:r}){return gk(z0(t),r)}function z0(t,r=[]){let e=[];return B.Children.forEach(t,(s,l)=>{if(!B.isValidElement(s))return;let o=[...r,l];if(s.type===B.Fragment){e.push.apply(e,z0(s.props.children,o));return}er(s.type===At,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),er(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=z0(s.props.children,o)),e.push(i)}),e}var sh="get",ah="application/x-www-form-urlencoded";function tp(t){return t!=null&&typeof t.tagName=="string"}function Tk(t){return tp(t)&&t.tagName.toLowerCase()==="button"}function Ak(t){return tp(t)&&t.tagName.toLowerCase()==="form"}function Mk(t){return tp(t)&&t.tagName.toLowerCase()==="input"}function Ok(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dk(t,r){return t.button===0&&(!r||r==="_self")&&!Ok(t)}function q0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,e)=>{let s=t[e];return r.concat(Array.isArray(s)?s.map(l=>[e,l]):[[e,s]])},[]))}function Ik(t,r){let e=q0(t);return r&&r.forEach((s,l)=>{e.has(l)||r.getAll(l).forEach(o=>{e.append(l,o)})}),e}var zf=null;function Pk(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var Lk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u0(t){return t!=null&&!Lk.has(t)?(ea(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):t}function Bk(t,r){let e,s,l,o,i;if(Ak(t)){let d=t.getAttribute("action");s=d?wi(d,r):null,e=t.getAttribute("method")||sh,l=u0(t.getAttribute("enctype"))||ah,o=new FormData(t)}else if(Tk(t)||Mk(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||d.getAttribute("action");if(s=c?wi(c,r):null,e=t.getAttribute("formmethod")||d.getAttribute("method")||sh,l=u0(t.getAttribute("formenctype"))||u0(d.getAttribute("enctype"))||ah,o=new FormData(d,t),!Pk()){let{name:a,type:u,value:m}=t;if(u==="image"){let h=a?`${a}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else a&&o.append(a,m)}}else{if(tp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=sh,s=null,l=ah,i=t}return o&&l==="text/plain"&&(i=o,o=void 0),{action:s,method:e.toLowerCase(),encType:l,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pb(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Fk(t,r,e){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${e}`:r&&wi(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${e}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${e}`,s}async function Uk(t,r){if(t.id in r)return r[t.id];try{let e=await import(t.module);return r[t.id]=e,e}catch(e){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $k(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zk(t,r,e){let s=await Promise.all(t.map(async l=>{let o=r.routes[l.route.id];if(o){let i=await Uk(o,e);return i.links?i.links():[]}return[]}));return Wk(s.flat(1).filter($k).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Uw(t,r,e,s,l,o){let i=(c,a)=>e[a]?c.route.id!==e[a].route.id:!0,d=(c,a)=>e[a].pathname!==c.pathname||e[a].route.path?.endsWith("*")&&e[a].params["*"]!==c.params["*"];return o==="assets"?r.filter((c,a)=>i(c,a)||d(c,a)):o==="data"?r.filter((c,a)=>{let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,a)||d(c,a))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function qk(t,r,{includeHydrateFallback:e}={}){return Vk(t.map(s=>{let l=r.routes[s.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),e&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function Vk(t){return[...new Set(t)]}function Hk(t){let r={},e=Object.keys(t).sort();for(let s of e)r[s]=t[s];return r}function Wk(t,r){let e=new Set;return new Set(r),t.reduce((s,l)=>{let o=JSON.stringify(Hk(l));return e.has(o)||(e.add(o),s.push({key:o,link:l})),s},[])}function aj(){let t=B.useContext(dc);return Pb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Gk(){let t=B.useContext(ep);return Pb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lb=B.createContext(void 0);Lb.displayName="FrameworkContext";function ij(){let t=B.useContext(Lb);return Pb(t,"You must render this element inside a <HydratedRouter> element"),t}function Yk(t,r){let e=B.useContext(Lb),[s,l]=B.useState(!1),[o,i]=B.useState(!1),{onFocus:d,onBlur:c,onMouseEnter:a,onMouseLeave:u,onTouchStart:m}=r,h=B.useRef(null);B.useEffect(()=>{if(t==="render"&&i(!0),t==="viewport"){let x=w=>{w.forEach(v=>{i(v.isIntersecting)})},g=new IntersectionObserver(x,{threshold:.5});return h.current&&g.observe(h.current),()=>{g.disconnect()}}},[t]),B.useEffect(()=>{if(s){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[s]);let p=()=>{l(!0)},y=()=>{l(!1),i(!1)};return e?t!=="intent"?[o,h,{}]:[o,h,{onFocus:wu(d,p),onBlur:wu(c,y),onMouseEnter:wu(a,p),onMouseLeave:wu(u,y),onTouchStart:wu(m,p)}]:[!1,h,{}]}function wu(t,r){return e=>{t&&t(e),e.defaultPrevented||r(e)}}function Xk({page:t,...r}){let{router:e}=aj(),s=B.useMemo(()=>K4(e.routes,t,e.basename),[e.routes,t,e.basename]);return s?B.createElement(Qk,{page:t,matches:s,...r}):null}function Kk(t){let{manifest:r,routeModules:e}=ij(),[s,l]=B.useState([]);return B.useEffect(()=>{let o=!1;return zk(t,r,e).then(i=>{o||l(i)}),()=>{o=!0}},[t,r,e]),s}function Qk({page:t,matches:r,...e}){let s=na(),{manifest:l,routeModules:o}=ij(),{basename:i}=aj(),{loaderData:d,matches:c}=Gk(),a=B.useMemo(()=>Uw(t,r,c,l,s,"data"),[t,r,c,l,s]),u=B.useMemo(()=>Uw(t,r,c,l,s,"assets"),[t,r,c,l,s]),m=B.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let y=new Set,x=!1;if(r.forEach(w=>{let v=l.routes[w.route.id];!v||!v.hasLoader||(!a.some(j=>j.route.id===w.route.id)&&w.route.id in d&&o[w.route.id]?.shouldRevalidate||v.hasClientLoader?x=!0:y.add(w.route.id))}),y.size===0)return[];let g=Fk(t,i,"data");return x&&y.size>0&&g.searchParams.set("_routes",r.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[g.pathname+g.search]},[i,d,s,l,a,r,t,o]),h=B.useMemo(()=>qk(u,l),[u,l]),p=Kk(u);return B.createElement(B.Fragment,null,m.map(y=>B.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...e})),h.map(y=>B.createElement("link",{key:y,rel:"modulepreload",href:y,...e})),p.map(({key:y,link:x})=>B.createElement("link",{key:y,nonce:e.nonce,...x})))}function Zk(...t){return r=>{t.forEach(e=>{typeof e=="function"?e(r):e!=null&&(e.current=r)})}}var oj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oj&&(window.__reactRouterVersion="7.8.2")}catch{}function Jk({basename:t,children:r,window:e}){let s=B.useRef();s.current==null&&(s.current=$8({window:e,v5Compat:!0}));let l=s.current,[o,i]=B.useState({action:l.action,location:l.location}),d=B.useCallback(c=>{B.startTransition(()=>i(c))},[i]);return B.useLayoutEffect(()=>l.listen(d),[l,d]),B.createElement(Rk,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l})}var lj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ja=B.forwardRef(function({onClick:r,discover:e="render",prefetch:s="none",relative:l,reloadDocument:o,replace:i,state:d,target:c,to:a,preventScrollReset:u,viewTransition:m,...h},p){let{basename:y}=B.useContext(ja),x=typeof a=="string"&&lj.test(a),g,w=!1;if(typeof a=="string"&&x&&(g=a,oj))try{let $=new URL(window.location.href),G=a.startsWith("//")?new URL($.protocol+a):new URL(a),Y=wi(G.pathname,y);G.origin===$.origin&&Y!=null?a=Y+G.search+G.hash:w=!0}catch{ea(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=pk(a,{relative:l}),[j,N,T]=Yk(s,h),D=rE(a,{replace:i,state:d,target:c,preventScrollReset:u,relative:l,viewTransition:m});function V($){r&&r($),$.defaultPrevented||D($)}let P=B.createElement("a",{...h,...T,href:g||v,onClick:w||o?r:V,ref:Zk(p,N),target:c,"data-discover":!x&&e==="render"?"true":void 0});return j&&!x?B.createElement(B.Fragment,null,P,B.createElement(Xk,{page:v})):P});Ja.displayName="Link";var eE=B.forwardRef(function({"aria-current":r="page",caseSensitive:e=!1,className:s="",end:l=!1,style:o,to:i,viewTransition:d,children:c,...a},u){let m=ad(i,{relative:a.relative}),h=na(),p=B.useContext(ep),{navigator:y,basename:x}=B.useContext(ja),g=p!=null&&cE(m)&&d===!0,w=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,v=h.pathname,j=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;e||(v=v.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&x&&(j=wi(j,x)||j);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let T=v===w||!l&&v.startsWith(w)&&v.charAt(N)==="/",D=j!=null&&(j===w||!l&&j.startsWith(w)&&j.charAt(w.length)==="/"),V={isActive:T,isPending:D,isTransitioning:g},P=T?r:void 0,$;typeof s=="function"?$=s(V):$=[s,T?"active":null,D?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(V):o;return B.createElement(Ja,{...a,"aria-current":P,className:$,ref:u,style:G,to:i,viewTransition:d},typeof c=="function"?c(V):c)});eE.displayName="NavLink";var tE=B.forwardRef(({discover:t="render",fetcherKey:r,navigate:e,reloadDocument:s,replace:l,state:o,method:i=sh,action:d,onSubmit:c,relative:a,preventScrollReset:u,viewTransition:m,...h},p)=>{let y=oE(),x=lE(d,{relative:a}),g=i.toLowerCase()==="get"?"get":"post",w=typeof d=="string"&&lj.test(d),v=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let N=j.nativeEvent.submitter,T=N?.getAttribute("formmethod")||i;y(N||j.currentTarget,{fetcherKey:r,method:T,navigate:e,replace:l,state:o,relative:a,preventScrollReset:u,viewTransition:m})};return B.createElement("form",{ref:p,method:g,action:x,onSubmit:s?c:v,...h,"data-discover":!w&&t==="render"?"true":void 0})});tE.displayName="Form";function nE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cj(t){let r=B.useContext(dc);return er(r,nE(t)),r}function rE(t,{target:r,replace:e,state:s,preventScrollReset:l,relative:o,viewTransition:i}={}){let d=fn(),c=na(),a=ad(t,{relative:o});return B.useCallback(u=>{if(Dk(u,r)){u.preventDefault();let m=e!==void 0?e:zu(c)===zu(a);d(t,{replace:m,state:s,preventScrollReset:l,relative:o,viewTransition:i})}},[c,d,a,e,s,r,t,l,o,i])}function sE(t){ea(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=B.useRef(q0(t)),e=B.useRef(!1),s=na(),l=B.useMemo(()=>Ik(s.search,e.current?null:r.current),[s.search]),o=fn(),i=B.useCallback((d,c)=>{const a=q0(typeof d=="function"?d(new URLSearchParams(l)):d);e.current=!0,o("?"+a,c)},[o,l]);return[l,i]}var aE=0,iE=()=>`__${String(++aE)}__`;function oE(){let{router:t}=cj("useSubmit"),{basename:r}=B.useContext(ja),e=Ck();return B.useCallback(async(s,l={})=>{let{action:o,method:i,encType:d,formData:c,body:a}=Bk(s,r);if(l.navigate===!1){let u=l.fetcherKey||iE();await t.fetch(u,e,l.action||o,{preventScrollReset:l.preventScrollReset,formData:c,body:a,formMethod:l.method||i,formEncType:l.encType||d,flushSync:l.flushSync})}else await t.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:c,body:a,formMethod:l.method||i,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,r,e])}function lE(t,{relative:r}={}){let{basename:e}=B.useContext(ja),s=B.useContext(Sa);er(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),o={...ad(t||".",{relative:r})},i=na();if(t==null){o.search=i.search;let d=new URLSearchParams(o.search),c=d.getAll("index");if(c.some(u=>u==="")){d.delete("index"),c.filter(m=>m).forEach(m=>d.append("index",m));let u=d.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:vi([e,o.pathname])),zu(o)}function cE(t,{relative:r}={}){let e=B.useContext(ej);er(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cj("useViewTransitionState"),l=ad(t,{relative:r});if(!e.isTransitioning)return!1;let o=wi(e.currentLocation.pathname,s)||e.currentLocation.pathname,i=wi(e.nextLocation.pathname,s)||e.nextLocation.pathname;return bh(l.pathname,i)!=null||bh(l.pathname,o)!=null}var id=X4();const uj=Jh(id),uE=(t,r,e,s)=>{const l=[e,{code:r,...s||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(l,"warn","react-i18next::",!0);Ko(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...l):console?.warn&&console.warn(...l)},$w={},V0=(t,r,e,s)=>{Ko(e)&&$w[e]||(Ko(e)&&($w[e]=new Date),uE(t,r,e,s))},dj=(t,r)=>()=>{if(t.isInitialized)r();else{const e=()=>{setTimeout(()=>{t.off("initialized",e)},0),r()};t.on("initialized",e)}},H0=(t,r,e)=>{t.loadNamespaces(r,dj(t,e))},zw=(t,r,e,s)=>{if(Ko(e)&&(e=[e]),t.options.preload&&t.options.preload.indexOf(r)>-1)return H0(t,e,s);e.forEach(l=>{t.options.ns.indexOf(l)<0&&t.options.ns.push(l)}),t.loadLanguages(r,dj(t,s))},dE=(t,r,e={})=>!r.languages||!r.languages.length?(V0(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(t,{lng:e.lng,precheck:(s,l)=>{if(e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!l(s.isLanguageChangingTo,t))return!1}}),Ko=t=>typeof t=="string",fE=t=>typeof t=="object"&&t!==null,hE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mE=t=>pE[t],gE=t=>t.replace(hE,mE);let W0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:gE};const bE=(t={})=>{W0={...W0,...t}},yE=()=>W0;let fj;const xE=t=>{fj=t},vE=()=>fj,wE={type:"3rdParty",init(t){bE(t.options.react),xE(t)}},jE=B.createContext();class SE{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const _E=(t,r)=>{const e=B.useRef();return B.useEffect(()=>{e.current=t},[t,r]),e.current},hj=(t,r,e,s)=>t.getFixedT(r,e,s),CE=(t,r,e,s)=>B.useCallback(hj(t,r,e,s),[t,r,e,s]),Be=(t,r={})=>{const{i18n:e}=r,{i18n:s,defaultNS:l}=B.useContext(jE)||{},o=e||s||vE();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new SE),!o){V0(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(D,V)=>Ko(V)?V:fE(V)&&Ko(V.defaultValue)?V.defaultValue:Array.isArray(D)?D[D.length-1]:D,T=[N,{},!1];return T.t=N,T.i18n={},T.ready=!1,T}o.options.react?.wait&&V0(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...yE(),...o.options.react,...r},{useSuspense:d,keyPrefix:c}=i;let a=l||o.options?.defaultNS;a=Ko(a)?[a]:a||["translation"],o.reportNamespaces.addUsedNamespaces?.(a);const u=(o.isInitialized||o.initializedStoreOnce)&&a.every(N=>dE(N,o,i)),m=CE(o,r.lng||null,i.nsMode==="fallback"?a:a[0],c),h=()=>m,p=()=>hj(o,r.lng||null,i.nsMode==="fallback"?a:a[0],c),[y,x]=B.useState(h);let g=a.join();r.lng&&(g=`${r.lng}${g}`);const w=_E(g),v=B.useRef(!0);B.useEffect(()=>{const{bindI18n:N,bindI18nStore:T}=i;v.current=!0,!u&&!d&&(r.lng?zw(o,r.lng,a,()=>{v.current&&x(p)}):H0(o,a,()=>{v.current&&x(p)})),u&&w&&w!==g&&v.current&&x(p);const D=()=>{v.current&&x(p)};return N&&o?.on(N,D),T&&o?.store.on(T,D),()=>{v.current=!1,o&&N&&N?.split(" ").forEach(V=>o.off(V,D)),T&&o&&T.split(" ").forEach(V=>o.store.off(V,D))}},[o,g]),B.useEffect(()=>{v.current&&u&&x(h)},[o,c,u]);const j=[y,o,u];if(j.t=y,j.i18n=o,j.ready=u,u||!u&&!d)return j;throw new Promise(N=>{r.lng?zw(o,r.lng,a,()=>N()):H0(o,a,()=>N())})};var ju={},qw;function NE(){if(qw)return ju;qw=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.parse=i,ju.serialize=a;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function i(h,p){const y=new o,x=h.length;if(x<2)return y;const g=p?.decode||u;let w=0;do{const v=h.indexOf("=",w);if(v===-1)break;const j=h.indexOf(";",w),N=j===-1?x:j;if(v>N){w=h.lastIndexOf(";",v-1)+1;continue}const T=d(h,w,v),D=c(h,v,T),V=h.slice(T,D);if(y[V]===void 0){let P=d(h,v+1,N),$=c(h,N,P);const G=g(h.slice(P,$));y[V]=G}w=N+1}while(w<x);return y}function d(h,p,y){do{const x=h.charCodeAt(p);if(x!==32&&x!==9)return p}while(++p<y);return y}function c(h,p,y){for(;p>y;){const x=h.charCodeAt(--p);if(x!==32&&x!==9)return p+1}return y}function a(h,p,y){const x=y?.encode||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const g=x(p);if(!r.test(g))throw new TypeError(`argument val is invalid: ${p}`);let w=h+"="+g;if(!y)return w;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);w+="; Max-Age="+y.maxAge}if(y.domain){if(!e.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);w+="; Domain="+y.domain}if(y.path){if(!s.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);w+="; Path="+y.path}if(y.expires){if(!m(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);w+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(w+="; HttpOnly"),y.secure&&(w+="; Secure"),y.partitioned&&(w+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return w}function u(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function m(h){return l.call(h)==="[object Date]"}return ju}var ih=NE();function kE(){const t=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof t=="boolean"?t:typeof document=="object"&&typeof document.cookie=="string"}function EE(t){return typeof t=="string"?ih.parse(t):typeof t=="object"&&t!==null?t:{}}function d0(t,r={}){const e=RE(t);if(!r.doNotParse)try{return JSON.parse(e)}catch{}return t}function RE(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}class pj{constructor(r,e={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const l=this.cookies;this.cookies=ih.parse(document.cookie),this._checkChanges(l)};const s=typeof document>"u"?"":document.cookie;this.cookies=EE(r||s),this.defaultSetOptions=e,this.HAS_DOCUMENT_COOKIE=kE()}_emitChange(r){for(let e=0;e<this.changeListeners.length;++e)this.changeListeners[e](r)}_checkChanges(r){new Set(Object.keys(r).concat(Object.keys(this.cookies))).forEach(s=>{r[s]!==this.cookies[s]&&this._emitChange({name:s,value:d0(this.cookies[s])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(r,e={}){return e.doNotUpdate||this.update(),d0(this.cookies[r],e)}getAll(r={}){r.doNotUpdate||this.update();const e={};for(let s in this.cookies)e[s]=d0(this.cookies[s],r);return e}set(r,e,s){s?s=Object.assign(Object.assign({},this.defaultSetOptions),s):s=this.defaultSetOptions;const l=typeof e=="string"?e:JSON.stringify(e);this.cookies=Object.assign(Object.assign({},this.cookies),{[r]:l}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ih.serialize(r,l,s)),this._emitChange({name:r,value:e,options:s})}remove(r,e){const s=e=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),e),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[r],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ih.serialize(r,"",s)),this._emitChange({name:r,value:void 0,options:e})}addChangeListener(r){this.changeListeners.push(r),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(r){const e=this.changeListeners.indexOf(r);e>=0&&this.changeListeners.splice(e,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}removeAllChangeListeners(){for(;this.changeListeners.length>0;)this.removeChangeListener(this.changeListeners[0])}}function mj(t,r){return function(){return t.apply(r,arguments)}}const{toString:TE}=Object.prototype,{getPrototypeOf:Bb}=Object,{iterator:np,toStringTag:gj}=Symbol,rp=(t=>r=>{const e=TE.call(r);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),_a=t=>(t=t.toLowerCase(),r=>rp(r)===t),sp=t=>r=>typeof r===t,{isArray:hc}=Array,qu=sp("undefined");function od(t){return t!==null&&!qu(t)&&t.constructor!==null&&!qu(t.constructor)&&Ss(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const bj=_a("ArrayBuffer");function AE(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&bj(t.buffer),r}const ME=sp("string"),Ss=sp("function"),yj=sp("number"),ld=t=>t!==null&&typeof t=="object",OE=t=>t===!0||t===!1,oh=t=>{if(rp(t)!=="object")return!1;const r=Bb(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(gj in t)&&!(np in t)},DE=t=>{if(!ld(t)||od(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},IE=_a("Date"),PE=_a("File"),LE=_a("Blob"),BE=_a("FileList"),FE=t=>ld(t)&&Ss(t.pipe),UE=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Ss(t.append)&&((r=rp(t))==="formdata"||r==="object"&&Ss(t.toString)&&t.toString()==="[object FormData]"))},$E=_a("URLSearchParams"),[zE,qE,VE,HE]=["ReadableStream","Request","Response","Headers"].map(_a),WE=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cd(t,r,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let s,l;if(typeof t!="object"&&(t=[t]),hc(t))for(s=0,l=t.length;s<l;s++)r.call(null,t[s],s,t);else{if(od(t))return;const o=e?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let d;for(s=0;s<i;s++)d=o[s],r.call(null,t[d],d,t)}}function xj(t,r){if(od(t))return null;r=r.toLowerCase();const e=Object.keys(t);let s=e.length,l;for(;s-- >0;)if(l=e[s],r===l.toLowerCase())return l;return null}const Go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vj=t=>!qu(t)&&t!==Go;function G0(){const{caseless:t}=vj(this)&&this||{},r={},e=(s,l)=>{const o=t&&xj(r,l)||l;oh(r[o])&&oh(s)?r[o]=G0(r[o],s):oh(s)?r[o]=G0({},s):hc(s)?r[o]=s.slice():r[o]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&cd(arguments[s],e);return r}const GE=(t,r,e,{allOwnKeys:s}={})=>(cd(r,(l,o)=>{e&&Ss(l)?t[o]=mj(l,e):t[o]=l},{allOwnKeys:s}),t),YE=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),XE=(t,r,e,s)=>{t.prototype=Object.create(r.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),e&&Object.assign(t.prototype,e)},KE=(t,r,e,s)=>{let l,o,i;const d={};if(r=r||{},t==null)return r;do{for(l=Object.getOwnPropertyNames(t),o=l.length;o-- >0;)i=l[o],(!s||s(i,t,r))&&!d[i]&&(r[i]=t[i],d[i]=!0);t=e!==!1&&Bb(t)}while(t&&(!e||e(t,r))&&t!==Object.prototype);return r},QE=(t,r,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=r.length;const s=t.indexOf(r,e);return s!==-1&&s===e},ZE=t=>{if(!t)return null;if(hc(t))return t;let r=t.length;if(!yj(r))return null;const e=new Array(r);for(;r-- >0;)e[r]=t[r];return e},JE=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&Bb(Uint8Array)),e7=(t,r)=>{const s=(t&&t[np]).call(t);let l;for(;(l=s.next())&&!l.done;){const o=l.value;r.call(t,o[0],o[1])}},t7=(t,r)=>{let e;const s=[];for(;(e=t.exec(r))!==null;)s.push(e);return s},n7=_a("HTMLFormElement"),r7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,l){return s.toUpperCase()+l}),Vw=(({hasOwnProperty:t})=>(r,e)=>t.call(r,e))(Object.prototype),s7=_a("RegExp"),wj=(t,r)=>{const e=Object.getOwnPropertyDescriptors(t),s={};cd(e,(l,o)=>{let i;(i=r(l,o,t))!==!1&&(s[o]=i||l)}),Object.defineProperties(t,s)},a7=t=>{wj(t,(r,e)=>{if(Ss(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=t[e];if(Ss(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},i7=(t,r)=>{const e={},s=l=>{l.forEach(o=>{e[o]=!0})};return hc(t)?s(t):s(String(t).split(r)),e},o7=()=>{},l7=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function c7(t){return!!(t&&Ss(t.append)&&t[gj]==="FormData"&&t[np])}const u7=t=>{const r=new Array(10),e=(s,l)=>{if(ld(s)){if(r.indexOf(s)>=0)return;if(od(s))return s;if(!("toJSON"in s)){r[l]=s;const o=hc(s)?[]:{};return cd(s,(i,d)=>{const c=e(i,l+1);!qu(c)&&(o[d]=c)}),r[l]=void 0,o}}return s};return e(t,0)},d7=_a("AsyncFunction"),f7=t=>t&&(ld(t)||Ss(t))&&Ss(t.then)&&Ss(t.catch),jj=((t,r)=>t?setImmediate:r?((e,s)=>(Go.addEventListener("message",({source:l,data:o})=>{l===Go&&o===e&&s.length&&s.shift()()},!1),l=>{s.push(l),Go.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Ss(Go.postMessage)),h7=typeof queueMicrotask<"u"?queueMicrotask.bind(Go):typeof process<"u"&&process.nextTick||jj,p7=t=>t!=null&&Ss(t[np]),Le={isArray:hc,isArrayBuffer:bj,isBuffer:od,isFormData:UE,isArrayBufferView:AE,isString:ME,isNumber:yj,isBoolean:OE,isObject:ld,isPlainObject:oh,isEmptyObject:DE,isReadableStream:zE,isRequest:qE,isResponse:VE,isHeaders:HE,isUndefined:qu,isDate:IE,isFile:PE,isBlob:LE,isRegExp:s7,isFunction:Ss,isStream:FE,isURLSearchParams:$E,isTypedArray:JE,isFileList:BE,forEach:cd,merge:G0,extend:GE,trim:WE,stripBOM:YE,inherits:XE,toFlatObject:KE,kindOf:rp,kindOfTest:_a,endsWith:QE,toArray:ZE,forEachEntry:e7,matchAll:t7,isHTMLForm:n7,hasOwnProperty:Vw,hasOwnProp:Vw,reduceDescriptors:wj,freezeMethods:a7,toObjectSet:i7,toCamelCase:r7,noop:o7,toFiniteNumber:l7,findKey:xj,global:Go,isContextDefined:vj,isSpecCompliantForm:c7,toJSONObject:u7,isAsyncFn:d7,isThenable:f7,setImmediate:jj,asap:h7,isIterable:p7};function un(t,r,e,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),e&&(this.config=e),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}Le.inherits(un,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.status}}});const Sj=un.prototype,_j={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_j[t]={value:t}});Object.defineProperties(un,_j);Object.defineProperty(Sj,"isAxiosError",{value:!0});un.from=(t,r,e,s,l,o)=>{const i=Object.create(Sj);return Le.toFlatObject(t,i,function(c){return c!==Error.prototype},d=>d!=="isAxiosError"),un.call(i,t.message,r,e,s,l),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const m7=null;function Y0(t){return Le.isPlainObject(t)||Le.isArray(t)}function Cj(t){return Le.endsWith(t,"[]")?t.slice(0,-2):t}function Hw(t,r,e){return t?t.concat(r).map(function(l,o){return l=Cj(l),!e&&o?"["+l+"]":l}).join(e?".":""):r}function g7(t){return Le.isArray(t)&&!t.some(Y0)}const b7=Le.toFlatObject(Le,{},null,function(r){return/^is[A-Z]/.test(r)});function ap(t,r,e){if(!Le.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,e=Le.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,g){return!Le.isUndefined(g[x])});const s=e.metaTokens,l=e.visitor||u,o=e.dots,i=e.indexes,c=(e.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(r);if(!Le.isFunction(l))throw new TypeError("visitor must be a function");function a(y){if(y===null)return"";if(Le.isDate(y))return y.toISOString();if(Le.isBoolean(y))return y.toString();if(!c&&Le.isBlob(y))throw new un("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(y)||Le.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,x,g){let w=y;if(y&&!g&&typeof y=="object"){if(Le.endsWith(x,"{}"))x=s?x:x.slice(0,-2),y=JSON.stringify(y);else if(Le.isArray(y)&&g7(y)||(Le.isFileList(y)||Le.endsWith(x,"[]"))&&(w=Le.toArray(y)))return x=Cj(x),w.forEach(function(j,N){!(Le.isUndefined(j)||j===null)&&r.append(i===!0?Hw([x],N,o):i===null?x:x+"[]",a(j))}),!1}return Y0(y)?!0:(r.append(Hw(g,x,o),a(y)),!1)}const m=[],h=Object.assign(b7,{defaultVisitor:u,convertValue:a,isVisitable:Y0});function p(y,x){if(!Le.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(y),Le.forEach(y,function(w,v){(!(Le.isUndefined(w)||w===null)&&l.call(r,w,Le.isString(v)?v.trim():v,x,h))===!0&&p(w,x?x.concat(v):[v])}),m.pop()}}if(!Le.isObject(t))throw new TypeError("data must be an object");return p(t),r}function Ww(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function Fb(t,r){this._pairs=[],t&&ap(t,this,r)}const Nj=Fb.prototype;Nj.append=function(r,e){this._pairs.push([r,e])};Nj.toString=function(r){const e=r?function(s){return r.call(this,s,Ww)}:Ww;return this._pairs.map(function(l){return e(l[0])+"="+e(l[1])},"").join("&")};function y7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kj(t,r,e){if(!r)return t;const s=e&&e.encode||y7;Le.isFunction(e)&&(e={serialize:e});const l=e&&e.serialize;let o;if(l?o=l(r,e):o=Le.isURLSearchParams(r)?r.toString():new Fb(r,e).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Gw{constructor(){this.handlers=[]}use(r,e,s){return this.handlers.push({fulfilled:r,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Le.forEach(this.handlers,function(s){s!==null&&r(s)})}}const Ej={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x7=typeof URLSearchParams<"u"?URLSearchParams:Fb,v7=typeof FormData<"u"?FormData:null,w7=typeof Blob<"u"?Blob:null,j7={isBrowser:!0,classes:{URLSearchParams:x7,FormData:v7,Blob:w7},protocols:["http","https","file","blob","url","data"]},Ub=typeof window<"u"&&typeof document<"u",X0=typeof navigator=="object"&&navigator||void 0,S7=Ub&&(!X0||["ReactNative","NativeScript","NS"].indexOf(X0.product)<0),_7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",C7=Ub&&window.location.href||"http://localhost",N7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ub,hasStandardBrowserEnv:S7,hasStandardBrowserWebWorkerEnv:_7,navigator:X0,origin:C7},Symbol.toStringTag,{value:"Module"})),rs={...N7,...j7};function k7(t,r){return ap(t,new rs.classes.URLSearchParams,{visitor:function(e,s,l,o){return rs.isNode&&Le.isBuffer(e)?(this.append(s,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...r})}function E7(t){return Le.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function R7(t){const r={},e=Object.keys(t);let s;const l=e.length;let o;for(s=0;s<l;s++)o=e[s],r[o]=t[o];return r}function Rj(t){function r(e,s,l,o){let i=e[o++];if(i==="__proto__")return!0;const d=Number.isFinite(+i),c=o>=e.length;return i=!i&&Le.isArray(l)?l.length:i,c?(Le.hasOwnProp(l,i)?l[i]=[l[i],s]:l[i]=s,!d):((!l[i]||!Le.isObject(l[i]))&&(l[i]=[]),r(e,s,l[i],o)&&Le.isArray(l[i])&&(l[i]=R7(l[i])),!d)}if(Le.isFormData(t)&&Le.isFunction(t.entries)){const e={};return Le.forEachEntry(t,(s,l)=>{r(E7(s),l,e,0)}),e}return null}function T7(t,r,e){if(Le.isString(t))try{return(r||JSON.parse)(t),Le.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(t)}const ud={transitional:Ej,adapter:["xhr","http","fetch"],transformRequest:[function(r,e){const s=e.getContentType()||"",l=s.indexOf("application/json")>-1,o=Le.isObject(r);if(o&&Le.isHTMLForm(r)&&(r=new FormData(r)),Le.isFormData(r))return l?JSON.stringify(Rj(r)):r;if(Le.isArrayBuffer(r)||Le.isBuffer(r)||Le.isStream(r)||Le.isFile(r)||Le.isBlob(r)||Le.isReadableStream(r))return r;if(Le.isArrayBufferView(r))return r.buffer;if(Le.isURLSearchParams(r))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let d;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return k7(r,this.formSerializer).toString();if((d=Le.isFileList(r))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ap(d?{"files[]":r}:r,c&&new c,this.formSerializer)}}return o||l?(e.setContentType("application/json",!1),T7(r)):r}],transformResponse:[function(r){const e=this.transitional||ud.transitional,s=e&&e.forcedJSONParsing,l=this.responseType==="json";if(Le.isResponse(r)||Le.isReadableStream(r))return r;if(r&&Le.isString(r)&&(s&&!this.responseType||l)){const i=!(e&&e.silentJSONParsing)&&l;try{return JSON.parse(r)}catch(d){if(i)throw d.name==="SyntaxError"?un.from(d,un.ERR_BAD_RESPONSE,this,null,this.response):d}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rs.classes.FormData,Blob:rs.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],t=>{ud.headers[t]={}});const A7=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),M7=t=>{const r={};let e,s,l;return t&&t.split(`
`).forEach(function(i){l=i.indexOf(":"),e=i.substring(0,l).trim().toLowerCase(),s=i.substring(l+1).trim(),!(!e||r[e]&&A7[e])&&(e==="set-cookie"?r[e]?r[e].push(s):r[e]=[s]:r[e]=r[e]?r[e]+", "+s:s)}),r},Yw=Symbol("internals");function Su(t){return t&&String(t).trim().toLowerCase()}function lh(t){return t===!1||t==null?t:Le.isArray(t)?t.map(lh):String(t)}function O7(t){const r=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(t);)r[s[1]]=s[2];return r}const D7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function f0(t,r,e,s,l){if(Le.isFunction(s))return s.call(this,r,e);if(l&&(r=e),!!Le.isString(r)){if(Le.isString(s))return r.indexOf(s)!==-1;if(Le.isRegExp(s))return s.test(r)}}function I7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,e,s)=>e.toUpperCase()+s)}function P7(t,r){const e=Le.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+e,{value:function(l,o,i){return this[s].call(this,r,l,o,i)},configurable:!0})})}let _s=class{constructor(r){r&&this.set(r)}set(r,e,s){const l=this;function o(d,c,a){const u=Su(c);if(!u)throw new Error("header name must be a non-empty string");const m=Le.findKey(l,u);(!m||l[m]===void 0||a===!0||a===void 0&&l[m]!==!1)&&(l[m||c]=lh(d))}const i=(d,c)=>Le.forEach(d,(a,u)=>o(a,u,c));if(Le.isPlainObject(r)||r instanceof this.constructor)i(r,e);else if(Le.isString(r)&&(r=r.trim())&&!D7(r))i(M7(r),e);else if(Le.isObject(r)&&Le.isIterable(r)){let d={},c,a;for(const u of r){if(!Le.isArray(u))throw TypeError("Object iterator must return a key-value pair");d[a=u[0]]=(c=d[a])?Le.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(d,e)}else r!=null&&o(e,r,s);return this}get(r,e){if(r=Su(r),r){const s=Le.findKey(this,r);if(s){const l=this[s];if(!e)return l;if(e===!0)return O7(l);if(Le.isFunction(e))return e.call(this,l,s);if(Le.isRegExp(e))return e.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,e){if(r=Su(r),r){const s=Le.findKey(this,r);return!!(s&&this[s]!==void 0&&(!e||f0(this,this[s],s,e)))}return!1}delete(r,e){const s=this;let l=!1;function o(i){if(i=Su(i),i){const d=Le.findKey(s,i);d&&(!e||f0(s,s[d],d,e))&&(delete s[d],l=!0)}}return Le.isArray(r)?r.forEach(o):o(r),l}clear(r){const e=Object.keys(this);let s=e.length,l=!1;for(;s--;){const o=e[s];(!r||f0(this,this[o],o,r,!0))&&(delete this[o],l=!0)}return l}normalize(r){const e=this,s={};return Le.forEach(this,(l,o)=>{const i=Le.findKey(s,o);if(i){e[i]=lh(l),delete e[o];return}const d=r?I7(o):String(o).trim();d!==o&&delete e[o],e[d]=lh(l),s[d]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const e=Object.create(null);return Le.forEach(this,(s,l)=>{s!=null&&s!==!1&&(e[l]=r&&Le.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,e])=>r+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...e){const s=new this(r);return e.forEach(l=>s.set(l)),s}static accessor(r){const s=(this[Yw]=this[Yw]={accessors:{}}).accessors,l=this.prototype;function o(i){const d=Su(i);s[d]||(P7(l,i),s[d]=!0)}return Le.isArray(r)?r.forEach(o):o(r),this}};_s.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(_s.prototype,({value:t},r)=>{let e=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(s){this[e]=s}}});Le.freezeMethods(_s);function h0(t,r){const e=this||ud,s=r||e,l=_s.from(s.headers);let o=s.data;return Le.forEach(t,function(d){o=d.call(e,o,l.normalize(),r?r.status:void 0)}),l.normalize(),o}function Tj(t){return!!(t&&t.__CANCEL__)}function pc(t,r,e){un.call(this,t??"canceled",un.ERR_CANCELED,r,e),this.name="CanceledError"}Le.inherits(pc,un,{__CANCEL__:!0});function Aj(t,r,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?t(e):r(new un("Request failed with status code "+e.status,[un.ERR_BAD_REQUEST,un.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function L7(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function B7(t,r){t=t||10;const e=new Array(t),s=new Array(t);let l=0,o=0,i;return r=r!==void 0?r:1e3,function(c){const a=Date.now(),u=s[o];i||(i=a),e[l]=c,s[l]=a;let m=o,h=0;for(;m!==l;)h+=e[m++],m=m%t;if(l=(l+1)%t,l===o&&(o=(o+1)%t),a-i<r)return;const p=u&&a-u;return p?Math.round(h*1e3/p):void 0}}function F7(t,r){let e=0,s=1e3/r,l,o;const i=(a,u=Date.now())=>{e=u,l=null,o&&(clearTimeout(o),o=null),t(...a)};return[(...a)=>{const u=Date.now(),m=u-e;m>=s?i(a,u):(l=a,o||(o=setTimeout(()=>{o=null,i(l)},s-m)))},()=>l&&i(l)]}const yh=(t,r,e=3)=>{let s=0;const l=B7(50,250);return F7(o=>{const i=o.loaded,d=o.lengthComputable?o.total:void 0,c=i-s,a=l(c),u=i<=d;s=i;const m={loaded:i,total:d,progress:d?i/d:void 0,bytes:c,rate:a||void 0,estimated:a&&d&&u?(d-i)/a:void 0,event:o,lengthComputable:d!=null,[r?"download":"upload"]:!0};t(m)},e)},Xw=(t,r)=>{const e=t!=null;return[s=>r[0]({lengthComputable:e,total:t,loaded:s}),r[1]]},Kw=t=>(...r)=>Le.asap(()=>t(...r)),U7=rs.hasStandardBrowserEnv?((t,r)=>e=>(e=new URL(e,rs.origin),t.protocol===e.protocol&&t.host===e.host&&(r||t.port===e.port)))(new URL(rs.origin),rs.navigator&&/(msie|trident)/i.test(rs.navigator.userAgent)):()=>!0,$7=rs.hasStandardBrowserEnv?{write(t,r,e,s,l,o){const i=[t+"="+encodeURIComponent(r)];Le.isNumber(e)&&i.push("expires="+new Date(e).toGMTString()),Le.isString(s)&&i.push("path="+s),Le.isString(l)&&i.push("domain="+l),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function z7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function q7(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function Mj(t,r,e){let s=!z7(r);return t&&(s||e==!1)?q7(t,r):r}const Qw=t=>t instanceof _s?{...t}:t;function nl(t,r){r=r||{};const e={};function s(a,u,m,h){return Le.isPlainObject(a)&&Le.isPlainObject(u)?Le.merge.call({caseless:h},a,u):Le.isPlainObject(u)?Le.merge({},u):Le.isArray(u)?u.slice():u}function l(a,u,m,h){if(Le.isUndefined(u)){if(!Le.isUndefined(a))return s(void 0,a,m,h)}else return s(a,u,m,h)}function o(a,u){if(!Le.isUndefined(u))return s(void 0,u)}function i(a,u){if(Le.isUndefined(u)){if(!Le.isUndefined(a))return s(void 0,a)}else return s(void 0,u)}function d(a,u,m){if(m in r)return s(a,u);if(m in t)return s(void 0,a)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:d,headers:(a,u,m)=>l(Qw(a),Qw(u),m,!0)};return Le.forEach(Object.keys({...t,...r}),function(u){const m=c[u]||l,h=m(t[u],r[u],u);Le.isUndefined(h)&&m!==d||(e[u]=h)}),e}const Oj=t=>{const r=nl({},t);let{data:e,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:o,headers:i,auth:d}=r;r.headers=i=_s.from(i),r.url=kj(Mj(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&i.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let c;if(Le.isFormData(e)){if(rs.hasStandardBrowserEnv||rs.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[a,...u]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([a||"multipart/form-data",...u].join("; "))}}if(rs.hasStandardBrowserEnv&&(s&&Le.isFunction(s)&&(s=s(r)),s||s!==!1&&U7(r.url))){const a=l&&o&&$7.read(o);a&&i.set(l,a)}return r},V7=typeof XMLHttpRequest<"u",H7=V7&&function(t){return new Promise(function(e,s){const l=Oj(t);let o=l.data;const i=_s.from(l.headers).normalize();let{responseType:d,onUploadProgress:c,onDownloadProgress:a}=l,u,m,h,p,y;function x(){p&&p(),y&&y(),l.cancelToken&&l.cancelToken.unsubscribe(u),l.signal&&l.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(l.method.toUpperCase(),l.url,!0),g.timeout=l.timeout;function w(){if(!g)return;const j=_s.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),T={data:!d||d==="text"||d==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:t,request:g};Aj(function(V){e(V),x()},function(V){s(V),x()},T),g=null}"onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(w)},g.onabort=function(){g&&(s(new un("Request aborted",un.ECONNABORTED,t,g)),g=null)},g.onerror=function(){s(new un("Network Error",un.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let N=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const T=l.transitional||Ej;l.timeoutErrorMessage&&(N=l.timeoutErrorMessage),s(new un(N,T.clarifyTimeoutError?un.ETIMEDOUT:un.ECONNABORTED,t,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&Le.forEach(i.toJSON(),function(N,T){g.setRequestHeader(T,N)}),Le.isUndefined(l.withCredentials)||(g.withCredentials=!!l.withCredentials),d&&d!=="json"&&(g.responseType=l.responseType),a&&([h,y]=yh(a,!0),g.addEventListener("progress",h)),c&&g.upload&&([m,p]=yh(c),g.upload.addEventListener("progress",m),g.upload.addEventListener("loadend",p)),(l.cancelToken||l.signal)&&(u=j=>{g&&(s(!j||j.type?new pc(null,t,g):j),g.abort(),g=null)},l.cancelToken&&l.cancelToken.subscribe(u),l.signal&&(l.signal.aborted?u():l.signal.addEventListener("abort",u)));const v=L7(l.url);if(v&&rs.protocols.indexOf(v)===-1){s(new un("Unsupported protocol "+v+":",un.ERR_BAD_REQUEST,t));return}g.send(o||null)})},W7=(t,r)=>{const{length:e}=t=t?t.filter(Boolean):[];if(r||e){let s=new AbortController,l;const o=function(a){if(!l){l=!0,d();const u=a instanceof Error?a:this.reason;s.abort(u instanceof un?u:new pc(u instanceof Error?u.message:u))}};let i=r&&setTimeout(()=>{i=null,o(new un(`timeout ${r} of ms exceeded`,un.ETIMEDOUT))},r);const d=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(a=>{a.unsubscribe?a.unsubscribe(o):a.removeEventListener("abort",o)}),t=null)};t.forEach(a=>a.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>Le.asap(d),c}},G7=function*(t,r){let e=t.byteLength;if(e<r){yield t;return}let s=0,l;for(;s<e;)l=s+r,yield t.slice(s,l),s=l},Y7=async function*(t,r){for await(const e of X7(t))yield*G7(e,r)},X7=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:e,value:s}=await r.read();if(e)break;yield s}}finally{await r.cancel()}},Zw=(t,r,e,s)=>{const l=Y7(t,r);let o=0,i,d=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:a,value:u}=await l.next();if(a){d(),c.close();return}let m=u.byteLength;if(e){let h=o+=m;e(h)}c.enqueue(new Uint8Array(u))}catch(a){throw d(a),a}},cancel(c){return d(c),l.return()}},{highWaterMark:2})},ip=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Dj=ip&&typeof ReadableStream=="function",K7=ip&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ij=(t,...r)=>{try{return!!t(...r)}catch{return!1}},Q7=Dj&&Ij(()=>{let t=!1;const r=new Request(rs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),Jw=64*1024,K0=Dj&&Ij(()=>Le.isReadableStream(new Response("").body)),xh={stream:K0&&(t=>t.body)};ip&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!xh[r]&&(xh[r]=Le.isFunction(t[r])?e=>e[r]():(e,s)=>{throw new un(`Response type '${r}' is not supported`,un.ERR_NOT_SUPPORT,s)})})})(new Response);const Z7=async t=>{if(t==null)return 0;if(Le.isBlob(t))return t.size;if(Le.isSpecCompliantForm(t))return(await new Request(rs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Le.isArrayBufferView(t)||Le.isArrayBuffer(t))return t.byteLength;if(Le.isURLSearchParams(t)&&(t=t+""),Le.isString(t))return(await K7(t)).byteLength},J7=async(t,r)=>{const e=Le.toFiniteNumber(t.getContentLength());return e??Z7(r)},eR=ip&&(async t=>{let{url:r,method:e,data:s,signal:l,cancelToken:o,timeout:i,onDownloadProgress:d,onUploadProgress:c,responseType:a,headers:u,withCredentials:m="same-origin",fetchOptions:h}=Oj(t);a=a?(a+"").toLowerCase():"text";let p=W7([l,o&&o.toAbortSignal()],i),y;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(c&&Q7&&e!=="get"&&e!=="head"&&(g=await J7(u,s))!==0){let T=new Request(r,{method:"POST",body:s,duplex:"half"}),D;if(Le.isFormData(s)&&(D=T.headers.get("content-type"))&&u.setContentType(D),T.body){const[V,P]=Xw(g,yh(Kw(c)));s=Zw(T.body,Jw,V,P)}}Le.isString(m)||(m=m?"include":"omit");const w="credentials"in Request.prototype;y=new Request(r,{...h,signal:p,method:e.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:w?m:void 0});let v=await fetch(y,h);const j=K0&&(a==="stream"||a==="response");if(K0&&(d||j&&x)){const T={};["status","statusText","headers"].forEach($=>{T[$]=v[$]});const D=Le.toFiniteNumber(v.headers.get("content-length")),[V,P]=d&&Xw(D,yh(Kw(d),!0))||[];v=new Response(Zw(v.body,Jw,V,()=>{P&&P(),x&&x()}),T)}a=a||"text";let N=await xh[Le.findKey(xh,a)||"text"](v,t);return!j&&x&&x(),await new Promise((T,D)=>{Aj(T,D,{data:N,headers:_s.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:y})})}catch(w){throw x&&x(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new un("Network Error",un.ERR_NETWORK,t,y),{cause:w.cause||w}):un.from(w,w&&w.code,t,y)}}),Q0={http:m7,xhr:H7,fetch:eR};Le.forEach(Q0,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const e2=t=>`- ${t}`,tR=t=>Le.isFunction(t)||t===null||t===!1,Pj={getAdapter:t=>{t=Le.isArray(t)?t:[t];const{length:r}=t;let e,s;const l={};for(let o=0;o<r;o++){e=t[o];let i;if(s=e,!tR(e)&&(s=Q0[(i=String(e)).toLowerCase()],s===void 0))throw new un(`Unknown adapter '${i}'`);if(s)break;l[i||"#"+o]=s}if(!s){const o=Object.entries(l).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=r?o.length>1?`since :
`+o.map(e2).join(`
`):" "+e2(o[0]):"as no adapter specified";throw new un("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Q0};function p0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pc(null,t)}function t2(t){return p0(t),t.headers=_s.from(t.headers),t.data=h0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Pj.getAdapter(t.adapter||ud.adapter)(t).then(function(s){return p0(t),s.data=h0.call(t,t.transformResponse,s),s.headers=_s.from(s.headers),s},function(s){return Tj(s)||(p0(t),s&&s.response&&(s.response.data=h0.call(t,t.transformResponse,s.response),s.response.headers=_s.from(s.response.headers))),Promise.reject(s)})}const Lj="1.11.0",op={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{op[t]=function(s){return typeof s===t||"a"+(r<1?"n ":" ")+t}});const n2={};op.transitional=function(r,e,s){function l(o,i){return"[Axios v"+Lj+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,d)=>{if(r===!1)throw new un(l(i," has been removed"+(e?" in "+e:"")),un.ERR_DEPRECATED);return e&&!n2[i]&&(n2[i]=!0,console.warn(l(i," has been deprecated since v"+e+" and will be removed in the near future"))),r?r(o,i,d):!0}};op.spelling=function(r){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function nR(t,r,e){if(typeof t!="object")throw new un("options must be an object",un.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let l=s.length;for(;l-- >0;){const o=s[l],i=r[o];if(i){const d=t[o],c=d===void 0||i(d,o,t);if(c!==!0)throw new un("option "+o+" must be "+c,un.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new un("Unknown option "+o,un.ERR_BAD_OPTION)}}const ch={assertOptions:nR,validators:op},Pa=ch.validators;let Qo=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Gw,response:new Gw}}async request(r,e){try{return await this._request(r,e)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const o=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(r,e){typeof r=="string"?(e=e||{},e.url=r):e=r||{},e=nl(this.defaults,e);const{transitional:s,paramsSerializer:l,headers:o}=e;s!==void 0&&ch.assertOptions(s,{silentJSONParsing:Pa.transitional(Pa.boolean),forcedJSONParsing:Pa.transitional(Pa.boolean),clarifyTimeoutError:Pa.transitional(Pa.boolean)},!1),l!=null&&(Le.isFunction(l)?e.paramsSerializer={serialize:l}:ch.assertOptions(l,{encode:Pa.function,serialize:Pa.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),ch.assertOptions(e,{baseUrl:Pa.spelling("baseURL"),withXsrfToken:Pa.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i=o&&Le.merge(o.common,o[e.method]);o&&Le.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),e.headers=_s.concat(i,o);const d=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(e)===!1||(c=c&&x.synchronous,d.unshift(x.fulfilled,x.rejected))});const a=[];this.interceptors.response.forEach(function(x){a.push(x.fulfilled,x.rejected)});let u,m=0,h;if(!c){const y=[t2.bind(this),void 0];for(y.unshift(...d),y.push(...a),h=y.length,u=Promise.resolve(e);m<h;)u=u.then(y[m++],y[m++]);return u}h=d.length;let p=e;for(m=0;m<h;){const y=d[m++],x=d[m++];try{p=y(p)}catch(g){x.call(this,g);break}}try{u=t2.call(this,p)}catch(y){return Promise.reject(y)}for(m=0,h=a.length;m<h;)u=u.then(a[m++],a[m++]);return u}getUri(r){r=nl(this.defaults,r);const e=Mj(r.baseURL,r.url,r.allowAbsoluteUrls);return kj(e,r.params,r.paramsSerializer)}};Le.forEach(["delete","get","head","options"],function(r){Qo.prototype[r]=function(e,s){return this.request(nl(s||{},{method:r,url:e,data:(s||{}).data}))}});Le.forEach(["post","put","patch"],function(r){function e(s){return function(o,i,d){return this.request(nl(d||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Qo.prototype[r]=e(),Qo.prototype[r+"Form"]=e(!0)});let rR=class Bj{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const s=this;this.promise.then(l=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](l);s._listeners=null}),this.promise.then=l=>{let o;const i=new Promise(d=>{s.subscribe(d),o=d}).then(l);return i.cancel=function(){s.unsubscribe(o)},i},r(function(o,i,d){s.reason||(s.reason=new pc(o,i,d),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const e=this._listeners.indexOf(r);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const r=new AbortController,e=s=>{r.abort(s)};return this.subscribe(e),r.signal.unsubscribe=()=>this.unsubscribe(e),r.signal}static source(){let r;return{token:new Bj(function(l){r=l}),cancel:r}}};function sR(t){return function(e){return t.apply(null,e)}}function aR(t){return Le.isObject(t)&&t.isAxiosError===!0}const Z0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Z0).forEach(([t,r])=>{Z0[r]=t});function Fj(t){const r=new Qo(t),e=mj(Qo.prototype.request,r);return Le.extend(e,Qo.prototype,r,{allOwnKeys:!0}),Le.extend(e,r,null,{allOwnKeys:!0}),e.create=function(l){return Fj(nl(t,l))},e}const Ln=Fj(ud);Ln.Axios=Qo;Ln.CanceledError=pc;Ln.CancelToken=rR;Ln.isCancel=Tj;Ln.VERSION=Lj;Ln.toFormData=ap;Ln.AxiosError=un;Ln.Cancel=Ln.CanceledError;Ln.all=function(r){return Promise.all(r)};Ln.spread=sR;Ln.isAxiosError=aR;Ln.mergeConfig=nl;Ln.AxiosHeaders=_s;Ln.formToJSON=t=>Rj(Le.isHTMLForm(t)?new FormData(t):t);Ln.getAdapter=Pj.getAdapter;Ln.HttpStatusCode=Z0;Ln.default=Ln;const{Axios:Lfe,AxiosError:Bfe,CanceledError:Ffe,isCancel:Ufe,CancelToken:$fe,VERSION:zfe,all:qfe,Cancel:Vfe,isAxiosError:Hfe,spread:Wfe,toFormData:Gfe,AxiosHeaders:Yfe,HttpStatusCode:Xfe,formToJSON:Kfe,getAdapter:Qfe,mergeConfig:Zfe}=Ln,r2=t=>typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/.test(t),J0=t=>!t||typeof t!="object"?t:Array.isArray(t)?t.map(r=>r2(r)?new Date(r):J0(r)):Object.keys(t).reduce((r,e)=>{const s=t[e];return r2(s)?r[e]=new Date(s):typeof s=="object"&&s!==null?r[e]=J0(s):r[e]=s,r},{}),iR=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=Math.random()*16|0;return(t==="x"?r:r&3|8).toString(16)}),nc=()=>{const t=localStorage.getItem("deviceUUID");if(t)return t;const r=iR();return localStorage.setItem("deviceUUID",r),r};let eb=null;const oR=t=>{eb=t};window.__env?.VITE_APP_SERVER_URL;const dd=window.location.origin,oo="|none|",Ye=Ln.create({baseURL:`${dd}/api/`,withCredentials:!0}),s2=sessionStorage.getItem("authToken");s2&&(Ye.defaults.headers.common.Authorization=`Bearer ${s2}`);Ye.interceptors.request.use(t=>{const r=sessionStorage.getItem("authToken");r&&(t.headers.Authorization=`Bearer ${r}`);const e=nc();return t.headers["X-Device-UUID"]=e,t},t=>Promise.reject(t));Ye.interceptors.response.use(t=>(t.data=J0(t.data),t),t=>{const r=t.response;if(r){const e=r.status;(e===401||e==403)&&(eb?eb(`/unauthorized?errorCode=${e}`):window.location.replace(`/unauthorized?errorCode=${e}`))}return Promise.reject(t)});var Lr=(t=>(t.Active="Active",t.Inactive="Inactive",t.Disabled="Disabled",t))(Lr||{}),Jn=(t=>(t.Invalid="Invalid",t.Active="Active",t.PaymentDue="PaymentDue",t.PaymentDueUnknown="PaymentDueUnknown",t.Disabled="Disabled",t.Demo="Demo",t.DemoExpired="DemoExpired",t))(Jn||{}),Is=(t=>(t.Status="Status",t.LineStatus="LineStatus",t.CloseReason="CloseReason",t.Ok="Ok",t.SupervisorPassword="SupervisorPassword",t.NotSupervisor="NotSupervisor",t.QuantityMoreThenAvailable="QuantityMoreThenAvailable",t))(Is||{}),Mt=(t=>(t.Open="Open",t.Processing="Processing",t.Finished="Finished",t.Cancelled="Cancelled",t.InProgress="InProgress",t.WaitingForApproval="WaitingForApproval",t.Rejected="Rejected",t))(Mt||{}),an=(t=>(t.Unit="Unit",t.Dozen="Dozen",t.Pack="Pack",t))(an||{}),qe=(t=>(t.Regular="regular",t.Confirmation="confirmation",t.TransferConfirmation="transferConfirmation",t))(qe||{}),Ba=(t=>(t[t.Ok=0]="Ok",t[t.ItemCodeNotFound=-1]="ItemCodeNotFound",t[t.ItemCodeBarCodeMismatch=-2]="ItemCodeBarCodeMismatch",t[t.TransactionIDNotExists=-3]="TransactionIDNotExists",t[t.NotAdded=-4]="NotAdded",t[t.NotPurchaseItem=-5]="NotPurchaseItem",t[t.ItemWasNotFoundInTransactionSpecificDocuments=-6]="ItemWasNotFoundInTransactionSpecificDocuments",t[t.QuantityMoreThenReleased=-7]="QuantityMoreThenReleased",t[t.NotStockItem=-8]="NotStockItem",t[t.ItemNotInWarehouse=-9]="ItemNotInWarehouse",t[t.BinNotExists=-10]="BinNotExists",t[t.BinNotInWarehouse=-11]="BinNotInWarehouse",t[t.BinMissing=-12]="BinMissing",t[t.QuantityMoreAvailable=-13]="QuantityMoreAvailable",t[t.PackageBinLocation=-14]="PackageBinLocation",t))(Ba||{}),fd=(t=>(t.GoodsReceipt="GoodsReceipt",t.Counting="Counting",t.Transfer="Transfer",t))(fd||{});const lR=async t=>(await Ye.get(`${t}/CancelReasons`)).data,cR=({user:t,onTimeout:r})=>{const e=B.useRef(null);return B.useEffect(()=>{if(!t||!t.settings?.idleLogoutTimeout){e.current&&(clearTimeout(e.current),e.current=null);return}const l=t.settings.idleLogoutTimeout*1e3,o=()=>{e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{r()},l)},i=()=>{o()},d=["mousedown","mousemove","keypress","scroll","touchstart","click"];return d.forEach(c=>{document.addEventListener(c,i,!0)}),o(),()=>{d.forEach(c=>{document.removeEventListener(c,i,!0)}),e.current&&(clearTimeout(e.current),e.current=null)}},[t,r]),e},uR=()=>{const[t,r]=B.useState(null),[e,s]=B.useState(!1),[l,o]=B.useState(!0),i=`${dd}/api/`;B.useEffect(()=>{(async()=>{try{o(!0),s(!1);const a=nc(),u=await Ln.get(`${i}Authentication/CompanyInfo`,{headers:{"X-Device-UUID":a}});r(u.data),s(!1)}catch(a){console.log(`Failed to load company name: ${a}`),(a.code==="ERR_NETWORK"||a.code==="ERR_CONNECTION_REFUSED"||!a.response)&&s(!0)}finally{o(!1)}})()},[i]);const d=B.useCallback(async()=>{try{o(!0),s(!1);const c=nc(),a=await Ln.get(`${i}Authentication/CompanyInfo`,{headers:{"X-Device-UUID":c}});r(a.data),s(!1)}catch(c){console.error("Failed to reload company info:",c),(c.code==="ERR_NETWORK"||c.code==="ERR_CONNECTION_REFUSED"||!c.response)&&s(!0)}finally{o(!1)}},[i]);return{companyInfo:t,connectionError:e,isLoading:l,reloadCompanyInfo:d}},dR=()=>{B.useEffect(()=>{const t=async()=>{try{if(sessionStorage.getItem("authToken")&&navigator.sendBeacon){const e=new FormData;navigator.sendBeacon(`${dd}/api/authentication/logout`,e)}}catch(r){console.error("Error during beforeunload logout:",r)}};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[])},fR=({setUser:t,setIsLoading:r})=>{B.useEffect(()=>{(async()=>{try{const s=sessionStorage.getItem("authToken"),l=sessionStorage.getItem("tokenExpiration");if(s&&l)if(new Date(l)>new Date){const d=await Ye.get("General/UserInfo");t(d.data)}else sessionStorage.removeItem("authToken"),sessionStorage.removeItem("tokenExpiration"),t(null);else t(null)}catch(s){console.error("Error fetching user info:",s),Ln.isAxiosError(s)&&s.response&&(s.response.status===401||s.response.status===403)&&(sessionStorage.removeItem("authToken"),sessionStorage.removeItem("tokenExpiration"),t(null))}finally{r(!1)}})()},[t,r])},hR={displayVendor:!1,isAuthenticated:!1,isDeviceActive:!1,isValidAccount:!1,user:null,connectionError:!1,login:async(t,r,e)=>(console.warn("Login method not implemented yet!"),{deviceStatus:void 0,superUser:!1}),logout:()=>{},isLoading:!0,updateDeviceStatus:t=>{console.warn("updateDeviceStatus method not implemented yet!")},showDeviceStatusBanner:!0,setShowDeviceStatusBanner:t=>{console.warn("setShowDeviceStatusBanner method not implemented yet!")},reloadCompanyInfo:async()=>{console.warn("reloadCompanyInfo method not implemented yet!")},unitSelection:!0,enableUseBaseUn:!0,defaultUnit:an.Pack},Uj=B.createContext(hR),pR=({children:t})=>{const[r,e]=B.useState(null),[s,l]=B.useState(!0),[o,i]=B.useState(!0),d=`${dd}/api/`,{companyInfo:c,connectionError:a,isLoading:u,reloadCompanyInfo:m}=uR();dR();const h=B.useCallback(async()=>{try{await Ye.post("authentication/logout")}catch($){console.error("Logout failed:",$)}sessionStorage.removeItem("authToken"),sessionStorage.removeItem("tokenExpiration"),e(null)},[]);cR({user:r,onTimeout:h}),fR({setUser:e,setIsLoading:l});const p=async($,G,Y)=>{try{return await y($,G,Y)}catch(W){const R=W.response?.data?.error_description;throw console.error(R??W),W}};async function y($,G,Y){const W={password:$};G&&(W.warehouse=G),Y&&(W.newDeviceName=Y);const O=await Ln.post(`${d}authentication/login`,W,{withCredentials:!0,headers:{"X-Device-UUID":nc()}});if(O.status===200){const I=O.data;I.token&&(sessionStorage.setItem("authToken",I.token),sessionStorage.setItem("tokenExpiration",I.expiresAt)),await new Promise(C=>setTimeout(C,100));let S=(await Ye.get("general/userInfo")).data;if(S){if(!S.superUser&&S.deviceStatus!==Lr.Active)throw sessionStorage.removeItem("authToken"),sessionStorage.removeItem("tokenExpiration"),new Error("Device is not active");return e(S),{deviceStatus:S?.deviceStatus,superUser:S?.superUser??!1}}}return{deviceStatus:Lr.Disabled,superUser:!1}}const x=$=>{r&&e({...r,deviceStatus:$})},g=r!==null,w=r?.deviceStatus===Lr.Active,j=[Jn.Active,Jn.PaymentDue,Jn.PaymentDueUnknown,Jn.Demo].some($=>$===c?.accountStatus),N=r?.settings?.enableUnitSelection??!0,T=r?.settings?.enableUseBaseUn??!0,D=r?.settings?.defaultUnitType??an.Pack,V=r?.settings?.displayVendor??!0,P={isAuthenticated:g,isDeviceActive:w,isValidAccount:j,user:r,companyInfo:c,connectionError:a,login:p,logout:h,isLoading:s||u,updateDeviceStatus:x,showDeviceStatusBanner:o,setShowDeviceStatusBanner:i,reloadCompanyInfo:m,unitSelection:N,enableUseBaseUn:T,defaultUnit:D,displayVendor:V};return n.jsx(Uj,{value:P,children:t})},bt=()=>{const t=B.useContext(Uj);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function a2(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function lp(...t){return r=>{let e=!1;const s=t.map(l=>{const o=a2(l,r);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let l=0;l<s.length;l++){const o=s[l];typeof o=="function"?o():a2(t[l],null)}}}}function tn(...t){return B.useCallback(lp(...t),t)}function co(t){const r=mR(t),e=B.forwardRef((s,l)=>{const{children:o,...i}=s,d=B.Children.toArray(o),c=d.find(gR);if(c){const a=c.props.children,u=d.map(m=>m===c?B.Children.count(a)>1?B.Children.only(null):B.isValidElement(a)?a.props.children:null:m);return n.jsx(r,{...i,ref:l,children:B.isValidElement(a)?B.cloneElement(a,void 0,u):null})}return n.jsx(r,{...i,ref:l,children:o})});return e.displayName=`${t}.Slot`,e}var cp=co("Slot");function mR(t){const r=B.forwardRef((e,s)=>{const{children:l,...o}=e;if(B.isValidElement(l)){const i=yR(l),d=bR(o,l.props);return l.type!==B.Fragment&&(d.ref=s?lp(s,i):i),B.cloneElement(l,d)}return B.Children.count(l)>1?B.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var $j=Symbol("radix.slottable");function zj(t){const r=({children:e})=>n.jsx(n.Fragment,{children:e});return r.displayName=`${t}.Slottable`,r.__radixId=$j,r}function gR(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$j}function bR(t,r){const e={...r};for(const s in r){const l=t[s],o=r[s];/^on[A-Z]/.test(s)?l&&o?e[s]=(...d)=>{const c=o(...d);return l(...d),c}:l&&(e[s]=l):s==="style"?e[s]={...l,...o}:s==="className"&&(e[s]=[l,o].filter(Boolean).join(" "))}return{...t,...e}}function yR(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}function qj(t){var r,e,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(e=qj(t[r]))&&(s&&(s+=" "),s+=e)}else for(e in t)t[e]&&(s&&(s+=" "),s+=e);return s}function Vj(){for(var t,r,e=0,s="",l=arguments.length;e<l;e++)(t=arguments[e])&&(r=qj(t))&&(s&&(s+=" "),s+=r);return s}const i2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,o2=Vj,up=(t,r)=>e=>{var s;if(r?.variants==null)return o2(t,e?.class,e?.className);const{variants:l,defaultVariants:o}=r,i=Object.keys(l).map(a=>{const u=e?.[a],m=o?.[a];if(u===null)return null;const h=i2(u)||i2(m);return l[a][h]}),d=e&&Object.entries(e).reduce((a,u)=>{let[m,h]=u;return h===void 0||(a[m]=h),a},{}),c=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((a,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(y=>{let[x,g]=y;return Array.isArray(g)?g.includes({...o,...d}[x]):{...o,...d}[x]===g})?[...a,m,h]:a},[]);return o2(t,i,c,e?.class,e?.className)},$b="-",xR=t=>{const r=wR(t),{conflictingClassGroups:e,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:i=>{const d=i.split($b);return d[0]===""&&d.length!==1&&d.shift(),Hj(d,r)||vR(i)},getConflictingClassGroupIds:(i,d)=>{const c=e[i]||[];return d&&s[i]?[...c,...s[i]]:c}}},Hj=(t,r)=>{if(t.length===0)return r.classGroupId;const e=t[0],s=r.nextPart.get(e),l=s?Hj(t.slice(1),s):void 0;if(l)return l;if(r.validators.length===0)return;const o=t.join($b);return r.validators.find(({validator:i})=>i(o))?.classGroupId},l2=/^\[(.+)\]$/,vR=t=>{if(l2.test(t)){const r=l2.exec(t)[1],e=r?.substring(0,r.indexOf(":"));if(e)return"arbitrary.."+e}},wR=t=>{const{theme:r,classGroups:e}=t,s={nextPart:new Map,validators:[]};for(const l in e)tb(e[l],s,l,r);return s},tb=(t,r,e,s)=>{t.forEach(l=>{if(typeof l=="string"){const o=l===""?r:c2(r,l);o.classGroupId=e;return}if(typeof l=="function"){if(jR(l)){tb(l(s),r,e,s);return}r.validators.push({validator:l,classGroupId:e});return}Object.entries(l).forEach(([o,i])=>{tb(i,c2(r,o),e,s)})})},c2=(t,r)=>{let e=t;return r.split($b).forEach(s=>{e.nextPart.has(s)||e.nextPart.set(s,{nextPart:new Map,validators:[]}),e=e.nextPart.get(s)}),e},jR=t=>t.isThemeGetter,SR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,e=new Map,s=new Map;const l=(o,i)=>{e.set(o,i),r++,r>t&&(r=0,s=e,e=new Map)};return{get(o){let i=e.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return l(o,i),i},set(o,i){e.has(o)?e.set(o,i):l(o,i)}}},nb="!",rb=":",_R=rb.length,CR=t=>{const{prefix:r,experimentalParseClassName:e}=t;let s=l=>{const o=[];let i=0,d=0,c=0,a;for(let y=0;y<l.length;y++){let x=l[y];if(i===0&&d===0){if(x===rb){o.push(l.slice(c,y)),c=y+_R;continue}if(x==="/"){a=y;continue}}x==="["?i++:x==="]"?i--:x==="("?d++:x===")"&&d--}const u=o.length===0?l:l.substring(c),m=NR(u),h=m!==u,p=a&&a>c?a-c:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}};if(r){const l=r+rb,o=s;s=i=>i.startsWith(l)?o(i.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(e){const l=s;s=o=>e({className:o,parseClassName:l})}return s},NR=t=>t.endsWith(nb)?t.substring(0,t.length-1):t.startsWith(nb)?t.substring(1):t,kR=t=>{const r=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const l=[];let o=[];return s.forEach(i=>{i[0]==="["||r[i]?(l.push(...o.sort(),i),o=[]):o.push(i)}),l.push(...o.sort()),l}},ER=t=>({cache:SR(t.cacheSize),parseClassName:CR(t),sortModifiers:kR(t),...xR(t)}),RR=/\s+/,TR=(t,r)=>{const{parseClassName:e,getClassGroupId:s,getConflictingClassGroupIds:l,sortModifiers:o}=r,i=[],d=t.trim().split(RR);let c="";for(let a=d.length-1;a>=0;a-=1){const u=d[a],{isExternal:m,modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:x}=e(u);if(m){c=u+(c.length>0?" "+c:c);continue}let g=!!x,w=s(g?y.substring(0,x):y);if(!w){if(!g){c=u+(c.length>0?" "+c:c);continue}if(w=s(y),!w){c=u+(c.length>0?" "+c:c);continue}g=!1}const v=o(h).join(":"),j=p?v+nb:v,N=j+w;if(i.includes(N))continue;i.push(N);const T=l(w,g);for(let D=0;D<T.length;++D){const V=T[D];i.push(j+V)}c=u+(c.length>0?" "+c:c)}return c};function AR(){let t=0,r,e,s="";for(;t<arguments.length;)(r=arguments[t++])&&(e=Wj(r))&&(s&&(s+=" "),s+=e);return s}const Wj=t=>{if(typeof t=="string")return t;let r,e="";for(let s=0;s<t.length;s++)t[s]&&(r=Wj(t[s]))&&(e&&(e+=" "),e+=r);return e};function MR(t,...r){let e,s,l,o=i;function i(c){const a=r.reduce((u,m)=>m(u),t());return e=ER(a),s=e.cache.get,l=e.cache.set,o=d,d(c)}function d(c){const a=s(c);if(a)return a;const u=TR(c,e);return l(c,u),u}return function(){return o(AR.apply(null,arguments))}}const Ar=t=>{const r=e=>e[t]||[];return r.isThemeGetter=!0,r},Gj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Yj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OR=/^\d+\/\d+$/,DR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vl=t=>OR.test(t),bn=t=>!!t&&!Number.isNaN(Number(t)),so=t=>!!t&&Number.isInteger(Number(t)),m0=t=>t.endsWith("%")&&bn(t.slice(0,-1)),bi=t=>DR.test(t),FR=()=>!0,UR=t=>IR.test(t)&&!PR.test(t),Xj=()=>!1,$R=t=>LR.test(t),zR=t=>BR.test(t),qR=t=>!jt(t)&&!St(t),VR=t=>mc(t,Zj,Xj),jt=t=>Gj.test(t),Ho=t=>mc(t,Jj,UR),g0=t=>mc(t,XR,bn),u2=t=>mc(t,Kj,Xj),HR=t=>mc(t,Qj,zR),qf=t=>mc(t,e3,$R),St=t=>Yj.test(t),_u=t=>gc(t,Jj),WR=t=>gc(t,KR),d2=t=>gc(t,Kj),GR=t=>gc(t,Zj),YR=t=>gc(t,Qj),Vf=t=>gc(t,e3,!0),mc=(t,r,e)=>{const s=Gj.exec(t);return s?s[1]?r(s[1]):e(s[2]):!1},gc=(t,r,e=!1)=>{const s=Yj.exec(t);return s?s[1]?r(s[1]):e:!1},Kj=t=>t==="position"||t==="percentage",Qj=t=>t==="image"||t==="url",Zj=t=>t==="length"||t==="size"||t==="bg-size",Jj=t=>t==="length",XR=t=>t==="number",KR=t=>t==="family-name",e3=t=>t==="shadow",QR=()=>{const t=Ar("color"),r=Ar("font"),e=Ar("text"),s=Ar("font-weight"),l=Ar("tracking"),o=Ar("leading"),i=Ar("breakpoint"),d=Ar("container"),c=Ar("spacing"),a=Ar("radius"),u=Ar("shadow"),m=Ar("inset-shadow"),h=Ar("text-shadow"),p=Ar("drop-shadow"),y=Ar("blur"),x=Ar("perspective"),g=Ar("aspect"),w=Ar("ease"),v=Ar("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...N(),St,jt],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],P=()=>[St,jt,c],$=()=>[Vl,"full","auto",...P()],G=()=>[so,"none","subgrid",St,jt],Y=()=>["auto",{span:["full",so,St,jt]},so,St,jt],W=()=>[so,"auto",St,jt],O=()=>["auto","min","max","fr",St,jt],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],R=()=>["start","end","center","stretch","center-safe","end-safe"],S=()=>["auto",...P()],C=()=>[Vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],k=()=>[t,St,jt],E=()=>[...N(),d2,u2,{position:[St,jt]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",GR,VR,{size:[St,jt]}],z=()=>[m0,_u,Ho],K=()=>["","none","full",a,St,jt],Z=()=>["",bn,_u,Ho],te=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[bn,m0,d2,u2],U=()=>["","none",y,St,jt],F=()=>["none",bn,St,jt],J=()=>["none",bn,St,jt],re=()=>[bn,St,jt],ce=()=>[Vl,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bi],breakpoint:[bi],color:[FR],container:[bi],"drop-shadow":[bi],ease:["in","out","in-out"],font:[qR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bi],shadow:[bi],spacing:["px",bn],text:[bi],"text-shadow":[bi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vl,jt,St,g]}],container:["container"],columns:[{columns:[bn,jt,St,d]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[so,"auto",St,jt]}],basis:[{basis:[Vl,"full","auto",d,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bn,Vl,"auto","initial","none",jt]}],grow:[{grow:["",bn,St,jt]}],shrink:[{shrink:["",bn,St,jt]}],order:[{order:[so,"first","last","none",St,jt]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...R(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...R(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[d,"screen",...C()]}],"min-w":[{"min-w":[d,"screen","none",...C()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[i]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",e,_u,Ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,St,g0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",m0,jt]}],"font-family":[{font:[WR,jt,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,St,jt]}],"line-clamp":[{"line-clamp":[bn,"none",St,g0]}],leading:[{leading:[o,...P()]}],"list-image":[{"list-image":["none",St,jt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",St,jt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:[bn,"from-font","auto",St,Ho]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[bn,"auto",St,jt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",St,jt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",St,jt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:E()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},so,St,jt],radial:["",St,jt],conic:[so,St,jt]},YR,HR]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...te(),"hidden","none"]}],"divide-style":[{divide:[...te(),"hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:[...te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bn,St,jt]}],"outline-w":[{outline:["",bn,_u,Ho]}],"outline-color":[{outline:k()}],shadow:[{shadow:["","none",u,Vf,qf]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",m,Vf,qf]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[bn,Ho]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":k()}],"text-shadow":[{"text-shadow":["none",h,Vf,qf]}],"text-shadow-color":[{"text-shadow":k()}],opacity:[{opacity:[bn,St,jt]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":k()}],"mask-image-linear-to-color":[{"mask-linear-to":k()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":k()}],"mask-image-t-to-color":[{"mask-t-to":k()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":k()}],"mask-image-r-to-color":[{"mask-r-to":k()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":k()}],"mask-image-b-to-color":[{"mask-b-to":k()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":k()}],"mask-image-l-to-color":[{"mask-l-to":k()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":k()}],"mask-image-x-to-color":[{"mask-x-to":k()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":k()}],"mask-image-y-to-color":[{"mask-y-to":k()}],"mask-image-radial":[{"mask-radial":[St,jt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":k()}],"mask-image-radial-to-color":[{"mask-radial-to":k()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[bn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":k()}],"mask-image-conic-to-color":[{"mask-conic-to":k()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:E()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",St,jt]}],filter:[{filter:["","none",St,jt]}],blur:[{blur:U()}],brightness:[{brightness:[bn,St,jt]}],contrast:[{contrast:[bn,St,jt]}],"drop-shadow":[{"drop-shadow":["","none",p,Vf,qf]}],"drop-shadow-color":[{"drop-shadow":k()}],grayscale:[{grayscale:["",bn,St,jt]}],"hue-rotate":[{"hue-rotate":[bn,St,jt]}],invert:[{invert:["",bn,St,jt]}],saturate:[{saturate:[bn,St,jt]}],sepia:[{sepia:["",bn,St,jt]}],"backdrop-filter":[{"backdrop-filter":["","none",St,jt]}],"backdrop-blur":[{"backdrop-blur":U()}],"backdrop-brightness":[{"backdrop-brightness":[bn,St,jt]}],"backdrop-contrast":[{"backdrop-contrast":[bn,St,jt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bn,St,jt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bn,St,jt]}],"backdrop-invert":[{"backdrop-invert":["",bn,St,jt]}],"backdrop-opacity":[{"backdrop-opacity":[bn,St,jt]}],"backdrop-saturate":[{"backdrop-saturate":[bn,St,jt]}],"backdrop-sepia":[{"backdrop-sepia":["",bn,St,jt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",St,jt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bn,"initial",St,jt]}],ease:[{ease:["linear","initial",w,St,jt]}],delay:[{delay:[bn,St,jt]}],animate:[{animate:["none",v,St,jt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,St,jt]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:F()}],"rotate-x":[{"rotate-x":F()}],"rotate-y":[{"rotate-y":F()}],"rotate-z":[{"rotate-z":F()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:re()}],"skew-x":[{"skew-x":re()}],"skew-y":[{"skew-y":re()}],transform:[{transform:[St,jt,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",St,jt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",St,jt]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[bn,_u,Ho,g0]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ZR=MR(QR);function Ze(...t){return ZR(Vj(t))}const zb=up("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),Ie=B.forwardRef(({className:t,variant:r,size:e,asChild:s=!1,...l},o)=>{const i=s?cp:"button";return n.jsx(i,{className:Ze(zb({variant:r,size:e,className:t})),ref:o,...l})});Ie.displayName="Button";const on=B.forwardRef(({className:t,type:r,...e},s)=>n.jsx("input",{type:r,"data-slot":"input",className:Ze("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e.readOnly?"bg-gray-100 text-gray-500":"",t),ref:s,...e}));on.displayName="Input";var JR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kt=JR.reduce((t,r)=>{const e=co(`Primitive.${r}`),s=B.forwardRef((l,o)=>{const{asChild:i,...d}=l,c=i?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...d,ref:o})});return s.displayName=`Primitive.${r}`,{...t,[r]:s}},{});function t3(t,r){t&&id.flushSync(()=>t.dispatchEvent(r))}var e9="Label",n3=B.forwardRef((t,r)=>n.jsx(kt.label,{...t,ref:r,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(t.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));n3.displayName=e9;var t9=n3;function cn({className:t,...r}){return n.jsx(t9,{"data-slot":"label",className:Ze("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,e,s)=>s?s.toUpperCase():e.toLowerCase()),f2=t=>{const r=r9(t);return r.charAt(0).toUpperCase()+r.slice(1)},r3=(...t)=>t.filter((r,e,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===e).join(" ").trim(),s9=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=B.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:i,...d},c)=>B.createElement("svg",{ref:c,...a9,width:r,height:r,stroke:t,strokeWidth:s?Number(e)*24/Number(r):e,className:r3("lucide",l),...!o&&!s9(d)&&{"aria-hidden":"true"},...d},[...i.map(([a,u])=>B.createElement(a,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(t,r)=>{const e=B.forwardRef(({className:s,...l},o)=>B.createElement(i9,{ref:o,iconNode:r,className:r3(`lucide-${n9(f2(t))}`,`lucide-${t}`,s),...l}));return e.displayName=f2(t),e};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],l9=mt("activity",o9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],dp=mt("arrow-right-left",c9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],d9=mt("arrow-right",u9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h9=mt("ban",f9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],s3=mt("bell",p9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],qb=mt("box",m9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],a3=mt("boxes",g9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vh=mt("calendar",b9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pu=mt("chart-column",y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],v9=mt("chart-no-axes-column",x9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ns=mt("check",w9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hd=mt("chevron-down",j9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_9=mt("chevron-left",S9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],i3=mt("chevron-right",C9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],k9=mt("chevron-up",N9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sr=mt("circle-alert",E9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Br=mt("circle-check-big",R9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Vu=mt("circle-plus",T9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],M9=mt("circle-question-mark",A9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ba=mt("circle-x",O9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],I9=mt("clipboard-check",D9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],wh=mt("clipboard-list",P9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uo=mt("clock",L9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],o3=mt("ellipsis-vertical",B9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],U9=mt("eraser",F9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],z9=mt("eye-off",$9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fp=mt("eye",q9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],H9=mt("factory",V9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],G9=mt("file-spreadsheet",W9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bc=mt("file-text",Y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],K9=mt("funnel",X9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],l3=mt("grid-3x3",Q9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],jh=mt("house",Z9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],eT=mt("inbox",J9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],c3=mt("info",tT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ta=mt("loader-circle",nT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sT=mt("lock",rT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iT=mt("log-out",aT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lT=mt("map-pin",oT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],uT=mt("map",cT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],fT=mt("message-circle",dT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Sh=mt("move",hT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],h2=mt("package-2",pT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],u3=mt("package-check",mT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hp=mt("package",gT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],yT=mt("panel-left",bT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vT=mt("pen-line",xT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],p2=mt("play",wT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vb=mt("plus",jT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pp=mt("refresh-cw",ST);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yc=mt("save",_T);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mp=mt("search",CT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],kT=mt("send-horizontal",NT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],RT=mt("shield-alert",ET);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],m2=mt("shield-check",TT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sb=mt("shield",AT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],d3=mt("shopping-cart",MT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ab=mt("smartphone",OT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fo=mt("square-pen",DT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pd=mt("trash-2",IT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],b0=mt("trending-up",PT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],go=mt("triangle-alert",LT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],rc=mt("truck",BT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UT=mt("user-check",FT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],zT=mt("user-x",$T);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hb=mt("user",qT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],HT=mt("users",VT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],GT=mt("warehouse",WT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],f3=mt("wifi-off",YT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],g2=mt("wifi",XT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],br=mt("x",KT),QT=({loadedPackage:t,onClear:r,disabled:e=!1})=>{const{t:s}=Be();return t?n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 bg-slate-100 dark:bg-slate-800 rounded-lg p-3",children:[n.jsxs("span",{className:"font-medium text-sm text-slate-700 dark:text-slate-300 truncate",children:[s("currentPackage"),": ",t.barcode]}),n.jsx(Ie,{type:"button",variant:"outline",size:"sm",onClick:r,disabled:e,className:"w-full sm:w-auto shrink-0",children:s("clearPackage")})]}):null};function ZT(t,r){const e=B.createContext(r),s=o=>{const{children:i,...d}=o,c=B.useMemo(()=>d,Object.values(d));return n.jsx(e.Provider,{value:c,children:i})};s.displayName=t+"Provider";function l(o){const i=B.useContext(e);if(i)return i;if(r!==void 0)return r;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[s,l]}function Qr(t,r=[]){let e=[];function s(o,i){const d=B.createContext(i),c=e.length;e=[...e,i];const a=m=>{const{scope:h,children:p,...y}=m,x=h?.[t]?.[c]||d,g=B.useMemo(()=>y,Object.values(y));return n.jsx(x.Provider,{value:g,children:p})};a.displayName=o+"Provider";function u(m,h){const p=h?.[t]?.[c]||d,y=B.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[a,u]}const l=()=>{const o=e.map(i=>B.createContext(i));return function(d){const c=d?.[t]||o;return B.useMemo(()=>({[`__scope${t}`]:{...d,[t]:c}}),[d,c])}};return l.scopeName=t,[s,JT(l,...r)]}function JT(...t){const r=t[0];if(t.length===1)return r;const e=()=>{const s=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(o){const i=s.reduce((d,{useScope:c,scopeName:a})=>{const m=c(o)[`__scope${a}`];return{...d,...m}},{});return B.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return e.scopeName=r.scopeName,e}function at(t,r,{checkForDefaultPrevented:e=!0}={}){return function(l){if(t?.(l),e===!1||!l.defaultPrevented)return r?.(l)}}var Vr=globalThis?.document?B.useLayoutEffect:()=>{},eA=Y4[" useInsertionEffect ".trim().toString()]||Vr;function $s({prop:t,defaultProp:r,onChange:e=()=>{},caller:s}){const[l,o,i]=tA({defaultProp:r,onChange:e}),d=t!==void 0,c=d?t:l;{const u=B.useRef(t!==void 0);B.useEffect(()=>{const m=u.current;m!==d&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=d},[d,s])}const a=B.useCallback(u=>{if(d){const m=nA(u)?u(t):u;m!==t&&i.current?.(m)}else o(u)},[d,t,o,i]);return[c,a]}function tA({defaultProp:t,onChange:r}){const[e,s]=B.useState(t),l=B.useRef(e),o=B.useRef(r);return eA(()=>{o.current=r},[r]),B.useEffect(()=>{l.current!==e&&(o.current?.(e),l.current=e)},[e,l]),[e,s,o]}function nA(t){return typeof t=="function"}function Wb(t){const r=B.useRef({value:t,previous:t});return B.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}function Gb(t){const[r,e]=B.useState(void 0);return Vr(()=>{if(t){e({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const o=l[0];let i,d;if("borderBoxSize"in o){const c=o.borderBoxSize,a=Array.isArray(c)?c[0]:c;i=a.inlineSize,d=a.blockSize}else i=t.offsetWidth,d=t.offsetHeight;e({width:i,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else e(void 0)},[t]),r}function rA(t,r){return B.useReducer((e,s)=>r[e][s]??e,t)}var Fr=t=>{const{present:r,children:e}=t,s=sA(r),l=typeof e=="function"?e({present:s.isPresent}):B.Children.only(e),o=tn(s.ref,aA(l));return typeof e=="function"||s.isPresent?B.cloneElement(l,{ref:o}):null};Fr.displayName="Presence";function sA(t){const[r,e]=B.useState(),s=B.useRef(null),l=B.useRef(t),o=B.useRef("none"),i=t?"mounted":"unmounted",[d,c]=rA(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const a=Hf(s.current);o.current=d==="mounted"?a:"none"},[d]),Vr(()=>{const a=s.current,u=l.current;if(u!==t){const h=o.current,p=Hf(a);t?c("MOUNT"):p==="none"||a?.display==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,c]),Vr(()=>{if(r){let a;const u=r.ownerDocument.defaultView??window,m=p=>{const x=Hf(s.current).includes(CSS.escape(p.animationName));if(p.target===r&&x&&(c("ANIMATION_END"),!l.current)){const g=r.style.animationFillMode;r.style.animationFillMode="forwards",a=u.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=g)})}},h=p=>{p.target===r&&(o.current=Hf(s.current))};return r.addEventListener("animationstart",h),r.addEventListener("animationcancel",m),r.addEventListener("animationend",m),()=>{u.clearTimeout(a),r.removeEventListener("animationstart",h),r.removeEventListener("animationcancel",m),r.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:B.useCallback(a=>{s.current=a?getComputedStyle(a):null,e(a)},[])}}function Hf(t){return t?.animationName||"none"}function aA(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var gp="Checkbox",[iA,Jfe]=Qr(gp),[oA,Yb]=iA(gp);function lA(t){const{__scopeCheckbox:r,checked:e,children:s,defaultChecked:l,disabled:o,form:i,name:d,onCheckedChange:c,required:a,value:u="on",internal_do_not_use_render:m}=t,[h,p]=$s({prop:e,defaultProp:l??!1,onChange:c,caller:gp}),[y,x]=B.useState(null),[g,w]=B.useState(null),v=B.useRef(!1),j=y?!!i||!!y.closest("form"):!0,N={checked:h,disabled:o,setChecked:p,control:y,setControl:x,name:d,form:i,value:u,hasConsumerStoppedPropagationRef:v,required:a,defaultChecked:lo(l)?!1:l,isFormControl:j,bubbleInput:g,setBubbleInput:w};return n.jsx(oA,{scope:r,...N,children:cA(m)?m(N):s})}var h3="CheckboxTrigger",p3=B.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:e,...s},l)=>{const{control:o,value:i,disabled:d,checked:c,required:a,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=Yb(h3,t),x=tn(l,u),g=B.useRef(c);return B.useEffect(()=>{const w=o?.form;if(w){const v=()=>m(g.current);return w.addEventListener("reset",v),()=>w.removeEventListener("reset",v)}},[o,m]),n.jsx(kt.button,{type:"button",role:"checkbox","aria-checked":lo(c)?"mixed":c,"aria-required":a,"data-state":v3(c),"data-disabled":d?"":void 0,disabled:d,value:i,...s,ref:x,onKeyDown:at(r,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:at(e,w=>{m(v=>lo(v)?!0:!v),y&&p&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});p3.displayName=h3;var m3=B.forwardRef((t,r)=>{const{__scopeCheckbox:e,name:s,checked:l,defaultChecked:o,required:i,disabled:d,value:c,onCheckedChange:a,form:u,...m}=t;return n.jsx(lA,{__scopeCheckbox:e,checked:l,defaultChecked:o,disabled:d,required:i,onCheckedChange:a,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:h})=>n.jsxs(n.Fragment,{children:[n.jsx(p3,{...m,ref:r,__scopeCheckbox:e}),h&&n.jsx(x3,{__scopeCheckbox:e})]})})});m3.displayName=gp;var g3="CheckboxIndicator",b3=B.forwardRef((t,r)=>{const{__scopeCheckbox:e,forceMount:s,...l}=t,o=Yb(g3,e);return n.jsx(Fr,{present:s||lo(o.checked)||o.checked===!0,children:n.jsx(kt.span,{"data-state":v3(o.checked),"data-disabled":o.disabled?"":void 0,...l,ref:r,style:{pointerEvents:"none",...t.style}})})});b3.displayName=g3;var y3="CheckboxBubbleInput",x3=B.forwardRef(({__scopeCheckbox:t,...r},e)=>{const{control:s,hasConsumerStoppedPropagationRef:l,checked:o,defaultChecked:i,required:d,disabled:c,name:a,value:u,form:m,bubbleInput:h,setBubbleInput:p}=Yb(y3,t),y=tn(e,p),x=Wb(o),g=Gb(s);B.useEffect(()=>{const v=h;if(!v)return;const j=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(j,"checked").set,D=!l.current;if(x!==o&&T){const V=new Event("click",{bubbles:D});v.indeterminate=lo(o),T.call(v,lo(o)?!1:o),v.dispatchEvent(V)}},[h,x,o,l]);const w=B.useRef(lo(o)?!1:o);return n.jsx(kt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??w.current,required:d,disabled:c,name:a,value:u,form:m,...r,tabIndex:-1,ref:y,style:{...r.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});x3.displayName=y3;function cA(t){return typeof t=="function"}function lo(t){return t==="indeterminate"}function v3(t){return lo(t)?"indeterminate":t?"checked":"unchecked"}function js({className:t,...r}){return n.jsx(m3,{"data-slot":"checkbox",className:Ze("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:n.jsx(b3,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:n.jsx(Ns,{className:"size-3.5"})})})}const uA=({enablePackage:t,scanMode:r,createPackage:e,onScanModeChange:s,onCreatePackageChange:l,enablePackageCreate:o,disabled:i=!1})=>{const{t:d}=Be();return t?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex rounded-md border",children:[n.jsxs(Ie,{type:"button",variant:"ghost",disabled:i,className:`flex-1 rounded-r-none flex items-center justify-center gap-2 ${r==="item"?"bg-green-600 text-white hover:bg-green-700":"hover:bg-gray-100"}`,onClick:()=>s(!1),children:[r==="item"&&n.jsx(Ns,{className:"w-4 h-4"}),d("scanItemMode")]}),n.jsxs(Ie,{type:"button",variant:"ghost",disabled:i,className:`flex-1 rounded-l-none flex items-center justify-center gap-2 ${r==="package"?"bg-green-600 text-white hover:bg-green-700":"hover:bg-gray-100"}`,onClick:()=>s(!0),children:[r==="package"&&n.jsx(Ns,{className:"w-4 h-4"}),d("scanPackageMode")]})]}),r==="item"&&o&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(js,{id:"create-package",checked:e,disabled:i,onCheckedChange:()=>l(!e)}),n.jsx(cn,{htmlFor:"create-package",children:d("createNewPackage")})]})]}):null};function ib(t,[r,e]){return Math.min(e,Math.max(r,t))}function bp(t){const r=t+"CollectionProvider",[e,s]=Qr(r),[l,o]=e(r,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:g,children:w}=x,v=Te.useRef(null),j=Te.useRef(new Map).current;return n.jsx(l,{scope:g,itemMap:j,collectionRef:v,children:w})};i.displayName=r;const d=t+"CollectionSlot",c=co(d),a=Te.forwardRef((x,g)=>{const{scope:w,children:v}=x,j=o(d,w),N=tn(g,j.collectionRef);return n.jsx(c,{ref:N,children:v})});a.displayName=d;const u=t+"CollectionItemSlot",m="data-radix-collection-item",h=co(u),p=Te.forwardRef((x,g)=>{const{scope:w,children:v,...j}=x,N=Te.useRef(null),T=tn(g,N),D=o(u,w);return Te.useEffect(()=>(D.itemMap.set(N,{ref:N,...j}),()=>void D.itemMap.delete(N))),n.jsx(h,{[m]:"",ref:T,children:v})});p.displayName=u;function y(x){const g=o(t+"CollectionConsumer",x);return Te.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const j=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(g.itemMap.values()).sort((D,V)=>j.indexOf(D.ref.current)-j.indexOf(V.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:a,ItemSlot:p},y,s]}var dA=B.createContext(void 0);function xc(t){const r=B.useContext(dA);return t||r||"ltr"}function Xr(t){const r=B.useRef(t);return B.useEffect(()=>{r.current=t}),B.useMemo(()=>(...e)=>r.current?.(...e),[])}function fA(t,r=globalThis?.document){const e=Xr(t);B.useEffect(()=>{const s=l=>{l.key==="Escape"&&e(l)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[e,r])}var hA="DismissableLayer",ob="dismissableLayer.update",pA="dismissableLayer.pointerDownOutside",mA="dismissableLayer.focusOutside",b2,w3=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vc=B.forwardRef((t,r)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:o,onInteractOutside:i,onDismiss:d,...c}=t,a=B.useContext(w3),[u,m]=B.useState(null),h=u?.ownerDocument??globalThis?.document,[,p]=B.useState({}),y=tn(r,V=>m(V)),x=Array.from(a.layers),[g]=[...a.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(g),v=u?x.indexOf(u):-1,j=a.layersWithOutsidePointerEventsDisabled.size>0,N=v>=w,T=yA(V=>{const P=V.target,$=[...a.branches].some(G=>G.contains(P));!N||$||(l?.(V),i?.(V),V.defaultPrevented||d?.())},h),D=xA(V=>{const P=V.target;[...a.branches].some(G=>G.contains(P))||(o?.(V),i?.(V),V.defaultPrevented||d?.())},h);return fA(V=>{v===a.layers.size-1&&(s?.(V),!V.defaultPrevented&&d&&(V.preventDefault(),d()))},h),B.useEffect(()=>{if(u)return e&&(a.layersWithOutsidePointerEventsDisabled.size===0&&(b2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),a.layersWithOutsidePointerEventsDisabled.add(u)),a.layers.add(u),y2(),()=>{e&&a.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=b2)}},[u,h,e,a]),B.useEffect(()=>()=>{u&&(a.layers.delete(u),a.layersWithOutsidePointerEventsDisabled.delete(u),y2())},[u,a]),B.useEffect(()=>{const V=()=>p({});return document.addEventListener(ob,V),()=>document.removeEventListener(ob,V)},[]),n.jsx(kt.div,{...c,ref:y,style:{pointerEvents:j?N?"auto":"none":void 0,...t.style},onFocusCapture:at(t.onFocusCapture,D.onFocusCapture),onBlurCapture:at(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:at(t.onPointerDownCapture,T.onPointerDownCapture)})});vc.displayName=hA;var gA="DismissableLayerBranch",bA=B.forwardRef((t,r)=>{const e=B.useContext(w3),s=B.useRef(null),l=tn(r,s);return B.useEffect(()=>{const o=s.current;if(o)return e.branches.add(o),()=>{e.branches.delete(o)}},[e.branches]),n.jsx(kt.div,{...t,ref:l})});bA.displayName=gA;function yA(t,r=globalThis?.document){const e=Xr(t),s=B.useRef(!1),l=B.useRef(()=>{});return B.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let c=function(){j3(pA,e,a,{discrete:!0})};const a={originalEvent:d};d.pointerType==="touch"?(r.removeEventListener("click",l.current),l.current=c,r.addEventListener("click",l.current,{once:!0})):c()}else r.removeEventListener("click",l.current);s.current=!1},i=window.setTimeout(()=>{r.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),r.removeEventListener("pointerdown",o),r.removeEventListener("click",l.current)}},[r,e]),{onPointerDownCapture:()=>s.current=!0}}function xA(t,r=globalThis?.document){const e=Xr(t),s=B.useRef(!1);return B.useEffect(()=>{const l=o=>{o.target&&!s.current&&j3(mA,e,{originalEvent:o},{discrete:!1})};return r.addEventListener("focusin",l),()=>r.removeEventListener("focusin",l)},[r,e]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function y2(){const t=new CustomEvent(ob);document.dispatchEvent(t)}function j3(t,r,e,{discrete:s}){const l=e.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:e});r&&l.addEventListener(t,r,{once:!0}),s?t3(l,o):l.dispatchEvent(o)}var y0=0;function yp(){B.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??x2()),document.body.insertAdjacentElement("beforeend",t[1]??x2()),y0++,()=>{y0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),y0--}},[])}function x2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var x0="focusScope.autoFocusOnMount",v0="focusScope.autoFocusOnUnmount",v2={bubbles:!1,cancelable:!0},vA="FocusScope",md=B.forwardRef((t,r)=>{const{loop:e=!1,trapped:s=!1,onMountAutoFocus:l,onUnmountAutoFocus:o,...i}=t,[d,c]=B.useState(null),a=Xr(l),u=Xr(o),m=B.useRef(null),h=tn(r,x=>c(x)),p=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(s){let x=function(j){if(p.paused||!d)return;const N=j.target;d.contains(N)?m.current=N:io(m.current,{select:!0})},g=function(j){if(p.paused||!d)return;const N=j.relatedTarget;N!==null&&(d.contains(N)||io(m.current,{select:!0}))},w=function(j){if(document.activeElement===document.body)for(const T of j)T.removedNodes.length>0&&io(d)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const v=new MutationObserver(w);return d&&v.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),v.disconnect()}}},[s,d,p.paused]),B.useEffect(()=>{if(d){j2.add(p);const x=document.activeElement;if(!d.contains(x)){const w=new CustomEvent(x0,v2);d.addEventListener(x0,a),d.dispatchEvent(w),w.defaultPrevented||(wA(NA(S3(d)),{select:!0}),document.activeElement===x&&io(d))}return()=>{d.removeEventListener(x0,a),setTimeout(()=>{const w=new CustomEvent(v0,v2);d.addEventListener(v0,u),d.dispatchEvent(w),w.defaultPrevented||io(x??document.body,{select:!0}),d.removeEventListener(v0,u),j2.remove(p)},0)}}},[d,a,u,p]);const y=B.useCallback(x=>{if(!e&&!s||p.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(g&&w){const v=x.currentTarget,[j,N]=jA(v);j&&N?!x.shiftKey&&w===N?(x.preventDefault(),e&&io(j,{select:!0})):x.shiftKey&&w===j&&(x.preventDefault(),e&&io(N,{select:!0})):w===v&&x.preventDefault()}},[e,s,p.paused]);return n.jsx(kt.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});md.displayName=vA;function wA(t,{select:r=!1}={}){const e=document.activeElement;for(const s of t)if(io(s,{select:r}),document.activeElement!==e)return}function jA(t){const r=S3(t),e=w2(r,t),s=w2(r.reverse(),t);return[e,s]}function S3(t){const r=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)r.push(e.currentNode);return r}function w2(t,r){for(const e of t)if(!SA(e,{upTo:r}))return e}function SA(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _A(t){return t instanceof HTMLInputElement&&"select"in t}function io(t,{select:r=!1}={}){if(t&&t.focus){const e=document.activeElement;t.focus({preventScroll:!0}),t!==e&&_A(t)&&r&&t.select()}}var j2=CA();function CA(){let t=[];return{add(r){const e=t[0];r!==e&&e?.pause(),t=S2(t,r),t.unshift(r)},remove(r){t=S2(t,r),t[0]?.resume()}}}function S2(t,r){const e=[...t],s=e.indexOf(r);return s!==-1&&e.splice(s,1),e}function NA(t){return t.filter(r=>r.tagName!=="A")}var kA=Y4[" useId ".trim().toString()]||(()=>{}),EA=0;function Cs(t){const[r,e]=B.useState(kA());return Vr(()=>{e(s=>s??String(EA++))},[t]),t||(r?`radix-${r}`:"")}const RA=["top","right","bottom","left"],ho=Math.min,Ps=Math.max,_h=Math.round,Wf=Math.floor,Wa=t=>({x:t,y:t}),TA={left:"right",right:"left",bottom:"top",top:"bottom"},AA={start:"end",end:"start"};function lb(t,r,e){return Ps(t,ho(r,e))}function ji(t,r){return typeof t=="function"?t(r):t}function Si(t){return t.split("-")[0]}function wc(t){return t.split("-")[1]}function Xb(t){return t==="x"?"y":"x"}function Kb(t){return t==="y"?"height":"width"}const MA=new Set(["top","bottom"]);function qa(t){return MA.has(Si(t))?"y":"x"}function Qb(t){return Xb(qa(t))}function OA(t,r,e){e===void 0&&(e=!1);const s=wc(t),l=Qb(t),o=Kb(l);let i=l==="x"?s===(e?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[o]>r.floating[o]&&(i=Ch(i)),[i,Ch(i)]}function DA(t){const r=Ch(t);return[cb(t),r,cb(r)]}function cb(t){return t.replace(/start|end/g,r=>AA[r])}const _2=["left","right"],C2=["right","left"],IA=["top","bottom"],PA=["bottom","top"];function LA(t,r,e){switch(t){case"top":case"bottom":return e?r?C2:_2:r?_2:C2;case"left":case"right":return r?IA:PA;default:return[]}}function BA(t,r,e,s){const l=wc(t);let o=LA(Si(t),e==="start",s);return l&&(o=o.map(i=>i+"-"+l),r&&(o=o.concat(o.map(cb)))),o}function Ch(t){return t.replace(/left|right|bottom|top/g,r=>TA[r])}function FA(t){return{top:0,right:0,bottom:0,left:0,...t}}function _3(t){return typeof t!="number"?FA(t):{top:t,right:t,bottom:t,left:t}}function Nh(t){const{x:r,y:e,width:s,height:l}=t;return{width:s,height:l,top:e,left:r,right:r+s,bottom:e+l,x:r,y:e}}function N2(t,r,e){let{reference:s,floating:l}=t;const o=qa(r),i=Qb(r),d=Kb(i),c=Si(r),a=o==="y",u=s.x+s.width/2-l.width/2,m=s.y+s.height/2-l.height/2,h=s[d]/2-l[d]/2;let p;switch(c){case"top":p={x:u,y:s.y-l.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:m};break;case"left":p={x:s.x-l.width,y:m};break;default:p={x:s.x,y:s.y}}switch(wc(r)){case"start":p[i]-=h*(e&&a?-1:1);break;case"end":p[i]+=h*(e&&a?-1:1);break}return p}const UA=async(t,r,e)=>{const{placement:s="bottom",strategy:l="absolute",middleware:o=[],platform:i}=e,d=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(r));let a=await i.getElementRects({reference:t,floating:r,strategy:l}),{x:u,y:m}=N2(a,s,c),h=s,p={},y=0;for(let x=0;x<d.length;x++){const{name:g,fn:w}=d[x],{x:v,y:j,data:N,reset:T}=await w({x:u,y:m,initialPlacement:s,placement:h,strategy:l,middlewareData:p,rects:a,platform:i,elements:{reference:t,floating:r}});u=v??u,m=j??m,p={...p,[g]:{...p[g],...N}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(a=T.rects===!0?await i.getElementRects({reference:t,floating:r,strategy:l}):T.rects),{x:u,y:m}=N2(a,h,c)),x=-1)}return{x:u,y:m,placement:h,strategy:l,middlewareData:p}};async function Hu(t,r){var e;r===void 0&&(r={});const{x:s,y:l,platform:o,rects:i,elements:d,strategy:c}=t,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=ji(r,t),y=_3(p),g=d[h?m==="floating"?"reference":"floating":m],w=Nh(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(g)))==null||e?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:a,rootBoundary:u,strategy:c})),v=m==="floating"?{x:s,y:l,width:i.floating.width,height:i.floating.height}:i.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),N=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},T=Nh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:v,offsetParent:j,strategy:c}):v);return{top:(w.top-T.top+y.top)/N.y,bottom:(T.bottom-w.bottom+y.bottom)/N.y,left:(w.left-T.left+y.left)/N.x,right:(T.right-w.right+y.right)/N.x}}const $A=t=>({name:"arrow",options:t,async fn(r){const{x:e,y:s,placement:l,rects:o,platform:i,elements:d,middlewareData:c}=r,{element:a,padding:u=0}=ji(t,r)||{};if(a==null)return{};const m=_3(u),h={x:e,y:s},p=Qb(l),y=Kb(p),x=await i.getDimensions(a),g=p==="y",w=g?"top":"left",v=g?"bottom":"right",j=g?"clientHeight":"clientWidth",N=o.reference[y]+o.reference[p]-h[p]-o.floating[y],T=h[p]-o.reference[p],D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a));let V=D?D[j]:0;(!V||!await(i.isElement==null?void 0:i.isElement(D)))&&(V=d.floating[j]||o.floating[y]);const P=N/2-T/2,$=V/2-x[y]/2-1,G=ho(m[w],$),Y=ho(m[v],$),W=G,O=V-x[y]-Y,I=V/2-x[y]/2+P,R=lb(W,I,O),S=!c.arrow&&wc(l)!=null&&I!==R&&o.reference[y]/2-(I<W?G:Y)-x[y]/2<0,C=S?I<W?I-W:I-O:0;return{[p]:h[p]+C,data:{[p]:R,centerOffset:I-R-C,...S&&{alignmentOffset:C}},reset:S}}}),zA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var e,s;const{placement:l,middlewareData:o,rects:i,initialPlacement:d,platform:c,elements:a}=r,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...g}=ji(t,r);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const w=Si(l),v=qa(d),j=Si(d)===d,N=await(c.isRTL==null?void 0:c.isRTL(a.floating)),T=h||(j||!x?[Ch(d)]:DA(d)),D=y!=="none";!h&&D&&T.push(...BA(d,x,y,N));const V=[d,...T],P=await Hu(r,g),$=[];let G=((s=o.flip)==null?void 0:s.overflows)||[];if(u&&$.push(P[w]),m){const I=OA(l,i,N);$.push(P[I[0]],P[I[1]])}if(G=[...G,{placement:l,overflows:$}],!$.every(I=>I<=0)){var Y,W;const I=(((Y=o.flip)==null?void 0:Y.index)||0)+1,R=V[I];if(R&&(!(m==="alignment"?v!==qa(R):!1)||G.every(k=>qa(k.placement)===v?k.overflows[0]>0:!0)))return{data:{index:I,overflows:G},reset:{placement:R}};let S=(W=G.filter(C=>C.overflows[0]<=0).sort((C,k)=>C.overflows[1]-k.overflows[1])[0])==null?void 0:W.placement;if(!S)switch(p){case"bestFit":{var O;const C=(O=G.filter(k=>{if(D){const E=qa(k.placement);return E===v||E==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(E=>E>0).reduce((E,M)=>E+M,0)]).sort((k,E)=>k[1]-E[1])[0])==null?void 0:O[0];C&&(S=C);break}case"initialPlacement":S=d;break}if(l!==S)return{reset:{placement:S}}}return{}}}};function k2(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function E2(t){return RA.some(r=>t[r]>=0)}const qA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:e}=r,{strategy:s="referenceHidden",...l}=ji(t,r);switch(s){case"referenceHidden":{const o=await Hu(r,{...l,elementContext:"reference"}),i=k2(o,e.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:E2(i)}}}case"escaped":{const o=await Hu(r,{...l,altBoundary:!0}),i=k2(o,e.floating);return{data:{escapedOffsets:i,escaped:E2(i)}}}default:return{}}}}},C3=new Set(["left","top"]);async function VA(t,r){const{placement:e,platform:s,elements:l}=t,o=await(s.isRTL==null?void 0:s.isRTL(l.floating)),i=Si(e),d=wc(e),c=qa(e)==="y",a=C3.has(i)?-1:1,u=o&&c?-1:1,m=ji(r,t);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof y=="number"&&(p=d==="end"?y*-1:y),c?{x:p*u,y:h*a}:{x:h*a,y:p*u}}const HA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var e,s;const{x:l,y:o,placement:i,middlewareData:d}=r,c=await VA(r,t);return i===((e=d.offset)==null?void 0:e.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:l+c.x,y:o+c.y,data:{...c,placement:i}}}}},WA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:e,y:s,placement:l}=r,{mainAxis:o=!0,crossAxis:i=!1,limiter:d={fn:g=>{let{x:w,y:v}=g;return{x:w,y:v}}},...c}=ji(t,r),a={x:e,y:s},u=await Hu(r,c),m=qa(Si(l)),h=Xb(m);let p=a[h],y=a[m];if(o){const g=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=p+u[g],j=p-u[w];p=lb(v,p,j)}if(i){const g=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=y+u[g],j=y-u[w];y=lb(v,y,j)}const x=d.fn({...r,[h]:p,[m]:y});return{...x,data:{x:x.x-e,y:x.y-s,enabled:{[h]:o,[m]:i}}}}}},GA=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:e,y:s,placement:l,rects:o,middlewareData:i}=r,{offset:d=0,mainAxis:c=!0,crossAxis:a=!0}=ji(t,r),u={x:e,y:s},m=qa(l),h=Xb(m);let p=u[h],y=u[m];const x=ji(d,r),g=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const j=h==="y"?"height":"width",N=o.reference[h]-o.floating[j]+g.mainAxis,T=o.reference[h]+o.reference[j]-g.mainAxis;p<N?p=N:p>T&&(p=T)}if(a){var w,v;const j=h==="y"?"width":"height",N=C3.has(Si(l)),T=o.reference[m]-o.floating[j]+(N&&((w=i.offset)==null?void 0:w[m])||0)+(N?0:g.crossAxis),D=o.reference[m]+o.reference[j]+(N?0:((v=i.offset)==null?void 0:v[m])||0)-(N?g.crossAxis:0);y<T?y=T:y>D&&(y=D)}return{[h]:p,[m]:y}}}},YA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var e,s;const{placement:l,rects:o,platform:i,elements:d}=r,{apply:c=()=>{},...a}=ji(t,r),u=await Hu(r,a),m=Si(l),h=wc(l),p=qa(l)==="y",{width:y,height:x}=o.floating;let g,w;m==="top"||m==="bottom"?(g=m,w=h===(await(i.isRTL==null?void 0:i.isRTL(d.floating))?"start":"end")?"left":"right"):(w=m,g=h==="end"?"top":"bottom");const v=x-u.top-u.bottom,j=y-u.left-u.right,N=ho(x-u[g],v),T=ho(y-u[w],j),D=!r.middlewareData.shift;let V=N,P=T;if((e=r.middlewareData.shift)!=null&&e.enabled.x&&(P=j),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(V=v),D&&!h){const G=Ps(u.left,0),Y=Ps(u.right,0),W=Ps(u.top,0),O=Ps(u.bottom,0);p?P=y-2*(G!==0||Y!==0?G+Y:Ps(u.left,u.right)):V=x-2*(W!==0||O!==0?W+O:Ps(u.top,u.bottom))}await c({...r,availableWidth:P,availableHeight:V});const $=await i.getDimensions(d.floating);return y!==$.width||x!==$.height?{reset:{rects:!0}}:{}}}};function xp(){return typeof window<"u"}function jc(t){return N3(t)?(t.nodeName||"").toLowerCase():"#document"}function Us(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function ei(t){var r;return(r=(N3(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function N3(t){return xp()?t instanceof Node||t instanceof Us(t).Node:!1}function va(t){return xp()?t instanceof Element||t instanceof Us(t).Element:!1}function Ka(t){return xp()?t instanceof HTMLElement||t instanceof Us(t).HTMLElement:!1}function R2(t){return!xp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Us(t).ShadowRoot}const XA=new Set(["inline","contents"]);function gd(t){const{overflow:r,overflowX:e,overflowY:s,display:l}=wa(t);return/auto|scroll|overlay|hidden|clip/.test(r+s+e)&&!XA.has(l)}const KA=new Set(["table","td","th"]);function QA(t){return KA.has(jc(t))}const ZA=[":popover-open",":modal"];function vp(t){return ZA.some(r=>{try{return t.matches(r)}catch{return!1}})}const JA=["transform","translate","scale","rotate","perspective"],eM=["transform","translate","scale","rotate","perspective","filter"],tM=["paint","layout","strict","content"];function Zb(t){const r=Jb(),e=va(t)?wa(t):t;return JA.some(s=>e[s]?e[s]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!r&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!r&&(e.filter?e.filter!=="none":!1)||eM.some(s=>(e.willChange||"").includes(s))||tM.some(s=>(e.contain||"").includes(s))}function nM(t){let r=po(t);for(;Ka(r)&&!sc(r);){if(Zb(r))return r;if(vp(r))return null;r=po(r)}return null}function Jb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rM=new Set(["html","body","#document"]);function sc(t){return rM.has(jc(t))}function wa(t){return Us(t).getComputedStyle(t)}function wp(t){return va(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function po(t){if(jc(t)==="html")return t;const r=t.assignedSlot||t.parentNode||R2(t)&&t.host||ei(t);return R2(r)?r.host:r}function k3(t){const r=po(t);return sc(r)?t.ownerDocument?t.ownerDocument.body:t.body:Ka(r)&&gd(r)?r:k3(r)}function Wu(t,r,e){var s;r===void 0&&(r=[]),e===void 0&&(e=!0);const l=k3(t),o=l===((s=t.ownerDocument)==null?void 0:s.body),i=Us(l);if(o){const d=ub(i);return r.concat(i,i.visualViewport||[],gd(l)?l:[],d&&e?Wu(d):[])}return r.concat(l,Wu(l,[],e))}function ub(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function E3(t){const r=wa(t);let e=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const l=Ka(t),o=l?t.offsetWidth:e,i=l?t.offsetHeight:s,d=_h(e)!==o||_h(s)!==i;return d&&(e=o,s=i),{width:e,height:s,$:d}}function ey(t){return va(t)?t:t.contextElement}function Zl(t){const r=ey(t);if(!Ka(r))return Wa(1);const e=r.getBoundingClientRect(),{width:s,height:l,$:o}=E3(r);let i=(o?_h(e.width):e.width)/s,d=(o?_h(e.height):e.height)/l;return(!i||!Number.isFinite(i))&&(i=1),(!d||!Number.isFinite(d))&&(d=1),{x:i,y:d}}const sM=Wa(0);function R3(t){const r=Us(t);return!Jb()||!r.visualViewport?sM:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function aM(t,r,e){return r===void 0&&(r=!1),!e||r&&e!==Us(t)?!1:r}function rl(t,r,e,s){r===void 0&&(r=!1),e===void 0&&(e=!1);const l=t.getBoundingClientRect(),o=ey(t);let i=Wa(1);r&&(s?va(s)&&(i=Zl(s)):i=Zl(t));const d=aM(o,e,s)?R3(o):Wa(0);let c=(l.left+d.x)/i.x,a=(l.top+d.y)/i.y,u=l.width/i.x,m=l.height/i.y;if(o){const h=Us(o),p=s&&va(s)?Us(s):s;let y=h,x=ub(y);for(;x&&s&&p!==y;){const g=Zl(x),w=x.getBoundingClientRect(),v=wa(x),j=w.left+(x.clientLeft+parseFloat(v.paddingLeft))*g.x,N=w.top+(x.clientTop+parseFloat(v.paddingTop))*g.y;c*=g.x,a*=g.y,u*=g.x,m*=g.y,c+=j,a+=N,y=Us(x),x=ub(y)}}return Nh({width:u,height:m,x:c,y:a})}function jp(t,r){const e=wp(t).scrollLeft;return r?r.left+e:rl(ei(t)).left+e}function T3(t,r){const e=t.getBoundingClientRect(),s=e.left+r.scrollLeft-jp(t,e),l=e.top+r.scrollTop;return{x:s,y:l}}function iM(t){let{elements:r,rect:e,offsetParent:s,strategy:l}=t;const o=l==="fixed",i=ei(s),d=r?vp(r.floating):!1;if(s===i||d&&o)return e;let c={scrollLeft:0,scrollTop:0},a=Wa(1);const u=Wa(0),m=Ka(s);if((m||!m&&!o)&&((jc(s)!=="body"||gd(i))&&(c=wp(s)),Ka(s))){const p=rl(s);a=Zl(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const h=i&&!m&&!o?T3(i,c):Wa(0);return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-c.scrollLeft*a.x+u.x+h.x,y:e.y*a.y-c.scrollTop*a.y+u.y+h.y}}function oM(t){return Array.from(t.getClientRects())}function lM(t){const r=ei(t),e=wp(t),s=t.ownerDocument.body,l=Ps(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),o=Ps(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let i=-e.scrollLeft+jp(t);const d=-e.scrollTop;return wa(s).direction==="rtl"&&(i+=Ps(r.clientWidth,s.clientWidth)-l),{width:l,height:o,x:i,y:d}}const T2=25;function cM(t,r){const e=Us(t),s=ei(t),l=e.visualViewport;let o=s.clientWidth,i=s.clientHeight,d=0,c=0;if(l){o=l.width,i=l.height;const u=Jb();(!u||u&&r==="fixed")&&(d=l.offsetLeft,c=l.offsetTop)}const a=jp(s);if(a<=0){const u=s.ownerDocument,m=u.body,h=getComputedStyle(m),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(s.clientWidth-m.clientWidth-p);y<=T2&&(o-=y)}else a<=T2&&(o+=a);return{width:o,height:i,x:d,y:c}}const uM=new Set(["absolute","fixed"]);function dM(t,r){const e=rl(t,!0,r==="fixed"),s=e.top+t.clientTop,l=e.left+t.clientLeft,o=Ka(t)?Zl(t):Wa(1),i=t.clientWidth*o.x,d=t.clientHeight*o.y,c=l*o.x,a=s*o.y;return{width:i,height:d,x:c,y:a}}function A2(t,r,e){let s;if(r==="viewport")s=cM(t,e);else if(r==="document")s=lM(ei(t));else if(va(r))s=dM(r,e);else{const l=R3(t);s={x:r.x-l.x,y:r.y-l.y,width:r.width,height:r.height}}return Nh(s)}function A3(t,r){const e=po(t);return e===r||!va(e)||sc(e)?!1:wa(e).position==="fixed"||A3(e,r)}function fM(t,r){const e=r.get(t);if(e)return e;let s=Wu(t,[],!1).filter(d=>va(d)&&jc(d)!=="body"),l=null;const o=wa(t).position==="fixed";let i=o?po(t):t;for(;va(i)&&!sc(i);){const d=wa(i),c=Zb(i);!c&&d.position==="fixed"&&(l=null),(o?!c&&!l:!c&&d.position==="static"&&!!l&&uM.has(l.position)||gd(i)&&!c&&A3(t,i))?s=s.filter(u=>u!==i):l=d,i=po(i)}return r.set(t,s),s}function hM(t){let{element:r,boundary:e,rootBoundary:s,strategy:l}=t;const i=[...e==="clippingAncestors"?vp(r)?[]:fM(r,this._c):[].concat(e),s],d=i[0],c=i.reduce((a,u)=>{const m=A2(r,u,l);return a.top=Ps(m.top,a.top),a.right=ho(m.right,a.right),a.bottom=ho(m.bottom,a.bottom),a.left=Ps(m.left,a.left),a},A2(r,d,l));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pM(t){const{width:r,height:e}=E3(t);return{width:r,height:e}}function mM(t,r,e){const s=Ka(r),l=ei(r),o=e==="fixed",i=rl(t,!0,o,r);let d={scrollLeft:0,scrollTop:0};const c=Wa(0);function a(){c.x=jp(l)}if(s||!s&&!o)if((jc(r)!=="body"||gd(l))&&(d=wp(r)),s){const p=rl(r,!0,o,r);c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}else l&&a();o&&!s&&l&&a();const u=l&&!s&&!o?T3(l,d):Wa(0),m=i.left+d.scrollLeft-c.x-u.x,h=i.top+d.scrollTop-c.y-u.y;return{x:m,y:h,width:i.width,height:i.height}}function w0(t){return wa(t).position==="static"}function M2(t,r){if(!Ka(t)||wa(t).position==="fixed")return null;if(r)return r(t);let e=t.offsetParent;return ei(t)===e&&(e=e.ownerDocument.body),e}function M3(t,r){const e=Us(t);if(vp(t))return e;if(!Ka(t)){let l=po(t);for(;l&&!sc(l);){if(va(l)&&!w0(l))return l;l=po(l)}return e}let s=M2(t,r);for(;s&&QA(s)&&w0(s);)s=M2(s,r);return s&&sc(s)&&w0(s)&&!Zb(s)?e:s||nM(t)||e}const gM=async function(t){const r=this.getOffsetParent||M3,e=this.getDimensions,s=await e(t.floating);return{reference:mM(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function bM(t){return wa(t).direction==="rtl"}const yM={convertOffsetParentRelativeRectToViewportRelativeRect:iM,getDocumentElement:ei,getClippingRect:hM,getOffsetParent:M3,getElementRects:gM,getClientRects:oM,getDimensions:pM,getScale:Zl,isElement:va,isRTL:bM};function O3(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function xM(t,r){let e=null,s;const l=ei(t);function o(){var d;clearTimeout(s),(d=e)==null||d.disconnect(),e=null}function i(d,c){d===void 0&&(d=!1),c===void 0&&(c=1),o();const a=t.getBoundingClientRect(),{left:u,top:m,width:h,height:p}=a;if(d||r(),!h||!p)return;const y=Wf(m),x=Wf(l.clientWidth-(u+h)),g=Wf(l.clientHeight-(m+p)),w=Wf(u),j={rootMargin:-y+"px "+-x+"px "+-g+"px "+-w+"px",threshold:Ps(0,ho(1,c))||1};let N=!0;function T(D){const V=D[0].intersectionRatio;if(V!==c){if(!N)return i();V?i(!1,V):s=setTimeout(()=>{i(!1,1e-7)},1e3)}V===1&&!O3(a,t.getBoundingClientRect())&&i(),N=!1}try{e=new IntersectionObserver(T,{...j,root:l.ownerDocument})}catch{e=new IntersectionObserver(T,j)}e.observe(t)}return i(!0),o}function vM(t,r,e,s){s===void 0&&(s={});const{ancestorScroll:l=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,a=ey(t),u=l||o?[...a?Wu(a):[],...Wu(r)]:[];u.forEach(w=>{l&&w.addEventListener("scroll",e,{passive:!0}),o&&w.addEventListener("resize",e)});const m=a&&d?xM(a,e):null;let h=-1,p=null;i&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===a&&p&&(p.unobserve(r),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(r)})),e()}),a&&!c&&p.observe(a),p.observe(r));let y,x=c?rl(t):null;c&&g();function g(){const w=rl(t);x&&!O3(x,w)&&e(),x=w,y=requestAnimationFrame(g)}return e(),()=>{var w;u.forEach(v=>{l&&v.removeEventListener("scroll",e),o&&v.removeEventListener("resize",e)}),m?.(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const wM=HA,jM=WA,SM=zA,_M=YA,CM=qA,O2=$A,NM=GA,kM=(t,r,e)=>{const s=new Map,l={platform:yM,...e},o={...l.platform,_c:s};return UA(t,r,{...l,platform:o})};var EM=typeof document<"u",RM=function(){},uh=EM?B.useLayoutEffect:RM;function kh(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let e,s,l;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(e=t.length,e!==r.length)return!1;for(s=e;s--!==0;)if(!kh(t[s],r[s]))return!1;return!0}if(l=Object.keys(t),e=l.length,e!==Object.keys(r).length)return!1;for(s=e;s--!==0;)if(!{}.hasOwnProperty.call(r,l[s]))return!1;for(s=e;s--!==0;){const o=l[s];if(!(o==="_owner"&&t.$$typeof)&&!kh(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}function D3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function D2(t,r){const e=D3(t);return Math.round(r*e)/e}function j0(t){const r=B.useRef(t);return uh(()=>{r.current=t}),r}function TM(t){t===void 0&&(t={});const{placement:r="bottom",strategy:e="absolute",middleware:s=[],platform:l,elements:{reference:o,floating:i}={},transform:d=!0,whileElementsMounted:c,open:a}=t,[u,m]=B.useState({x:0,y:0,strategy:e,placement:r,middlewareData:{},isPositioned:!1}),[h,p]=B.useState(s);kh(h,s)||p(s);const[y,x]=B.useState(null),[g,w]=B.useState(null),v=B.useCallback(k=>{k!==D.current&&(D.current=k,x(k))},[]),j=B.useCallback(k=>{k!==V.current&&(V.current=k,w(k))},[]),N=o||y,T=i||g,D=B.useRef(null),V=B.useRef(null),P=B.useRef(u),$=c!=null,G=j0(c),Y=j0(l),W=j0(a),O=B.useCallback(()=>{if(!D.current||!V.current)return;const k={placement:r,strategy:e,middleware:h};Y.current&&(k.platform=Y.current),kM(D.current,V.current,k).then(E=>{const M={...E,isPositioned:W.current!==!1};I.current&&!kh(P.current,M)&&(P.current=M,id.flushSync(()=>{m(M)}))})},[h,r,e,Y,W]);uh(()=>{a===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(k=>({...k,isPositioned:!1})))},[a]);const I=B.useRef(!1);uh(()=>(I.current=!0,()=>{I.current=!1}),[]),uh(()=>{if(N&&(D.current=N),T&&(V.current=T),N&&T){if(G.current)return G.current(N,T,O);O()}},[N,T,O,G,$]);const R=B.useMemo(()=>({reference:D,floating:V,setReference:v,setFloating:j}),[v,j]),S=B.useMemo(()=>({reference:N,floating:T}),[N,T]),C=B.useMemo(()=>{const k={position:e,left:0,top:0};if(!S.floating)return k;const E=D2(S.floating,u.x),M=D2(S.floating,u.y);return d?{...k,transform:"translate("+E+"px, "+M+"px)",...D3(S.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:E,top:M}},[e,d,S.floating,u.x,u.y]);return B.useMemo(()=>({...u,update:O,refs:R,elements:S,floatingStyles:C}),[u,O,R,S,C])}const AM=t=>{function r(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:t,fn(e){const{element:s,padding:l}=typeof t=="function"?t(e):t;return s&&r(s)?s.current!=null?O2({element:s.current,padding:l}).fn(e):{}:s?O2({element:s,padding:l}).fn(e):{}}}},MM=(t,r)=>({...wM(t),options:[t,r]}),OM=(t,r)=>({...jM(t),options:[t,r]}),DM=(t,r)=>({...NM(t),options:[t,r]}),IM=(t,r)=>({...SM(t),options:[t,r]}),PM=(t,r)=>({..._M(t),options:[t,r]}),LM=(t,r)=>({...CM(t),options:[t,r]}),BM=(t,r)=>({...AM(t),options:[t,r]});var FM="Arrow",I3=B.forwardRef((t,r)=>{const{children:e,width:s=10,height:l=5,...o}=t;return n.jsx(kt.svg,{...o,ref:r,width:s,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?e:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});I3.displayName=FM;var UM=I3,ty="Popper",[P3,bo]=Qr(ty),[$M,L3]=P3(ty),B3=t=>{const{__scopePopper:r,children:e}=t,[s,l]=B.useState(null);return n.jsx($M,{scope:r,anchor:s,onAnchorChange:l,children:e})};B3.displayName=ty;var F3="PopperAnchor",U3=B.forwardRef((t,r)=>{const{__scopePopper:e,virtualRef:s,...l}=t,o=L3(F3,e),i=B.useRef(null),d=tn(r,i),c=B.useRef(null);return B.useEffect(()=>{const a=c.current;c.current=s?.current||i.current,a!==c.current&&o.onAnchorChange(c.current)}),s?null:n.jsx(kt.div,{...l,ref:d})});U3.displayName=F3;var ny="PopperContent",[zM,qM]=P3(ny),$3=B.forwardRef((t,r)=>{const{__scopePopper:e,side:s="bottom",sideOffset:l=0,align:o="center",alignOffset:i=0,arrowPadding:d=0,avoidCollisions:c=!0,collisionBoundary:a=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...x}=t,g=L3(ny,e),[w,v]=B.useState(null),j=tn(r,ee=>v(ee)),[N,T]=B.useState(null),D=Gb(N),V=D?.width??0,P=D?.height??0,$=s+(o!=="center"?"-"+o:""),G=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},Y=Array.isArray(a)?a:[a],W=Y.length>0,O={padding:G,boundary:Y.filter(HM),altBoundary:W},{refs:I,floatingStyles:R,placement:S,isPositioned:C,middlewareData:k}=TM({strategy:"fixed",placement:$,whileElementsMounted:(...ee)=>vM(...ee,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[MM({mainAxis:l+P,alignmentAxis:i}),c&&OM({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?DM():void 0,...O}),c&&IM({...O}),PM({...O,apply:({elements:ee,rects:U,availableWidth:F,availableHeight:J})=>{const{width:re,height:ce}=U.reference,se=ee.floating.style;se.setProperty("--radix-popper-available-width",`${F}px`),se.setProperty("--radix-popper-available-height",`${J}px`),se.setProperty("--radix-popper-anchor-width",`${re}px`),se.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),N&&BM({element:N,padding:d}),WM({arrowWidth:V,arrowHeight:P}),h&&LM({strategy:"referenceHidden",...O})]}),[E,M]=V3(S),L=Xr(y);Vr(()=>{C&&L?.()},[C,L]);const z=k.arrow?.x,K=k.arrow?.y,Z=k.arrow?.centerOffset!==0,[te,H]=B.useState();return Vr(()=>{w&&H(window.getComputedStyle(w).zIndex)},[w]),n.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:C?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[k.transformOrigin?.x,k.transformOrigin?.y].join(" "),...k.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx(zM,{scope:e,placedSide:E,onArrowChange:T,arrowX:z,arrowY:K,shouldHideArrow:Z,children:n.jsx(kt.div,{"data-side":E,"data-align":M,...x,ref:j,style:{...x.style,animation:C?void 0:"none"}})})})});$3.displayName=ny;var z3="PopperArrow",VM={top:"bottom",right:"left",bottom:"top",left:"right"},q3=B.forwardRef(function(r,e){const{__scopePopper:s,...l}=r,o=qM(z3,s),i=VM[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(UM,{...l,ref:e,style:{...l.style,display:"block"}})})});q3.displayName=z3;function HM(t){return t!==null}var WM=t=>({name:"transformOrigin",options:t,fn(r){const{placement:e,rects:s,middlewareData:l}=r,i=l.arrow?.centerOffset!==0,d=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[a,u]=V3(e),m={start:"0%",center:"50%",end:"100%"}[u],h=(l.arrow?.x??0)+d/2,p=(l.arrow?.y??0)+c/2;let y="",x="";return a==="bottom"?(y=i?m:`${h}px`,x=`${-c}px`):a==="top"?(y=i?m:`${h}px`,x=`${s.floating.height+c}px`):a==="right"?(y=`${-c}px`,x=i?m:`${p}px`):a==="left"&&(y=`${s.floating.width+c}px`,x=i?m:`${p}px`),{data:{x:y,y:x}}}});function V3(t){const[r,e="center"]=t.split("-");return[r,e]}var Sp=B3,bd=U3,_p=$3,Cp=q3,GM="Portal",Sc=B.forwardRef((t,r)=>{const{container:e,...s}=t,[l,o]=B.useState(!1);Vr(()=>o(!0),[]);const i=e||l&&globalThis?.document?.body;return i?uj.createPortal(n.jsx(kt.div,{...s,ref:r}),i):null});Sc.displayName=GM;var H3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YM="VisuallyHidden",W3=B.forwardRef((t,r)=>n.jsx(kt.span,{...t,ref:r,style:{...H3,...t.style}}));W3.displayName=YM;var XM=W3,KM=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},Hl=new WeakMap,Gf=new WeakMap,Yf={},S0=0,G3=function(t){return t&&(t.host||G3(t.parentNode))},QM=function(t,r){return r.map(function(e){if(t.contains(e))return e;var s=G3(e);return s&&t.contains(s)?s:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},ZM=function(t,r,e,s){var l=QM(r,Array.isArray(t)?t:[t]);Yf[e]||(Yf[e]=new WeakMap);var o=Yf[e],i=[],d=new Set,c=new Set(l),a=function(m){!m||d.has(m)||(d.add(m),a(m.parentNode))};l.forEach(a);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(d.has(h))u(h);else try{var p=h.getAttribute(s),y=p!==null&&p!=="false",x=(Hl.get(h)||0)+1,g=(o.get(h)||0)+1;Hl.set(h,x),o.set(h,g),i.push(h),x===1&&y&&Gf.set(h,!0),g===1&&h.setAttribute(e,"true"),y||h.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return u(r),d.clear(),S0++,function(){i.forEach(function(m){var h=Hl.get(m)-1,p=o.get(m)-1;Hl.set(m,h),o.set(m,p),h||(Gf.has(m)||m.removeAttribute(s),Gf.delete(m)),p||m.removeAttribute(e)}),S0--,S0||(Hl=new WeakMap,Hl=new WeakMap,Gf=new WeakMap,Yf={})}},Np=function(t,r,e){e===void 0&&(e="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),l=KM(t);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live], script"))),ZM(s,l,e,"aria-hidden")):function(){return null}},za=function(){return za=Object.assign||function(r){for(var e,s=1,l=arguments.length;s<l;s++){e=arguments[s];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},za.apply(this,arguments)};function Y3(t,r){var e={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(e[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(e[s[l]]=t[s[l]]);return e}function JM(t,r,e){if(e||arguments.length===2)for(var s=0,l=r.length,o;s<l;s++)(o||!(s in r))&&(o||(o=Array.prototype.slice.call(r,0,s)),o[s]=r[s]);return t.concat(o||Array.prototype.slice.call(r))}var dh="right-scroll-bar-position",fh="width-before-scroll-bar",eO="with-scroll-bars-hidden",tO="--removed-body-scroll-bar-size";function _0(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function nO(t,r){var e=B.useState(function(){return{value:t,callback:r,facade:{get current(){return e.value},set current(s){var l=e.value;l!==s&&(e.value=s,e.callback(s,l))}}}})[0];return e.callback=r,e.facade}var rO=typeof window<"u"?B.useLayoutEffect:B.useEffect,I2=new WeakMap;function sO(t,r){var e=nO(null,function(s){return t.forEach(function(l){return _0(l,s)})});return rO(function(){var s=I2.get(e);if(s){var l=new Set(s),o=new Set(t),i=e.current;l.forEach(function(d){o.has(d)||_0(d,null)}),o.forEach(function(d){l.has(d)||_0(d,i)})}I2.set(e,t)},[t]),e}function aO(t){return t}function iO(t,r){r===void 0&&(r=aO);var e=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:t},useMedium:function(o){var i=r(o,s);return e.push(i),function(){e=e.filter(function(d){return d!==i})}},assignSyncMedium:function(o){for(s=!0;e.length;){var i=e;e=[],i.forEach(o)}e={push:function(d){return o(d)},filter:function(){return e}}},assignMedium:function(o){s=!0;var i=[];if(e.length){var d=e;e=[],d.forEach(o),i=e}var c=function(){var u=i;i=[],u.forEach(o)},a=function(){return Promise.resolve().then(c)};a(),e={push:function(u){i.push(u),a()},filter:function(u){return i=i.filter(u),e}}}};return l}function oO(t){t===void 0&&(t={});var r=iO(null);return r.options=za({async:!0,ssr:!1},t),r}var X3=function(t){var r=t.sideCar,e=Y3(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return B.createElement(s,za({},e))};X3.isSideCarExport=!0;function lO(t,r){return t.useMedium(r),X3}var K3=oO(),C0=function(){},kp=B.forwardRef(function(t,r){var e=B.useRef(null),s=B.useState({onScrollCapture:C0,onWheelCapture:C0,onTouchMoveCapture:C0}),l=s[0],o=s[1],i=t.forwardProps,d=t.children,c=t.className,a=t.removeScrollBar,u=t.enabled,m=t.shards,h=t.sideCar,p=t.noRelative,y=t.noIsolation,x=t.inert,g=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,j=t.gapMode,N=Y3(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,D=sO([e,r]),V=za(za({},N),l);return B.createElement(B.Fragment,null,u&&B.createElement(T,{sideCar:K3,removeScrollBar:a,shards:m,noRelative:p,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!g,lockRef:e,gapMode:j}),i?B.cloneElement(B.Children.only(d),za(za({},V),{ref:D})):B.createElement(v,za({},V,{className:c,ref:D}),d))});kp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kp.classNames={fullWidth:fh,zeroRight:dh};var cO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=cO();return r&&t.setAttribute("nonce",r),t}function dO(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function fO(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var hO=function(){var t=0,r=null;return{add:function(e){t==0&&(r=uO())&&(dO(r,e),fO(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},pO=function(){var t=hO();return function(r,e){B.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&e])}},Q3=function(){var t=pO(),r=function(e){var s=e.styles,l=e.dynamic;return t(s,l),null};return r},mO={left:0,top:0,right:0,gap:0},N0=function(t){return parseInt(t||"",10)||0},gO=function(t){var r=window.getComputedStyle(document.body),e=r[t==="padding"?"paddingLeft":"marginLeft"],s=r[t==="padding"?"paddingTop":"marginTop"],l=r[t==="padding"?"paddingRight":"marginRight"];return[N0(e),N0(s),N0(l)]},bO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mO;var r=gO(t),e=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-e+r[2]-r[0])}},yO=Q3(),Jl="data-scroll-locked",xO=function(t,r,e,s){var l=t.left,o=t.top,i=t.right,d=t.gap;return e===void 0&&(e="margin"),`
  .`.concat(eO,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Jl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),e==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),e==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(fh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(dh," .").concat(dh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(fh," .").concat(fh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Jl,`] {
    `).concat(tO,": ").concat(d,`px;
  }
`)},P2=function(){var t=parseInt(document.body.getAttribute(Jl)||"0",10);return isFinite(t)?t:0},vO=function(){B.useEffect(function(){return document.body.setAttribute(Jl,(P2()+1).toString()),function(){var t=P2()-1;t<=0?document.body.removeAttribute(Jl):document.body.setAttribute(Jl,t.toString())}},[])},wO=function(t){var r=t.noRelative,e=t.noImportant,s=t.gapMode,l=s===void 0?"margin":s;vO();var o=B.useMemo(function(){return bO(l)},[l]);return B.createElement(yO,{styles:xO(o,!r,l,e?"":"!important")})},db=!1;if(typeof window<"u")try{var Xf=Object.defineProperty({},"passive",{get:function(){return db=!0,!0}});window.addEventListener("test",Xf,Xf),window.removeEventListener("test",Xf,Xf)}catch{db=!1}var Wl=db?{passive:!1}:!1,jO=function(t){return t.tagName==="TEXTAREA"},Z3=function(t,r){if(!(t instanceof Element))return!1;var e=window.getComputedStyle(t);return e[r]!=="hidden"&&!(e.overflowY===e.overflowX&&!jO(t)&&e[r]==="visible")},SO=function(t){return Z3(t,"overflowY")},_O=function(t){return Z3(t,"overflowX")},L2=function(t,r){var e=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var l=J3(t,s);if(l){var o=eS(t,s),i=o[1],d=o[2];if(i>d)return!0}s=s.parentNode}while(s&&s!==e.body);return!1},CO=function(t){var r=t.scrollTop,e=t.scrollHeight,s=t.clientHeight;return[r,e,s]},NO=function(t){var r=t.scrollLeft,e=t.scrollWidth,s=t.clientWidth;return[r,e,s]},J3=function(t,r){return t==="v"?SO(r):_O(r)},eS=function(t,r){return t==="v"?CO(r):NO(r)},kO=function(t,r){return t==="h"&&r==="rtl"?-1:1},EO=function(t,r,e,s,l){var o=kO(t,window.getComputedStyle(r).direction),i=o*s,d=e.target,c=r.contains(d),a=!1,u=i>0,m=0,h=0;do{if(!d)break;var p=eS(t,d),y=p[0],x=p[1],g=p[2],w=x-g-o*y;(y||w)&&J3(t,d)&&(m+=w,h+=y);var v=d.parentNode;d=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&d!==document.body||c&&(r.contains(d)||r===d));return(u&&Math.abs(m)<1||!u&&Math.abs(h)<1)&&(a=!0),a},Kf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},B2=function(t){return[t.deltaX,t.deltaY]},F2=function(t){return t&&"current"in t?t.current:t},RO=function(t,r){return t[0]===r[0]&&t[1]===r[1]},TO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AO=0,Gl=[];function MO(t){var r=B.useRef([]),e=B.useRef([0,0]),s=B.useRef(),l=B.useState(AO++)[0],o=B.useState(Q3)[0],i=B.useRef(t);B.useEffect(function(){i.current=t},[t]),B.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var x=JM([t.lockRef.current],(t.shards||[]).map(F2),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var d=B.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var w=Kf(x),v=e.current,j="deltaX"in x?x.deltaX:v[0]-w[0],N="deltaY"in x?x.deltaY:v[1]-w[1],T,D=x.target,V=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in x&&V==="h"&&D.type==="range")return!1;var P=L2(V,D);if(!P)return!0;if(P?T=V:(T=V==="v"?"h":"v",P=L2(V,D)),!P)return!1;if(!s.current&&"changedTouches"in x&&(j||N)&&(s.current=T),!T)return!0;var $=s.current||T;return EO($,g,x,$==="h"?j:N)},[]),c=B.useCallback(function(x){var g=x;if(!(!Gl.length||Gl[Gl.length-1]!==o)){var w="deltaY"in g?B2(g):Kf(g),v=r.current.filter(function(T){return T.name===g.type&&(T.target===g.target||g.target===T.shadowParent)&&RO(T.delta,w)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var j=(i.current.shards||[]).map(F2).filter(Boolean).filter(function(T){return T.contains(g.target)}),N=j.length>0?d(g,j[0]):!i.current.noIsolation;N&&g.cancelable&&g.preventDefault()}}},[]),a=B.useCallback(function(x,g,w,v){var j={name:x,delta:g,target:w,should:v,shadowParent:OO(w)};r.current.push(j),setTimeout(function(){r.current=r.current.filter(function(N){return N!==j})},1)},[]),u=B.useCallback(function(x){e.current=Kf(x),s.current=void 0},[]),m=B.useCallback(function(x){a(x.type,B2(x),x.target,d(x,t.lockRef.current))},[]),h=B.useCallback(function(x){a(x.type,Kf(x),x.target,d(x,t.lockRef.current))},[]);B.useEffect(function(){return Gl.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wl),document.addEventListener("touchmove",c,Wl),document.addEventListener("touchstart",u,Wl),function(){Gl=Gl.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Wl),document.removeEventListener("touchmove",c,Wl),document.removeEventListener("touchstart",u,Wl)}},[]);var p=t.removeScrollBar,y=t.inert;return B.createElement(B.Fragment,null,y?B.createElement(o,{styles:TO(l)}):null,p?B.createElement(wO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function OO(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const DO=lO(K3,MO);var yd=B.forwardRef(function(t,r){return B.createElement(kp,za({},t,{ref:r,sideCar:DO}))});yd.classNames=kp.classNames;var IO=[" ","Enter","ArrowUp","ArrowDown"],PO=[" ","Enter"],sl="Select",[Ep,Rp,LO]=bp(sl),[_c,ehe]=Qr(sl,[LO,bo]),Tp=bo(),[BO,yo]=_c(sl),[FO,UO]=_c(sl),tS=t=>{const{__scopeSelect:r,children:e,open:s,defaultOpen:l,onOpenChange:o,value:i,defaultValue:d,onValueChange:c,dir:a,name:u,autoComplete:m,disabled:h,required:p,form:y}=t,x=Tp(r),[g,w]=B.useState(null),[v,j]=B.useState(null),[N,T]=B.useState(!1),D=xc(a),[V,P]=$s({prop:s,defaultProp:l??!1,onChange:o,caller:sl}),[$,G]=$s({prop:i,defaultProp:d,onChange:c,caller:sl}),Y=B.useRef(null),W=g?y||!!g.closest("form"):!0,[O,I]=B.useState(new Set),R=Array.from(O).map(S=>S.props.value).join(";");return n.jsx(Sp,{...x,children:n.jsxs(BO,{required:p,scope:r,trigger:g,onTriggerChange:w,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:T,contentId:Cs(),value:$,onValueChange:G,open:V,onOpenChange:P,dir:D,triggerPointerDownPosRef:Y,disabled:h,children:[n.jsx(Ep.Provider,{scope:r,children:n.jsx(FO,{scope:t.__scopeSelect,onNativeOptionAdd:B.useCallback(S=>{I(C=>new Set(C).add(S))},[]),onNativeOptionRemove:B.useCallback(S=>{I(C=>{const k=new Set(C);return k.delete(S),k})},[]),children:e})}),W?n.jsxs(SS,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:m,value:$,onChange:S=>G(S.target.value),disabled:h,form:y,children:[$===void 0?n.jsx("option",{value:""}):null,Array.from(O)]},R):null]})})};tS.displayName=sl;var nS="SelectTrigger",rS=B.forwardRef((t,r)=>{const{__scopeSelect:e,disabled:s=!1,...l}=t,o=Tp(e),i=yo(nS,e),d=i.disabled||s,c=tn(r,i.onTriggerChange),a=Rp(e),u=B.useRef("touch"),[m,h,p]=CS(x=>{const g=a().filter(j=>!j.disabled),w=g.find(j=>j.value===i.value),v=NS(g,x,w);v!==void 0&&i.onValueChange(v.value)}),y=x=>{d||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(bd,{asChild:!0,...o,children:n.jsx(kt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":_S(i.value)?"":void 0,...l,ref:c,onClick:at(l.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&y(x)}),onPointerDown:at(l.onPointerDown,x=>{u.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:at(l.onKeyDown,x=>{const g=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(g&&x.key===" ")&&IO.includes(x.key)&&(y(),x.preventDefault())})})})});rS.displayName=nS;var sS="SelectValue",aS=B.forwardRef((t,r)=>{const{__scopeSelect:e,className:s,style:l,children:o,placeholder:i="",...d}=t,c=yo(sS,e),{onValueNodeHasChildrenChange:a}=c,u=o!==void 0,m=tn(r,c.onValueNodeChange);return Vr(()=>{a(u)},[a,u]),n.jsx(kt.span,{...d,ref:m,style:{pointerEvents:"none"},children:_S(c.value)?n.jsx(n.Fragment,{children:i}):o})});aS.displayName=sS;var $O="SelectIcon",iS=B.forwardRef((t,r)=>{const{__scopeSelect:e,children:s,...l}=t;return n.jsx(kt.span,{"aria-hidden":!0,...l,ref:r,children:s||""})});iS.displayName=$O;var zO="SelectPortal",oS=t=>n.jsx(Sc,{asChild:!0,...t});oS.displayName=zO;var al="SelectContent",lS=B.forwardRef((t,r)=>{const e=yo(al,t.__scopeSelect),[s,l]=B.useState();if(Vr(()=>{l(new DocumentFragment)},[]),!e.open){const o=s;return o?id.createPortal(n.jsx(cS,{scope:t.__scopeSelect,children:n.jsx(Ep.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),o):null}return n.jsx(uS,{...t,ref:r})});lS.displayName=al;var fa=10,[cS,xo]=_c(al),qO="SelectContentImpl",VO=co("SelectContent.RemoveScroll"),uS=B.forwardRef((t,r)=>{const{__scopeSelect:e,position:s="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:o,onPointerDownOutside:i,side:d,sideOffset:c,align:a,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:x,avoidCollisions:g,...w}=t,v=yo(al,e),[j,N]=B.useState(null),[T,D]=B.useState(null),V=tn(r,ee=>N(ee)),[P,$]=B.useState(null),[G,Y]=B.useState(null),W=Rp(e),[O,I]=B.useState(!1),R=B.useRef(!1);B.useEffect(()=>{if(j)return Np(j)},[j]),yp();const S=B.useCallback(ee=>{const[U,...F]=W().map(ce=>ce.ref.current),[J]=F.slice(-1),re=document.activeElement;for(const ce of ee)if(ce===re||(ce?.scrollIntoView({block:"nearest"}),ce===U&&T&&(T.scrollTop=0),ce===J&&T&&(T.scrollTop=T.scrollHeight),ce?.focus(),document.activeElement!==re))return},[W,T]),C=B.useCallback(()=>S([P,j]),[S,P,j]);B.useEffect(()=>{O&&C()},[O,C]);const{onOpenChange:k,triggerPointerDownPosRef:E}=v;B.useEffect(()=>{if(j){let ee={x:0,y:0};const U=J=>{ee={x:Math.abs(Math.round(J.pageX)-(E.current?.x??0)),y:Math.abs(Math.round(J.pageY)-(E.current?.y??0))}},F=J=>{ee.x<=10&&ee.y<=10?J.preventDefault():j.contains(J.target)||k(!1),document.removeEventListener("pointermove",U),E.current=null};return E.current!==null&&(document.addEventListener("pointermove",U),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",F,{capture:!0})}}},[j,k,E]),B.useEffect(()=>{const ee=()=>k(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[k]);const[M,L]=CS(ee=>{const U=W().filter(re=>!re.disabled),F=U.find(re=>re.ref.current===document.activeElement),J=NS(U,ee,F);J&&setTimeout(()=>J.ref.current.focus())}),z=B.useCallback((ee,U,F)=>{const J=!R.current&&!F;(v.value!==void 0&&v.value===U||J)&&($(ee),J&&(R.current=!0))},[v.value]),K=B.useCallback(()=>j?.focus(),[j]),Z=B.useCallback((ee,U,F)=>{const J=!R.current&&!F;(v.value!==void 0&&v.value===U||J)&&Y(ee)},[v.value]),te=s==="popper"?fb:dS,H=te===fb?{side:d,sideOffset:c,align:a,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:x,avoidCollisions:g}:{};return n.jsx(cS,{scope:e,content:j,viewport:T,onViewportChange:D,itemRefCallback:z,selectedItem:P,onItemLeave:K,itemTextRefCallback:Z,focusSelectedItem:C,selectedItemText:G,position:s,isPositioned:O,searchRef:M,children:n.jsx(yd,{as:VO,allowPinchZoom:!0,children:n.jsx(md,{asChild:!0,trapped:v.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:at(l,ee=>{v.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:n.jsx(vc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(te,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ee=>ee.preventDefault(),...w,...H,onPlaced:()=>I(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:at(w.onKeyDown,ee=>{const U=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!U&&ee.key.length===1&&L(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let J=W().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const re=ee.target,ce=J.indexOf(re);J=J.slice(ce+1)}setTimeout(()=>S(J)),ee.preventDefault()}})})})})})})});uS.displayName=qO;var HO="SelectItemAlignedPosition",dS=B.forwardRef((t,r)=>{const{__scopeSelect:e,onPlaced:s,...l}=t,o=yo(al,e),i=xo(al,e),[d,c]=B.useState(null),[a,u]=B.useState(null),m=tn(r,V=>u(V)),h=Rp(e),p=B.useRef(!1),y=B.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:w,focusSelectedItem:v}=i,j=B.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&a&&x&&g&&w){const V=o.trigger.getBoundingClientRect(),P=a.getBoundingClientRect(),$=o.valueNode.getBoundingClientRect(),G=w.getBoundingClientRect();if(o.dir!=="rtl"){const re=G.left-P.left,ce=$.left-re,se=V.left-ce,de=V.width+se,we=Math.max(de,P.width),ve=window.innerWidth-fa,ie=ib(ce,[fa,Math.max(fa,ve-we)]);d.style.minWidth=de+"px",d.style.left=ie+"px"}else{const re=P.right-G.right,ce=window.innerWidth-$.right-re,se=window.innerWidth-V.right-ce,de=V.width+se,we=Math.max(de,P.width),ve=window.innerWidth-fa,ie=ib(ce,[fa,Math.max(fa,ve-we)]);d.style.minWidth=de+"px",d.style.right=ie+"px"}const Y=h(),W=window.innerHeight-fa*2,O=x.scrollHeight,I=window.getComputedStyle(a),R=parseInt(I.borderTopWidth,10),S=parseInt(I.paddingTop,10),C=parseInt(I.borderBottomWidth,10),k=parseInt(I.paddingBottom,10),E=R+S+O+k+C,M=Math.min(g.offsetHeight*5,E),L=window.getComputedStyle(x),z=parseInt(L.paddingTop,10),K=parseInt(L.paddingBottom,10),Z=V.top+V.height/2-fa,te=W-Z,H=g.offsetHeight/2,ee=g.offsetTop+H,U=R+S+ee,F=E-U;if(U<=Z){const re=Y.length>0&&g===Y[Y.length-1].ref.current;d.style.bottom="0px";const ce=a.clientHeight-x.offsetTop-x.offsetHeight,se=Math.max(te,H+(re?K:0)+ce+C),de=U+se;d.style.height=de+"px"}else{const re=Y.length>0&&g===Y[0].ref.current;d.style.top="0px";const se=Math.max(Z,R+x.offsetTop+(re?z:0)+H)+F;d.style.height=se+"px",x.scrollTop=U-Z+x.offsetTop}d.style.margin=`${fa}px 0`,d.style.minHeight=M+"px",d.style.maxHeight=W+"px",s?.(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,d,a,x,g,w,o.dir,s]);Vr(()=>j(),[j]);const[N,T]=B.useState();Vr(()=>{a&&T(window.getComputedStyle(a).zIndex)},[a]);const D=B.useCallback(V=>{V&&y.current===!0&&(j(),v?.(),y.current=!1)},[j,v]);return n.jsx(GO,{scope:e,contentWrapper:d,shouldExpandOnScrollRef:p,onScrollButtonChange:D,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:n.jsx(kt.div,{...l,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});dS.displayName=HO;var WO="SelectPopperPosition",fb=B.forwardRef((t,r)=>{const{__scopeSelect:e,align:s="start",collisionPadding:l=fa,...o}=t,i=Tp(e);return n.jsx(_p,{...i,...o,ref:r,align:s,collisionPadding:l,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fb.displayName=WO;var[GO,ry]=_c(al,{}),hb="SelectViewport",fS=B.forwardRef((t,r)=>{const{__scopeSelect:e,nonce:s,...l}=t,o=xo(hb,e),i=ry(hb,e),d=tn(r,o.onViewportChange),c=B.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Ep.Slot,{scope:e,children:n.jsx(kt.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:at(l.onScroll,a=>{const u=a.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h?.current&&m){const p=Math.abs(c.current-u.scrollTop);if(p>0){const y=window.innerHeight-fa*2,x=parseFloat(m.style.minHeight),g=parseFloat(m.style.height),w=Math.max(x,g);if(w<y){const v=w+p,j=Math.min(y,v),N=v-j;m.style.height=j+"px",m.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});fS.displayName=hb;var hS="SelectGroup",[YO,XO]=_c(hS),KO=B.forwardRef((t,r)=>{const{__scopeSelect:e,...s}=t,l=Cs();return n.jsx(YO,{scope:e,id:l,children:n.jsx(kt.div,{role:"group","aria-labelledby":l,...s,ref:r})})});KO.displayName=hS;var pS="SelectLabel",QO=B.forwardRef((t,r)=>{const{__scopeSelect:e,...s}=t,l=XO(pS,e);return n.jsx(kt.div,{id:l.id,...s,ref:r})});QO.displayName=pS;var Eh="SelectItem",[ZO,mS]=_c(Eh),gS=B.forwardRef((t,r)=>{const{__scopeSelect:e,value:s,disabled:l=!1,textValue:o,...i}=t,d=yo(Eh,e),c=xo(Eh,e),a=d.value===s,[u,m]=B.useState(o??""),[h,p]=B.useState(!1),y=tn(r,v=>c.itemRefCallback?.(v,s,l)),x=Cs(),g=B.useRef("touch"),w=()=>{l||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(ZO,{scope:e,value:s,disabled:l,textId:x,isSelected:a,onItemTextChange:B.useCallback(v=>{m(j=>j||(v?.textContent??"").trim())},[]),children:n.jsx(Ep.ItemSlot,{scope:e,value:s,disabled:l,textValue:u,children:n.jsx(kt.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":a&&h,"data-state":a?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...i,ref:y,onFocus:at(i.onFocus,()=>p(!0)),onBlur:at(i.onBlur,()=>p(!1)),onClick:at(i.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:at(i.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:at(i.onPointerDown,v=>{g.current=v.pointerType}),onPointerMove:at(i.onPointerMove,v=>{g.current=v.pointerType,l?c.onItemLeave?.():g.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(i.onPointerLeave,v=>{v.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:at(i.onKeyDown,v=>{c.searchRef?.current!==""&&v.key===" "||(PO.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});gS.displayName=Eh;var Au="SelectItemText",bS=B.forwardRef((t,r)=>{const{__scopeSelect:e,className:s,style:l,...o}=t,i=yo(Au,e),d=xo(Au,e),c=mS(Au,e),a=UO(Au,e),[u,m]=B.useState(null),h=tn(r,w=>m(w),c.onItemTextChange,w=>d.itemTextRefCallback?.(w,c.value,c.disabled)),p=u?.textContent,y=B.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=a;return Vr(()=>(x(y),()=>g(y)),[x,g,y]),n.jsxs(n.Fragment,{children:[n.jsx(kt.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?id.createPortal(o.children,i.valueNode):null]})});bS.displayName=Au;var yS="SelectItemIndicator",xS=B.forwardRef((t,r)=>{const{__scopeSelect:e,...s}=t;return mS(yS,e).isSelected?n.jsx(kt.span,{"aria-hidden":!0,...s,ref:r}):null});xS.displayName=yS;var pb="SelectScrollUpButton",vS=B.forwardRef((t,r)=>{const e=xo(pb,t.__scopeSelect),s=ry(pb,t.__scopeSelect),[l,o]=B.useState(!1),i=tn(r,s.onScrollButtonChange);return Vr(()=>{if(e.viewport&&e.isPositioned){let d=function(){const a=c.scrollTop>0;o(a)};const c=e.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[e.viewport,e.isPositioned]),l?n.jsx(jS,{...t,ref:i,onAutoScroll:()=>{const{viewport:d,selectedItem:c}=e;d&&c&&(d.scrollTop=d.scrollTop-c.offsetHeight)}}):null});vS.displayName=pb;var mb="SelectScrollDownButton",wS=B.forwardRef((t,r)=>{const e=xo(mb,t.__scopeSelect),s=ry(mb,t.__scopeSelect),[l,o]=B.useState(!1),i=tn(r,s.onScrollButtonChange);return Vr(()=>{if(e.viewport&&e.isPositioned){let d=function(){const a=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<a;o(u)};const c=e.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[e.viewport,e.isPositioned]),l?n.jsx(jS,{...t,ref:i,onAutoScroll:()=>{const{viewport:d,selectedItem:c}=e;d&&c&&(d.scrollTop=d.scrollTop+c.offsetHeight)}}):null});wS.displayName=mb;var jS=B.forwardRef((t,r)=>{const{__scopeSelect:e,onAutoScroll:s,...l}=t,o=xo("SelectScrollButton",e),i=B.useRef(null),d=Rp(e),c=B.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return B.useEffect(()=>()=>c(),[c]),Vr(()=>{d().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),n.jsx(kt.div,{"aria-hidden":!0,...l,ref:r,style:{flexShrink:0,...l.style},onPointerDown:at(l.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:at(l.onPointerMove,()=>{o.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:at(l.onPointerLeave,()=>{c()})})}),JO="SelectSeparator",eD=B.forwardRef((t,r)=>{const{__scopeSelect:e,...s}=t;return n.jsx(kt.div,{"aria-hidden":!0,...s,ref:r})});eD.displayName=JO;var gb="SelectArrow",tD=B.forwardRef((t,r)=>{const{__scopeSelect:e,...s}=t,l=Tp(e),o=yo(gb,e),i=xo(gb,e);return o.open&&i.position==="popper"?n.jsx(Cp,{...l,...s,ref:r}):null});tD.displayName=gb;var nD="SelectBubbleInput",SS=B.forwardRef(({__scopeSelect:t,value:r,...e},s)=>{const l=B.useRef(null),o=tn(s,l),i=Wb(r);return B.useEffect(()=>{const d=l.current;if(!d)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&u){const m=new Event("change",{bubbles:!0});u.call(d,r),d.dispatchEvent(m)}},[i,r]),n.jsx(kt.select,{...e,style:{...H3,...e.style},ref:o,defaultValue:r})});SS.displayName=nD;function _S(t){return t===""||t===void 0}function CS(t){const r=Xr(t),e=B.useRef(""),s=B.useRef(0),l=B.useCallback(i=>{const d=e.current+i;r(d),(function c(a){e.current=a,window.clearTimeout(s.current),a!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(d)},[r]),o=B.useCallback(()=>{e.current="",window.clearTimeout(s.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(s.current),[]),[e,l,o]}function NS(t,r,e){const l=r.length>1&&Array.from(r).every(a=>a===r[0])?r[0]:r,o=e?t.indexOf(e):-1;let i=rD(t,Math.max(o,0));l.length===1&&(i=i.filter(a=>a!==e));const c=i.find(a=>a.textValue.toLowerCase().startsWith(l.toLowerCase()));return c!==e?c:void 0}function rD(t,r){return t.map((e,s)=>t[(r+s)%t.length])}var sD=tS,aD=rS,iD=aS,oD=iS,lD=oS,cD=lS,uD=fS,dD=gS,fD=bS,hD=xS,pD=vS,mD=wS;function us({...t}){return n.jsx(sD,{"data-slot":"select",...t})}function ds({...t}){return n.jsx(iD,{"data-slot":"select-value",...t})}function fs({className:t,size:r="default",children:e,...s}){return n.jsxs(aD,{"data-slot":"select-trigger","data-size":r,className:Ze("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[e,n.jsx(oD,{asChild:!0,children:n.jsx(hd,{className:"size-4 opacity-50"})})]})}function hs({className:t,children:r,position:e="popper",...s}){return n.jsx(lD,{children:n.jsxs(cD,{"data-slot":"select-content",className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:e,...s,children:[n.jsx(gD,{}),n.jsx(uD,{className:Ze("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),n.jsx(bD,{})]})})}function mr({className:t,children:r,...e}){return n.jsxs(dD,{"data-slot":"select-item",className:Ze("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...e,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(hD,{children:n.jsx(Ns,{className:"size-4"})})}),n.jsx(fD,{children:r})]})}function gD({className:t,...r}){return n.jsx(pD,{"data-slot":"select-scroll-up-button",className:Ze("flex cursor-default items-center justify-center py-1",t),...r,children:n.jsx(k9,{className:"size-4"})})}function bD({className:t,...r}){return n.jsx(mD,{"data-slot":"select-scroll-down-button",className:Ze("flex cursor-default items-center justify-center py-1",t),...r,children:n.jsx(hd,{className:"size-4"})})}const yD=({visible:t,pickPackOnly:r,selectedUnit:e,onUnitChange:s,disabled:l=!1})=>{const{t:o}=Be(),{user:i}=bt();let d=i.settings,c=[{text:d.unitLabel??o("inventory.units.unit.label"),value:an.Unit},{text:d.dozensLabel??o("inventory.units.dozen.label"),value:an.Dozen},{text:d.boxLabel??o("inventory.units.box.label"),value:an.Pack}];return d.enableUseBaseUn||(c=c.filter(a=>a.value!==an.Unit)),t?n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"unit-select",className:l?"text-muted-foreground":"",children:o("unit")}),n.jsxs(us,{disabled:r||l,onValueChange:s,value:e.toString(),children:[n.jsx(fs,{id:"unit-select",children:n.jsx(ds,{placeholder:o("selectUnit")})}),n.jsx(hs,{children:c.map(a=>n.jsx(mr,{value:a.value.toString(),children:a.text},a.value))})]})]}):null};var Yo=(t=>(t.Transactional="Transactional",t.Confirmation="Confirmation",t.Both="Both",t))(Yo||{}),Ls=(t=>(t.ItemBarcode="ItemBarcode",t.ItemCode="ItemCode",t))(Ls||{});const vo=B.forwardRef(({enabled:t,unit:r=!1,item:e,onAddItem:s,onAddPackage:l,onPackageChanged:o,onAddAction:i,addActionLabel:d,addActionIcon:c,pickPackOnly:a=!1,enablePackage:u=!1,enablePackageCreate:m=!0,currentPackage:h,objectType:p,objectId:y,objectNumber:x,binEntry:g,isEphemeralPackage:w=!0},v)=>{const{t:j}=Be(),{unitSelection:N,user:T}=bt(),{barcodeRef:D,barcodeInput:V,setBarcodeInput:P,selectedUnit:$,scanMode:G,createPackage:Y,setCreatePackage:W,loadedPackage:O,clearBarCode:I,handleSubmit:R,handleUnitChanged:S,handleScanModeChange:C,handleClearPackage:k,isProcessing:E}=QD({enabled:t,item:e,enablePackage:u,currentPackage:h,objectType:p,objectId:y,objectNumber:x,onAddItem:s,onAddPackage:l,onPackageChanged:o,binEntry:g,isEphemeralPackage:w});B.useImperativeHandle(v,()=>({clear(){I()},focus(){D?.current?.focus()},getValue(){return V}}));const M=e?j("code"):T.settings.scannerMode===Ls.ItemBarcode||G==="package"?j("barcode"):j("code");return n.jsxs("form",{onSubmit:R,className:"space-y-4 p-2",children:[n.jsx(uA,{enablePackage:u,enablePackageCreate:m,scanMode:G,createPackage:Y,onScanModeChange:C,onCreatePackageChange:W,disabled:E}),n.jsx(QT,{onClear:k,loadedPackage:O,disabled:E}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"barcode-input",className:E?"text-muted-foreground":"",children:M}),n.jsx(on,{id:"barcode-input",required:!0,value:V,ref:D,onChange:L=>P(L.target.value),disabled:!t||E})]}),n.jsx(yD,{visible:r&&N&&G==="item",pickPackOnly:a,selectedUnit:$,onUnitChange:S,disabled:E}),n.jsxs("div",{className:"flex space-x-2",children:[i==null&&n.jsxs(Ie,{type:"submit",disabled:!t||E,className:"w-full",children:[E?n.jsx(ta,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Ns,{className:"mr-2 h-4 w-4"}),j(G==="package"?"scanPackage":"accept")]}),i&&n.jsxs(n.Fragment,{children:[n.jsxs(Ie,{type:"submit",disabled:!t||E,className:"flex-1",children:[E?n.jsx(ta,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Ns,{className:"mr-2 h-4 w-4"}),j(G==="package"?"scanPackage":"accept")]}),n.jsxs(Ie,{variant:"secondary",onClick:i,className:"flex-1",children:[c&&Te.createElement(c,{className:"mr-2 h-4 w-4"}),d]})]})]})]})});vo.displayName="BarCodeScanner";function xD(t){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",r.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const vD=t=>{switch(t){case"success":return SD;case"info":return CD;case"warning":return _D;case"error":return ND;default:return null}},wD=Array(12).fill(0),jD=({visible:t,className:r})=>Te.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},Te.createElement("div",{className:"sonner-spinner"},wD.map((e,s)=>Te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),SD=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_D=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CD=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ND=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kD=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ED=()=>{const[t,r]=Te.useState(document.hidden);return Te.useEffect(()=>{const e=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),t};let bb=1;class RD{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const e=this.subscribers.indexOf(r);this.subscribers.splice(e,1)}),this.publish=r=>{this.subscribers.forEach(e=>e(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var e;const{message:s,...l}=r,o=typeof r?.id=="number"||((e=r.id)==null?void 0:e.length)>0?r.id:bb++,i=this.toasts.find(c=>c.id===o),d=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...r,id:o,title:s}),{...c,...r,id:o,dismissible:d,title:s}):c):this.addToast({title:s,...l,dismissible:d,id:o}),o},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:r,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),r),this.message=(r,e)=>this.create({...e,message:r}),this.error=(r,e)=>this.create({...e,message:r,type:"error"}),this.success=(r,e)=>this.create({...e,type:"success",message:r}),this.info=(r,e)=>this.create({...e,type:"info",message:r}),this.warning=(r,e)=>this.create({...e,type:"warning",message:r}),this.loading=(r,e)=>this.create({...e,type:"loading",message:r}),this.promise=(r,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:r,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const l=Promise.resolve(r instanceof Function?r():r);let o=s!==void 0,i;const d=l.then(async a=>{if(i=["resolve",a],Te.isValidElement(a))o=!1,this.create({id:s,type:"default",message:a});else if(AD(a)&&!a.ok){o=!1;const m=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description,y=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:h,...y})}else if(a instanceof Error){o=!1;const m=typeof e.error=="function"?await e.error(a):e.error,h=typeof e.description=="function"?await e.description(a):e.description,y=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:h,...y})}else if(e.success!==void 0){o=!1;const m=typeof e.success=="function"?await e.success(a):e.success,h=typeof e.description=="function"?await e.description(a):e.description,y=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:h,...y})}}).catch(async a=>{if(i=["reject",a],e.error!==void 0){o=!1;const u=typeof e.error=="function"?await e.error(a):e.error,m=typeof e.description=="function"?await e.description(a):e.description,p=typeof u=="object"&&!Te.isValidElement(u)?u:{message:u};this.create({id:s,type:"error",description:m,...p})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),e.finally==null||e.finally.call(e)}),c=()=>new Promise((a,u)=>d.then(()=>i[0]==="reject"?u(i[1]):a(i[1])).catch(u));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(r,e)=>{const s=e?.id||bb++;return this.create({jsx:r(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ws=new RD,TD=(t,r)=>{const e=r?.id||bb++;return ws.addToast({title:t,...r,id:e}),e},AD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",MD=TD,OD=()=>ws.toasts,DD=()=>ws.getActiveToasts(),$n=Object.assign(MD,{success:ws.success,info:ws.info,warning:ws.warning,error:ws.error,custom:ws.custom,message:ws.message,promise:ws.promise,dismiss:ws.dismiss,loading:ws.loading},{getHistory:OD,getToasts:DD});xD("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qf(t){return t.label!==void 0}const ID=3,PD="24px",LD="16px",U2=4e3,BD=356,FD=14,UD=45,$D=200;function La(...t){return t.filter(Boolean).join(" ")}function zD(t){const[r,e]=t.split("-"),s=[];return r&&s.push(r),e&&s.push(e),s}const qD=t=>{var r,e,s,l,o,i,d,c,a;const{invert:u,toast:m,unstyled:h,interacting:p,setHeights:y,visibleToasts:x,heights:g,index:w,toasts:v,expanded:j,removeToast:N,defaultRichColors:T,closeButton:D,style:V,cancelButtonStyle:P,actionButtonStyle:$,className:G="",descriptionClassName:Y="",duration:W,position:O,gap:I,expandByDefault:R,classNames:S,icons:C,closeButtonAriaLabel:k="Close toast"}=t,[E,M]=Te.useState(null),[L,z]=Te.useState(null),[K,Z]=Te.useState(!1),[te,H]=Te.useState(!1),[ee,U]=Te.useState(!1),[F,J]=Te.useState(!1),[re,ce]=Te.useState(!1),[se,de]=Te.useState(0),[we,ve]=Te.useState(0),ie=Te.useRef(m.duration||W||U2),ge=Te.useRef(null),me=Te.useRef(null),ae=w===0,le=w+1<=x,fe=m.type,xe=m.dismissible!==!1,je=m.className||"",_e=m.descriptionClassName||"",De=Te.useMemo(()=>g.findIndex(lt=>lt.toastId===m.id)||0,[g,m.id]),Fe=Te.useMemo(()=>{var lt;return(lt=m.closeButton)!=null?lt:D},[m.closeButton,D]),Ue=Te.useMemo(()=>m.duration||W||U2,[m.duration,W]),Je=Te.useRef(0),dt=Te.useRef(0),ft=Te.useRef(0),yt=Te.useRef(null),[et,Ke]=O.split("-"),rt=Te.useMemo(()=>g.reduce((lt,It,ct)=>ct>=De?lt:lt+It.height,0),[g,De]),pt=ED(),it=m.invert||u,Kt=fe==="loading";dt.current=Te.useMemo(()=>De*I+rt,[De,rt]),Te.useEffect(()=>{ie.current=Ue},[Ue]),Te.useEffect(()=>{Z(!0)},[]),Te.useEffect(()=>{const lt=me.current;if(lt){const It=lt.getBoundingClientRect().height;return ve(It),y(ct=>[{toastId:m.id,height:It,position:m.position},...ct]),()=>y(ct=>ct.filter(Bt=>Bt.toastId!==m.id))}},[y,m.id]),Te.useLayoutEffect(()=>{if(!K)return;const lt=me.current,It=lt.style.height;lt.style.height="auto";const ct=lt.getBoundingClientRect().height;lt.style.height=It,ve(ct),y(Bt=>Bt.find(gt=>gt.toastId===m.id)?Bt.map(gt=>gt.toastId===m.id?{...gt,height:ct}:gt):[{toastId:m.id,height:ct,position:m.position},...Bt])},[K,m.title,m.description,y,m.id,m.jsx,m.action,m.cancel]);const rn=Te.useCallback(()=>{H(!0),de(dt.current),y(lt=>lt.filter(It=>It.toastId!==m.id)),setTimeout(()=>{N(m)},$D)},[m,N,y,dt]);Te.useEffect(()=>{if(m.promise&&fe==="loading"||m.duration===1/0||m.type==="loading")return;let lt;return j||p||pt?(()=>{if(ft.current<Je.current){const Bt=new Date().getTime()-Je.current;ie.current=ie.current-Bt}ft.current=new Date().getTime()})():(()=>{ie.current!==1/0&&(Je.current=new Date().getTime(),lt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),rn()},ie.current))})(),()=>clearTimeout(lt)},[j,p,m,fe,pt,rn]),Te.useEffect(()=>{m.delete&&(rn(),m.onDismiss==null||m.onDismiss.call(m,m))},[rn,m.delete]);function Ct(){var lt;if(C?.loading){var It;return Te.createElement("div",{className:La(S?.loader,m==null||(It=m.classNames)==null?void 0:It.loader,"sonner-loader"),"data-visible":fe==="loading"},C.loading)}return Te.createElement(jD,{className:La(S?.loader,m==null||(lt=m.classNames)==null?void 0:lt.loader),visible:fe==="loading"})}const pn=m.icon||C?.[fe]||vD(fe);var Xt,Ut;return Te.createElement("li",{tabIndex:0,ref:me,className:La(G,je,S?.toast,m==null||(r=m.classNames)==null?void 0:r.toast,S?.default,S?.[fe],m==null||(e=m.classNames)==null?void 0:e[fe]),"data-sonner-toast":"","data-rich-colors":(Xt=m.richColors)!=null?Xt:T,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":K,"data-promise":!!m.promise,"data-swiped":re,"data-removed":te,"data-visible":le,"data-y-position":et,"data-x-position":Ke,"data-index":w,"data-front":ae,"data-swiping":ee,"data-dismissible":xe,"data-type":fe,"data-invert":it,"data-swipe-out":F,"data-swipe-direction":L,"data-expanded":!!(j||R&&K),"data-testid":m.testId,style:{"--index":w,"--toasts-before":w,"--z-index":v.length-w,"--offset":`${te?se:dt.current}px`,"--initial-height":R?"auto":`${we}px`,...V,...m.style},onDragEnd:()=>{U(!1),M(null),yt.current=null},onPointerDown:lt=>{lt.button!==2&&(Kt||!xe||(ge.current=new Date,de(dt.current),lt.target.setPointerCapture(lt.pointerId),lt.target.tagName!=="BUTTON"&&(U(!0),yt.current={x:lt.clientX,y:lt.clientY})))},onPointerUp:()=>{var lt,It,ct;if(F||!xe)return;yt.current=null;const Bt=Number(((lt=me.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jn=Number(((It=me.current)==null?void 0:It.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((ct=ge.current)==null?void 0:ct.getTime()),Lt=E==="x"?Bt:jn,zt=Math.abs(Lt)/gt;if(Math.abs(Lt)>=UD||zt>.11){de(dt.current),m.onDismiss==null||m.onDismiss.call(m,m),z(E==="x"?Bt>0?"right":"left":jn>0?"down":"up"),rn(),J(!0);return}else{var ht,ye;(ht=me.current)==null||ht.style.setProperty("--swipe-amount-x","0px"),(ye=me.current)==null||ye.style.setProperty("--swipe-amount-y","0px")}ce(!1),U(!1),M(null)},onPointerMove:lt=>{var It,ct,Bt;if(!yt.current||!xe||((It=window.getSelection())==null?void 0:It.toString().length)>0)return;const gt=lt.clientY-yt.current.y,Lt=lt.clientX-yt.current.x;var zt;const ht=(zt=t.swipeDirections)!=null?zt:zD(O);!E&&(Math.abs(Lt)>1||Math.abs(gt)>1)&&M(Math.abs(Lt)>Math.abs(gt)?"x":"y");let ye={x:0,y:0};const Ne=Pe=>1/(1.5+Math.abs(Pe)/20);if(E==="y"){if(ht.includes("top")||ht.includes("bottom"))if(ht.includes("top")&&gt<0||ht.includes("bottom")&&gt>0)ye.y=gt;else{const Pe=gt*Ne(gt);ye.y=Math.abs(Pe)<Math.abs(gt)?Pe:gt}}else if(E==="x"&&(ht.includes("left")||ht.includes("right")))if(ht.includes("left")&&Lt<0||ht.includes("right")&&Lt>0)ye.x=Lt;else{const Pe=Lt*Ne(Lt);ye.x=Math.abs(Pe)<Math.abs(Lt)?Pe:Lt}(Math.abs(ye.x)>0||Math.abs(ye.y)>0)&&ce(!0),(ct=me.current)==null||ct.style.setProperty("--swipe-amount-x",`${ye.x}px`),(Bt=me.current)==null||Bt.style.setProperty("--swipe-amount-y",`${ye.y}px`)}},Fe&&!m.jsx&&fe!=="loading"?Te.createElement("button",{"aria-label":k,"data-disabled":Kt,"data-close-button":!0,onClick:Kt||!xe?()=>{}:()=>{rn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:La(S?.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(Ut=C?.close)!=null?Ut:kD):null,(fe||m.icon||m.promise)&&m.icon!==null&&(C?.[fe]!==null||m.icon)?Te.createElement("div",{"data-icon":"",className:La(S?.icon,m==null||(l=m.classNames)==null?void 0:l.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ct():null,m.type!=="loading"?pn:null):null,Te.createElement("div",{"data-content":"",className:La(S?.content,m==null||(o=m.classNames)==null?void 0:o.content)},Te.createElement("div",{"data-title":"",className:La(S?.title,m==null||(i=m.classNames)==null?void 0:i.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Te.createElement("div",{"data-description":"",className:La(Y,_e,S?.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),Te.isValidElement(m.cancel)?m.cancel:m.cancel&&Qf(m.cancel)?Te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:lt=>{Qf(m.cancel)&&xe&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,lt),rn())},className:La(S?.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,Te.isValidElement(m.action)?m.action:m.action&&Qf(m.action)?Te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||$,onClick:lt=>{Qf(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,lt),!lt.defaultPrevented&&rn())},className:La(S?.actionButton,m==null||(a=m.classNames)==null?void 0:a.actionButton)},m.action.label):null)};function $2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function VD(t,r){const e={};return[t,r].forEach((s,l)=>{const o=l===1,i=o?"--mobile-offset":"--offset",d=o?LD:PD;function c(a){["top","right","bottom","left"].forEach(u=>{e[`${i}-${u}`]=typeof a=="number"?`${a}px`:a})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(a=>{s[a]===void 0?e[`${i}-${a}`]=d:e[`${i}-${a}`]=typeof s[a]=="number"?`${s[a]}px`:s[a]}):c(d)}),e}const HD=Te.forwardRef(function(r,e){const{id:s,invert:l,position:o="bottom-right",hotkey:i=["altKey","KeyT"],expand:d,closeButton:c,className:a,offset:u,mobileOffset:m,theme:h="light",richColors:p,duration:y,style:x,visibleToasts:g=ID,toastOptions:w,dir:v=$2(),gap:j=FD,icons:N,containerAriaLabel:T="Notifications"}=r,[D,V]=Te.useState([]),P=Te.useMemo(()=>s?D.filter(K=>K.toasterId===s):D.filter(K=>!K.toasterId),[D,s]),$=Te.useMemo(()=>Array.from(new Set([o].concat(P.filter(K=>K.position).map(K=>K.position)))),[P,o]),[G,Y]=Te.useState([]),[W,O]=Te.useState(!1),[I,R]=Te.useState(!1),[S,C]=Te.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=Te.useRef(null),E=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Te.useRef(null),L=Te.useRef(!1),z=Te.useCallback(K=>{V(Z=>{var te;return(te=Z.find(H=>H.id===K.id))!=null&&te.delete||ws.dismiss(K.id),Z.filter(({id:H})=>H!==K.id)})},[]);return Te.useEffect(()=>ws.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{V(Z=>Z.map(te=>te.id===K.id?{...te,delete:!0}:te))});return}setTimeout(()=>{uj.flushSync(()=>{V(Z=>{const te=Z.findIndex(H=>H.id===K.id);return te!==-1?[...Z.slice(0,te),{...Z[te],...K},...Z.slice(te+1)]:[K,...Z]})})})}),[D]),Te.useEffect(()=>{if(h!=="system"){C(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?C("dark"):C("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Z})=>{C(Z?"dark":"light")})}catch{K.addListener(({matches:te})=>{try{C(te?"dark":"light")}catch(H){console.error(H)}})}},[h]),Te.useEffect(()=>{D.length<=1&&O(!1)},[D]),Te.useEffect(()=>{const K=Z=>{var te;if(i.every(U=>Z[U]||Z.code===U)){var ee;O(!0),(ee=k.current)==null||ee.focus()}Z.code==="Escape"&&(document.activeElement===k.current||(te=k.current)!=null&&te.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[i]),Te.useEffect(()=>{if(k.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,L.current=!1)}},[k.current]),Te.createElement("section",{ref:e,"aria-label":`${T} ${E}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((K,Z)=>{var te;const[H,ee]=K.split("-");return P.length?Te.createElement("ol",{key:K,dir:v==="auto"?$2():v,tabIndex:-1,ref:k,className:a,"data-sonner-toaster":!0,"data-sonner-theme":S,"data-y-position":H,"data-x-position":ee,style:{"--front-toast-height":`${((te=G[0])==null?void 0:te.height)||0}px`,"--width":`${BD}px`,"--gap":`${j}px`,...x,...VD(u,m)},onBlur:U=>{L.current&&!U.currentTarget.contains(U.relatedTarget)&&(L.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||L.current||(L.current=!0,M.current=U.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{I||O(!1)},onDragEnd:()=>O(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},P.filter(U=>!U.position&&Z===0||U.position===K).map((U,F)=>{var J,re;return Te.createElement(qD,{key:U.id,icons:N,index:F,toast:U,defaultRichColors:p,duration:(J=w?.duration)!=null?J:y,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:l,visibleToasts:g,closeButton:(re=w?.closeButton)!=null?re:c,interacting:I,position:K,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,closeButtonAriaLabel:w?.closeButtonAriaLabel,removeToast:z,toasts:P.filter(ce=>ce.position==U.position),heights:G.filter(ce=>ce.position==U.position),setHeights:Y,expandByDefault:d,gap:j,expanded:W,swipeDirections:r.swipeDirections})})):null}))}),Rh=async t=>{try{return(await Ye.post("package/barcode",t)).data}catch(r){throw console.error("Error getting package by barcode:",r),r}},z2=async(t,r)=>{try{return(await Ye.put(`Package/${t}/metadata`,r)).data}catch(e){throw console.error("Error updating package metadata:",e),e}};var Ql=(t=>(t.Init="Init",t.Active="Active",t.Closed="Closed",t.Cancelled="Cancelled",t.Locked="Locked",t))(Ql||{}),kS=(t=>(t.Created="Created",t.Moved="Moved",t.Transferred="Transferred",t))(kS||{}),Cc=(t=>(t.GoodsReceipt="GoodsReceipt",t.InventoryCounting="InventoryCounting",t.Transfer="Transfer",t.Picking="Picking",t.Package="Package",t))(Cc||{}),yn=(t=>(t.String="String",t.Decimal="Decimal",t.Integer="Integer",t.Date="Date",t))(yn||{});function ES(t,r,e){const s=e.find(i=>i.id===t);if(!s)return{isValid:!1,errorMessage:"Field definition not found"};const l=s.required;if(r==null||r===""||typeof r=="string"&&r.trim()==="")return l?{isValid:!1,errorMessage:"This field is required"}:{isValid:!0};switch(s.type){case yn.String:return{isValid:typeof r=="string"};case yn.Decimal:if(typeof r=="string"){if(!/^-?\d*\.?\d*$/.test(r))return{isValid:!1,errorMessage:"Must be a valid number"};if(r==="."||r==="-"||r==="-.")return l?{isValid:!1,errorMessage:"Please enter a valid number"}:{isValid:!0};if(!r.endsWith(".")){const c=parseFloat(r);if(isNaN(c))return{isValid:!1,errorMessage:"Must be a valid number"}}return{isValid:!0}}else return{isValid:typeof r=="number"&&!isNaN(r)};case yn.Integer:if(typeof r=="string"){if(!/^-?\d*$/.test(r))return{isValid:!1,errorMessage:"Must be a valid integer"};if(r==="-")return l?{isValid:!1,errorMessage:"Please enter a valid integer"}:{isValid:!0};if(r!==""){const c=parseInt(r);if(isNaN(c))return{isValid:!1,errorMessage:"Must be a valid integer"}}return{isValid:!0}}else return{isValid:typeof r=="number"&&Number.isInteger(r)};case yn.Date:const i=r instanceof Date?r:new Date(r);return isNaN(i.getTime())?{isValid:!1,errorMessage:"Must be a valid date"}:{isValid:!0};default:return{isValid:!1,errorMessage:"Unknown field type"}}}function sy(t,r,e){if(r==null||r==="")return null;const s=e.find(l=>l.id===t);if(!s)return r;switch(s.type){case yn.Decimal:if(typeof r=="string"){const l=r.trim();if(l===""||l==="."||l==="-"||l==="-.")return null;const o=parseFloat(l);return isNaN(o)?null:o}return r;case yn.Integer:if(typeof r=="string"){const l=r.trim();if(l===""||l==="-")return null;const o=parseInt(l);return isNaN(o)?null:o}return r;case yn.Date:return r instanceof Date?r.toISOString():new Date(r).toISOString();default:return r}}function WD(t,r){return t.some(e=>{const s=r[e.fieldId],l=e.value;return s==null?l!=null&&l!=="":l==null||l===""?!0:s!==l})}function GD(t,r){return t.map(e=>({fieldId:e.id,value:r[e.id]||null,isValid:!0}))}function YD(t,r){const e={};return t.forEach(s=>{s.value!==null&&s.value!==void 0&&s.value!==""?e[s.fieldId]=sy(s.fieldId,s.value,r):e[s.fieldId]=null}),e}function RS(t){const r={};return t.forEach(e=>{r[e.fieldId]=e.value}),r}const TS=B.createContext(void 0),Dt=()=>{const t=B.useContext(TS);if(t===void 0)throw new Error("useLoading must be used within a LoadingProvider");return t},XD=({children:t})=>{const[r,e]=B.useState(!1),s=B.useCallback(l=>{let o=l;typeof l!="string"&&(window.console.error(l),l.message&&(o=l.message),l.response?.data?.exceptionMessage&&(o=l.response?.data?.exceptionMessage),l.response?.data?.message&&(o=l.response?.data?.message),l.response?.data?.error&&(o=l.response?.data?.error),l.response?.data?.errors&&(o=l.response?.data?.errors),l.response?.data?.exception&&(o=l.response?.data?.exception),l.response?.data?.stacktrace&&(o=l.response?.data?.stacktrace),l.response?.data?.exceptionMessage&&(o=l.response?.data?.exceptionMessage),o=`Error: ${o}`),$n.error(o)},[]);return n.jsxs(TS,{value:{loading:r,setLoading:e,setError:s},children:[t,r&&n.jsxs("div",{className:"fixed top-0 left-0 w-full h-full bg-white/50 flex justify-center items-center z-[1000]",children:[n.jsx(ta,{className:"h-12 w-12 animate-spin text-primary"})," "]})]})};function AS(t){const{definitions:r,initialValues:e={},onSave:s}=t,{setError:l}=Dt(),[o,i]=B.useState({fields:[],isValid:!0,isLoading:!1,hasChanges:!1}),d=B.useCallback(()=>{const y=GD(r,e);i({fields:y,isValid:!0,isLoading:!1,hasChanges:!1})},[r,e]),c=B.useCallback((y,x)=>{i(g=>{const w=g.fields.map(N=>{if(N.fieldId===y){const T=ES(y,x,r);return{...N,value:x,isValid:T.isValid,errorMessage:T.errorMessage}}return N}),v=w.every(N=>N.isValid),j=WD(w,e);return{...g,fields:w,isValid:v,hasChanges:j}})},[r,e]),a=B.useCallback(async y=>{if(!o.isValid)throw new Error("Form contains invalid data");if(!s)throw new Error("No save handler provided");i(x=>({...x,isLoading:!0}));try{const x=YD(o.fields,r),g=await s(x);return i(w=>({...w,isLoading:!1,hasChanges:!1})),g}catch(x){throw i(g=>({...g,isLoading:!1})),l(x),x}},[o,r,s,l]),u=B.useCallback(()=>{d()},[d]),m=B.useCallback(y=>r.find(x=>x.id===y),[r]),h=B.useCallback(y=>o.fields.find(g=>g.fieldId===y)?.value||null,[o.fields]),p=B.useCallback(y=>{const x=o.fields.find(g=>g.fieldId===y);return{isValid:x?.isValid??!0,errorMessage:x?.errorMessage}},[o.fields]);return B.useEffect(()=>{r&&r.length>0&&d()},[r,e,d]),{definitions:r,formState:o,updateFieldValue:c,saveMetadata:a,resetForm:u,getFieldDefinition:m,getFieldValue:h,getFieldValidation:p,setFormState:i}}function MS(t){const{definitions:r,onFieldsUpdate:e}=t,[s,l]=B.useState(null),o=B.useCallback((m,h)=>{try{let p=m;if(Object.entries(h).forEach(([g,w])=>{w!=null&&!isNaN(Number(w))&&(p=p.replace(new RegExp(`\\{${g}\\}`,"g"),String(w)),p=p.replace(new RegExp(`\\b${g}\\b`,"g"),String(w)))}),!/^[\d\s+\-*/.()]+$/.test(p))return null;const y=g=>{g=g.replace(/\s/g,"");const w=(T,D)=>{let V=1;for(let P=D+1;P<T.length;P++)if(T[P]==="("&&V++,T[P]===")"&&V--,V===0)return P;return-1};let v=g.indexOf("(");for(;v!==-1;){const T=w(g,v);if(T===-1)throw new Error("Mismatched parentheses");const D=g.substring(v+1,T),V=y(D);g=g.substring(0,v)+V+g.substring(T+1),v=g.indexOf("(")}const j=[];let N="";for(let T=0;T<g.length;T++){const D=g[T],V=D==="-"&&(T===0||"+-*/(".includes(g[T-1]));"+-*/".includes(D)&&!V&&T>0?(N&&(j.push(parseFloat(N)),N=""),j.push(D)):N+=D}N&&j.push(parseFloat(N));for(let T=1;T<j.length-1;T+=2)if(j[T]==="*"||j[T]==="/"){const D=Number(j[T-1]),V=Number(j[T+1]),P=j[T]==="*"?D*V:D/V;j.splice(T-1,3,P),T-=2}for(let T=1;T<j.length-1;T+=2)if(j[T]==="+"||j[T]==="-"){const D=Number(j[T-1]),V=Number(j[T+1]),P=j[T]==="+"?D+V:D-V;j.splice(T-1,3,P),T-=2}return Number(j[0])},x=y(p);return typeof x=="number"&&!isNaN(x)?x:null}catch(p){return console.warn("Formula evaluation error:",p),null}},[]),i=B.useCallback((m,h=new Set)=>{if(h.has(m))return console.warn(`Circular dependency detected involving field: ${m}`),[];h.add(m);const p=[];return r.forEach(y=>{if(y.calculated&&y.calculated.dependencies.includes(m)){p.push(y.id);const x=i(y.id,new Set(Array.from(h)));p.push(...x)}}),Array.from(new Set(p))},[r]),d=B.useCallback(m=>{let h=[...m],p=!1;return r.filter(x=>x.calculated).forEach(x=>{if(!x.calculated||s===x.id&&x.calculated.clearDependenciesOnManualEdit)return;const{formula:g,dependencies:w,precision:v}=x.calculated,j=RS(h);if(w.every(T=>{const D=j[T];return D!=null&&!isNaN(Number(D))})){const T=o(g,j);if(T!==null){const D=Number(T.toFixed(v));h=h.map(V=>V.fieldId===x.id&&V.value!==D?(p=!0,{...V,value:D,isValid:!0,errorMessage:void 0}):V)}}else h=h.map(T=>T.fieldId===x.id&&T.value!==null?(p=!0,{...T,value:null,isValid:!0,errorMessage:void 0}):T)}),p?h:m},[r,o,s]),c=B.useCallback((m,h)=>{const p=r.find(w=>w.id===m);if(!p?.calculated?.clearDependenciesOnManualEdit)return h;let y=[...h];const x=p.calculated.dependencies||[];y=y.map(w=>x.includes(w.fieldId)?{...w,value:null,isValid:!0,errorMessage:void 0}:w);const g=[];return x.forEach(w=>{const j=i(w).filter(N=>N!==m);g.push(...j)}),g.length>0&&(y=y.map(w=>g.includes(w.fieldId)?{...w,value:null,isValid:!0,errorMessage:void 0}:w)),y},[r,i]),a=B.useCallback(m=>{r.find(p=>p.id===m)?.calculated?.clearDependenciesOnManualEdit&&l(m)},[r]),u=B.useCallback((m,h)=>{if(r.find(y=>y.id===m)?.calculated?.clearDependenciesOnManualEdit&&s===m){l(null);const y=h.find(x=>x.fieldId===m);if(y&&(y.value===null||y.value===""||!y.isValid))return d(h)}return h},[r,s,d]);return{evaluateFormula:o,recalculateFields:d,findDependentFields:i,handleManualEditOfCalculatedField:c,onFieldFocus:a,onFieldBlur:u,focusedFieldId:s}}const KD=(t,r)=>{const{user:e}=bt(),s=r||e.packageMetaData||[],l=B.useMemo(()=>s.map(a=>({...a,required:a.required||!1,readOnly:a.readOnly||!1,calculated:a.calculated})),[s]),o=B.useCallback(async a=>{if(!t?.id)throw new Error("Package ID is required for saving metadata");const u={metadata:a};return await z2(t.id,u)},[t?.id]),i=AS({definitions:l,initialValues:t?.customAttributes||{},onSave:o}),d=MS({definitions:l,onFieldsUpdate:a=>{i.setFormState(u=>({...u,fields:a}))}}),c=B.useCallback(async a=>{const u={};i.formState.fields.forEach(p=>{p.value!==null&&p.value!==void 0&&p.value!==""?u[p.fieldId]=sy(p.fieldId,p.value,l):u[p.fieldId]=null});const h=await z2(a,{metadata:u});return i.setFormState(p=>({...p,hasChanges:!1})),h},[i.formState.fields,i.setFormState,l]);return{definitions:s,formState:i.formState,updateFieldValue:i.updateFieldValue,saveMetadata:c,resetForm:i.resetForm,getFieldDefinition:a=>s?.find(u=>u.id===a),getFieldValue:i.getFieldValue,getFieldValidation:i.getFieldValidation,onFieldFocus:d.onFieldFocus,onFieldBlur:a=>{const u=d.onFieldBlur(a,i.formState.fields);u!==i.formState.fields&&i.setFormState(m=>({...m,fields:u}))}}},Ga={async scanBinLocation(t){try{const r=`items/scanBinLocation?bin=${t}`,e=await Ye.get(r);return e.status===404?null:e.data}catch(r){if(Ln.isAxiosError(r)&&r.response?.status===404)return null;throw console.error("Error canning barcode:",r),r}},async scanBarcode(t,r){try{const e=`items/itemByBarCode?scanCode=${t}&item=${r??!1}`;return(await Ye.get(e)).data}catch(e){throw console.error("Error canning barcode:",e),e}},async itemCheck(t,r){try{return(await Ye.post("items/itemCheck",{itemCode:t,barcode:r})).data}catch(e){throw console.error("Error checking item barcode:",e),e}},async updateItemBarCode(t,r,e){try{return(await Ye.post("items/updateItemBarCode",{itemCode:t,removeBarcodes:r,addBarcodes:e.length>0?[e]:[]})).data}catch(s){throw console.error("Error checking item barcode:",s),s}},async itemStock(t){try{return(await Ye.post("items/itemStock",{itemCode:t})).data}catch(r){throw console.error("Error checking item stock:",r),r}},async itemBinStock(t){try{return(await Ye.post("items/itemBinStock",{itemCode:t})).data}catch(r){throw console.error("Error checking item bin stock:",r),r}},async binCheck(t){try{const r=`items/binCheck?binEntry=${t}`;return(await Ye.get(r)).data}catch(r){throw console.error("Error checking bin content:",r),r}},async getItemMetadataDefinitions(){try{return(await Ye.get("general/item-metadata-definitions")).data}catch(t){throw console.error("Error getting item metadata definitions:",t),t}},async getItemMetadata(t){try{const r=`items/${encodeURIComponent(t)}/metadata`;return(await Ye.get(r)).data}catch(r){throw console.error("Error getting item metadata:",r),r}},async updateItemMetadata(t,r){try{const e=`items/${encodeURIComponent(t)}/metadata`;return(await Ye.put(e,r)).data}catch(e){throw console.error("Error updating item metadata:",e),e}}},q2=Ga.updateItemMetadata,Th=Ga.getItemMetadata,En=(t,...r)=>t.replace(/{(\d+)}/g,(e,s)=>typeof r[s]<"u"?r[s]:e),QD=({enabled:t,item:r,enablePackage:e=!1,currentPackage:s,objectType:l,objectId:o,objectNumber:i,onAddItem:d,onAddPackage:c,onPackageChanged:a,binEntry:u,isEphemeralPackage:m})=>{const{defaultUnit:h,user:p}=bt(),y=B.useRef(null),[x,g]=B.useState(""),[w,v]=B.useState(h),[j,N]=B.useState("item"),[T,D]=B.useState(!1),[V,P]=B.useState(s),[$,G]=B.useState(!1),{setError:Y}=Dt(),{t:W}=Be();B.useEffect(()=>{P(s)},[s]);const O=()=>{g(""),v(h),D(!1)},I=K=>{try{if(K.length===0){const Z=r?W("scanCodeRequired"):p.settings.scannerMode===Ls.ItemBarcode||j==="package"?W("barCodeRequired"):W("scanCodeRequired");$n.warning(Z);return}G(!0),Ga.scanBarcode(K,r||p.settings.scannerMode===Ls.ItemCode).then(Z=>R(Z)).catch(Z=>{Y(Z),G(!1)})}catch(Z){Y(Z),G(!1)}},R=K=>{const Z=x;if(K.length===0){const te=W(r?"codeNotFound":"barcodeNotFound");Y(En(te,Z)),O(),G(!1);return}if(K.length===1){const te=K[0];te.isPackage?(c!=null?(c({barcode:Z,id:te.code}),G(!1)):(Y("Add Package handler not implemented!"),G(!1)),y?.current?.blur()):(p.settings.scannerMode===Ls.ItemBarcode&&(te.barcode=Z),y?.current?.blur(),d({item:K[0],unit:w,createPackage:T,package:V}),G(!1));return}C(K)};function S(K){return K.map(Z=>Z.father??Z.code).filter((Z,te,H)=>H.indexOf(Z)===te)}const C=K=>{const Z=S(K);if(Z.length!==1){const te=Z.map(H=>`"${H}"`).join(", ");Y(En(W("multipleItemsError"),te)),G(!1);return}window.alert(W("multipleBoxesNotImplemented")),G(!1)},k=K=>{if(K.length===0){$n.warning(W("barcodeRequired"));return}G(!0),Rh({barcode:K,history:!0,objectId:o,objectType:l,binEntry:u}).then(Z=>{if(Z==null){$n.error(W("scanPackageNotFound",{barcode:K})),G(!1);return}if(l===Cc.GoodsReceipt&&!Z.locationHistory?.find(ee=>ee.sourceOperationType===l&&ee.sourceOperationId===o&&ee.movementType===kS.Created)){$n.error(W("scanPackageSourceDoc",{barcode:K,number:i})),G(!1);return}const te={id:Z.id,barcode:Z.barcode};m&&(P(te),N("item")),a?.(te),m||setTimeout(()=>y?.current?.focus(),1),G(!1)}).catch(Z=>{Z.response?.data?.error==="Package is already counted in another bin location"?$n.error(W("packageAlreadyCounted")):Z.response?.status===404?$n.error(W("packageNotFoundWithCode",{code:K})):$n.error(Z.message),G(!1)}),O()};return{barcodeRef:y,barcodeInput:x,setBarcodeInput:g,selectedUnit:w,scanMode:j,createPackage:T,setCreatePackage:D,loadedPackage:V,clearBarCode:O,handleSubmit:K=>{K.preventDefault(),j==="package"?k(x):I(x)},handleUnitChanged:K=>{v(K),y?.current?.focus()},handleScanModeChange:K=>{N(K?"package":"item"),P(null),setTimeout(()=>y?.current?.focus(),1)},enabled:t,handleClearPackage:()=>{P(null)},isProcessing:$}},il=B.forwardRef(({onScan:t,onChanged:r,onClear:e,label:s,showLabel:l=!0,autofocus:o=!0,enablePackageCreate:i,onCreatePackageClicked:d},c)=>{const{setError:a}=Dt(),{t:u}=Be(),m=B.useRef(null),[h,p]=B.useState(""),[y,x]=B.useState(null),[g,w]=B.useState(!1);B.useEffect(()=>{o&&(y||m.current?.focus())},[y,o]),B.useImperativeHandle(c,()=>({focus(){m?.current?.focus()},clear(){j()},getBin(){return h}}));const v=N=>{if(N.preventDefault(),h.length!==0){w(!0);try{Ga.scanBinLocation(h).then(T=>{if(T==null){a(En(u("binLocationNotFound"),h)),p(""),w(!1);return}r&&(x(T),r(T)),t&&t(T),w(!1)}).catch(T=>{a(T),w(!1)})}catch(T){a(T),w(!1)}}};function j(){p(""),x(null),e&&e(),m?.current?.focus()}return n.jsxs("div",{children:[i&&n.jsx("div",{className:"flex justify-center",children:n.jsxs(Ie,{type:"button",onClick:d,disabled:g,children:[n.jsx(qb,{className:"h-4 w-4 mr-2"}),u("createNewPackage")]})}),y&&n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 bg-slate-100 dark:bg-slate-800 rounded-lg p-3",children:[n.jsxs("span",{className:"font-medium text-sm text-slate-700 dark:text-slate-300 truncate",children:[u("bin"),": ",y.code]}),n.jsx(Ie,{variant:"outline",size:"sm",onClick:j,className:"w-full sm:w-auto shrink-0",disabled:g,children:u("changeBinLocation")})]}),!y&&n.jsx("div",{className:"flex justify-center",children:n.jsx("form",{onSubmit:v,className:"w-full max-w-md",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[l&&n.jsx(cn,{htmlFor:"bin-input",className:g?"text-muted-foreground":"",children:s??u("bin")}),n.jsx(on,{id:"bin-input",value:h,ref:m,onChange:N=>p(N.target.value),placeholder:u("scanBinLocation"),maxLength:255,disabled:g})]}),n.jsx("div",{children:n.jsxs(Ie,{type:"submit",disabled:!h.trim()||g,className:"w-full",children:[g?n.jsx(ta,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Ns,{className:"h-4 w-4 mr-2"}),u("accept")]})})]})})})]})});var Ap="Dialog",[OS,DS]=Qr(Ap),[ZD,Ca]=OS(Ap),IS=t=>{const{__scopeDialog:r,children:e,open:s,defaultOpen:l,onOpenChange:o,modal:i=!0}=t,d=B.useRef(null),c=B.useRef(null),[a,u]=$s({prop:s,defaultProp:l??!1,onChange:o,caller:Ap});return n.jsx(ZD,{scope:r,triggerRef:d,contentRef:c,contentId:Cs(),titleId:Cs(),descriptionId:Cs(),open:a,onOpenChange:u,onOpenToggle:B.useCallback(()=>u(m=>!m),[u]),modal:i,children:e})};IS.displayName=Ap;var PS="DialogTrigger",LS=B.forwardRef((t,r)=>{const{__scopeDialog:e,...s}=t,l=Ca(PS,e),o=tn(r,l.triggerRef);return n.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":oy(l.open),...s,ref:o,onClick:at(t.onClick,l.onOpenToggle)})});LS.displayName=PS;var ay="DialogPortal",[JD,BS]=OS(ay,{forceMount:void 0}),FS=t=>{const{__scopeDialog:r,forceMount:e,children:s,container:l}=t,o=Ca(ay,r);return n.jsx(JD,{scope:r,forceMount:e,children:B.Children.map(s,i=>n.jsx(Fr,{present:e||o.open,children:n.jsx(Sc,{asChild:!0,container:l,children:i})}))})};FS.displayName=ay;var Ah="DialogOverlay",US=B.forwardRef((t,r)=>{const e=BS(Ah,t.__scopeDialog),{forceMount:s=e.forceMount,...l}=t,o=Ca(Ah,t.__scopeDialog);return o.modal?n.jsx(Fr,{present:s||o.open,children:n.jsx(tI,{...l,ref:r})}):null});US.displayName=Ah;var eI=co("DialogOverlay.RemoveScroll"),tI=B.forwardRef((t,r)=>{const{__scopeDialog:e,...s}=t,l=Ca(Ah,e);return n.jsx(yd,{as:eI,allowPinchZoom:!0,shards:[l.contentRef],children:n.jsx(kt.div,{"data-state":oy(l.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),ol="DialogContent",$S=B.forwardRef((t,r)=>{const e=BS(ol,t.__scopeDialog),{forceMount:s=e.forceMount,...l}=t,o=Ca(ol,t.__scopeDialog);return n.jsx(Fr,{present:s||o.open,children:o.modal?n.jsx(nI,{...l,ref:r}):n.jsx(rI,{...l,ref:r})})});$S.displayName=ol;var nI=B.forwardRef((t,r)=>{const e=Ca(ol,t.__scopeDialog),s=B.useRef(null),l=tn(r,e.contentRef,s);return B.useEffect(()=>{const o=s.current;if(o)return Np(o)},[]),n.jsx(zS,{...t,ref:l,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(t.onCloseAutoFocus,o=>{o.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:at(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,d=i.button===0&&i.ctrlKey===!0;(i.button===2||d)&&o.preventDefault()}),onFocusOutside:at(t.onFocusOutside,o=>o.preventDefault())})}),rI=B.forwardRef((t,r)=>{const e=Ca(ol,t.__scopeDialog),s=B.useRef(!1),l=B.useRef(!1);return n.jsx(zS,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||e.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const i=o.target;e.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&l.current&&o.preventDefault()}})}),zS=B.forwardRef((t,r)=>{const{__scopeDialog:e,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:o,...i}=t,d=Ca(ol,e),c=B.useRef(null),a=tn(r,c);return yp(),n.jsxs(n.Fragment,{children:[n.jsx(md,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:o,children:n.jsx(vc,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":oy(d.open),...i,ref:a,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(aI,{titleId:d.titleId}),n.jsx(oI,{contentRef:c,descriptionId:d.descriptionId})]})]})}),iy="DialogTitle",qS=B.forwardRef((t,r)=>{const{__scopeDialog:e,...s}=t,l=Ca(iy,e);return n.jsx(kt.h2,{id:l.titleId,...s,ref:r})});qS.displayName=iy;var VS="DialogDescription",HS=B.forwardRef((t,r)=>{const{__scopeDialog:e,...s}=t,l=Ca(VS,e);return n.jsx(kt.p,{id:l.descriptionId,...s,ref:r})});HS.displayName=VS;var WS="DialogClose",GS=B.forwardRef((t,r)=>{const{__scopeDialog:e,...s}=t,l=Ca(WS,e);return n.jsx(kt.button,{type:"button",...s,ref:r,onClick:at(t.onClick,()=>l.onOpenChange(!1))})});GS.displayName=WS;function oy(t){return t?"open":"closed"}var YS="DialogTitleWarning",[sI,XS]=ZT(YS,{contentName:ol,titleName:iy,docsSlug:"dialog"}),aI=({titleId:t})=>{const r=XS(YS),e=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return B.useEffect(()=>{t&&(document.getElementById(t)||console.error(e))},[e,t]),null},iI="DialogDescriptionWarning",oI=({contentRef:t,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XS(iI).contentName}}.`;return B.useEffect(()=>{const l=t.current?.getAttribute("aria-describedby");r&&l&&(document.getElementById(r)||console.warn(s))},[s,t,r]),null},ly=IS,KS=LS,cy=FS,uy=US,dy=$S,fy=qS,hy=HS,xd=GS;function lr({...t}){return n.jsx(ly,{"data-slot":"dialog",...t})}function QS({...t}){return n.jsx(KS,{"data-slot":"dialog-trigger",...t})}function lI({...t}){return n.jsx(cy,{"data-slot":"dialog-portal",...t})}function ZS({...t}){return n.jsx(xd,{"data-slot":"dialog-close",...t})}function cI({className:t,...r}){return n.jsx(uy,{"data-slot":"dialog-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50","bg-black/60 sm:bg-black/50","backdrop-blur-sm supports-[backdrop-filter]:bg-black/50",t),...r})}function cr({className:t,children:r,...e}){const s=B.useRef(null);return B.useEffect(()=>{const l=i=>{if(i.target&&(i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement)){const d=i.target;setTimeout(()=>{d.scrollIntoView({behavior:"smooth",block:"center"})},300)}},o=s.current;return o?.addEventListener("focusin",l),()=>{o?.removeEventListener("focusin",l)}},[]),B.useEffect(()=>{const l=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=l}},[]),n.jsxs(lI,{"data-slot":"dialog-portal",children:[n.jsx(cI,{}),n.jsxs(dy,{ref:s,"data-slot":"dialog-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed z-50 flex flex-col border shadow-lg overflow-hidden will-change-transform","bottom-0 left-0 right-0 rounded-t-2xl max-h-[calc(90dvh-env(safe-area-inset-bottom))] pb-[env(safe-area-inset-bottom)] duration-300","data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom","sm:top-[50%] sm:left-[50%] sm:translate-x-[-50%] sm:translate-y-[-50%] sm:rounded-lg sm:max-w-lg sm:w-full sm:max-h-[calc(100vh-2rem)] sm:pb-0 sm:bottom-auto sm:right-auto sm:duration-200","sm:data-[state=closed]:zoom-out-95 sm:data-[state=open]:zoom-in-95 sm:data-[state=closed]:slide-out-to-bottom-0 sm:data-[state=open]:slide-in-from-bottom-0",t),...e,children:[n.jsxs("div",{className:"overflow-y-auto overscroll-contain p-4 sm:p-6 flex flex-col gap-3 sm:gap-4",children:[n.jsx("div",{className:"sm:hidden flex justify-center -mt-4 pt-3 pb-2",children:n.jsx("div",{className:"w-12 h-1 bg-muted-foreground/30 rounded-full"})}),r]}),n.jsxs(xd,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-[max(0.5rem,env(safe-area-inset-top))] right-[max(0.5rem,env(safe-area-inset-right))] sm:top-4 sm:right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none min-h-[44px] min-w-[44px] flex items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:size-5 sm:[&_svg]:size-4",children:[n.jsx(br,{}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ur({className:t,...r}){return n.jsx("div",{"data-slot":"dialog-header",className:Ze("flex flex-col gap-1.5 sm:gap-2 text-center sm:text-left pr-12 sm:pr-8",t),...r})}function ra({className:t,...r}){return n.jsx("div",{"data-slot":"dialog-footer",className:Ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end","[&_button]:min-h-[44px] sm:[&_button]:min-h-[36px]","[&_button]:w-full sm:[&_button]:w-auto",t),...r})}function dr({className:t,...r}){return n.jsx(fy,{"data-slot":"dialog-title",className:Ze("text-lg leading-none font-semibold",t),...r})}function _i({className:t,...r}){return n.jsx(hy,{"data-slot":"dialog-description",className:Ze("text-muted-foreground text-sm",t),...r})}var Mp="Collapsible",[uI,JS]=Qr(Mp),[dI,py]=uI(Mp),e_=B.forwardRef((t,r)=>{const{__scopeCollapsible:e,open:s,defaultOpen:l,disabled:o,onOpenChange:i,...d}=t,[c,a]=$s({prop:s,defaultProp:l??!1,onChange:i,caller:Mp});return n.jsx(dI,{scope:e,disabled:o,contentId:Cs(),open:c,onOpenToggle:B.useCallback(()=>a(u=>!u),[a]),children:n.jsx(kt.div,{"data-state":gy(c),"data-disabled":o?"":void 0,...d,ref:r})})});e_.displayName=Mp;var t_="CollapsibleTrigger",n_=B.forwardRef((t,r)=>{const{__scopeCollapsible:e,...s}=t,l=py(t_,e);return n.jsx(kt.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":gy(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...s,ref:r,onClick:at(t.onClick,l.onOpenToggle)})});n_.displayName=t_;var my="CollapsibleContent",r_=B.forwardRef((t,r)=>{const{forceMount:e,...s}=t,l=py(my,t.__scopeCollapsible);return n.jsx(Fr,{present:e||l.open,children:({present:o})=>n.jsx(fI,{...s,ref:r,present:o})})});r_.displayName=my;var fI=B.forwardRef((t,r)=>{const{__scopeCollapsible:e,present:s,children:l,...o}=t,i=py(my,e),[d,c]=B.useState(s),a=B.useRef(null),u=tn(r,a),m=B.useRef(0),h=m.current,p=B.useRef(0),y=p.current,x=i.open||d,g=B.useRef(x),w=B.useRef(void 0);return B.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),Vr(()=>{const v=a.current;if(v){w.current=w.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const j=v.getBoundingClientRect();m.current=j.height,p.current=j.width,g.current||(v.style.transitionDuration=w.current.transitionDuration,v.style.animationName=w.current.animationName),c(s)}},[i.open,s]),n.jsx(kt.div,{"data-state":gy(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...o,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:x&&l})});function gy(t){return t?"open":"closed"}var hI=e_,pI=n_,mI=r_,Na="Accordion",gI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[by,bI,yI]=bp(Na),[Op,the]=Qr(Na,[yI,JS]),yy=JS(),s_=Te.forwardRef((t,r)=>{const{type:e,...s}=t,l=s,o=s;return n.jsx(by.Provider,{scope:t.__scopeAccordion,children:e==="multiple"?n.jsx(jI,{...o,ref:r}):n.jsx(wI,{...l,ref:r})})});s_.displayName=Na;var[a_,xI]=Op(Na),[i_,vI]=Op(Na,{collapsible:!1}),wI=Te.forwardRef((t,r)=>{const{value:e,defaultValue:s,onValueChange:l=()=>{},collapsible:o=!1,...i}=t,[d,c]=$s({prop:e,defaultProp:s??"",onChange:l,caller:Na});return n.jsx(a_,{scope:t.__scopeAccordion,value:Te.useMemo(()=>d?[d]:[],[d]),onItemOpen:c,onItemClose:Te.useCallback(()=>o&&c(""),[o,c]),children:n.jsx(i_,{scope:t.__scopeAccordion,collapsible:o,children:n.jsx(o_,{...i,ref:r})})})}),jI=Te.forwardRef((t,r)=>{const{value:e,defaultValue:s,onValueChange:l=()=>{},...o}=t,[i,d]=$s({prop:e,defaultProp:s??[],onChange:l,caller:Na}),c=Te.useCallback(u=>d((m=[])=>[...m,u]),[d]),a=Te.useCallback(u=>d((m=[])=>m.filter(h=>h!==u)),[d]);return n.jsx(a_,{scope:t.__scopeAccordion,value:i,onItemOpen:c,onItemClose:a,children:n.jsx(i_,{scope:t.__scopeAccordion,collapsible:!0,children:n.jsx(o_,{...o,ref:r})})})}),[SI,Dp]=Op(Na),o_=Te.forwardRef((t,r)=>{const{__scopeAccordion:e,disabled:s,dir:l,orientation:o="vertical",...i}=t,d=Te.useRef(null),c=tn(d,r),a=bI(e),m=xc(l)==="ltr",h=at(t.onKeyDown,p=>{if(!gI.includes(p.key))return;const y=p.target,x=a().filter(P=>!P.ref.current?.disabled),g=x.findIndex(P=>P.ref.current===y),w=x.length;if(g===-1)return;p.preventDefault();let v=g;const j=0,N=w-1,T=()=>{v=g+1,v>N&&(v=j)},D=()=>{v=g-1,v<j&&(v=N)};switch(p.key){case"Home":v=j;break;case"End":v=N;break;case"ArrowRight":o==="horizontal"&&(m?T():D());break;case"ArrowDown":o==="vertical"&&T();break;case"ArrowLeft":o==="horizontal"&&(m?D():T());break;case"ArrowUp":o==="vertical"&&D();break}const V=v%w;x[V].ref.current?.focus()});return n.jsx(SI,{scope:e,disabled:s,direction:l,orientation:o,children:n.jsx(by.Slot,{scope:e,children:n.jsx(kt.div,{...i,"data-orientation":o,ref:c,onKeyDown:s?void 0:h})})})}),Mh="AccordionItem",[_I,xy]=Op(Mh),l_=Te.forwardRef((t,r)=>{const{__scopeAccordion:e,value:s,...l}=t,o=Dp(Mh,e),i=xI(Mh,e),d=yy(e),c=Cs(),a=s&&i.value.includes(s)||!1,u=o.disabled||t.disabled;return n.jsx(_I,{scope:e,open:a,disabled:u,triggerId:c,children:n.jsx(hI,{"data-orientation":o.orientation,"data-state":p_(a),...d,...l,ref:r,disabled:u,open:a,onOpenChange:m=>{m?i.onItemOpen(s):i.onItemClose(s)}})})});l_.displayName=Mh;var c_="AccordionHeader",u_=Te.forwardRef((t,r)=>{const{__scopeAccordion:e,...s}=t,l=Dp(Na,e),o=xy(c_,e);return n.jsx(kt.h3,{"data-orientation":l.orientation,"data-state":p_(o.open),"data-disabled":o.disabled?"":void 0,...s,ref:r})});u_.displayName=c_;var yb="AccordionTrigger",d_=Te.forwardRef((t,r)=>{const{__scopeAccordion:e,...s}=t,l=Dp(Na,e),o=xy(yb,e),i=vI(yb,e),d=yy(e);return n.jsx(by.ItemSlot,{scope:e,children:n.jsx(pI,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":l.orientation,id:o.triggerId,...d,...s,ref:r})})});d_.displayName=yb;var f_="AccordionContent",h_=Te.forwardRef((t,r)=>{const{__scopeAccordion:e,...s}=t,l=Dp(Na,e),o=xy(f_,e),i=yy(e);return n.jsx(mI,{role:"region","aria-labelledby":o.triggerId,"data-orientation":l.orientation,...i,...s,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});h_.displayName=f_;function p_(t){return t?"open":"closed"}var CI=s_,NI=l_,kI=u_,EI=d_,RI=h_;function TI({...t}){return n.jsx(CI,{"data-slot":"accordion",...t})}function AI({className:t,...r}){return n.jsx(NI,{"data-slot":"accordion-item",className:Ze("border-b last:border-b-0",t),...r})}function MI({className:t,children:r,...e}){return n.jsx(kI,{className:"flex",children:n.jsxs(EI,{"data-slot":"accordion-trigger",className:Ze("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md  text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...e,children:[r,n.jsx(hd,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function OI({className:t,children:r,...e}){return n.jsx(RI,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...e,children:n.jsx("div",{className:Ze("pt-0 pb-4",t),children:r})})}var m_="AlertDialog",[DI,nhe]=Qr(m_,[DS]),Ri=DS(),g_=t=>{const{__scopeAlertDialog:r,...e}=t,s=Ri(r);return n.jsx(ly,{...s,...e,modal:!0})};g_.displayName=m_;var II="AlertDialogTrigger",b_=B.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...s}=t,l=Ri(e);return n.jsx(KS,{...l,...s,ref:r})});b_.displayName=II;var PI="AlertDialogPortal",y_=t=>{const{__scopeAlertDialog:r,...e}=t,s=Ri(r);return n.jsx(cy,{...s,...e})};y_.displayName=PI;var LI="AlertDialogOverlay",x_=B.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...s}=t,l=Ri(e);return n.jsx(uy,{...l,...s,ref:r})});x_.displayName=LI;var ec="AlertDialogContent",[BI,FI]=DI(ec),UI=zj("AlertDialogContent"),v_=B.forwardRef((t,r)=>{const{__scopeAlertDialog:e,children:s,...l}=t,o=Ri(e),i=B.useRef(null),d=tn(r,i),c=B.useRef(null);return n.jsx(sI,{contentName:ec,titleName:w_,docsSlug:"alert-dialog",children:n.jsx(BI,{scope:e,cancelRef:c,children:n.jsxs(dy,{role:"alertdialog",...o,...l,ref:d,onOpenAutoFocus:at(l.onOpenAutoFocus,a=>{a.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[n.jsx(UI,{children:s}),n.jsx(zI,{contentRef:i})]})})})});v_.displayName=ec;var w_="AlertDialogTitle",j_=B.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...s}=t,l=Ri(e);return n.jsx(fy,{...l,...s,ref:r})});j_.displayName=w_;var S_="AlertDialogDescription",__=B.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...s}=t,l=Ri(e);return n.jsx(hy,{...l,...s,ref:r})});__.displayName=S_;var $I="AlertDialogAction",C_=B.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...s}=t,l=Ri(e);return n.jsx(xd,{...l,...s,ref:r})});C_.displayName=$I;var N_="AlertDialogCancel",k_=B.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...s}=t,{cancelRef:l}=FI(N_,e),o=Ri(e),i=tn(r,l);return n.jsx(xd,{...o,...s,ref:i})});k_.displayName=N_;var zI=({contentRef:t})=>{const r=`\`${ec}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ec}\` by passing a \`${S_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ec}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return B.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},qI=g_,VI=b_,HI=y_,WI=x_,GI=v_,YI=C_,XI=k_,KI=j_,QI=__;function Qa({...t}){return n.jsx(qI,{"data-slot":"alert-dialog",...t})}function ZI({...t}){return n.jsx(VI,{"data-slot":"alert-dialog-trigger",...t})}function JI({...t}){return n.jsx(HI,{"data-slot":"alert-dialog-portal",...t})}function eP({className:t,...r}){return n.jsx(WI,{"data-slot":"alert-dialog-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function Ci({className:t,...r}){return n.jsxs(JI,{children:[n.jsx(eP,{}),n.jsx(GI,{"data-slot":"alert-dialog-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r})]})}function Ni({className:t,...r}){return n.jsx("div",{"data-slot":"alert-dialog-header",className:Ze("flex flex-col gap-2 text-center sm:text-left",t),...r})}function wo({className:t,...r}){return n.jsx("div",{"data-slot":"alert-dialog-footer",className:Ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function ki({className:t,...r}){return n.jsx(KI,{"data-slot":"alert-dialog-title",className:Ze("text-lg font-semibold",t),...r})}function jo({className:t,...r}){return n.jsx(QI,{"data-slot":"alert-dialog-description",className:Ze("text-muted-foreground text-sm",t),...r})}function vd({className:t,...r}){return n.jsx(YI,{className:Ze(zb(),t),...r})}function wd({className:t,...r}){return n.jsx(XI,{className:Ze(zb({variant:"outline"}),t),...r})}const tP=up("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90",information:"text-blue-600 bg-blue-50 border-blue-200 [&>svg]:text-blue-600 *:data-[slot=alert-description]:text-blue-600/90"}},defaultVariants:{variant:"default"}});function ar({className:t,variant:r,...e}){return n.jsx("div",{"data-slot":"alert",role:"alert",className:Ze(tP({variant:r}),t),...e})}function V2({className:t,...r}){return n.jsx("div",{"data-slot":"alert-title",className:Ze("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...r})}function Kn({className:t,...r}){return n.jsx("div",{"data-slot":"alert-description",className:Ze("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}const nP=up("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nr({className:t,variant:r,...e}){return n.jsx("div",{className:Ze(nP({variant:r}),t),...e})}const Zf=["January","February","March","April","May","June","July","August","September","October","November","December"],rP=["Su","Mo","Tu","We","Th","Fr","Sa"];function sP({selected:t,onSelect:r,mode:e="single",className:s,disabled:l,showYearMonthSelector:o=!0,...i}){const[d,c]=B.useState(()=>t||new Date),a=d.getFullYear(),u=d.getMonth(),m=Array.from({length:21},(G,Y)=>a-10+Y),h=()=>{c(new Date(a,u-1,1))},p=()=>{c(new Date(a,u+1,1))},y=G=>{const Y=Zf.indexOf(G);c(new Date(a,Y,1))},x=G=>{c(new Date(parseInt(G),u,1))},g=G=>{const Y=new Date(a,u,G);l&&l(Y)||r?.(Y)},w=new Date(a,u+1,0).getDate(),v=new Date(a,u,1).getDay(),j=new Date(a,u,0).getDate(),N=v,D=42-N-w,V=G=>t?t.getDate()===G&&t.getMonth()===u&&t.getFullYear()===a:!1,P=G=>{const Y=new Date;return Y.getDate()===G&&Y.getMonth()===u&&Y.getFullYear()===a},$=(G,Y=!0)=>{if(!l)return!1;const W=Y?new Date(a,u,G):new Date(a,u-1,G);return l(W)};return n.jsxs("div",{className:Ze("p-3",s),...i,children:[n.jsxs("div",{className:"flex justify-center items-center relative mb-4",children:[n.jsx(Ie,{variant:"outline",size:"sm",onClick:h,className:"absolute left-0 h-7 w-7 p-0",children:n.jsx(_9,{className:"h-4 w-4"})}),o?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(us,{value:Zf[u],onValueChange:y,children:[n.jsx(fs,{className:"w-auto border-none bg-transparent hover:bg-accent",children:n.jsx(ds,{})}),n.jsx(hs,{children:Zf.map(G=>n.jsx(mr,{value:G,children:G},G))})]}),n.jsxs(us,{value:a.toString(),onValueChange:x,children:[n.jsx(fs,{className:"w-auto border-none bg-transparent hover:bg-accent",children:n.jsx(ds,{})}),n.jsx(hs,{children:m.map(G=>n.jsx(mr,{value:G.toString(),children:G},G))})]})]}):n.jsxs("h2",{className:"text-sm font-medium",children:[Zf[u]," ",a]}),n.jsx(Ie,{variant:"outline",size:"sm",onClick:p,className:"absolute right-0 h-7 w-7 p-0",children:n.jsx(i3,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[rP.map(G=>n.jsx("div",{className:"h-8 w-8 text-center text-xs font-medium text-muted-foreground flex items-center justify-center",children:G},G)),Array.from({length:N},(G,Y)=>{const W=j-N+Y+1;return n.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground opacity-50",onClick:()=>{c(new Date(a,u-1,W)),g(W)},disabled:$(W,!1),children:W},`prev-${W}`)}),Array.from({length:w},(G,Y)=>{const W=Y+1,O=V(W),I=P(W),R=$(W);return n.jsx(Ie,{variant:O?"default":"ghost",size:"sm",className:Ze("h-8 w-8 p-0",I&&!O&&"bg-accent text-accent-foreground",O&&"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground",R&&"opacity-50 cursor-not-allowed"),onClick:()=>g(W),disabled:R,children:W},W)}),Array.from({length:D},(G,Y)=>{const W=Y+1;return n.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground opacity-50",onClick:()=>{c(new Date(a,u+1,W)),g(W)},disabled:$(W,!1),children:W},`next-${W}`)})]})]})}function ot({className:t,...r}){return n.jsx("div",{"data-slot":"card",className:Ze("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function zn({className:t,...r}){return n.jsx("div",{"data-slot":"card-header",className:Ze("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function Kr({className:t,...r}){return n.jsx("div",{"data-slot":"card-title",className:Ze("leading-none font-semibold",t),...r})}function Ip({className:t,...r}){return n.jsx("div",{"data-slot":"card-description",className:Ze("text-muted-foreground text-sm",t),...r})}function Gt({className:t,...r}){return n.jsx("div",{"data-slot":"card-content",className:Ze("px-6",t),...r})}function mo({className:t,...r}){return n.jsx("div",{"data-slot":"card-footer",className:Ze("flex items-center px-6 [.border-t]:pt-6",t),...r})}const E_=6048e5,aP=864e5,Jf=43200,H2=1440,W2=Symbol.for("constructDateFrom");function Ei(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&W2 in t?t[W2](r):t instanceof Date?new t.constructor(r):new Date(r)}function Hr(t,r){return Ei(r||t,t)}let iP={};function jd(){return iP}function Gu(t,r){const e=jd(),s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,l=Hr(t,r?.in),o=l.getDay(),i=(o<s?7:0)+o-s;return l.setDate(l.getDate()-i),l.setHours(0,0,0,0),l}function Oh(t,r){return Gu(t,{...r,weekStartsOn:1})}function R_(t,r){const e=Hr(t,r?.in),s=e.getFullYear(),l=Ei(e,0);l.setFullYear(s+1,0,4),l.setHours(0,0,0,0);const o=Oh(l),i=Ei(e,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const d=Oh(i);return e.getTime()>=o.getTime()?s+1:e.getTime()>=d.getTime()?s:s-1}function Dh(t){const r=Hr(t),e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),+t-+e}function Pp(t,...r){const e=Ei.bind(null,t||r.find(s=>typeof s=="object"));return r.map(e)}function G2(t,r){const e=Hr(t,r?.in);return e.setHours(0,0,0,0),e}function oP(t,r,e){const[s,l]=Pp(e?.in,t,r),o=G2(s),i=G2(l),d=+o-Dh(o),c=+i-Dh(i);return Math.round((d-c)/aP)}function lP(t,r){const e=R_(t,r),s=Ei(t,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),Oh(s)}function hh(t,r){const e=+Hr(t)-+Hr(r);return e<0?-1:e>0?1:e}function cP(t){return Ei(t,Date.now())}function uP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dP(t){return!(!uP(t)&&typeof t!="number"||isNaN(+Hr(t)))}function fP(t,r,e){const[s,l]=Pp(e?.in,t,r),o=s.getFullYear()-l.getFullYear(),i=s.getMonth()-l.getMonth();return o*12+i}function hP(t){return r=>{const s=(t?Math[t]:Math.trunc)(r);return s===0?0:s}}function pP(t,r){return+Hr(t)-+Hr(r)}function mP(t,r){const e=Hr(t,r?.in);return e.setHours(23,59,59,999),e}function gP(t,r){const e=Hr(t,r?.in),s=e.getMonth();return e.setFullYear(e.getFullYear(),s+1,0),e.setHours(23,59,59,999),e}function bP(t,r){const e=Hr(t,r?.in);return+mP(e,r)==+gP(e,r)}function yP(t,r,e){const[s,l,o]=Pp(e?.in,t,t,r),i=hh(l,o),d=Math.abs(fP(l,o));if(d<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-i*d);let c=hh(l,o)===-i;bP(s)&&d===1&&hh(s,o)===1&&(c=!1);const a=i*(d-+c);return a===0?0:a}function xP(t,r,e){const s=pP(t,r)/1e3;return hP(e?.roundingMethod)(s)}function vP(t,r){const e=Hr(t,r?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const wP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jP=(t,r,e)=>{let s;const l=wP[t];return typeof l=="string"?s=l:r===1?s=l.one:s=l.other.replace("{{count}}",r.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+s:s+" ago":s};function k0(t){return(r={})=>{const e=r.width?String(r.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const SP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_P={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NP={date:k0({formats:SP,defaultWidth:"full"}),time:k0({formats:_P,defaultWidth:"full"}),dateTime:k0({formats:CP,defaultWidth:"full"})},kP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},EP=(t,r,e,s)=>kP[t];function Cu(t){return(r,e)=>{const s=e?.context?String(e.context):"standalone";let l;if(s==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,d=e?.width?String(e.width):i;l=t.formattingValues[d]||t.formattingValues[i]}else{const i=t.defaultWidth,d=e?.width?String(e.width):t.defaultWidth;l=t.values[d]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(r):r;return l[o]}}const RP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IP=(t,r)=>{const e=Number(t),s=e%100;if(s>20||s<10)switch(s%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},PP={ordinalNumber:IP,era:Cu({values:RP,defaultWidth:"wide"}),quarter:Cu({values:TP,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cu({values:AP,defaultWidth:"wide"}),day:Cu({values:MP,defaultWidth:"wide"}),dayPeriod:Cu({values:OP,defaultWidth:"wide",formattingValues:DP,defaultFormattingWidth:"wide"})};function Nu(t){return(r,e={})=>{const s=e.width,l=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=r.match(l);if(!o)return null;const i=o[0],d=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(d)?BP(d,m=>m.test(i)):LP(d,m=>m.test(i));let a;a=t.valueCallback?t.valueCallback(c):c,a=e.valueCallback?e.valueCallback(a):a;const u=r.slice(i.length);return{value:a,rest:u}}}function LP(t,r){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&r(t[e]))return e}function BP(t,r){for(let e=0;e<t.length;e++)if(r(t[e]))return e}function FP(t){return(r,e={})=>{const s=r.match(t.matchPattern);if(!s)return null;const l=s[0],o=r.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=e.valueCallback?e.valueCallback(i):i;const d=r.slice(l.length);return{value:i,rest:d}}}const UP=/^(\d+)(th|st|nd|rd)?/i,$P=/\d+/i,zP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qP={any:[/^b/i,/^(a|c)/i]},VP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HP={any:[/1/i,/2/i,/3/i,/4/i]},WP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZP={ordinalNumber:FP({matchPattern:UP,parsePattern:$P,valueCallback:t=>parseInt(t,10)}),era:Nu({matchPatterns:zP,defaultMatchWidth:"wide",parsePatterns:qP,defaultParseWidth:"any"}),quarter:Nu({matchPatterns:VP,defaultMatchWidth:"wide",parsePatterns:HP,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nu({matchPatterns:WP,defaultMatchWidth:"wide",parsePatterns:GP,defaultParseWidth:"any"}),day:Nu({matchPatterns:YP,defaultMatchWidth:"wide",parsePatterns:XP,defaultParseWidth:"any"}),dayPeriod:Nu({matchPatterns:KP,defaultMatchWidth:"any",parsePatterns:QP,defaultParseWidth:"any"})},T_={code:"en-US",formatDistance:jP,formatLong:NP,formatRelative:EP,localize:PP,match:ZP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JP(t,r){const e=Hr(t,r?.in);return oP(e,vP(e))+1}function eL(t,r){const e=Hr(t,r?.in),s=+Oh(e)-+lP(e);return Math.round(s/E_)+1}function A_(t,r){const e=Hr(t,r?.in),s=e.getFullYear(),l=jd(),o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,i=Ei(r?.in||t,0);i.setFullYear(s+1,0,o),i.setHours(0,0,0,0);const d=Gu(i,r),c=Ei(r?.in||t,0);c.setFullYear(s,0,o),c.setHours(0,0,0,0);const a=Gu(c,r);return+e>=+d?s+1:+e>=+a?s:s-1}function tL(t,r){const e=jd(),s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,l=A_(t,r),o=Ei(r?.in||t,0);return o.setFullYear(l,0,s),o.setHours(0,0,0,0),Gu(o,r)}function nL(t,r){const e=Hr(t,r?.in),s=+Gu(e,r)-+tL(e,r);return Math.round(s/E_)+1}function Pn(t,r){const e=t<0?"-":"",s=Math.abs(t).toString().padStart(r,"0");return e+s}const ao={y(t,r){const e=t.getFullYear(),s=e>0?e:1-e;return Pn(r==="yy"?s%100:s,r.length)},M(t,r){const e=t.getMonth();return r==="M"?String(e+1):Pn(e+1,2)},d(t,r){return Pn(t.getDate(),r.length)},a(t,r){const e=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,r){return Pn(t.getHours()%12||12,r.length)},H(t,r){return Pn(t.getHours(),r.length)},m(t,r){return Pn(t.getMinutes(),r.length)},s(t,r){return Pn(t.getSeconds(),r.length)},S(t,r){const e=r.length,s=t.getMilliseconds(),l=Math.trunc(s*Math.pow(10,e-3));return Pn(l,r.length)}},Yl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Y2={G:function(t,r,e){const s=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return e.era(s,{width:"abbreviated"});case"GGGGG":return e.era(s,{width:"narrow"});case"GGGG":default:return e.era(s,{width:"wide"})}},y:function(t,r,e){if(r==="yo"){const s=t.getFullYear(),l=s>0?s:1-s;return e.ordinalNumber(l,{unit:"year"})}return ao.y(t,r)},Y:function(t,r,e,s){const l=A_(t,s),o=l>0?l:1-l;if(r==="YY"){const i=o%100;return Pn(i,2)}return r==="Yo"?e.ordinalNumber(o,{unit:"year"}):Pn(o,r.length)},R:function(t,r){const e=R_(t);return Pn(e,r.length)},u:function(t,r){const e=t.getFullYear();return Pn(e,r.length)},Q:function(t,r,e){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Pn(s,2);case"Qo":return e.ordinalNumber(s,{unit:"quarter"});case"QQQ":return e.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,e){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Pn(s,2);case"qo":return e.ordinalNumber(s,{unit:"quarter"});case"qqq":return e.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,e){const s=t.getMonth();switch(r){case"M":case"MM":return ao.M(t,r);case"Mo":return e.ordinalNumber(s+1,{unit:"month"});case"MMM":return e.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,e){const s=t.getMonth();switch(r){case"L":return String(s+1);case"LL":return Pn(s+1,2);case"Lo":return e.ordinalNumber(s+1,{unit:"month"});case"LLL":return e.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,e,s){const l=nL(t,s);return r==="wo"?e.ordinalNumber(l,{unit:"week"}):Pn(l,r.length)},I:function(t,r,e){const s=eL(t);return r==="Io"?e.ordinalNumber(s,{unit:"week"}):Pn(s,r.length)},d:function(t,r,e){return r==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):ao.d(t,r)},D:function(t,r,e){const s=JP(t);return r==="Do"?e.ordinalNumber(s,{unit:"dayOfYear"}):Pn(s,r.length)},E:function(t,r,e){const s=t.getDay();switch(r){case"E":case"EE":case"EEE":return e.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(s,{width:"short",context:"formatting"});case"EEEE":default:return e.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,e,s){const l=t.getDay(),o=(l-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Pn(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(l,{width:"short",context:"formatting"});case"eeee":default:return e.day(l,{width:"wide",context:"formatting"})}},c:function(t,r,e,s){const l=t.getDay(),o=(l-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Pn(o,r.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(l,{width:"narrow",context:"standalone"});case"cccccc":return e.day(l,{width:"short",context:"standalone"});case"cccc":default:return e.day(l,{width:"wide",context:"standalone"})}},i:function(t,r,e){const s=t.getDay(),l=s===0?7:s;switch(r){case"i":return String(l);case"ii":return Pn(l,r.length);case"io":return e.ordinalNumber(l,{unit:"day"});case"iii":return e.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(s,{width:"short",context:"formatting"});case"iiii":default:return e.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,e){const l=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,r,e){const s=t.getHours();let l;switch(s===12?l=Yl.noon:s===0?l=Yl.midnight:l=s/12>=1?"pm":"am",r){case"b":case"bb":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,r,e){const s=t.getHours();let l;switch(s>=17?l=Yl.evening:s>=12?l=Yl.afternoon:s>=4?l=Yl.morning:l=Yl.night,r){case"B":case"BB":case"BBB":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,r,e){if(r==="ho"){let s=t.getHours()%12;return s===0&&(s=12),e.ordinalNumber(s,{unit:"hour"})}return ao.h(t,r)},H:function(t,r,e){return r==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):ao.H(t,r)},K:function(t,r,e){const s=t.getHours()%12;return r==="Ko"?e.ordinalNumber(s,{unit:"hour"}):Pn(s,r.length)},k:function(t,r,e){let s=t.getHours();return s===0&&(s=24),r==="ko"?e.ordinalNumber(s,{unit:"hour"}):Pn(s,r.length)},m:function(t,r,e){return r==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):ao.m(t,r)},s:function(t,r,e){return r==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):ao.s(t,r)},S:function(t,r){return ao.S(t,r)},X:function(t,r,e){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return K2(s);case"XXXX":case"XX":return Wo(s);case"XXXXX":case"XXX":default:return Wo(s,":")}},x:function(t,r,e){const s=t.getTimezoneOffset();switch(r){case"x":return K2(s);case"xxxx":case"xx":return Wo(s);case"xxxxx":case"xxx":default:return Wo(s,":")}},O:function(t,r,e){const s=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+X2(s,":");case"OOOO":default:return"GMT"+Wo(s,":")}},z:function(t,r,e){const s=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+X2(s,":");case"zzzz":default:return"GMT"+Wo(s,":")}},t:function(t,r,e){const s=Math.trunc(+t/1e3);return Pn(s,r.length)},T:function(t,r,e){return Pn(+t,r.length)}};function X2(t,r=""){const e=t>0?"-":"+",s=Math.abs(t),l=Math.trunc(s/60),o=s%60;return o===0?e+String(l):e+String(l)+r+Pn(o,2)}function K2(t,r){return t%60===0?(t>0?"-":"+")+Pn(Math.abs(t)/60,2):Wo(t,r)}function Wo(t,r=""){const e=t>0?"-":"+",s=Math.abs(t),l=Pn(Math.trunc(s/60),2),o=Pn(s%60,2);return e+l+r+o}const Q2=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},M_=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},rL=(t,r)=>{const e=t.match(/(P+)(p+)?/)||[],s=e[1],l=e[2];if(!l)return Q2(t,r);let o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",Q2(s,r)).replace("{{time}}",M_(l,r))},sL={p:M_,P:rL},aL=/^D+$/,iL=/^Y+$/,oL=["D","DD","YY","YYYY"];function lL(t){return aL.test(t)}function cL(t){return iL.test(t)}function uL(t,r,e){const s=dL(t,r,e);if(console.warn(s),oL.includes(t))throw new RangeError(s)}function dL(t,r,e){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${s} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pL=/^'([^]*?)'?$/,mL=/''/g,gL=/[a-zA-Z]/;function bL(t,r,e){const s=jd(),l=s.locale??T_,o=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=Hr(t,e?.in);if(!dP(d))throw new RangeError("Invalid time value");let c=r.match(hL).map(u=>{const m=u[0];if(m==="p"||m==="P"){const h=sL[m];return h(u,l.formatLong)}return u}).join("").match(fL).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const m=u[0];if(m==="'")return{isToken:!1,value:yL(u)};if(Y2[m])return{isToken:!0,value:u};if(m.match(gL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:u}});l.localize.preprocessor&&(c=l.localize.preprocessor(d,c));const a={firstWeekContainsDate:o,weekStartsOn:i,locale:l};return c.map(u=>{if(!u.isToken)return u.value;const m=u.value;(cL(m)||lL(m))&&uL(m,r,String(t));const h=Y2[m[0]];return h(d,m,l.localize,a)}).join("")}function yL(t){const r=t.match(pL);return r?r[1].replace(mL,"'"):t}function xb(t,r,e){const s=jd(),l=e?.locale??s.locale??T_,o=2520,i=hh(t,r);if(isNaN(i))throw new RangeError("Invalid time value");const d=Object.assign({},e,{addSuffix:e?.addSuffix,comparison:i}),[c,a]=Pp(e?.in,...i>0?[r,t]:[t,r]),u=xP(a,c),m=(Dh(a)-Dh(c))/1e3,h=Math.round((u-m)/60);let p;if(h<2)return e?.includeSeconds?u<5?l.formatDistance("lessThanXSeconds",5,d):u<10?l.formatDistance("lessThanXSeconds",10,d):u<20?l.formatDistance("lessThanXSeconds",20,d):u<40?l.formatDistance("halfAMinute",0,d):u<60?l.formatDistance("lessThanXMinutes",1,d):l.formatDistance("xMinutes",1,d):h===0?l.formatDistance("lessThanXMinutes",1,d):l.formatDistance("xMinutes",h,d);if(h<45)return l.formatDistance("xMinutes",h,d);if(h<90)return l.formatDistance("aboutXHours",1,d);if(h<H2){const y=Math.round(h/60);return l.formatDistance("aboutXHours",y,d)}else{if(h<o)return l.formatDistance("xDays",1,d);if(h<Jf){const y=Math.round(h/H2);return l.formatDistance("xDays",y,d)}else if(h<Jf*2)return p=Math.round(h/Jf),l.formatDistance("aboutXMonths",p,d)}if(p=yP(a,c),p<12){const y=Math.round(h/Jf);return l.formatDistance("xMonths",y,d)}else{const y=p%12,x=Math.trunc(p/12);return y<3?l.formatDistance("aboutXYears",x,d):y<9?l.formatDistance("overXYears",x,d):l.formatDistance("almostXYears",x+1,d)}}function xL(t,r){return xb(t,cP(t),r)}var Lp="Popover",[O_,rhe]=Qr(Lp,[bo]),Sd=bo(),[vL,So]=O_(Lp),D_=t=>{const{__scopePopover:r,children:e,open:s,defaultOpen:l,onOpenChange:o,modal:i=!1}=t,d=Sd(r),c=B.useRef(null),[a,u]=B.useState(!1),[m,h]=$s({prop:s,defaultProp:l??!1,onChange:o,caller:Lp});return n.jsx(Sp,{...d,children:n.jsx(vL,{scope:r,contentId:Cs(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:B.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:a,onCustomAnchorAdd:B.useCallback(()=>u(!0),[]),onCustomAnchorRemove:B.useCallback(()=>u(!1),[]),modal:i,children:e})})};D_.displayName=Lp;var I_="PopoverAnchor",wL=B.forwardRef((t,r)=>{const{__scopePopover:e,...s}=t,l=So(I_,e),o=Sd(e),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=l;return B.useEffect(()=>(i(),()=>d()),[i,d]),n.jsx(bd,{...o,...s,ref:r})});wL.displayName=I_;var P_="PopoverTrigger",L_=B.forwardRef((t,r)=>{const{__scopePopover:e,...s}=t,l=So(P_,e),o=Sd(e),i=tn(r,l.triggerRef),d=n.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":z_(l.open),...s,ref:i,onClick:at(t.onClick,l.onOpenToggle)});return l.hasCustomAnchor?d:n.jsx(bd,{asChild:!0,...o,children:d})});L_.displayName=P_;var vy="PopoverPortal",[jL,SL]=O_(vy,{forceMount:void 0}),B_=t=>{const{__scopePopover:r,forceMount:e,children:s,container:l}=t,o=So(vy,r);return n.jsx(jL,{scope:r,forceMount:e,children:n.jsx(Fr,{present:e||o.open,children:n.jsx(Sc,{asChild:!0,container:l,children:s})})})};B_.displayName=vy;var ac="PopoverContent",F_=B.forwardRef((t,r)=>{const e=SL(ac,t.__scopePopover),{forceMount:s=e.forceMount,...l}=t,o=So(ac,t.__scopePopover);return n.jsx(Fr,{present:s||o.open,children:o.modal?n.jsx(CL,{...l,ref:r}):n.jsx(NL,{...l,ref:r})})});F_.displayName=ac;var _L=co("PopoverContent.RemoveScroll"),CL=B.forwardRef((t,r)=>{const e=So(ac,t.__scopePopover),s=B.useRef(null),l=tn(r,s),o=B.useRef(!1);return B.useEffect(()=>{const i=s.current;if(i)return Np(i)},[]),n.jsx(yd,{as:_L,allowPinchZoom:!0,children:n.jsx(U_,{...t,ref:l,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(t.onCloseAutoFocus,i=>{i.preventDefault(),o.current||e.triggerRef.current?.focus()}),onPointerDownOutside:at(t.onPointerDownOutside,i=>{const d=i.detail.originalEvent,c=d.button===0&&d.ctrlKey===!0,a=d.button===2||c;o.current=a},{checkForDefaultPrevented:!1}),onFocusOutside:at(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),NL=B.forwardRef((t,r)=>{const e=So(ac,t.__scopePopover),s=B.useRef(!1),l=B.useRef(!1);return n.jsx(U_,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||e.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const i=o.target;e.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&l.current&&o.preventDefault()}})}),U_=B.forwardRef((t,r)=>{const{__scopePopover:e,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:a,onInteractOutside:u,...m}=t,h=So(ac,e),p=Sd(e);return yp(),n.jsx(md,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:o,children:n.jsx(vc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:a,onDismiss:()=>h.onOpenChange(!1),children:n.jsx(_p,{"data-state":z_(h.open),role:"dialog",id:h.contentId,...p,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$_="PopoverClose",kL=B.forwardRef((t,r)=>{const{__scopePopover:e,...s}=t,l=So($_,e);return n.jsx(kt.button,{type:"button",...s,ref:r,onClick:at(t.onClick,()=>l.onOpenChange(!1))})});kL.displayName=$_;var EL="PopoverArrow",RL=B.forwardRef((t,r)=>{const{__scopePopover:e,...s}=t,l=Sd(e);return n.jsx(Cp,{...l,...s,ref:r})});RL.displayName=EL;function z_(t){return t?"open":"closed"}var TL=D_,AL=L_,ML=B_,OL=F_;function q_({...t}){return n.jsx(TL,{"data-slot":"popover",...t})}function V_({...t}){return n.jsx(AL,{"data-slot":"popover-trigger",...t})}function H_({className:t,align:r="center",sideOffset:e=4,...s}){return n.jsx(ML,{children:n.jsx(OL,{"data-slot":"popover-content",align:r,sideOffset:e,className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...s})})}function Z2({date:t,onSelect:r,placeholder:e="Pick a date",disabled:s,className:l,showYearMonthSelector:o=!0}){const[i,d]=B.useState(!1),c=a=>{r?.(a),d(!1)};return n.jsxs(q_,{open:i,onOpenChange:d,children:[n.jsx(V_,{asChild:!0,children:n.jsxs(Ie,{variant:"outline",className:Ze("w-full justify-start text-left font-normal",!t&&"text-muted-foreground",l),children:[n.jsx(vh,{className:"mr-2 h-4 w-4"}),t?bL(t,"PPP"):n.jsx("span",{children:e})]})}),n.jsx(H_,{className:"w-auto p-0",align:"start",children:n.jsx(sP,{selected:t,onSelect:c,disabled:s,showYearMonthSelector:o})})]})}var E0="rovingFocusGroup.onEntryFocus",DL={bubbles:!1,cancelable:!0},_d="RovingFocusGroup",[vb,W_,IL]=bp(_d),[PL,Bp]=Qr(_d,[IL]),[LL,BL]=PL(_d),G_=B.forwardRef((t,r)=>n.jsx(vb.Provider,{scope:t.__scopeRovingFocusGroup,children:n.jsx(vb.Slot,{scope:t.__scopeRovingFocusGroup,children:n.jsx(FL,{...t,ref:r})})}));G_.displayName=_d;var FL=B.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:e,orientation:s,loop:l=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:c,onEntryFocus:a,preventScrollOnEntryFocus:u=!1,...m}=t,h=B.useRef(null),p=tn(r,h),y=xc(o),[x,g]=$s({prop:i,defaultProp:d??null,onChange:c,caller:_d}),[w,v]=B.useState(!1),j=Xr(a),N=W_(e),T=B.useRef(!1),[D,V]=B.useState(0);return B.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(E0,j),()=>P.removeEventListener(E0,j)},[j]),n.jsx(LL,{scope:e,orientation:s,dir:y,loop:l,currentTabStopId:x,onItemFocus:B.useCallback(P=>g(P),[g]),onItemShiftTab:B.useCallback(()=>v(!0),[]),onFocusableItemAdd:B.useCallback(()=>V(P=>P+1),[]),onFocusableItemRemove:B.useCallback(()=>V(P=>P-1),[]),children:n.jsx(kt.div,{tabIndex:w||D===0?-1:0,"data-orientation":s,...m,ref:p,style:{outline:"none",...t.style},onMouseDown:at(t.onMouseDown,()=>{T.current=!0}),onFocus:at(t.onFocus,P=>{const $=!T.current;if(P.target===P.currentTarget&&$&&!w){const G=new CustomEvent(E0,DL);if(P.currentTarget.dispatchEvent(G),!G.defaultPrevented){const Y=N().filter(S=>S.focusable),W=Y.find(S=>S.active),O=Y.find(S=>S.id===x),R=[W,O,...Y].filter(Boolean).map(S=>S.ref.current);K_(R,u)}}T.current=!1}),onBlur:at(t.onBlur,()=>v(!1))})})}),Y_="RovingFocusGroupItem",X_=B.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:e,focusable:s=!0,active:l=!1,tabStopId:o,children:i,...d}=t,c=Cs(),a=o||c,u=BL(Y_,e),m=u.currentTabStopId===a,h=W_(e),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:x}=u;return B.useEffect(()=>{if(s)return p(),()=>y()},[s,p,y]),n.jsx(vb.ItemSlot,{scope:e,id:a,focusable:s,active:l,children:n.jsx(kt.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...d,ref:r,onMouseDown:at(t.onMouseDown,g=>{s?u.onItemFocus(a):g.preventDefault()}),onFocus:at(t.onFocus,()=>u.onItemFocus(a)),onKeyDown:at(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const w=zL(g,u.orientation,u.dir);if(w!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let j=h().filter(N=>N.focusable).map(N=>N.ref.current);if(w==="last")j.reverse();else if(w==="prev"||w==="next"){w==="prev"&&j.reverse();const N=j.indexOf(g.currentTarget);j=u.loop?qL(j,N+1):j.slice(N+1)}setTimeout(()=>K_(j))}}),children:typeof i=="function"?i({isCurrentTabStop:m,hasTabStop:x!=null}):i})})});X_.displayName=Y_;var UL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $L(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zL(t,r,e){const s=$L(t.key,e);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return UL[s]}function K_(t,r=!1){const e=document.activeElement;for(const s of t)if(s===e||(s.focus({preventScroll:r}),document.activeElement!==e))return}function qL(t,r){return t.map((e,s)=>t[(r+s)%t.length])}var Q_=G_,Z_=X_,wb=["Enter"," "],VL=["ArrowDown","PageUp","Home"],J_=["ArrowUp","PageDown","End"],HL=[...VL,...J_],WL={ltr:[...wb,"ArrowRight"],rtl:[...wb,"ArrowLeft"]},GL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cd="Menu",[Yu,YL,XL]=bp(Cd),[cl,e6]=Qr(Cd,[XL,bo,Bp]),Fp=bo(),t6=Bp(),[KL,ul]=cl(Cd),[QL,Nd]=cl(Cd),n6=t=>{const{__scopeMenu:r,open:e=!1,children:s,dir:l,onOpenChange:o,modal:i=!0}=t,d=Fp(r),[c,a]=B.useState(null),u=B.useRef(!1),m=Xr(o),h=xc(l);return B.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),n.jsx(Sp,{...d,children:n.jsx(KL,{scope:r,open:e,onOpenChange:m,content:c,onContentChange:a,children:n.jsx(QL,{scope:r,onClose:B.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:i,children:s})})})};n6.displayName=Cd;var ZL="MenuAnchor",wy=B.forwardRef((t,r)=>{const{__scopeMenu:e,...s}=t,l=Fp(e);return n.jsx(bd,{...l,...s,ref:r})});wy.displayName=ZL;var jy="MenuPortal",[JL,r6]=cl(jy,{forceMount:void 0}),s6=t=>{const{__scopeMenu:r,forceMount:e,children:s,container:l}=t,o=ul(jy,r);return n.jsx(JL,{scope:r,forceMount:e,children:n.jsx(Fr,{present:e||o.open,children:n.jsx(Sc,{asChild:!0,container:l,children:s})})})};s6.displayName=jy;var Js="MenuContent",[eB,Sy]=cl(Js),a6=B.forwardRef((t,r)=>{const e=r6(Js,t.__scopeMenu),{forceMount:s=e.forceMount,...l}=t,o=ul(Js,t.__scopeMenu),i=Nd(Js,t.__scopeMenu);return n.jsx(Yu.Provider,{scope:t.__scopeMenu,children:n.jsx(Fr,{present:s||o.open,children:n.jsx(Yu.Slot,{scope:t.__scopeMenu,children:i.modal?n.jsx(tB,{...l,ref:r}):n.jsx(nB,{...l,ref:r})})})})}),tB=B.forwardRef((t,r)=>{const e=ul(Js,t.__scopeMenu),s=B.useRef(null),l=tn(r,s);return B.useEffect(()=>{const o=s.current;if(o)return Np(o)},[]),n.jsx(_y,{...t,ref:l,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:at(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),nB=B.forwardRef((t,r)=>{const e=ul(Js,t.__scopeMenu);return n.jsx(_y,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),rB=co("MenuContent.ScrollLock"),_y=B.forwardRef((t,r)=>{const{__scopeMenu:e,loop:s=!1,trapFocus:l,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:d,onEntryFocus:c,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...x}=t,g=ul(Js,e),w=Nd(Js,e),v=Fp(e),j=t6(e),N=YL(e),[T,D]=B.useState(null),V=B.useRef(null),P=tn(r,V,g.onContentChange),$=B.useRef(0),G=B.useRef(""),Y=B.useRef(0),W=B.useRef(null),O=B.useRef("right"),I=B.useRef(0),R=y?yd:B.Fragment,S=y?{as:rB,allowPinchZoom:!0}:void 0,C=E=>{const M=G.current+E,L=N().filter(ee=>!ee.disabled),z=document.activeElement,K=L.find(ee=>ee.ref.current===z)?.textValue,Z=L.map(ee=>ee.textValue),te=mB(Z,M,K),H=L.find(ee=>ee.textValue===te)?.ref.current;(function ee(U){G.current=U,window.clearTimeout($.current),U!==""&&($.current=window.setTimeout(()=>ee(""),1e3))})(M),H&&setTimeout(()=>H.focus())};B.useEffect(()=>()=>window.clearTimeout($.current),[]),yp();const k=B.useCallback(E=>O.current===W.current?.side&&bB(E,W.current?.area),[]);return n.jsx(eB,{scope:e,searchRef:G,onItemEnter:B.useCallback(E=>{k(E)&&E.preventDefault()},[k]),onItemLeave:B.useCallback(E=>{k(E)||(V.current?.focus(),D(null))},[k]),onTriggerLeave:B.useCallback(E=>{k(E)&&E.preventDefault()},[k]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:B.useCallback(E=>{W.current=E},[]),children:n.jsx(R,{...S,children:n.jsx(md,{asChild:!0,trapped:l,onMountAutoFocus:at(o,E=>{E.preventDefault(),V.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:n.jsx(vc,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,children:n.jsx(Q_,{asChild:!0,...j,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:T,onCurrentTabStopIdChange:D,onEntryFocus:at(c,E=>{w.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(_p,{role:"menu","aria-orientation":"vertical","data-state":w6(g.open),"data-radix-menu-content":"",dir:w.dir,...v,...x,ref:P,style:{outline:"none",...x.style},onKeyDown:at(x.onKeyDown,E=>{const L=E.target.closest("[data-radix-menu-content]")===E.currentTarget,z=E.ctrlKey||E.altKey||E.metaKey,K=E.key.length===1;L&&(E.key==="Tab"&&E.preventDefault(),!z&&K&&C(E.key));const Z=V.current;if(E.target!==Z||!HL.includes(E.key))return;E.preventDefault();const H=N().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);J_.includes(E.key)&&H.reverse(),hB(H)}),onBlur:at(t.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout($.current),G.current="")}),onPointerMove:at(t.onPointerMove,Xu(E=>{const M=E.target,L=I.current!==E.clientX;if(E.currentTarget.contains(M)&&L){const z=E.clientX>I.current?"right":"left";O.current=z,I.current=E.clientX}}))})})})})})})});a6.displayName=Js;var sB="MenuGroup",Cy=B.forwardRef((t,r)=>{const{__scopeMenu:e,...s}=t;return n.jsx(kt.div,{role:"group",...s,ref:r})});Cy.displayName=sB;var aB="MenuLabel",i6=B.forwardRef((t,r)=>{const{__scopeMenu:e,...s}=t;return n.jsx(kt.div,{...s,ref:r})});i6.displayName=aB;var Ih="MenuItem",J2="menu.itemSelect",Up=B.forwardRef((t,r)=>{const{disabled:e=!1,onSelect:s,...l}=t,o=B.useRef(null),i=Nd(Ih,t.__scopeMenu),d=Sy(Ih,t.__scopeMenu),c=tn(r,o),a=B.useRef(!1),u=()=>{const m=o.current;if(!e&&m){const h=new CustomEvent(J2,{bubbles:!0,cancelable:!0});m.addEventListener(J2,p=>s?.(p),{once:!0}),t3(m,h),h.defaultPrevented?a.current=!1:i.onClose()}};return n.jsx(o6,{...l,ref:c,disabled:e,onClick:at(t.onClick,u),onPointerDown:m=>{t.onPointerDown?.(m),a.current=!0},onPointerUp:at(t.onPointerUp,m=>{a.current||m.currentTarget?.click()}),onKeyDown:at(t.onKeyDown,m=>{const h=d.searchRef.current!=="";e||h&&m.key===" "||wb.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Up.displayName=Ih;var o6=B.forwardRef((t,r)=>{const{__scopeMenu:e,disabled:s=!1,textValue:l,...o}=t,i=Sy(Ih,e),d=t6(e),c=B.useRef(null),a=tn(r,c),[u,m]=B.useState(!1),[h,p]=B.useState("");return B.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[o.children]),n.jsx(Yu.ItemSlot,{scope:e,disabled:s,textValue:l??h,children:n.jsx(Z_,{asChild:!0,...d,focusable:!s,children:n.jsx(kt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:a,onPointerMove:at(t.onPointerMove,Xu(y=>{s?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:at(t.onPointerLeave,Xu(y=>i.onItemLeave(y))),onFocus:at(t.onFocus,()=>m(!0)),onBlur:at(t.onBlur,()=>m(!1))})})})}),iB="MenuCheckboxItem",l6=B.forwardRef((t,r)=>{const{checked:e=!1,onCheckedChange:s,...l}=t;return n.jsx(h6,{scope:t.__scopeMenu,checked:e,children:n.jsx(Up,{role:"menuitemcheckbox","aria-checked":Ph(e)?"mixed":e,...l,ref:r,"data-state":ky(e),onSelect:at(l.onSelect,()=>s?.(Ph(e)?!0:!e),{checkForDefaultPrevented:!1})})})});l6.displayName=iB;var c6="MenuRadioGroup",[oB,lB]=cl(c6,{value:void 0,onValueChange:()=>{}}),u6=B.forwardRef((t,r)=>{const{value:e,onValueChange:s,...l}=t,o=Xr(s);return n.jsx(oB,{scope:t.__scopeMenu,value:e,onValueChange:o,children:n.jsx(Cy,{...l,ref:r})})});u6.displayName=c6;var d6="MenuRadioItem",f6=B.forwardRef((t,r)=>{const{value:e,...s}=t,l=lB(d6,t.__scopeMenu),o=e===l.value;return n.jsx(h6,{scope:t.__scopeMenu,checked:o,children:n.jsx(Up,{role:"menuitemradio","aria-checked":o,...s,ref:r,"data-state":ky(o),onSelect:at(s.onSelect,()=>l.onValueChange?.(e),{checkForDefaultPrevented:!1})})})});f6.displayName=d6;var Ny="MenuItemIndicator",[h6,cB]=cl(Ny,{checked:!1}),p6=B.forwardRef((t,r)=>{const{__scopeMenu:e,forceMount:s,...l}=t,o=cB(Ny,e);return n.jsx(Fr,{present:s||Ph(o.checked)||o.checked===!0,children:n.jsx(kt.span,{...l,ref:r,"data-state":ky(o.checked)})})});p6.displayName=Ny;var uB="MenuSeparator",m6=B.forwardRef((t,r)=>{const{__scopeMenu:e,...s}=t;return n.jsx(kt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:r})});m6.displayName=uB;var dB="MenuArrow",g6=B.forwardRef((t,r)=>{const{__scopeMenu:e,...s}=t,l=Fp(e);return n.jsx(Cp,{...l,...s,ref:r})});g6.displayName=dB;var fB="MenuSub",[she,b6]=cl(fB),Mu="MenuSubTrigger",y6=B.forwardRef((t,r)=>{const e=ul(Mu,t.__scopeMenu),s=Nd(Mu,t.__scopeMenu),l=b6(Mu,t.__scopeMenu),o=Sy(Mu,t.__scopeMenu),i=B.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:c}=o,a={__scopeMenu:t.__scopeMenu},u=B.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return B.useEffect(()=>u,[u]),B.useEffect(()=>{const m=d.current;return()=>{window.clearTimeout(m),c(null)}},[d,c]),n.jsx(wy,{asChild:!0,...a,children:n.jsx(o6,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":l.contentId,"data-state":w6(e.open),...t,ref:lp(r,l.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:at(t.onPointerMove,Xu(m=>{o.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!e.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{e.onOpenChange(!0),u()},100))})),onPointerLeave:at(t.onPointerLeave,Xu(m=>{u();const h=e.content?.getBoundingClientRect();if(h){const p=e.content?.dataset.side,y=p==="right",x=y?-5:5,g=h[y?"left":"right"],w=h[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+x,y:m.clientY},{x:g,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:g,y:h.bottom}],side:p}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:at(t.onKeyDown,m=>{const h=o.searchRef.current!=="";t.disabled||h&&m.key===" "||WL[s.dir].includes(m.key)&&(e.onOpenChange(!0),e.content?.focus(),m.preventDefault())})})})});y6.displayName=Mu;var x6="MenuSubContent",v6=B.forwardRef((t,r)=>{const e=r6(Js,t.__scopeMenu),{forceMount:s=e.forceMount,...l}=t,o=ul(Js,t.__scopeMenu),i=Nd(Js,t.__scopeMenu),d=b6(x6,t.__scopeMenu),c=B.useRef(null),a=tn(r,c);return n.jsx(Yu.Provider,{scope:t.__scopeMenu,children:n.jsx(Fr,{present:s||o.open,children:n.jsx(Yu.Slot,{scope:t.__scopeMenu,children:n.jsx(_y,{id:d.contentId,"aria-labelledby":d.triggerId,...l,ref:a,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{i.isUsingKeyboardRef.current&&c.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:at(t.onFocusOutside,u=>{u.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:at(t.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:at(t.onKeyDown,u=>{const m=u.currentTarget.contains(u.target),h=GL[i.dir].includes(u.key);m&&h&&(o.onOpenChange(!1),d.trigger?.focus(),u.preventDefault())})})})})})});v6.displayName=x6;function w6(t){return t?"open":"closed"}function Ph(t){return t==="indeterminate"}function ky(t){return Ph(t)?"indeterminate":t?"checked":"unchecked"}function hB(t){const r=document.activeElement;for(const e of t)if(e===r||(e.focus(),document.activeElement!==r))return}function pB(t,r){return t.map((e,s)=>t[(r+s)%t.length])}function mB(t,r,e){const l=r.length>1&&Array.from(r).every(a=>a===r[0])?r[0]:r,o=e?t.indexOf(e):-1;let i=pB(t,Math.max(o,0));l.length===1&&(i=i.filter(a=>a!==e));const c=i.find(a=>a.toLowerCase().startsWith(l.toLowerCase()));return c!==e?c:void 0}function gB(t,r){const{x:e,y:s}=t;let l=!1;for(let o=0,i=r.length-1;o<r.length;i=o++){const d=r[o],c=r[i],a=d.x,u=d.y,m=c.x,h=c.y;u>s!=h>s&&e<(m-a)*(s-u)/(h-u)+a&&(l=!l)}return l}function bB(t,r){if(!r)return!1;const e={x:t.clientX,y:t.clientY};return gB(e,r)}function Xu(t){return r=>r.pointerType==="mouse"?t(r):void 0}var yB=n6,xB=wy,vB=s6,wB=a6,jB=Cy,SB=i6,_B=Up,CB=l6,NB=u6,kB=f6,EB=p6,RB=m6,TB=g6,AB=y6,MB=v6,$p="DropdownMenu",[OB,ahe]=Qr($p,[e6]),ps=e6(),[DB,j6]=OB($p),S6=t=>{const{__scopeDropdownMenu:r,children:e,dir:s,open:l,defaultOpen:o,onOpenChange:i,modal:d=!0}=t,c=ps(r),a=B.useRef(null),[u,m]=$s({prop:l,defaultProp:o??!1,onChange:i,caller:$p});return n.jsx(DB,{scope:r,triggerId:Cs(),triggerRef:a,contentId:Cs(),open:u,onOpenChange:m,onOpenToggle:B.useCallback(()=>m(h=>!h),[m]),modal:d,children:n.jsx(yB,{...c,open:u,onOpenChange:m,dir:s,modal:d,children:e})})};S6.displayName=$p;var _6="DropdownMenuTrigger",C6=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,disabled:s=!1,...l}=t,o=j6(_6,e),i=ps(e);return n.jsx(xB,{asChild:!0,...i,children:n.jsx(kt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...l,ref:lp(r,o.triggerRef),onPointerDown:at(t.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:at(t.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});C6.displayName=_6;var IB="DropdownMenuPortal",N6=t=>{const{__scopeDropdownMenu:r,...e}=t,s=ps(r);return n.jsx(vB,{...s,...e})};N6.displayName=IB;var k6="DropdownMenuContent",E6=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=j6(k6,e),o=ps(e),i=B.useRef(!1);return n.jsx(wB,{id:l.contentId,"aria-labelledby":l.triggerId,...o,...s,ref:r,onCloseAutoFocus:at(t.onCloseAutoFocus,d=>{i.current||l.triggerRef.current?.focus(),i.current=!1,d.preventDefault()}),onInteractOutside:at(t.onInteractOutside,d=>{const c=d.detail.originalEvent,a=c.button===0&&c.ctrlKey===!0,u=c.button===2||a;(!l.modal||u)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E6.displayName=k6;var PB="DropdownMenuGroup",LB=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(jB,{...l,...s,ref:r})});LB.displayName=PB;var BB="DropdownMenuLabel",R6=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(SB,{...l,...s,ref:r})});R6.displayName=BB;var FB="DropdownMenuItem",T6=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(_B,{...l,...s,ref:r})});T6.displayName=FB;var UB="DropdownMenuCheckboxItem",$B=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(CB,{...l,...s,ref:r})});$B.displayName=UB;var zB="DropdownMenuRadioGroup",qB=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(NB,{...l,...s,ref:r})});qB.displayName=zB;var VB="DropdownMenuRadioItem",HB=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(kB,{...l,...s,ref:r})});HB.displayName=VB;var WB="DropdownMenuItemIndicator",GB=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(EB,{...l,...s,ref:r})});GB.displayName=WB;var YB="DropdownMenuSeparator",A6=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(RB,{...l,...s,ref:r})});A6.displayName=YB;var XB="DropdownMenuArrow",KB=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(TB,{...l,...s,ref:r})});KB.displayName=XB;var QB="DropdownMenuSubTrigger",ZB=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(AB,{...l,...s,ref:r})});ZB.displayName=QB;var JB="DropdownMenuSubContent",eF=B.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...s}=t,l=ps(e);return n.jsx(MB,{...l,...s,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eF.displayName=JB;var tF=S6,nF=C6,rF=N6,sF=E6,aF=R6,iF=T6,oF=A6;function kd({...t}){return n.jsx(tF,{"data-slot":"dropdown-menu",...t})}function Ed({...t}){return n.jsx(nF,{"data-slot":"dropdown-menu-trigger",...t})}function Rd({className:t,sideOffset:r=4,...e}){return n.jsx(rF,{children:n.jsx(sF,{"data-slot":"dropdown-menu-content",sideOffset:r,className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...e})})}function Zo({className:t,inset:r,variant:e="default",...s}){return n.jsx(iF,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":e,className:Ze("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function lF({className:t,inset:r,...e}){return n.jsx(aF,{"data-slot":"dropdown-menu-label","data-inset":r,className:Ze("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...e})}function M6({className:t,...r}){return n.jsx(oF,{"data-slot":"dropdown-menu-separator",className:Ze("bg-border -mx-1 my-1 h-px",t),...r})}var Td=t=>t.type==="checkbox",Xo=t=>t instanceof Date,os=t=>t==null;const O6=t=>typeof t=="object";var gr=t=>!os(t)&&!Array.isArray(t)&&O6(t)&&!Xo(t),D6=t=>gr(t)&&t.target?Td(t.target)?t.target.checked:t.target.value:t,cF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,I6=(t,r)=>t.has(cF(r)),uF=t=>{const r=t.constructor&&t.constructor.prototype;return gr(r)&&r.hasOwnProperty("isPrototypeOf")},Ey=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mr(t){let r;const e=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)r=new Date(t);else if(!(Ey&&(t instanceof Blob||s))&&(e||gr(t)))if(r=e?[]:Object.create(Object.getPrototypeOf(t)),!e&&!uF(t))r=t;else for(const l in t)t.hasOwnProperty(l)&&(r[l]=Mr(t[l]));else return t;return r}var zp=t=>/^\w*$/.test(t),pr=t=>t===void 0,Ry=t=>Array.isArray(t)?t.filter(Boolean):[],Ty=t=>Ry(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ut=(t,r,e)=>{if(!r||!gr(t))return e;const s=(zp(r)?[r]:Ty(r)).reduce((l,o)=>os(l)?l:l[o],t);return pr(s)||s===t?pr(t[r])?e:t[r]:s},Ds=t=>typeof t=="boolean",Yn=(t,r,e)=>{let s=-1;const l=zp(r)?[r]:Ty(r),o=l.length,i=o-1;for(;++s<o;){const d=l[s];let c=e;if(s!==i){const a=t[d];c=gr(a)||Array.isArray(a)?a:isNaN(+l[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=c,t=t[d]}};const Lh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ha={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ay=Te.createContext(null);Ay.displayName="HookFormContext";const qp=()=>Te.useContext(Ay),dF=t=>{const{children:r,...e}=t;return Te.createElement(Ay.Provider,{value:e},r)};var P6=(t,r,e,s=!0)=>{const l={defaultValues:r._defaultValues};for(const o in t)Object.defineProperty(l,o,{get:()=>{const i=o;return r._proxyFormState[i]!==ha.all&&(r._proxyFormState[i]=!s||ha.all),e&&(e[i]=!0),t[i]}});return l};const My=typeof window<"u"?Te.useLayoutEffect:Te.useEffect;function L6(t){const r=qp(),{control:e=r.control,disabled:s,name:l,exact:o}=t||{},[i,d]=Te.useState(e._formState),c=Te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return My(()=>e._subscribe({name:l,formState:c.current,exact:o,callback:a=>{!s&&d({...e._formState,...a})}}),[l,s,o]),Te.useEffect(()=>{c.current.isValid&&e._setValid(!0)},[e]),Te.useMemo(()=>P6(i,e,c.current,!1),[i,e])}var Va=t=>typeof t=="string",B6=(t,r,e,s,l)=>Va(t)?(s&&r.watch.add(t),ut(e,t,l)):Array.isArray(t)?t.map(o=>(s&&r.watch.add(o),ut(e,o))):(s&&(r.watchAll=!0),e),jb=t=>os(t)||!O6(t);function xi(t,r,e=new WeakSet){if(jb(t)||jb(r))return t===r;if(Xo(t)&&Xo(r))return t.getTime()===r.getTime();const s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;if(e.has(t)||e.has(r))return!0;e.add(t),e.add(r);for(const o of s){const i=t[o];if(!l.includes(o))return!1;if(o!=="ref"){const d=r[o];if(Xo(i)&&Xo(d)||gr(i)&&gr(d)||Array.isArray(i)&&Array.isArray(d)?!xi(i,d,e):i!==d)return!1}}return!0}function fF(t){const r=qp(),{control:e=r.control,name:s,defaultValue:l,disabled:o,exact:i,compute:d}=t||{},c=Te.useRef(l),a=Te.useRef(d),u=Te.useRef(void 0);a.current=d;const m=Te.useMemo(()=>e._getWatch(s,c.current),[e,s]),[h,p]=Te.useState(a.current?a.current(m):m);return My(()=>e._subscribe({name:s,formState:{values:!0},exact:i,callback:y=>{if(!o){const x=B6(s,e._names,y.values||e._formValues,!1,c.current);if(a.current){const g=a.current(x);xi(g,u.current)||(p(g),u.current=g)}else p(x)}}}),[e,o,s,i]),Te.useEffect(()=>e._removeUnmounted()),h}function hF(t){const r=qp(),{name:e,disabled:s,control:l=r.control,shouldUnregister:o,defaultValue:i}=t,d=I6(l._names.array,e),c=Te.useMemo(()=>ut(l._formValues,e,ut(l._defaultValues,e,i)),[l,e,i]),a=fF({control:l,name:e,defaultValue:c,exact:!0}),u=L6({control:l,name:e,exact:!0}),m=Te.useRef(t),h=Te.useRef(l.register(e,{...t.rules,value:a,...Ds(t.disabled)?{disabled:t.disabled}:{}}));m.current=t;const p=Te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ut(u.errors,e)},isDirty:{enumerable:!0,get:()=>!!ut(u.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!ut(u.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!ut(u.validatingFields,e)},error:{enumerable:!0,get:()=>ut(u.errors,e)}}),[u,e]),y=Te.useCallback(v=>h.current.onChange({target:{value:D6(v),name:e},type:Lh.CHANGE}),[e]),x=Te.useCallback(()=>h.current.onBlur({target:{value:ut(l._formValues,e),name:e},type:Lh.BLUR}),[e,l._formValues]),g=Te.useCallback(v=>{const j=ut(l._fields,e);j&&v&&(j._f.ref={focus:()=>v.focus&&v.focus(),select:()=>v.select&&v.select(),setCustomValidity:N=>v.setCustomValidity(N),reportValidity:()=>v.reportValidity()})},[l._fields,e]),w=Te.useMemo(()=>({name:e,value:a,...Ds(s)||u.disabled?{disabled:u.disabled||s}:{},onChange:y,onBlur:x,ref:g}),[e,s,u.disabled,y,x,g,a]);return Te.useEffect(()=>{const v=l._options.shouldUnregister||o;l.register(e,{...m.current.rules,...Ds(m.current.disabled)?{disabled:m.current.disabled}:{}});const j=(N,T)=>{const D=ut(l._fields,N);D&&D._f&&(D._f.mount=T)};if(j(e,!0),v){const N=Mr(ut(l._options.defaultValues,e));Yn(l._defaultValues,e,N),pr(ut(l._formValues,e))&&Yn(l._formValues,e,N)}return!d&&l.register(e),()=>{(d?v&&!l._state.action:v)?l.unregister(e):j(e,!1)}},[e,l,d,o]),Te.useEffect(()=>{l._setDisabledField({disabled:s,name:e})},[s,e,l]),Te.useMemo(()=>({field:w,formState:u,fieldState:p}),[w,u,p])}const pF=t=>t.render(hF(t));var mF=(t,r,e,s,l)=>r?{...e[t],types:{...e[t]&&e[t].types?e[t].types:{},[s]:l||!0}}:{},Lu=t=>Array.isArray(t)?t:[t],e4=()=>{let t=[];return{get observers(){return t},next:l=>{for(const o of t)o.next&&o.next(l)},subscribe:l=>(t.push(l),{unsubscribe:()=>{t=t.filter(o=>o!==l)}}),unsubscribe:()=>{t=[]}}},vs=t=>gr(t)&&!Object.keys(t).length,Oy=t=>t.type==="file",pa=t=>typeof t=="function",Bh=t=>{if(!Ey)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},F6=t=>t.type==="select-multiple",Dy=t=>t.type==="radio",gF=t=>Dy(t)||Td(t),R0=t=>Bh(t)&&t.isConnected;function bF(t,r){const e=r.slice(0,-1).length;let s=0;for(;s<e;)t=pr(t)?s++:t[r[s++]];return t}function yF(t){for(const r in t)if(t.hasOwnProperty(r)&&!pr(t[r]))return!1;return!0}function Sr(t,r){const e=Array.isArray(r)?r:zp(r)?[r]:Ty(r),s=e.length===1?t:bF(t,e),l=e.length-1,o=e[l];return s&&delete s[o],l!==0&&(gr(s)&&vs(s)||Array.isArray(s)&&yF(s))&&Sr(t,e.slice(0,-1)),t}var U6=t=>{for(const r in t)if(pa(t[r]))return!0;return!1};function Fh(t,r={}){const e=Array.isArray(t);if(gr(t)||e)for(const s in t)Array.isArray(t[s])||gr(t[s])&&!U6(t[s])?(r[s]=Array.isArray(t[s])?[]:{},Fh(t[s],r[s])):os(t[s])||(r[s]=!0);return r}function $6(t,r,e){const s=Array.isArray(t);if(gr(t)||s)for(const l in t)Array.isArray(t[l])||gr(t[l])&&!U6(t[l])?pr(r)||jb(e[l])?e[l]=Array.isArray(t[l])?Fh(t[l],[]):{...Fh(t[l])}:$6(t[l],os(r)?{}:r[l],e[l]):e[l]=!xi(t[l],r[l]);return e}var ku=(t,r)=>$6(t,r,Fh(r));const t4={value:!1,isValid:!1},n4={value:!0,isValid:!0};var z6=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!pr(t[0].attributes.value)?pr(t[0].value)||t[0].value===""?n4:{value:t[0].value,isValid:!0}:n4:t4}return t4},q6=(t,{valueAsNumber:r,valueAsDate:e,setValueAs:s})=>pr(t)?t:r?t===""?NaN:t&&+t:e&&Va(t)?new Date(t):s?s(t):t;const r4={isValid:!1,value:null};var V6=t=>Array.isArray(t)?t.reduce((r,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:r,r4):r4;function s4(t){const r=t.ref;return Oy(r)?r.files:Dy(r)?V6(t.refs).value:F6(r)?[...r.selectedOptions].map(({value:e})=>e):Td(r)?z6(t.refs).value:q6(pr(r.value)?t.ref.value:r.value,t)}var xF=(t,r,e,s)=>{const l={};for(const o of t){const i=ut(r,o);i&&Yn(l,o,i._f)}return{criteriaMode:e,names:[...t],fields:l,shouldUseNativeValidation:s}},Uh=t=>t instanceof RegExp,Eu=t=>pr(t)?t:Uh(t)?t.source:gr(t)?Uh(t.value)?t.value.source:t.value:t,a4=t=>({isOnSubmit:!t||t===ha.onSubmit,isOnBlur:t===ha.onBlur,isOnChange:t===ha.onChange,isOnAll:t===ha.all,isOnTouch:t===ha.onTouched});const i4="AsyncFunction";var vF=t=>!!t&&!!t.validate&&!!(pa(t.validate)&&t.validate.constructor.name===i4||gr(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===i4)),wF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),o4=(t,r,e)=>!e&&(r.watchAll||r.watch.has(t)||[...r.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Bu=(t,r,e,s)=>{for(const l of e||Object.keys(t)){const o=ut(t,l);if(o){const{_f:i,...d}=o;if(i){if(i.refs&&i.refs[0]&&r(i.refs[0],l)&&!s)return!0;if(i.ref&&r(i.ref,i.name)&&!s)return!0;if(Bu(d,r))break}else if(gr(d)&&Bu(d,r))break}}};function l4(t,r,e){const s=ut(t,e);if(s||zp(e))return{error:s,name:e};const l=e.split(".");for(;l.length;){const o=l.join("."),i=ut(r,o),d=ut(t,o);if(i&&!Array.isArray(i)&&e!==o)return{name:e};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};l.pop()}return{name:e}}var jF=(t,r,e,s)=>{e(t);const{name:l,...o}=t;return vs(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(i=>r[i]===(!s||ha.all))},SF=(t,r,e)=>!t||!r||t===r||Lu(t).some(s=>s&&(e?s===r:s.startsWith(r)||r.startsWith(s))),_F=(t,r,e,s,l)=>l.isOnAll?!1:!e&&l.isOnTouch?!(r||t):(e?s.isOnBlur:l.isOnBlur)?!t:(e?s.isOnChange:l.isOnChange)?t:!0,CF=(t,r)=>!Ry(ut(t,r)).length&&Sr(t,r),NF=(t,r,e)=>{const s=Lu(ut(t,e));return Yn(s,"root",r[e]),Yn(t,e,s),t},ph=t=>Va(t);function c4(t,r,e="validate"){if(ph(t)||Array.isArray(t)&&t.every(ph)||Ds(t)&&!t)return{type:e,message:ph(t)?t:"",ref:r}}var Xl=t=>gr(t)&&!Uh(t)?t:{value:t,message:""},u4=async(t,r,e,s,l,o)=>{const{ref:i,refs:d,required:c,maxLength:a,minLength:u,min:m,max:h,pattern:p,validate:y,name:x,valueAsNumber:g,mount:w}=t._f,v=ut(e,x);if(!w||r.has(x))return{};const j=d?d[0]:i,N=W=>{l&&j.reportValidity&&(j.setCustomValidity(Ds(W)?"":W||""),j.reportValidity())},T={},D=Dy(i),V=Td(i),P=D||V,$=(g||Oy(i))&&pr(i.value)&&pr(v)||Bh(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,G=mF.bind(null,x,s,T),Y=(W,O,I,R=yi.maxLength,S=yi.minLength)=>{const C=W?O:I;T[x]={type:W?R:S,message:C,ref:i,...G(W?R:S,C)}};if(o?!Array.isArray(v)||!v.length:c&&(!P&&($||os(v))||Ds(v)&&!v||V&&!z6(d).isValid||D&&!V6(d).isValid)){const{value:W,message:O}=ph(c)?{value:!!c,message:c}:Xl(c);if(W&&(T[x]={type:yi.required,message:O,ref:j,...G(yi.required,O)},!s))return N(O),T}if(!$&&(!os(m)||!os(h))){let W,O;const I=Xl(h),R=Xl(m);if(!os(v)&&!isNaN(v)){const S=i.valueAsNumber||v&&+v;os(I.value)||(W=S>I.value),os(R.value)||(O=S<R.value)}else{const S=i.valueAsDate||new Date(v),C=M=>new Date(new Date().toDateString()+" "+M),k=i.type=="time",E=i.type=="week";Va(I.value)&&v&&(W=k?C(v)>C(I.value):E?v>I.value:S>new Date(I.value)),Va(R.value)&&v&&(O=k?C(v)<C(R.value):E?v<R.value:S<new Date(R.value))}if((W||O)&&(Y(!!W,I.message,R.message,yi.max,yi.min),!s))return N(T[x].message),T}if((a||u)&&!$&&(Va(v)||o&&Array.isArray(v))){const W=Xl(a),O=Xl(u),I=!os(W.value)&&v.length>+W.value,R=!os(O.value)&&v.length<+O.value;if((I||R)&&(Y(I,W.message,O.message),!s))return N(T[x].message),T}if(p&&!$&&Va(v)){const{value:W,message:O}=Xl(p);if(Uh(W)&&!v.match(W)&&(T[x]={type:yi.pattern,message:O,ref:i,...G(yi.pattern,O)},!s))return N(O),T}if(y){if(pa(y)){const W=await y(v,e),O=c4(W,j);if(O&&(T[x]={...O,...G(yi.validate,O.message)},!s))return N(O.message),T}else if(gr(y)){let W={};for(const O in y){if(!vs(W)&&!s)break;const I=c4(await y[O](v,e),j,O);I&&(W={...I,...G(O,I.message)},N(I.message),s&&(T[x]=W))}if(!vs(W)&&(T[x]={ref:j,...W},!s))return T}}return N(!0),T};const kF={mode:ha.onSubmit,reValidateMode:ha.onChange,shouldFocusError:!0};function EF(t={}){let r={...kF,...t},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:pa(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},l=gr(r.defaultValues)||gr(r.values)?Mr(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:Mr(l),i={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,a=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const h={array:e4(),state:e4()},p=r.criteriaMode===ha.all,y=ae=>le=>{clearTimeout(a),a=setTimeout(ae,le)},x=async ae=>{if(!r.disabled&&(u.isValid||m.isValid||ae)){const le=r.resolver?vs((await V()).errors):await $(s,!0);le!==e.isValid&&h.state.next({isValid:le})}},g=(ae,le)=>{!r.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((ae||Array.from(d.mount)).forEach(fe=>{fe&&(le?Yn(e.validatingFields,fe,le):Sr(e.validatingFields,fe))}),h.state.next({validatingFields:e.validatingFields,isValidating:!vs(e.validatingFields)}))},w=(ae,le=[],fe,xe,je=!0,_e=!0)=>{if(xe&&fe&&!r.disabled){if(i.action=!0,_e&&Array.isArray(ut(s,ae))){const De=fe(ut(s,ae),xe.argA,xe.argB);je&&Yn(s,ae,De)}if(_e&&Array.isArray(ut(e.errors,ae))){const De=fe(ut(e.errors,ae),xe.argA,xe.argB);je&&Yn(e.errors,ae,De),CF(e.errors,ae)}if((u.touchedFields||m.touchedFields)&&_e&&Array.isArray(ut(e.touchedFields,ae))){const De=fe(ut(e.touchedFields,ae),xe.argA,xe.argB);je&&Yn(e.touchedFields,ae,De)}(u.dirtyFields||m.dirtyFields)&&(e.dirtyFields=ku(l,o)),h.state.next({name:ae,isDirty:Y(ae,le),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else Yn(o,ae,le)},v=(ae,le)=>{Yn(e.errors,ae,le),h.state.next({errors:e.errors})},j=ae=>{e.errors=ae,h.state.next({errors:e.errors,isValid:!1})},N=(ae,le,fe,xe)=>{const je=ut(s,ae);if(je){const _e=ut(o,ae,pr(fe)?ut(l,ae):fe);pr(_e)||xe&&xe.defaultChecked||le?Yn(o,ae,le?_e:s4(je._f)):I(ae,_e),i.mount&&x()}},T=(ae,le,fe,xe,je)=>{let _e=!1,De=!1;const Fe={name:ae};if(!r.disabled){if(!fe||xe){(u.isDirty||m.isDirty)&&(De=e.isDirty,e.isDirty=Fe.isDirty=Y(),_e=De!==Fe.isDirty);const Ue=xi(ut(l,ae),le);De=!!ut(e.dirtyFields,ae),Ue?Sr(e.dirtyFields,ae):Yn(e.dirtyFields,ae,!0),Fe.dirtyFields=e.dirtyFields,_e=_e||(u.dirtyFields||m.dirtyFields)&&De!==!Ue}if(fe){const Ue=ut(e.touchedFields,ae);Ue||(Yn(e.touchedFields,ae,fe),Fe.touchedFields=e.touchedFields,_e=_e||(u.touchedFields||m.touchedFields)&&Ue!==fe)}_e&&je&&h.state.next(Fe)}return _e?Fe:{}},D=(ae,le,fe,xe)=>{const je=ut(e.errors,ae),_e=(u.isValid||m.isValid)&&Ds(le)&&e.isValid!==le;if(r.delayError&&fe?(c=y(()=>v(ae,fe)),c(r.delayError)):(clearTimeout(a),c=null,fe?Yn(e.errors,ae,fe):Sr(e.errors,ae)),(fe?!xi(je,fe):je)||!vs(xe)||_e){const De={...xe,..._e&&Ds(le)?{isValid:le}:{},errors:e.errors,name:ae};e={...e,...De},h.state.next(De)}},V=async ae=>{g(ae,!0);const le=await r.resolver(o,r.context,xF(ae||d.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return g(ae),le},P=async ae=>{const{errors:le}=await V(ae);if(ae)for(const fe of ae){const xe=ut(le,fe);xe?Yn(e.errors,fe,xe):Sr(e.errors,fe)}else e.errors=le;return le},$=async(ae,le,fe={valid:!0})=>{for(const xe in ae){const je=ae[xe];if(je){const{_f:_e,...De}=je;if(_e){const Fe=d.array.has(_e.name),Ue=je._f&&vF(je._f);Ue&&u.validatingFields&&g([xe],!0);const Je=await u4(je,d.disabled,o,p,r.shouldUseNativeValidation&&!le,Fe);if(Ue&&u.validatingFields&&g([xe]),Je[_e.name]&&(fe.valid=!1,le))break;!le&&(ut(Je,_e.name)?Fe?NF(e.errors,Je,_e.name):Yn(e.errors,_e.name,Je[_e.name]):Sr(e.errors,_e.name))}!vs(De)&&await $(De,le,fe)}}return fe.valid},G=()=>{for(const ae of d.unMount){const le=ut(s,ae);le&&(le._f.refs?le._f.refs.every(fe=>!R0(fe)):!R0(le._f.ref))&&ee(ae)}d.unMount=new Set},Y=(ae,le)=>!r.disabled&&(ae&&le&&Yn(o,ae,le),!xi(M(),l)),W=(ae,le,fe)=>B6(ae,d,{...i.mount?o:pr(le)?l:Va(ae)?{[ae]:le}:le},fe,le),O=ae=>Ry(ut(i.mount?o:l,ae,r.shouldUnregister?ut(l,ae,[]):[])),I=(ae,le,fe={})=>{const xe=ut(s,ae);let je=le;if(xe){const _e=xe._f;_e&&(!_e.disabled&&Yn(o,ae,q6(le,_e)),je=Bh(_e.ref)&&os(le)?"":le,F6(_e.ref)?[..._e.ref.options].forEach(De=>De.selected=je.includes(De.value)):_e.refs?Td(_e.ref)?_e.refs.forEach(De=>{(!De.defaultChecked||!De.disabled)&&(Array.isArray(je)?De.checked=!!je.find(Fe=>Fe===De.value):De.checked=je===De.value||!!je)}):_e.refs.forEach(De=>De.checked=De.value===je):Oy(_e.ref)?_e.ref.value="":(_e.ref.value=je,_e.ref.type||h.state.next({name:ae,values:Mr(o)})))}(fe.shouldDirty||fe.shouldTouch)&&T(ae,je,fe.shouldTouch,fe.shouldDirty,!0),fe.shouldValidate&&E(ae)},R=(ae,le,fe)=>{for(const xe in le){if(!le.hasOwnProperty(xe))return;const je=le[xe],_e=ae+"."+xe,De=ut(s,_e);(d.array.has(ae)||gr(je)||De&&!De._f)&&!Xo(je)?R(_e,je,fe):I(_e,je,fe)}},S=(ae,le,fe={})=>{const xe=ut(s,ae),je=d.array.has(ae),_e=Mr(le);Yn(o,ae,_e),je?(h.array.next({name:ae,values:Mr(o)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&fe.shouldDirty&&h.state.next({name:ae,dirtyFields:ku(l,o),isDirty:Y(ae,_e)})):xe&&!xe._f&&!os(_e)?R(ae,_e,fe):I(ae,_e,fe),o4(ae,d)&&h.state.next({...e,name:ae}),h.state.next({name:i.mount?ae:void 0,values:Mr(o)})},C=async ae=>{i.mount=!0;const le=ae.target;let fe=le.name,xe=!0;const je=ut(s,fe),_e=Ue=>{xe=Number.isNaN(Ue)||Xo(Ue)&&isNaN(Ue.getTime())||xi(Ue,ut(o,fe,Ue))},De=a4(r.mode),Fe=a4(r.reValidateMode);if(je){let Ue,Je;const dt=le.type?s4(je._f):D6(ae),ft=ae.type===Lh.BLUR||ae.type===Lh.FOCUS_OUT,yt=!wF(je._f)&&!r.resolver&&!ut(e.errors,fe)&&!je._f.deps||_F(ft,ut(e.touchedFields,fe),e.isSubmitted,Fe,De),et=o4(fe,d,ft);Yn(o,fe,dt),ft?(!le||!le.readOnly)&&(je._f.onBlur&&je._f.onBlur(ae),c&&c(0)):je._f.onChange&&je._f.onChange(ae);const Ke=T(fe,dt,ft),rt=!vs(Ke)||et;if(!ft&&h.state.next({name:fe,type:ae.type,values:Mr(o)}),yt)return(u.isValid||m.isValid)&&(r.mode==="onBlur"?ft&&x():ft||x()),rt&&h.state.next({name:fe,...et?{}:Ke});if(!ft&&et&&h.state.next({...e}),r.resolver){const{errors:pt}=await V([fe]);if(_e(dt),xe){const it=l4(e.errors,s,fe),Kt=l4(pt,s,it.name||fe);Ue=Kt.error,fe=Kt.name,Je=vs(pt)}}else g([fe],!0),Ue=(await u4(je,d.disabled,o,p,r.shouldUseNativeValidation))[fe],g([fe]),_e(dt),xe&&(Ue?Je=!1:(u.isValid||m.isValid)&&(Je=await $(s,!0)));xe&&(je._f.deps&&E(je._f.deps),D(fe,Je,Ue,Ke))}},k=(ae,le)=>{if(ut(e.errors,le)&&ae.focus)return ae.focus(),1},E=async(ae,le={})=>{let fe,xe;const je=Lu(ae);if(r.resolver){const _e=await P(pr(ae)?ae:je);fe=vs(_e),xe=ae?!je.some(De=>ut(_e,De)):fe}else ae?(xe=(await Promise.all(je.map(async _e=>{const De=ut(s,_e);return await $(De&&De._f?{[_e]:De}:De)}))).every(Boolean),!(!xe&&!e.isValid)&&x()):xe=fe=await $(s);return h.state.next({...!Va(ae)||(u.isValid||m.isValid)&&fe!==e.isValid?{}:{name:ae},...r.resolver||!ae?{isValid:fe}:{},errors:e.errors}),le.shouldFocus&&!xe&&Bu(s,k,ae?je:d.mount),xe},M=ae=>{const le={...i.mount?o:l};return pr(ae)?le:Va(ae)?ut(le,ae):ae.map(fe=>ut(le,fe))},L=(ae,le)=>({invalid:!!ut((le||e).errors,ae),isDirty:!!ut((le||e).dirtyFields,ae),error:ut((le||e).errors,ae),isValidating:!!ut(e.validatingFields,ae),isTouched:!!ut((le||e).touchedFields,ae)}),z=ae=>{ae&&Lu(ae).forEach(le=>Sr(e.errors,le)),h.state.next({errors:ae?e.errors:{}})},K=(ae,le,fe)=>{const xe=(ut(s,ae,{_f:{}})._f||{}).ref,je=ut(e.errors,ae)||{},{ref:_e,message:De,type:Fe,...Ue}=je;Yn(e.errors,ae,{...Ue,...le,ref:xe}),h.state.next({name:ae,errors:e.errors,isValid:!1}),fe&&fe.shouldFocus&&xe&&xe.focus&&xe.focus()},Z=(ae,le)=>pa(ae)?h.state.subscribe({next:fe=>"values"in fe&&ae(W(void 0,le),fe)}):W(ae,le,!0),te=ae=>h.state.subscribe({next:le=>{SF(ae.name,le.name,ae.exact)&&jF(le,ae.formState||u,ie,ae.reRenderRoot)&&ae.callback({values:{...o},...e,...le,defaultValues:l})}}).unsubscribe,H=ae=>(i.mount=!0,m={...m,...ae.formState},te({...ae,formState:m})),ee=(ae,le={})=>{for(const fe of ae?Lu(ae):d.mount)d.mount.delete(fe),d.array.delete(fe),le.keepValue||(Sr(s,fe),Sr(o,fe)),!le.keepError&&Sr(e.errors,fe),!le.keepDirty&&Sr(e.dirtyFields,fe),!le.keepTouched&&Sr(e.touchedFields,fe),!le.keepIsValidating&&Sr(e.validatingFields,fe),!r.shouldUnregister&&!le.keepDefaultValue&&Sr(l,fe);h.state.next({values:Mr(o)}),h.state.next({...e,...le.keepDirty?{isDirty:Y()}:{}}),!le.keepIsValid&&x()},U=({disabled:ae,name:le})=>{(Ds(ae)&&i.mount||ae||d.disabled.has(le))&&(ae?d.disabled.add(le):d.disabled.delete(le))},F=(ae,le={})=>{let fe=ut(s,ae);const xe=Ds(le.disabled)||Ds(r.disabled);return Yn(s,ae,{...fe||{},_f:{...fe&&fe._f?fe._f:{ref:{name:ae}},name:ae,mount:!0,...le}}),d.mount.add(ae),fe?U({disabled:Ds(le.disabled)?le.disabled:r.disabled,name:ae}):N(ae,!0,le.value),{...xe?{disabled:le.disabled||r.disabled}:{},...r.progressive?{required:!!le.required,min:Eu(le.min),max:Eu(le.max),minLength:Eu(le.minLength),maxLength:Eu(le.maxLength),pattern:Eu(le.pattern)}:{},name:ae,onChange:C,onBlur:C,ref:je=>{if(je){F(ae,le),fe=ut(s,ae);const _e=pr(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,De=gF(_e),Fe=fe._f.refs||[];if(De?Fe.find(Ue=>Ue===_e):_e===fe._f.ref)return;Yn(s,ae,{_f:{...fe._f,...De?{refs:[...Fe.filter(R0),_e,...Array.isArray(ut(l,ae))?[{}]:[]],ref:{type:_e.type,name:ae}}:{ref:_e}}}),N(ae,!1,void 0,_e)}else fe=ut(s,ae,{}),fe._f&&(fe._f.mount=!1),(r.shouldUnregister||le.shouldUnregister)&&!(I6(d.array,ae)&&i.action)&&d.unMount.add(ae)}}},J=()=>r.shouldFocusError&&Bu(s,k,d.mount),re=ae=>{Ds(ae)&&(h.state.next({disabled:ae}),Bu(s,(le,fe)=>{const xe=ut(s,fe);xe&&(le.disabled=xe._f.disabled||ae,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(je=>{je.disabled=xe._f.disabled||ae}))},0,!1))},ce=(ae,le)=>async fe=>{let xe;fe&&(fe.preventDefault&&fe.preventDefault(),fe.persist&&fe.persist());let je=Mr(o);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:_e,values:De}=await V();e.errors=_e,je=Mr(De)}else await $(s);if(d.disabled.size)for(const _e of d.disabled)Sr(je,_e);if(Sr(e.errors,"root"),vs(e.errors)){h.state.next({errors:{}});try{await ae(je,fe)}catch(_e){xe=_e}}else le&&await le({...e.errors},fe),J(),setTimeout(J);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vs(e.errors)&&!xe,submitCount:e.submitCount+1,errors:e.errors}),xe)throw xe},se=(ae,le={})=>{ut(s,ae)&&(pr(le.defaultValue)?S(ae,Mr(ut(l,ae))):(S(ae,le.defaultValue),Yn(l,ae,Mr(le.defaultValue))),le.keepTouched||Sr(e.touchedFields,ae),le.keepDirty||(Sr(e.dirtyFields,ae),e.isDirty=le.defaultValue?Y(ae,Mr(ut(l,ae))):Y()),le.keepError||(Sr(e.errors,ae),u.isValid&&x()),h.state.next({...e}))},de=(ae,le={})=>{const fe=ae?Mr(ae):l,xe=Mr(fe),je=vs(ae),_e=je?l:xe;if(le.keepDefaultValues||(l=fe),!le.keepValues){if(le.keepDirtyValues){const De=new Set([...d.mount,...Object.keys(ku(l,o))]);for(const Fe of Array.from(De))ut(e.dirtyFields,Fe)?Yn(_e,Fe,ut(o,Fe)):S(Fe,ut(_e,Fe))}else{if(Ey&&pr(ae))for(const De of d.mount){const Fe=ut(s,De);if(Fe&&Fe._f){const Ue=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Bh(Ue)){const Je=Ue.closest("form");if(Je){Je.reset();break}}}}if(le.keepFieldsRef)for(const De of d.mount)S(De,ut(_e,De));else s={}}o=r.shouldUnregister?le.keepDefaultValues?Mr(l):{}:Mr(_e),h.array.next({values:{..._e}}),h.state.next({values:{..._e}})}d={mount:le.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!le.keepIsValid||!!le.keepDirtyValues,i.watch=!!r.shouldUnregister,h.state.next({submitCount:le.keepSubmitCount?e.submitCount:0,isDirty:je?!1:le.keepDirty?e.isDirty:!!(le.keepDefaultValues&&!xi(ae,l)),isSubmitted:le.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:je?{}:le.keepDirtyValues?le.keepDefaultValues&&o?ku(l,o):e.dirtyFields:le.keepDefaultValues&&ae?ku(l,ae):le.keepDirty?e.dirtyFields:{},touchedFields:le.keepTouched?e.touchedFields:{},errors:le.keepErrors?e.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},we=(ae,le)=>de(pa(ae)?ae(o):ae,le),ve=(ae,le={})=>{const fe=ut(s,ae),xe=fe&&fe._f;if(xe){const je=xe.refs?xe.refs[0]:xe.ref;je.focus&&(je.focus(),le.shouldSelect&&pa(je.select)&&je.select())}},ie=ae=>{e={...e,...ae}},me={control:{register:F,unregister:ee,getFieldState:L,handleSubmit:ce,setError:K,_subscribe:te,_runSchema:V,_focusError:J,_getWatch:W,_getDirty:Y,_setValid:x,_setFieldArray:w,_setDisabledField:U,_setErrors:j,_getFieldArray:O,_reset:de,_resetDefaultValues:()=>pa(r.defaultValues)&&r.defaultValues().then(ae=>{we(ae,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:re,_subjects:h,_proxyFormState:u,get _fields(){return s},get _formValues(){return o},get _state(){return i},set _state(ae){i=ae},get _defaultValues(){return l},get _names(){return d},set _names(ae){d=ae},get _formState(){return e},get _options(){return r},set _options(ae){r={...r,...ae}}},subscribe:H,trigger:E,register:F,handleSubmit:ce,watch:Z,setValue:S,getValues:M,reset:we,resetField:se,clearErrors:z,unregister:ee,setError:K,setFocus:ve,getFieldState:L};return{...me,formControl:me}}function dl(t={}){const r=Te.useRef(void 0),e=Te.useRef(void 0),[s,l]=Te.useState({isDirty:!1,isValidating:!1,isLoading:pa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:pa(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:s},t.defaultValues&&!pa(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:i,...d}=EF(t);r.current={...d,formState:s}}const o=r.current.control;return o._options=t,My(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>l({...o._formState}),reRenderRoot:!0});return l(d=>({...d,isReady:!0})),o._formState.isReady=!0,i},[o]),Te.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Te.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),Te.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),Te.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Te.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==s.isDirty&&o._subjects.state.next({isDirty:i})}},[o,s.isDirty]),Te.useEffect(()=>{t.values&&!xi(t.values,e.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),e.current=t.values,l(i=>({...i}))):o._resetDefaultValues()},[o,t.values]),Te.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=P6(s,o),r.current}const fl=dF,H6=B.createContext({}),Dr=({...t})=>n.jsx(H6,{value:{name:t.name},children:n.jsx(pF,{...t})}),Iy=()=>{const t=B.useContext(H6),r=B.useContext(W6),{getFieldState:e}=qp(),s=L6({name:t.name}),l=e(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...l}},W6=B.createContext({});function Ir({className:t,...r}){const e=B.useId();return n.jsx(W6,{value:{id:e},children:n.jsx("div",{"data-slot":"form-item",className:Ze("grid gap-2",t),...r})})}function Pr({className:t,...r}){const{error:e,formItemId:s}=Iy();return n.jsx(cn,{"data-slot":"form-label","data-error":!!e,className:Ze("data-[error=true]:text-destructive",t),htmlFor:s,...r})}function qr({...t}){const{error:r,formItemId:e,formDescriptionId:s,formMessageId:l}=Iy();return n.jsx(cp,{"data-slot":"form-control",id:e,"aria-describedby":r?`${s} ${l}`:`${s}`,"aria-invalid":!!r,...t})}function Bs({className:t,...r}){const{error:e,formMessageId:s}=Iy(),l=e?String(e?.message??""):r.children;return l?n.jsx("p",{"data-slot":"form-message",id:s,className:Ze("text-destructive text-sm",t),...r,children:l}):null}const RF=({type:t})=>{switch(t){case"info":return n.jsx(c3,{className:"h-6 w-6 text-blue-500"});case"warning":return n.jsx(go,{className:"h-6 w-6 text-yellow-500"});case"success":return n.jsx(Br,{className:"h-6 w-6 text-green-500"});case"error":return n.jsx(ba,{className:"h-6 w-6 text-red-500"});case"confirm":return n.jsx(M9,{className:"h-6 w-6 text-gray-500"});case"alert":return n.jsx(RT,{className:"h-6 w-6 text-orange-500"});default:return null}},Vp=B.forwardRef(({trigger:t,open:r,onOpenChange:e,type:s="info",title:l,description:o,confirmText:i="OK",cancelText:d="Cancel",onConfirm:c,onCancel:a,hideCancel:u=!1,confirmButtonVariant:m="default",customActions:h},p)=>{const y=()=>{c&&c()},x=()=>{a&&a()},g=n.jsxs(Ci,{ref:p,children:[n.jsx(Ni,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(RF,{type:s}),n.jsx(ki,{children:l})]})}),n.jsx(jo,{children:o}),n.jsx(wo,{children:h||n.jsxs(n.Fragment,{children:[!u&&n.jsx(wd,{onClick:x,asChild:!0,children:n.jsx(Ie,{variant:"outline",children:d})}),n.jsx(vd,{onClick:y,asChild:!0,children:n.jsx(Ie,{variant:m,children:i})})]})})]});return t?n.jsxs(Qa,{open:r,onOpenChange:e,children:[n.jsx(ZI,{asChild:!0,children:t}),g]}):n.jsx(Qa,{open:r,onOpenChange:e,children:r&&g})});Vp.displayName="MessageBox";var Py="Progress",Ly=100,[TF,ihe]=Qr(Py),[AF,MF]=TF(Py),G6=B.forwardRef((t,r)=>{const{__scopeProgress:e,value:s=null,max:l,getValueLabel:o=OF,...i}=t;(l||l===0)&&!d4(l)&&console.error(DF(`${l}`,"Progress"));const d=d4(l)?l:Ly;s!==null&&!f4(s,d)&&console.error(IF(`${s}`,"Progress"));const c=f4(s,d)?s:null,a=$h(c)?o(c,d):void 0;return n.jsx(AF,{scope:e,value:c,max:d,children:n.jsx(kt.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":$h(c)?c:void 0,"aria-valuetext":a,role:"progressbar","data-state":K6(c,d),"data-value":c??void 0,"data-max":d,...i,ref:r})})});G6.displayName=Py;var Y6="ProgressIndicator",X6=B.forwardRef((t,r)=>{const{__scopeProgress:e,...s}=t,l=MF(Y6,e);return n.jsx(kt.div,{"data-state":K6(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...s,ref:r})});X6.displayName=Y6;function OF(t,r){return`${Math.round(t/r*100)}%`}function K6(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function $h(t){return typeof t=="number"}function d4(t){return $h(t)&&!isNaN(t)&&t>0}function f4(t,r){return $h(t)&&!isNaN(t)&&t<=r&&t>=0}function DF(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ly}\`.`}function IF(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ly} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PF=G6,LF=X6;function zs({className:t,value:r,...e}){return n.jsx(PF,{"data-slot":"progress",className:Ze("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...e,children:n.jsx(LF,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}function BF(t,r){return B.useReducer((e,s)=>r[e][s]??e,t)}var By="ScrollArea",[Q6,ohe]=Qr(By),[FF,sa]=Q6(By),Z6=B.forwardRef((t,r)=>{const{__scopeScrollArea:e,type:s="hover",dir:l,scrollHideDelay:o=600,...i}=t,[d,c]=B.useState(null),[a,u]=B.useState(null),[m,h]=B.useState(null),[p,y]=B.useState(null),[x,g]=B.useState(null),[w,v]=B.useState(0),[j,N]=B.useState(0),[T,D]=B.useState(!1),[V,P]=B.useState(!1),$=tn(r,Y=>c(Y)),G=xc(l);return n.jsx(FF,{scope:e,type:s,dir:G,scrollHideDelay:o,scrollArea:d,viewport:a,onViewportChange:u,content:m,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:T,onScrollbarXEnabledChange:D,scrollbarY:x,onScrollbarYChange:g,scrollbarYEnabled:V,onScrollbarYEnabledChange:P,onCornerWidthChange:v,onCornerHeightChange:N,children:n.jsx(kt.div,{dir:G,...i,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});Z6.displayName=By;var J6="ScrollAreaViewport",e5=B.forwardRef((t,r)=>{const{__scopeScrollArea:e,children:s,nonce:l,...o}=t,i=sa(J6,e),d=B.useRef(null),c=tn(r,d,i.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),n.jsx(kt.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:n.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});e5.displayName=J6;var ti="ScrollAreaScrollbar",t5=B.forwardRef((t,r)=>{const{forceMount:e,...s}=t,l=sa(ti,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=l,d=t.orientation==="horizontal";return B.useEffect(()=>(d?o(!0):i(!0),()=>{d?o(!1):i(!1)}),[d,o,i]),l.type==="hover"?n.jsx(UF,{...s,ref:r,forceMount:e}):l.type==="scroll"?n.jsx($F,{...s,ref:r,forceMount:e}):l.type==="auto"?n.jsx(n5,{...s,ref:r,forceMount:e}):l.type==="always"?n.jsx(Fy,{...s,ref:r}):null});t5.displayName=ti;var UF=B.forwardRef((t,r)=>{const{forceMount:e,...s}=t,l=sa(ti,t.__scopeScrollArea),[o,i]=B.useState(!1);return B.useEffect(()=>{const d=l.scrollArea;let c=0;if(d){const a=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),l.scrollHideDelay)};return d.addEventListener("pointerenter",a),d.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),d.removeEventListener("pointerenter",a),d.removeEventListener("pointerleave",u)}}},[l.scrollArea,l.scrollHideDelay]),n.jsx(Fr,{present:e||o,children:n.jsx(n5,{"data-state":o?"visible":"hidden",...s,ref:r})})}),$F=B.forwardRef((t,r)=>{const{forceMount:e,...s}=t,l=sa(ti,t.__scopeScrollArea),o=t.orientation==="horizontal",i=Wp(()=>c("SCROLL_END"),100),[d,c]=BF("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return B.useEffect(()=>{if(d==="idle"){const a=window.setTimeout(()=>c("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(a)}},[d,l.scrollHideDelay,c]),B.useEffect(()=>{const a=l.viewport,u=o?"scrollLeft":"scrollTop";if(a){let m=a[u];const h=()=>{const p=a[u];m!==p&&(c("SCROLL"),i()),m=p};return a.addEventListener("scroll",h),()=>a.removeEventListener("scroll",h)}},[l.viewport,o,c,i]),n.jsx(Fr,{present:e||d!=="hidden",children:n.jsx(Fy,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:r,onPointerEnter:at(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:at(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),n5=B.forwardRef((t,r)=>{const e=sa(ti,t.__scopeScrollArea),{forceMount:s,...l}=t,[o,i]=B.useState(!1),d=t.orientation==="horizontal",c=Wp(()=>{if(e.viewport){const a=e.viewport.offsetWidth<e.viewport.scrollWidth,u=e.viewport.offsetHeight<e.viewport.scrollHeight;i(d?a:u)}},10);return ic(e.viewport,c),ic(e.content,c),n.jsx(Fr,{present:s||o,children:n.jsx(Fy,{"data-state":o?"visible":"hidden",...l,ref:r})})}),Fy=B.forwardRef((t,r)=>{const{orientation:e="vertical",...s}=t,l=sa(ti,t.__scopeScrollArea),o=B.useRef(null),i=B.useRef(0),[d,c]=B.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),a=o5(d.viewport,d.content),u={...s,sizes:d,onSizesChange:c,hasThumb:a>0&&a<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function m(h,p){return GF(h,i.current,d,p)}return e==="horizontal"?n.jsx(zF,{...u,ref:r,onThumbPositionChange:()=>{if(l.viewport&&o.current){const h=l.viewport.scrollLeft,p=h4(h,d,l.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{l.viewport&&(l.viewport.scrollLeft=h)},onDragScroll:h=>{l.viewport&&(l.viewport.scrollLeft=m(h,l.dir))}}):e==="vertical"?n.jsx(qF,{...u,ref:r,onThumbPositionChange:()=>{if(l.viewport&&o.current){const h=l.viewport.scrollTop,p=h4(h,d);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{l.viewport&&(l.viewport.scrollTop=h)},onDragScroll:h=>{l.viewport&&(l.viewport.scrollTop=m(h))}}):null}),zF=B.forwardRef((t,r)=>{const{sizes:e,onSizesChange:s,...l}=t,o=sa(ti,t.__scopeScrollArea),[i,d]=B.useState(),c=B.useRef(null),a=tn(r,c,o.onScrollbarXChange);return B.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),n.jsx(s5,{"data-orientation":"horizontal",...l,ref:a,sizes:e,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hp(e)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),c5(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:qh(i.paddingLeft),paddingEnd:qh(i.paddingRight)}})}})}),qF=B.forwardRef((t,r)=>{const{sizes:e,onSizesChange:s,...l}=t,o=sa(ti,t.__scopeScrollArea),[i,d]=B.useState(),c=B.useRef(null),a=tn(r,c,o.onScrollbarYChange);return B.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),n.jsx(s5,{"data-orientation":"vertical",...l,ref:a,sizes:e,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hp(e)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),c5(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:qh(i.paddingTop),paddingEnd:qh(i.paddingBottom)}})}})}),[VF,r5]=Q6(ti),s5=B.forwardRef((t,r)=>{const{__scopeScrollArea:e,sizes:s,hasThumb:l,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:a,onWheelScroll:u,onResize:m,...h}=t,p=sa(ti,e),[y,x]=B.useState(null),g=tn(r,$=>x($)),w=B.useRef(null),v=B.useRef(""),j=p.viewport,N=s.content-s.viewport,T=Xr(u),D=Xr(c),V=Wp(m,10);function P($){if(w.current){const G=$.clientX-w.current.left,Y=$.clientY-w.current.top;a({x:G,y:Y})}}return B.useEffect(()=>{const $=G=>{const Y=G.target;y?.contains(Y)&&T(G,N)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[j,y,N,T]),B.useEffect(D,[s,D]),ic(y,V),ic(p.content,V),n.jsx(VF,{scope:e,scrollbar:y,hasThumb:l,onThumbChange:Xr(o),onThumbPointerUp:Xr(i),onThumbPositionChange:D,onThumbPointerDown:Xr(d),children:n.jsx(kt.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:at(t.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),w.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P($))}),onPointerMove:at(t.onPointerMove,P),onPointerUp:at(t.onPointerUp,$=>{const G=$.target;G.hasPointerCapture($.pointerId)&&G.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),zh="ScrollAreaThumb",a5=B.forwardRef((t,r)=>{const{forceMount:e,...s}=t,l=r5(zh,t.__scopeScrollArea);return n.jsx(Fr,{present:e||l.hasThumb,children:n.jsx(HF,{ref:r,...s})})}),HF=B.forwardRef((t,r)=>{const{__scopeScrollArea:e,style:s,...l}=t,o=sa(zh,e),i=r5(zh,e),{onThumbPositionChange:d}=i,c=tn(r,m=>i.onThumbChange(m)),a=B.useRef(void 0),u=Wp(()=>{a.current&&(a.current(),a.current=void 0)},100);return B.useEffect(()=>{const m=o.viewport;if(m){const h=()=>{if(u(),!a.current){const p=YF(m,d);a.current=p,d()}};return d(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[o.viewport,u,d]),n.jsx(kt.div,{"data-state":i.hasThumb?"visible":"hidden",...l,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:at(t.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),y=m.clientX-p.left,x=m.clientY-p.top;i.onThumbPointerDown({x:y,y:x})}),onPointerUp:at(t.onPointerUp,i.onThumbPointerUp)})});a5.displayName=zh;var Uy="ScrollAreaCorner",i5=B.forwardRef((t,r)=>{const e=sa(Uy,t.__scopeScrollArea),s=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&s?n.jsx(WF,{...t,ref:r}):null});i5.displayName=Uy;var WF=B.forwardRef((t,r)=>{const{__scopeScrollArea:e,...s}=t,l=sa(Uy,e),[o,i]=B.useState(0),[d,c]=B.useState(0),a=!!(o&&d);return ic(l.scrollbarX,()=>{const u=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(u),c(u)}),ic(l.scrollbarY,()=>{const u=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(u),i(u)}),a?n.jsx(kt.div,{...s,ref:r,style:{width:o,height:d,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function qh(t){return t?parseInt(t,10):0}function o5(t,r){const e=t/r;return isNaN(e)?0:e}function Hp(t){const r=o5(t.viewport,t.content),e=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-e)*r;return Math.max(s,18)}function GF(t,r,e,s="ltr"){const l=Hp(e),o=l/2,i=r||o,d=l-i,c=e.scrollbar.paddingStart+i,a=e.scrollbar.size-e.scrollbar.paddingEnd-d,u=e.content-e.viewport,m=s==="ltr"?[0,u]:[u*-1,0];return l5([c,a],m)(t)}function h4(t,r,e="ltr"){const s=Hp(r),l=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,o=r.scrollbar.size-l,i=r.content-r.viewport,d=o-s,c=e==="ltr"?[0,i]:[i*-1,0],a=ib(t,c);return l5([0,i],[0,d])(a)}function l5(t,r){return e=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(t[1]-t[0]);return r[0]+s*(e-t[0])}}function c5(t,r){return t>0&&t<r}var YF=(t,r=()=>{})=>{let e={left:t.scrollLeft,top:t.scrollTop},s=0;return(function l(){const o={left:t.scrollLeft,top:t.scrollTop},i=e.left!==o.left,d=e.top!==o.top;(i||d)&&r(),e=o,s=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(s)};function Wp(t,r){const e=Xr(t),s=B.useRef(0);return B.useEffect(()=>()=>window.clearTimeout(s.current),[]),B.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(e,r)},[e,r])}function ic(t,r){const e=Xr(r);Vr(()=>{let s=0;if(t){const l=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(e)});return l.observe(t),()=>{window.cancelAnimationFrame(s),l.unobserve(t)}}},[t,e])}var XF=Z6,KF=e5,QF=i5;function hl({className:t,children:r,...e}){return n.jsxs(XF,{"data-slot":"scroll-area",className:Ze("relative",t),...e,children:[n.jsx(KF,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),n.jsx(ZF,{}),n.jsx(QF,{})]})}function ZF({className:t,orientation:r="vertical",...e}){return n.jsx(t5,{"data-slot":"scroll-area-scrollbar",orientation:r,className:Ze("flex touch-none p-px transition-colors select-none",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...e,children:n.jsx(a5,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var JF="Separator",p4="horizontal",eU=["horizontal","vertical"],u5=B.forwardRef((t,r)=>{const{decorative:e,orientation:s=p4,...l}=t,o=tU(s)?s:p4,d=e?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return n.jsx(kt.div,{"data-orientation":o,...d,...l,ref:r})});u5.displayName=JF;function tU(t){return eU.includes(t)}var nU=u5;function Gp({className:t,orientation:r="horizontal",decorative:e=!0,...s}){return n.jsx(nU,{"data-slot":"separator-root",decorative:e,orientation:r,className:Ze("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}var Yp="Switch",[rU,lhe]=Qr(Yp),[sU,aU]=rU(Yp),d5=B.forwardRef((t,r)=>{const{__scopeSwitch:e,name:s,checked:l,defaultChecked:o,required:i,disabled:d,value:c="on",onCheckedChange:a,form:u,...m}=t,[h,p]=B.useState(null),y=tn(r,j=>p(j)),x=B.useRef(!1),g=h?u||!!h.closest("form"):!0,[w,v]=$s({prop:l,defaultProp:o??!1,onChange:a,caller:Yp});return n.jsxs(sU,{scope:e,checked:w,disabled:d,children:[n.jsx(kt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":m5(w),"data-disabled":d?"":void 0,disabled:d,value:c,...m,ref:y,onClick:at(t.onClick,j=>{v(N=>!N),g&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),g&&n.jsx(p5,{control:h,bubbles:!x.current,name:s,value:c,checked:w,required:i,disabled:d,form:u,style:{transform:"translateX(-100%)"}})]})});d5.displayName=Yp;var f5="SwitchThumb",h5=B.forwardRef((t,r)=>{const{__scopeSwitch:e,...s}=t,l=aU(f5,e);return n.jsx(kt.span,{"data-state":m5(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:r})});h5.displayName=f5;var iU="SwitchBubbleInput",p5=B.forwardRef(({__scopeSwitch:t,control:r,checked:e,bubbles:s=!0,...l},o)=>{const i=B.useRef(null),d=tn(i,o),c=Wb(e),a=Gb(r);return B.useEffect(()=>{const u=i.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==e&&p){const y=new Event("click",{bubbles:s});p.call(u,e),u.dispatchEvent(y)}},[c,e,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...l,tabIndex:-1,ref:d,style:{...l.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});p5.displayName=iU;function m5(t){return t?"checked":"unchecked"}var g5=d5,oU=h5;const Sb=B.forwardRef(({className:t,...r},e)=>n.jsx(g5,{className:Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:e,children:n.jsx(oU,{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Sb.displayName=g5.displayName;function Zt({className:t,...r}){return n.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:n.jsx("table",{"data-slot":"table",className:Ze("w-full caption-bottom text-sm",t),...r})})}function Jt({className:t,...r}){return n.jsx("thead",{"data-slot":"table-header",className:Ze("[&_tr]:border-b",t),...r})}function en({className:t,...r}){return n.jsx("tbody",{"data-slot":"table-body",className:Ze("[&_tr:last-child]:border-0",t),...r})}function lU({className:t,...r}){return n.jsx("tfoot",{"data-slot":"table-footer",className:Ze("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",t),...r})}function We({className:t,...r}){return n.jsx("tr",{"data-slot":"table-row",className:Ze("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function he({className:t,...r}){return n.jsx("th",{"data-slot":"table-head",className:Ze("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function ue({className:t,...r}){return n.jsx("td",{"data-slot":"table-cell",className:Ze("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}var Xp="Tabs",[cU,che]=Qr(Xp,[Bp]),b5=Bp(),[uU,$y]=cU(Xp),y5=B.forwardRef((t,r)=>{const{__scopeTabs:e,value:s,onValueChange:l,defaultValue:o,orientation:i="horizontal",dir:d,activationMode:c="automatic",...a}=t,u=xc(d),[m,h]=$s({prop:s,onChange:l,defaultProp:o??"",caller:Xp});return n.jsx(uU,{scope:e,baseId:Cs(),value:m,onValueChange:h,orientation:i,dir:u,activationMode:c,children:n.jsx(kt.div,{dir:u,"data-orientation":i,...a,ref:r})})});y5.displayName=Xp;var x5="TabsList",v5=B.forwardRef((t,r)=>{const{__scopeTabs:e,loop:s=!0,...l}=t,o=$y(x5,e),i=b5(e);return n.jsx(Q_,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:s,children:n.jsx(kt.div,{role:"tablist","aria-orientation":o.orientation,...l,ref:r})})});v5.displayName=x5;var w5="TabsTrigger",j5=B.forwardRef((t,r)=>{const{__scopeTabs:e,value:s,disabled:l=!1,...o}=t,i=$y(w5,e),d=b5(e),c=C5(i.baseId,s),a=N5(i.baseId,s),u=s===i.value;return n.jsx(Z_,{asChild:!0,...d,focusable:!l,active:u,children:n.jsx(kt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":a,"data-state":u?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:c,...o,ref:r,onMouseDown:at(t.onMouseDown,m=>{!l&&m.button===0&&m.ctrlKey===!1?i.onValueChange(s):m.preventDefault()}),onKeyDown:at(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(s)}),onFocus:at(t.onFocus,()=>{const m=i.activationMode!=="manual";!u&&!l&&m&&i.onValueChange(s)})})})});j5.displayName=w5;var S5="TabsContent",_5=B.forwardRef((t,r)=>{const{__scopeTabs:e,value:s,forceMount:l,children:o,...i}=t,d=$y(S5,e),c=C5(d.baseId,s),a=N5(d.baseId,s),u=s===d.value,m=B.useRef(u);return B.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(Fr,{present:l||u,children:({present:h})=>n.jsx(kt.div,{"data-state":u?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:a,tabIndex:0,...i,ref:r,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&o})})});_5.displayName=S5;function C5(t,r){return`${t}-trigger-${r}`}function N5(t,r){return`${t}-content-${r}`}var dU=y5,fU=v5,hU=j5,pU=_5;function Ad({className:t,...r}){return n.jsx(dU,{className:Ze("flex flex-col",t),...r})}function Md({className:t,...r}){return n.jsx(fU,{className:Ze("flex border border-border bg-background rounded-t-lg",t),...r})}function ya({className:t,...r}){return n.jsx(hU,{className:Ze("px-4 py-2 text-sm font-medium text-muted-foreground","border-r border-border last:border-r-0","first:rounded-tl-lg last:rounded-tr-lg","hover:bg-muted/30 transition-colors","data-[state=inactive]:bg-muted","data-[state=inactive]:text-foreground","data-[state=inactive]:border-b-transparent",t),...r})}function xa({className:t,...r}){return n.jsx(pU,{className:Ze("border border-border border-t-0 rounded-b-lg bg-background p-2",t,"!-mt-px"),...r})}function pl({className:t,...r}){return n.jsx("textarea",{"data-slot":"textarea",className:Ze("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}B.forwardRef((t,r)=>{const{t:e}=Be(),[s,l]=Te.useState(!1);let o=0;return t.items?.forEach(i=>{let d=i.boxNumber??0;d>o&&(o=d)}),B.useImperativeHandle(r,()=>({show(i){l(i)}})),n.jsx(lr,{open:s,onOpenChange:l,children:n.jsxs(cr,{className:"sm:max-w-[425px] p-0",children:[n.jsxs(ur,{className:"p-4 border-b",children:[n.jsxs(dr,{className:"text-lg font-bold",children:[e("item"),": ",t.itemCode]}),n.jsx("p",{className:"text-sm text-gray-500",children:e("selectBox")})]}),n.jsx("div",{className:"p-4",children:n.jsx(hl,{className:"h-48 w-full rounded-md border",children:n.jsx("div",{className:"p-4",children:t.items&&t.items.map((i,d)=>n.jsxs(Te.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-between py-2 cursor-pointer hover:bg-gray-100 rounded-md px-2",onClick:()=>{t.onSelected(i.code),l(!1)},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(d9,{className:"h-4 w-4 mr-3 text-blue-500"}),n.jsx("span",{className:"font-medium",children:`${i.boxNumber} ${e("of")} ${o}`})]})}),t.items&&d<t.items.length-1&&n.jsx(Gp,{className:"my-2"})]},d))})})}),n.jsx(ra,{className:"p-4 border-t flex justify-end",children:n.jsxs(Ie,{onClick:()=>l(!1),variant:"secondary",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),e("close")]})})]})})});const T0=768;function k5(){const[t,r]=B.useState(void 0);return B.useEffect(()=>{const e=window.matchMedia(`(max-width: ${T0-1}px)`),s=()=>{r(window.innerWidth<T0)};return e.addEventListener("change",s),r(window.innerWidth<T0),()=>e.removeEventListener("change",s)},[]),!!t}function mU({...t}){return n.jsx(ly,{"data-slot":"sheet",...t})}function gU({...t}){return n.jsx(cy,{"data-slot":"sheet-portal",...t})}function bU({className:t,...r}){return n.jsx(uy,{"data-slot":"sheet-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function yU({className:t,children:r,side:e="right",...s}){return n.jsxs(gU,{children:[n.jsx(bU,{}),n.jsxs(dy,{"data-slot":"sheet-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",e==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",e==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",e==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",e==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[r,n.jsxs(xd,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[n.jsx(br,{className:"size-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function xU({className:t,...r}){return n.jsx("div",{"data-slot":"sheet-header",className:Ze("flex flex-col gap-1.5 p-4",t),...r})}function vU({className:t,...r}){return n.jsx(fy,{"data-slot":"sheet-title",className:Ze("text-foreground font-semibold",t),...r})}function wU({className:t,...r}){return n.jsx(hy,{"data-slot":"sheet-description",className:Ze("text-muted-foreground text-sm",t),...r})}function Q({className:t,...r}){return n.jsx("div",{"data-slot":"skeleton",className:Ze("bg-accent animate-pulse rounded-md",t),...r})}var[Kp,uhe]=Qr("Tooltip",[bo]),Qp=bo(),E5="TooltipProvider",jU=700,_b="tooltip.open",[SU,zy]=Kp(E5),R5=t=>{const{__scopeTooltip:r,delayDuration:e=jU,skipDelayDuration:s=300,disableHoverableContent:l=!1,children:o}=t,i=B.useRef(!0),d=B.useRef(!1),c=B.useRef(0);return B.useEffect(()=>{const a=c.current;return()=>window.clearTimeout(a)},[]),n.jsx(SU,{scope:r,isOpenDelayedRef:i,delayDuration:e,onOpen:B.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:B.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:B.useCallback(a=>{d.current=a},[]),disableHoverableContent:l,children:o})};R5.displayName=E5;var Ku="Tooltip",[_U,Od]=Kp(Ku),T5=t=>{const{__scopeTooltip:r,children:e,open:s,defaultOpen:l,onOpenChange:o,disableHoverableContent:i,delayDuration:d}=t,c=zy(Ku,t.__scopeTooltip),a=Qp(r),[u,m]=B.useState(null),h=Cs(),p=B.useRef(0),y=i??c.disableHoverableContent,x=d??c.delayDuration,g=B.useRef(!1),[w,v]=$s({prop:s,defaultProp:l??!1,onChange:V=>{V?(c.onOpen(),document.dispatchEvent(new CustomEvent(_b))):c.onClose(),o?.(V)},caller:Ku}),j=B.useMemo(()=>w?g.current?"delayed-open":"instant-open":"closed",[w]),N=B.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,v(!0)},[v]),T=B.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),D=B.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,v(!0),p.current=0},x)},[x,v]);return B.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(Sp,{...a,children:n.jsx(_U,{scope:r,contentId:h,open:w,stateAttribute:j,trigger:u,onTriggerChange:m,onTriggerEnter:B.useCallback(()=>{c.isOpenDelayedRef.current?D():N()},[c.isOpenDelayedRef,D,N]),onTriggerLeave:B.useCallback(()=>{y?T():(window.clearTimeout(p.current),p.current=0)},[T,y]),onOpen:N,onClose:T,disableHoverableContent:y,children:e})})};T5.displayName=Ku;var Cb="TooltipTrigger",A5=B.forwardRef((t,r)=>{const{__scopeTooltip:e,...s}=t,l=Od(Cb,e),o=zy(Cb,e),i=Qp(e),d=B.useRef(null),c=tn(r,d,l.onTriggerChange),a=B.useRef(!1),u=B.useRef(!1),m=B.useCallback(()=>a.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(bd,{asChild:!0,...i,children:n.jsx(kt.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...s,ref:c,onPointerMove:at(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(l.onTriggerEnter(),u.current=!0)}),onPointerLeave:at(t.onPointerLeave,()=>{l.onTriggerLeave(),u.current=!1}),onPointerDown:at(t.onPointerDown,()=>{l.open&&l.onClose(),a.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:at(t.onFocus,()=>{a.current||l.onOpen()}),onBlur:at(t.onBlur,l.onClose),onClick:at(t.onClick,l.onClose)})})});A5.displayName=Cb;var qy="TooltipPortal",[CU,NU]=Kp(qy,{forceMount:void 0}),M5=t=>{const{__scopeTooltip:r,forceMount:e,children:s,container:l}=t,o=Od(qy,r);return n.jsx(CU,{scope:r,forceMount:e,children:n.jsx(Fr,{present:e||o.open,children:n.jsx(Sc,{asChild:!0,container:l,children:s})})})};M5.displayName=qy;var oc="TooltipContent",O5=B.forwardRef((t,r)=>{const e=NU(oc,t.__scopeTooltip),{forceMount:s=e.forceMount,side:l="top",...o}=t,i=Od(oc,t.__scopeTooltip);return n.jsx(Fr,{present:s||i.open,children:i.disableHoverableContent?n.jsx(D5,{side:l,...o,ref:r}):n.jsx(kU,{side:l,...o,ref:r})})}),kU=B.forwardRef((t,r)=>{const e=Od(oc,t.__scopeTooltip),s=zy(oc,t.__scopeTooltip),l=B.useRef(null),o=tn(r,l),[i,d]=B.useState(null),{trigger:c,onClose:a}=e,u=l.current,{onPointerInTransitChange:m}=s,h=B.useCallback(()=>{d(null),m(!1)},[m]),p=B.useCallback((y,x)=>{const g=y.currentTarget,w={x:y.clientX,y:y.clientY},v=AU(w,g.getBoundingClientRect()),j=MU(w,v),N=OU(x.getBoundingClientRect()),T=IU([...j,...N]);d(T),m(!0)},[m]);return B.useEffect(()=>()=>h(),[h]),B.useEffect(()=>{if(c&&u){const y=g=>p(g,u),x=g=>p(g,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",x)}}},[c,u,p,h]),B.useEffect(()=>{if(i){const y=x=>{const g=x.target,w={x:x.clientX,y:x.clientY},v=c?.contains(g)||u?.contains(g),j=!DU(w,i);v?h():j&&(h(),a())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,i,a,h]),n.jsx(D5,{...t,ref:o})}),[EU,RU]=Kp(Ku,{isInside:!1}),TU=zj("TooltipContent"),D5=B.forwardRef((t,r)=>{const{__scopeTooltip:e,children:s,"aria-label":l,onEscapeKeyDown:o,onPointerDownOutside:i,...d}=t,c=Od(oc,e),a=Qp(e),{onClose:u}=c;return B.useEffect(()=>(document.addEventListener(_b,u),()=>document.removeEventListener(_b,u)),[u]),B.useEffect(()=>{if(c.trigger){const m=h=>{h.target?.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),n.jsx(vc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:n.jsxs(_p,{"data-state":c.stateAttribute,...a,...d,ref:r,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(TU,{children:s}),n.jsx(EU,{scope:e,isInside:!0,children:n.jsx(XM,{id:c.contentId,role:"tooltip",children:l||s})})]})})});O5.displayName=oc;var I5="TooltipArrow",P5=B.forwardRef((t,r)=>{const{__scopeTooltip:e,...s}=t,l=Qp(e);return RU(I5,e).isInside?null:n.jsx(Cp,{...l,...s,ref:r})});P5.displayName=I5;function AU(t,r){const e=Math.abs(r.top-t.y),s=Math.abs(r.bottom-t.y),l=Math.abs(r.right-t.x),o=Math.abs(r.left-t.x);switch(Math.min(e,s,l,o)){case o:return"left";case l:return"right";case e:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function MU(t,r,e=5){const s=[];switch(r){case"top":s.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":s.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":s.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":s.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return s}function OU(t){const{top:r,right:e,bottom:s,left:l}=t;return[{x:l,y:r},{x:e,y:r},{x:e,y:s},{x:l,y:s}]}function DU(t,r){const{x:e,y:s}=t;let l=!1;for(let o=0,i=r.length-1;o<r.length;i=o++){const d=r[o],c=r[i],a=d.x,u=d.y,m=c.x,h=c.y;u>s!=h>s&&e<(m-a)*(s-u)/(h-u)+a&&(l=!l)}return l}function IU(t){const r=t.slice();return r.sort((e,s)=>e.x<s.x?-1:e.x>s.x?1:e.y<s.y?-1:e.y>s.y?1:0),PU(r)}function PU(t){if(t.length<=1)return t.slice();const r=[];for(let s=0;s<t.length;s++){const l=t[s];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(l.y-i.y)>=(o.y-i.y)*(l.x-i.x))r.pop();else break}r.push(l)}r.pop();const e=[];for(let s=t.length-1;s>=0;s--){const l=t[s];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(l.y-i.y)>=(o.y-i.y)*(l.x-i.x))e.pop();else break}e.push(l)}return e.pop(),r.length===1&&e.length===1&&r[0].x===e[0].x&&r[0].y===e[0].y?r:r.concat(e)}var LU=R5,BU=T5,FU=A5,UU=M5,$U=O5,zU=P5;function Vy({delayDuration:t=0,...r}){return n.jsx(LU,{"data-slot":"tooltip-provider",delayDuration:t,...r})}function L5({...t}){return n.jsx(Vy,{children:n.jsx(BU,{"data-slot":"tooltip",...t})})}function B5({...t}){return n.jsx(FU,{"data-slot":"tooltip-trigger",...t})}function F5({className:t,sideOffset:r=0,children:e,...s}){return n.jsx(UU,{children:n.jsxs($U,{"data-slot":"tooltip-content",sideOffset:r,className:Ze("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[e,n.jsx(zU,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const qU="sidebar_state",VU=3600*24*7,HU="16rem",WU="18rem",GU="3rem",YU="b",U5=B.createContext(null);function Hy(){const t=B.useContext(U5);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function XU({defaultOpen:t=!0,open:r,onOpenChange:e,className:s,style:l,children:o,...i}){const d=k5(),[c,a]=B.useState(!1),[u,m]=B.useState(t),h=r??u,p=B.useCallback(w=>{const v=typeof w=="function"?w(h):w;e?e(v):m(v),document.cookie=`${qU}=${v}; path=/; max-age=${VU}`},[e,h]),y=B.useCallback(()=>d?a(w=>!w):p(w=>!w),[d,p,a]);B.useEffect(()=>{const w=v=>{v.key===YU&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),y())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[y]);const x=h?"expanded":"collapsed",g=B.useMemo(()=>({state:x,open:h,setOpen:p,isMobile:d,openMobile:c,setOpenMobile:a,toggleSidebar:y}),[x,h,p,d,c,a,y]);return n.jsx(U5,{value:g,children:n.jsx(Vy,{delayDuration:0,children:n.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":HU,"--sidebar-width-icon":GU,...l},className:Ze("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",s),...i,children:o})})})}function KU({side:t="left",variant:r="sidebar",collapsible:e="offcanvas",className:s,children:l,...o}){const{isMobile:i,state:d,openMobile:c,setOpenMobile:a}=Hy();return e==="none"?n.jsx("div",{"data-slot":"sidebar",className:Ze("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",s),...o,children:l}):i?n.jsx(mU,{open:c,onOpenChange:a,...o,children:n.jsxs(yU,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":WU},side:t,children:[n.jsxs(xU,{className:"sr-only",children:[n.jsx(vU,{children:"Sidebar"}),n.jsx(wU,{children:"Displays the mobile sidebar."})]}),n.jsx("div",{className:"flex h-full w-full flex-col",children:l})]})}):n.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":d==="collapsed"?e:"","data-variant":r,"data-side":t,"data-slot":"sidebar",children:[n.jsx("div",{"data-slot":"sidebar-gap",className:Ze("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),n.jsx("div",{"data-slot":"sidebar-container",className:Ze("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...o,children:n.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:l})})]})}function QU({className:t,onClick:r,...e}){const{toggleSidebar:s}=Hy();return n.jsxs(Ie,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Ze("size-7",t),onClick:l=>{r?.(l),s()},...e,children:[n.jsx(yT,{className:"size-5"}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function ZU({className:t,...r}){return n.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Ze("flex flex-col gap-2 p-2",t),...r})}function JU({className:t,...r}){return n.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Ze("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r})}function m4({className:t,...r}){return n.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Ze("relative flex w-full min-w-0 flex-col pr-2 pl-2",t),...r})}function e$({className:t,asChild:r=!1,...e}){const s=r?cp:"div";return n.jsx(s,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Ze("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...e})}function t$({className:t,...r}){return n.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Ze("w-full text-sm",t),...r})}function g4({className:t,...r}){return n.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Ze("flex w-full min-w-0 flex-col gap-1",t),...r})}function b4({className:t,...r}){return n.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Ze("group/menu-item relative",t),...r})}const n$=up("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function y4({asChild:t=!1,isActive:r=!1,variant:e="default",size:s="default",tooltip:l,className:o,...i}){const d=t?cp:"button",{isMobile:c,state:a}=Hy(),u=n.jsx(d,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":s,"data-active":r,className:Ze(n$({variant:e,size:s}),o),...i});return l?(typeof l=="string"&&(l={children:l}),n.jsxs(L5,{children:[n.jsx(B5,{asChild:!0,children:u}),n.jsx(F5,{side:"right",align:"center",hidden:a!=="collapsed"||c,...l})]})):u}var Ae=(t=>(t.GOODS_RECEIPT="GoodsReceipt",t.GOODS_RECEIPT_SUPERVISOR="GoodsReceiptSupervisor",t.GOODS_RECEIPT_CONFIRMATION="GoodsReceiptConfirmation",t.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR="GoodsReceiptConfirmationSupervisor",t.PICKING="Picking",t.PICKING_SUPERVISOR="PickingSupervisor",t.COUNTING="Counting",t.COUNTING_SUPERVISOR="CountingSupervisor",t.TRANSFER="Transfer",t.TRANSFER_SUPERVISOR="TransferSupervisor",t.TRANSFER_REQUEST="TransferRequest",t.TRANSFER_CONFIRMATION="TransferConfirmation",t.TRANSFER_CONFIRMATION_SUPERVISOR="TransferConfirmationSupervisor",t.PACKAGE_MANAGEMENT="PackageManagement",t.PACKAGE_MANAGEMENT_SUPERVISOR="PackageManagementSupervisor",t.ITEM_MANAGEMENT="ItemManagement",t.ITEM_MANAGEMENT_SUPERVISOR="ItemManagementSupervisor",t))(Ae||{});function r$(){const{t}=Be(),{user:r,isDeviceActive:e,isValidAccount:s}=bt(),l="/goodsReceiptSupervisor",o="/goodsReceiptConfirmationSupervisor",i="/transferSupervisor",d=[{Link:"/itemCheck",Text:t("itemCheck"),Authorizations:[Ae.GOODS_RECEIPT_SUPERVISOR,Ae.PICKING_SUPERVISOR],Icon:Br,Color:"text-blue-700"},{Link:"/binCheck",Text:t("binCheck"),Authorizations:[Ae.GOODS_RECEIPT_SUPERVISOR,Ae.PICKING_SUPERVISOR,Ae.COUNTING_SUPERVISOR,Ae.TRANSFER_SUPERVISOR],Icon:a3,Color:"text-green-700",RequiresFeature:"BinLocation"},{Link:"/packageCheck",Text:t("packagesCheck"),Authorizations:[Ae.GOODS_RECEIPT_SUPERVISOR,Ae.PICKING_SUPERVISOR,Ae.COUNTING_SUPERVISOR,Ae.TRANSFER_SUPERVISOR,Ae.PACKAGE_MANAGEMENT,Ae.PACKAGE_MANAGEMENT_SUPERVISOR],Icon:u3,Color:"text-green-700",RequiresFeature:"PackageManagement"},{Link:"/goodsReceipt",Text:t("goodsReceipt"),Authorization:Ae.GOODS_RECEIPT,Icon:wh,Color:"text-gray-700",RequiresFeature:"GoodsReceiptTransactional"},{Link:l,Text:t("goodsReceiptSupervisor"),Authorizations:[Ae.GOODS_RECEIPT_SUPERVISOR],Icon:Pu,Color:"text-gray-700",RequiresFeature:"GoodsReceiptTransactional"},{Link:"/goodsReceiptReport",Text:t("goodsReceiptReport"),Authorization:Ae.GOODS_RECEIPT_SUPERVISOR,Icon:b0,Color:"text-gray-700",RequiresFeature:"GoodsReceiptTransactional"},{Link:"/goodsReceiptConfirmation",Text:t("receiptConfirmation"),Authorization:Ae.GOODS_RECEIPT_CONFIRMATION,Icon:wh,Color:"text-indigo-700",RequiresFeature:"GoodsReceiptConfirmation"},{Link:o,Text:t("goodsReceiptConfirmationSupervisor"),Authorizations:[Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR],Icon:Pu,Color:"text-indigo-700",RequiresFeature:"GoodsReceiptConfirmation"},{Link:"/goodsReceiptConfirmationReport",Text:t("confirmationReport"),Authorization:Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR,Icon:b0,Color:"text-indigo-700",RequiresFeature:"GoodsReceiptConfirmation"},{Link:"/pick",Text:t("picking"),Authorization:Ae.PICKING,Icon:d3,Color:"text-teal-700"},{Link:"/pickSupervisor",Text:t("pickSupervisor"),Authorization:Ae.PICKING_SUPERVISOR,Icon:Pu,Color:"text-teal-700"},{Link:"/counting",Text:t("counting"),Authorization:Ae.COUNTING,Icon:hp,Color:"text-cyan-700"},{Link:"/countingSupervisor",Text:t("countingSupervisor"),Authorization:Ae.COUNTING_SUPERVISOR,Icon:H9,Color:"text-cyan-700"},{Link:"/transferRequest",Text:t("transferRequest"),Authorization:Ae.TRANSFER_REQUEST,Icon:kT,Color:"text-lime-700",RequiresFeature:"TransferRequest"},{Link:"/transfer/approve",Text:t("transferApprovals"),Authorization:Ae.TRANSFER_SUPERVISOR,Icon:Br,Color:"text-lime-700",RequiresFeature:"EnableInventoryTransfer"},{Link:"/transfer",Text:t("transfer"),Authorization:Ae.TRANSFER,Icon:Sh,Color:"text-lime-700",RequiresFeature:"EnableInventoryTransfer"},{Link:i,Text:t("transferSupervisor"),Authorizations:[Ae.TRANSFER_SUPERVISOR],Icon:rc,Color:"text-lime-700",RequiresFeature:"EnableInventoryTransfer"},{Link:"/transferConfirmation",Text:t("transferConfirmation"),Authorization:Ae.TRANSFER,Icon:Sh,Color:"text-lime-700",RequiresFeature:"EnableTransferConfirm"},{Link:"/transferConfirmationSupervisor",Text:t("transferConfirmationSupervisor"),Authorization:Ae.TRANSFER_SUPERVISOR,Icon:rc,Color:"text-lime-700",RequiresFeature:"EnableTransferConfirm"},{Link:"/transferConfirmationReport",Text:t("transferConfirmationReport"),Authorization:Ae.TRANSFER_SUPERVISOR,Icon:b0,Color:"text-indigo-700",RequiresFeature:"EnableTransferConfirm"},{Link:"/settings/users",Text:t("users"),SuperUser:!0,Icon:HT,Color:"text-gray-600"},{Link:"/settings/authorizationGroups",Text:t("authorizationGroups"),SuperUser:!0,Icon:sb,Color:"text-gray-600"},{Link:"/settings/devices",Text:t("devices"),SuperUser:!0,Icon:ab,Color:"text-gray-600"},{Link:"/settings/license",Text:t("license.title"),SuperUser:!0,Icon:sb,Color:"text-gray-600"},{Link:"/settings/externalAlerts",Text:t("externalAlerts"),SuperUser:!0,Icon:s3,Color:"text-gray-600"}],c=(m,h)=>(m!==void 0&&u(m),d.filter(p=>{if((!e||!s)&&!p.Link.startsWith("/settings")||!a(p))return!1;if(p.Authorization===void 0&&p.Authorizations===void 0&&r?.superUser)return!0;if(m){if(p.SuperUser&&!r?.superUser)return!1;if(p.Authorization!==void 0)return m.includes(p.Authorization);if(p.Authorizations!==void 0){for(let y of p.Authorizations)if(m.includes(y))return!0}}return!1}));function a(m){if(m.RequiresFeature!=null)switch(m.RequiresFeature){case"GoodsReceiptTransactional":if(r?.settings?.goodsReceiptType===Yo.Confirmation)return!1;break;case"GoodsReceiptConfirmation":if(r?.settings?.goodsReceiptType===Yo.Transactional)return!1;break;case"PackageManagement":if(!r?.settings?.enablePackages)return!1;break;case"EnableTransferConfirm":if(!r.settings.enableTransferConfirm)return!1;break;case"EnableInventoryTransfer":if(!r.binLocations&&!r.settings.enableWarehouseTransfer)return!1;break;case"BinLocation":if(!r.binLocations)return!1;break;case"TransferRequest":if(!r.settings.enableTransferRequest)return!1;break}return!0}function u(m){if(!r?.settings?.goodsReceiptCreateSupervisorRequired){let h=d.filter(y=>y.Link===l)[0];h.Authorizations!=null&&h.Authorizations.push(Ae.GOODS_RECEIPT);let p=m.filter(y=>y===Ae.GOODS_RECEIPT_SUPERVISOR).length===1;h.Text=t(p?"goodsReceiptSupervisor":"goodsReceiptCreation"),h=d.filter(y=>y.Link===o)[0],h.Authorizations!=null&&h.Authorizations.push(Ae.GOODS_RECEIPT_CONFIRMATION),p=m.filter(y=>y===Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR).length===1,h.Text=t(p?"goodsReceiptConfirmationSupervisor":"goodsReceiptConfirmationCreation")}if(!r?.settings?.transferCreateSupervisorRequired){let h=d.filter(y=>y.Link===i)[0];h.Authorizations!=null&&h.Authorizations.push(Ae.TRANSFER);const p=m.filter(y=>y===Ae.TRANSFER_SUPERVISOR).length===1;h.Text=t(p?"transferSupervisor":"transferCreation")}}return B.useMemo(()=>({MenuItems:d,GetMenus:c}),[t,r])}function s$(){const t=r$(),[r,e]=B.useState([]),s=fn(),l=na(),{logout:o,user:i,isDeviceActive:d,isValidAccount:c}=bt(),{t:a}=Be();B.useEffect(()=>{e(t.GetMenus(i?.roles,i?.superUser))},[i,t]);const u=y=>{s(y)},m=()=>{o(),s("/login?logout=true")},h=r.reduce((y,x)=>{let g=a("other");switch(x.Link){case"/binCheck":case"/itemCheck":case"/packageCheck":g=a("inventoryCheck");break;case"/goodsReceipt":case"/goodsReceiptSupervisor":case"/goodsReceiptReport":case"/goodsReceiptConfirmation":case"/goodsReceiptConfirmationSupervisor":case"/goodsReceiptConfirmationReport":g=a("goodsReceipt");break;case"/pick":case"/pickSupervisor":g=a("picking");break;case"/counting":case"/countingSupervisor":g=a("counting");break;case"/transfer":case"/transfer/approve":case"/transferSupervisor":case"/transferRequest":case"/transferConfirmation":case"/transferConfirmationSupervisor":case"/transferConfirmationReport":g=a("transfer");break;case"/settings/cancelReasons":case"/settings/users":case"/settings/authorizationGroups":case"/settings/devices":case"/settings/license":case"/settings/externalAlerts":g=a("settings");break;default:g=a("other");break}return y[g]||(y[g]=[]),y[g].push(x),y},{}),p=[a("inventoryCheck"),a("goodsReceipt"),a("picking"),a("counting"),a("transfer"),a("settings"),a("other")];return n.jsxs(KU,{className:"text-base",children:[n.jsx(ZU,{children:n.jsx("div",{className:"h-16 px-4 border-b border-gray-200 flex items-center",children:n.jsxs(kd,{children:[n.jsxs(Ed,{className:"flex items-center gap-3 w-full p-3 rounded-xl hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-1 h-12 transition-all duration-200",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full flex-shrink-0",children:n.jsx(Hb,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{className:"flex-1 text-left min-w-0",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:i?.name}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:i?.warehouses?.find(y=>y.id===i?.currentWarehouse)?.name})]}),n.jsx(hd,{className:"w-4 h-4 text-gray-500 flex-shrink-0"})]}),n.jsx(Rd,{align:"start",className:"w-56",children:n.jsxs(Zo,{onClick:m,className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-12 focus:bg-red-50 focus:text-red-700",children:[n.jsx(iT,{className:"w-4 h-4 mr-2"}),a("logout")]})})]})})}),n.jsxs(JU,{children:[d&&c&&n.jsx(m4,{children:n.jsx(g4,{children:n.jsx(b4,{children:n.jsx(y4,{asChild:!0,children:n.jsxs("a",{href:"/",onClick:y=>{y.preventDefault(),u("/")},className:`min-h-[48px] flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-1 ${l.pathname==="/"||l.pathname==="/home"?"bg-blue-50 text-blue-700 border-r-2 border-blue-600 font-medium shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900 hover:shadow-sm"}`,children:[n.jsx(jh,{className:"w-5 h-5"}),n.jsx("span",{className:"font-normal",children:a("home")})]})})})})}),p.map(y=>{const x=h[y];return!x||x.length===0?null:n.jsxs(m4,{children:[n.jsxs(e$,{className:"text-xs font-bold text-gray-800 uppercase tracking-wide px-3 py-2 mb-1 flex items-center gap-2",children:[n.jsx("div",{className:"h-px flex-1 bg-gray-300"}),n.jsx("span",{children:y}),n.jsx("div",{className:"h-px flex-1 bg-gray-300"})]}),n.jsx(t$,{children:n.jsx(g4,{children:x.map(g=>n.jsx(b4,{children:n.jsx(y4,{asChild:!0,children:n.jsxs("a",{href:g.Link,title:g.Text,onClick:w=>{w.preventDefault(),u(g.Link)},className:`min-h-[48px] flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-1 ${l.pathname===g.Link?"bg-blue-50 text-blue-700 border-r-2 border-blue-600 font-medium shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900 hover:shadow-sm"}`,"aria-label":g.Text,children:[n.jsx(g.Icon,{className:"w-5 h-5"}),n.jsx("span",{className:"font-normal",children:g.Text})]})})},g.Link))})})]},y)})]})]})}class Jo extends Error{constructor(r,e){const s=new.target.prototype;super(`${r}: Status code '${e}'`),this.statusCode=e,this.__proto__=s}}class Wy extends Error{constructor(r="A timeout occurred."){const e=new.target.prototype;super(r),this.__proto__=e}}class ma extends Error{constructor(r="An abort occurred."){const e=new.target.prototype;super(r),this.__proto__=e}}class a$ extends Error{constructor(r,e){const s=new.target.prototype;super(r),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=s}}class i$ extends Error{constructor(r,e){const s=new.target.prototype;super(r),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=s}}class o$ extends Error{constructor(r,e){const s=new.target.prototype;super(r),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=s}}class x4 extends Error{constructor(r){const e=new.target.prototype;super(r),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class l$ extends Error{constructor(r,e){const s=new.target.prototype;super(r),this.innerErrors=e,this.__proto__=s}}class $5{constructor(r,e,s){this.statusCode=r,this.statusText=e,this.content=s}}class Zp{get(r,e){return this.send({...e,method:"GET",url:r})}post(r,e){return this.send({...e,method:"POST",url:r})}delete(r,e){return this.send({...e,method:"DELETE",url:r})}getCookieString(r){return""}}var ze;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(ze||(ze={}));class Qu{constructor(){}log(r,e){}}Qu.instance=new Qu;const c$="9.0.6";class Cr{static isRequired(r,e){if(r==null)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(r,e){if(!r||r.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(r,e,s){if(!(r in e))throw new Error(`Unknown ${s} value: ${r}.`)}}class rr{static get isBrowser(){return!rr.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!rr.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!rr.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Zu(t,r){let e="";return ll(t)?(e=`Binary data of length ${t.byteLength}`,r&&(e+=`. Content: '${u$(t)}'`)):typeof t=="string"&&(e=`String data of length ${t.length}`,r&&(e+=`. Content: '${t}'`)),e}function u$(t){const r=new Uint8Array(t);let e="";return r.forEach(s=>{const l=s<16?"0":"";e+=`0x${l}${s.toString(16)} `}),e.substr(0,e.length-1)}function ll(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function z5(t,r,e,s,l,o){const i={},[d,c]=lc();i[d]=c,t.log(ze.Trace,`(${r} transport) sending data. ${Zu(l,o.logMessageContent)}.`);const a=ll(l)?"arraybuffer":"text",u=await e.post(s,{content:l,headers:{...i,...o.headers},responseType:a,timeout:o.timeout,withCredentials:o.withCredentials});t.log(ze.Trace,`(${r} transport) request complete. Response status: ${u.statusCode}.`)}function d$(t){return t===void 0?new Vh(ze.Information):t===null?Qu.instance:t.log!==void 0?t:new Vh(t)}class f${constructor(r,e){this._subject=r,this._observer=e}dispose(){const r=this._subject.observers.indexOf(this._observer);r>-1&&this._subject.observers.splice(r,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class Vh{constructor(r){this._minLevel=r,this.out=console}log(r,e){if(r>=this._minLevel){const s=`[${new Date().toISOString()}] ${ze[r]}: ${e}`;switch(r){case ze.Critical:case ze.Error:this.out.error(s);break;case ze.Warning:this.out.warn(s);break;case ze.Information:this.out.info(s);break;default:this.out.log(s);break}}}}function lc(){let t="X-SignalR-User-Agent";return rr.isNode&&(t="User-Agent"),[t,h$(c$,p$(),g$(),m$())]}function h$(t,r,e,s){let l="Microsoft SignalR/";const o=t.split(".");return l+=`${o[0]}.${o[1]}`,l+=` (${t}; `,r&&r!==""?l+=`${r}; `:l+="Unknown OS; ",l+=`${e}`,s?l+=`; ${s}`:l+="; Unknown Runtime Version",l+=")",l}function p$(){if(rr.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function m$(){if(rr.isNode)return process.versions.node}function g$(){return rr.isNode?"NodeJS":"Browser"}function A0(t){return t.stack?t.stack:t.message?t.message:`${t}`}function b$(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class y$ extends Zp{constructor(r){if(super(),this._logger=r,typeof fetch>"u"||rr.isNode){const e=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(e("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=e("node-fetch"):this._fetchType=fetch,this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(b$());if(typeof AbortController>"u"){const e=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(r){if(r.abortSignal&&r.abortSignal.aborted)throw new ma;if(!r.method)throw new Error("No method defined.");if(!r.url)throw new Error("No url defined.");const e=new this._abortControllerType;let s;r.abortSignal&&(r.abortSignal.onabort=()=>{e.abort(),s=new ma});let l=null;if(r.timeout){const c=r.timeout;l=setTimeout(()=>{e.abort(),this._logger.log(ze.Warning,"Timeout from HTTP request."),s=new Wy},c)}r.content===""&&(r.content=void 0),r.content&&(r.headers=r.headers||{},ll(r.content)?r.headers["Content-Type"]="application/octet-stream":r.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(r.url,{body:r.content,cache:"no-cache",credentials:r.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...r.headers},method:r.method,mode:"cors",redirect:"follow",signal:e.signal})}catch(c){throw s||(this._logger.log(ze.Warning,`Error from HTTP request. ${c}.`),c)}finally{l&&clearTimeout(l),r.abortSignal&&(r.abortSignal.onabort=null)}if(!o.ok){const c=await v4(o,"text");throw new Jo(c||o.statusText,o.status)}const d=await v4(o,r.responseType);return new $5(o.status,o.statusText,d)}getCookieString(r){let e="";return rr.isNode&&this._jar&&this._jar.getCookies(r,(s,l)=>e=l.join("; ")),e}}function v4(t,r){let e;switch(r){case"arraybuffer":e=t.arrayBuffer();break;case"text":e=t.text();break;case"blob":case"document":case"json":throw new Error(`${r} is not supported.`);default:e=t.text();break}return e}class x$ extends Zp{constructor(r){super(),this._logger=r}send(r){return r.abortSignal&&r.abortSignal.aborted?Promise.reject(new ma):r.method?r.url?new Promise((e,s)=>{const l=new XMLHttpRequest;l.open(r.method,r.url,!0),l.withCredentials=r.withCredentials===void 0?!0:r.withCredentials,l.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.content===""&&(r.content=void 0),r.content&&(ll(r.content)?l.setRequestHeader("Content-Type","application/octet-stream"):l.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=r.headers;o&&Object.keys(o).forEach(i=>{l.setRequestHeader(i,o[i])}),r.responseType&&(l.responseType=r.responseType),r.abortSignal&&(r.abortSignal.onabort=()=>{l.abort(),s(new ma)}),r.timeout&&(l.timeout=r.timeout),l.onload=()=>{r.abortSignal&&(r.abortSignal.onabort=null),l.status>=200&&l.status<300?e(new $5(l.status,l.statusText,l.response||l.responseText)):s(new Jo(l.response||l.responseText||l.statusText,l.status))},l.onerror=()=>{this._logger.log(ze.Warning,`Error from HTTP request. ${l.status}: ${l.statusText}.`),s(new Jo(l.statusText,l.status))},l.ontimeout=()=>{this._logger.log(ze.Warning,"Timeout from HTTP request."),s(new Wy)},l.send(r.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class v$ extends Zp{constructor(r){if(super(),typeof fetch<"u"||rr.isNode)this._httpClient=new y$(r);else if(typeof XMLHttpRequest<"u")this._httpClient=new x$(r);else throw new Error("No usable HttpClient found.")}send(r){return r.abortSignal&&r.abortSignal.aborted?Promise.reject(new ma):r.method?r.url?this._httpClient.send(r):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(r){return this._httpClient.getCookieString(r)}}class Fs{static write(r){return`${r}${Fs.RecordSeparator}`}static parse(r){if(r[r.length-1]!==Fs.RecordSeparator)throw new Error("Message is incomplete.");const e=r.split(Fs.RecordSeparator);return e.pop(),e}}Fs.RecordSeparatorCode=30;Fs.RecordSeparator=String.fromCharCode(Fs.RecordSeparatorCode);class w${writeHandshakeRequest(r){return Fs.write(JSON.stringify(r))}parseHandshakeResponse(r){let e,s;if(ll(r)){const d=new Uint8Array(r),c=d.indexOf(Fs.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const a=c+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(d.slice(0,a))),s=d.byteLength>a?d.slice(a).buffer:null}else{const d=r,c=d.indexOf(Fs.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const a=c+1;e=d.substring(0,a),s=d.length>a?d.substring(a):null}const l=Fs.parse(e),o=JSON.parse(l[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[s,o]}}var sn;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(sn||(sn={}));class j${constructor(){this.observers=[]}next(r){for(const e of this.observers)e.next(r)}error(r){for(const e of this.observers)e.error&&e.error(r)}complete(){for(const r of this.observers)r.complete&&r.complete()}subscribe(r){return this.observers.push(r),new f$(this,r)}}class S${constructor(r,e,s){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=r,this._connection=e,this._bufferSize=s}async _send(r){const e=this._protocol.writeMessage(r);let s=Promise.resolve();if(this._isInvocationMessage(r)){this._totalMessageCount++;let l=()=>{},o=()=>{};ll(e)?this._bufferedByteCount+=e.byteLength:this._bufferedByteCount+=e.length,this._bufferedByteCount>=this._bufferSize&&(s=new Promise((i,d)=>{l=i,o=d})),this._messages.push(new _$(e,this._totalMessageCount,l,o))}try{this._reconnectInProgress||await this._connection.send(e)}catch{this._disconnected()}await s}_ack(r){let e=-1;for(let s=0;s<this._messages.length;s++){const l=this._messages[s];if(l._id<=r.sequenceId)e=s,ll(l._message)?this._bufferedByteCount-=l._message.byteLength:this._bufferedByteCount-=l._message.length,l._resolver();else if(this._bufferedByteCount<this._bufferSize)l._resolver();else break}e!==-1&&(this._messages=this._messages.slice(e+1))}_shouldProcessMessage(r){if(this._waitForSequenceMessage)return r.type!==sn.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(r))return!0;const e=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,e<=this._latestReceivedSequenceId?(e===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=e,this._ackTimer(),!0)}_resetSequence(r){if(r.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=r.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const r=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:sn.Sequence,sequenceId:r}));const e=this._messages;for(const s of e)await this._connection.send(s._message);this._reconnectInProgress=!1}_dispose(r){r??(r=new Error("Unable to reconnect to server."));for(const e of this._messages)e._rejector(r)}_isInvocationMessage(r){switch(r.type){case sn.Invocation:case sn.StreamItem:case sn.Completion:case sn.StreamInvocation:case sn.CancelInvocation:return!0;case sn.Close:case sn.Sequence:case sn.Ping:case sn.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:sn.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class _${constructor(r,e,s,l){this._message=r,this._id=e,this._resolver=s,this._rejector=l}}const C$=30*1e3,N$=15*1e3,k$=1e5;var Zn;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(Zn||(Zn={}));class Gy{static create(r,e,s,l,o,i,d){return new Gy(r,e,s,l,o,i,d)}constructor(r,e,s,l,o,i,d){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(ze.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Cr.isRequired(r,"connection"),Cr.isRequired(e,"logger"),Cr.isRequired(s,"protocol"),this.serverTimeoutInMilliseconds=o??C$,this.keepAliveIntervalInMilliseconds=i??N$,this._statefulReconnectBufferSize=d??k$,this._logger=e,this._protocol=s,this.connection=r,this._reconnectPolicy=l,this._handshakeProtocol=new w$,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Zn.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:sn.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(r){if(this._connectionState!==Zn.Disconnected&&this._connectionState!==Zn.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!r)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=r}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Zn.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Zn.Connecting,this._logger.log(ze.Debug,"Starting HubConnection.");try{await this._startInternal(),rr.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Zn.Connected,this._connectionStarted=!0,this._logger.log(ze.Debug,"HubConnection connected successfully.")}catch(r){return this._connectionState=Zn.Disconnected,this._logger.log(ze.Debug,`HubConnection failed to start successfully because of error '${r}'.`),Promise.reject(r)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const r=new Promise((e,s)=>{this._handshakeResolver=e,this._handshakeRejecter=s});await this.connection.start(this._protocol.transferFormat);try{let e=this._protocol.version;this.connection.features.reconnect||(e=1);const s={protocol:this._protocol.name,version:e};if(this._logger.log(ze.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(s)),this._logger.log(ze.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await r,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new S$(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(ze.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){const r=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await r}catch{}}_stopInternal(r){if(this._connectionState===Zn.Disconnected)return this._logger.log(ze.Debug,`Call to HubConnection.stop(${r}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Zn.Disconnecting)return this._logger.log(ze.Debug,`Call to HttpConnection.stop(${r}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const e=this._connectionState;return this._connectionState=Zn.Disconnecting,this._logger.log(ze.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(ze.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(e===Zn.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=r||new ma("The connection was stopped before the hub handshake could complete."),this.connection.stop(r))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(r,...e){const[s,l]=this._replaceStreamingParams(e),o=this._createStreamInvocation(r,e,l);let i;const d=new j$;return d.cancelCallback=()=>{const c=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],i.then(()=>this._sendWithProtocol(c))},this._callbacks[o.invocationId]=(c,a)=>{if(a){d.error(a);return}else c&&(c.type===sn.Completion?c.error?d.error(new Error(c.error)):d.complete():d.next(c.item))},i=this._sendWithProtocol(o).catch(c=>{d.error(c),delete this._callbacks[o.invocationId]}),this._launchStreams(s,i),d}_sendMessage(r){return this._resetKeepAliveInterval(),this.connection.send(r)}_sendWithProtocol(r){return this._messageBuffer?this._messageBuffer._send(r):this._sendMessage(this._protocol.writeMessage(r))}send(r,...e){const[s,l]=this._replaceStreamingParams(e),o=this._sendWithProtocol(this._createInvocation(r,e,!0,l));return this._launchStreams(s,o),o}invoke(r,...e){const[s,l]=this._replaceStreamingParams(e),o=this._createInvocation(r,e,!1,l);return new Promise((d,c)=>{this._callbacks[o.invocationId]=(u,m)=>{if(m){c(m);return}else u&&(u.type===sn.Completion?u.error?c(new Error(u.error)):d(u.result):c(new Error(`Unexpected message type: ${u.type}`)))};const a=this._sendWithProtocol(o).catch(u=>{c(u),delete this._callbacks[o.invocationId]});this._launchStreams(s,a)})}on(r,e){!r||!e||(r=r.toLowerCase(),this._methods[r]||(this._methods[r]=[]),this._methods[r].indexOf(e)===-1&&this._methods[r].push(e))}off(r,e){if(!r)return;r=r.toLowerCase();const s=this._methods[r];if(s)if(e){const l=s.indexOf(e);l!==-1&&(s.splice(l,1),s.length===0&&delete this._methods[r])}else delete this._methods[r]}onclose(r){r&&this._closedCallbacks.push(r)}onreconnecting(r){r&&this._reconnectingCallbacks.push(r)}onreconnected(r){r&&this._reconnectedCallbacks.push(r)}_processIncomingData(r){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(r=this._processHandshakeResponse(r),this._receivedHandshakeResponse=!0),r){const e=this._protocol.parseMessages(r,this._logger);for(const s of e)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(s)))switch(s.type){case sn.Invocation:this._invokeClientMethod(s).catch(l=>{this._logger.log(ze.Error,`Invoke client method threw error: ${A0(l)}`)});break;case sn.StreamItem:case sn.Completion:{const l=this._callbacks[s.invocationId];if(l){s.type===sn.Completion&&delete this._callbacks[s.invocationId];try{l(s)}catch(o){this._logger.log(ze.Error,`Stream callback threw error: ${A0(o)}`)}}break}case sn.Ping:break;case sn.Close:{this._logger.log(ze.Information,"Close message received from server.");const l=s.error?new Error("Server returned an error on close: "+s.error):void 0;s.allowReconnect===!0?this.connection.stop(l):this._stopPromise=this._stopInternal(l);break}case sn.Ack:this._messageBuffer&&this._messageBuffer._ack(s);break;case sn.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(s);break;default:this._logger.log(ze.Warning,`Invalid message type: ${s.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(r){let e,s;try{[s,e]=this._handshakeProtocol.parseHandshakeResponse(r)}catch(l){const o="Error parsing handshake response: "+l;this._logger.log(ze.Error,o);const i=new Error(o);throw this._handshakeRejecter(i),i}if(e.error){const l="Server returned handshake error: "+e.error;this._logger.log(ze.Error,l);const o=new Error(l);throw this._handshakeRejecter(o),o}else this._logger.log(ze.Debug,"Server handshake complete.");return this._handshakeResolver(),s}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let r=this._nextKeepAlive-new Date().getTime();r<0&&(r=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Zn.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},r)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(r){const e=r.target.toLowerCase(),s=this._methods[e];if(!s){this._logger.log(ze.Warning,`No client method with the name '${e}' found.`),r.invocationId&&(this._logger.log(ze.Warning,`No result given for '${e}' method and invocation ID '${r.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(r.invocationId,"Client didn't provide a result.",null)));return}const l=s.slice(),o=!!r.invocationId;let i,d,c;for(const a of l)try{const u=i;i=await a.apply(this,r.arguments),o&&i&&u&&(this._logger.log(ze.Error,`Multiple results provided for '${e}'. Sending error to server.`),c=this._createCompletionMessage(r.invocationId,"Client provided multiple results.",null)),d=void 0}catch(u){d=u,this._logger.log(ze.Error,`A callback for the method '${e}' threw error '${u}'.`)}c?await this._sendWithProtocol(c):o?(d?c=this._createCompletionMessage(r.invocationId,`${d}`,null):i!==void 0?c=this._createCompletionMessage(r.invocationId,null,i):(this._logger.log(ze.Warning,`No result given for '${e}' method and invocation ID '${r.invocationId}'.`),c=this._createCompletionMessage(r.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):i&&this._logger.log(ze.Error,`Result given for '${e}' method but server is not expecting a result.`)}_connectionClosed(r){this._logger.log(ze.Debug,`HubConnection.connectionClosed(${r}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||r||new ma("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(r||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Zn.Disconnecting?this._completeClose(r):this._connectionState===Zn.Connected&&this._reconnectPolicy?this._reconnect(r):this._connectionState===Zn.Connected&&this._completeClose(r)}_completeClose(r){if(this._connectionStarted){this._connectionState=Zn.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(r??new Error("Connection closed.")),this._messageBuffer=void 0),rr.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[r]))}catch(e){this._logger.log(ze.Error,`An onclose callback called with error '${r}' threw error '${e}'.`)}}}async _reconnect(r){const e=Date.now();let s=0,l=r!==void 0?r:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(s++,0,l);if(o===null){this._logger.log(ze.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(r);return}if(this._connectionState=Zn.Reconnecting,r?this._logger.log(ze.Information,`Connection reconnecting because of error '${r}'.`):this._logger.log(ze.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(i=>i.apply(this,[r]))}catch(i){this._logger.log(ze.Error,`An onreconnecting callback called with error '${r}' threw error '${i}'.`)}if(this._connectionState!==Zn.Reconnecting){this._logger.log(ze.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(ze.Information,`Reconnect attempt number ${s} will start in ${o} ms.`),await new Promise(i=>{this._reconnectDelayHandle=setTimeout(i,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==Zn.Reconnecting){this._logger.log(ze.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Zn.Connected,this._logger.log(ze.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(i=>i.apply(this,[this.connection.connectionId]))}catch(i){this._logger.log(ze.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${i}'.`)}return}catch(i){if(this._logger.log(ze.Information,`Reconnect attempt failed because of error '${i}'.`),this._connectionState!==Zn.Reconnecting){this._logger.log(ze.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Zn.Disconnecting&&this._completeClose();return}l=i instanceof Error?i:new Error(i.toString()),o=this._getNextRetryDelay(s++,Date.now()-e,l)}}this._logger.log(ze.Information,`Reconnect retries have been exhausted after ${Date.now()-e} ms and ${s} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(r,e,s){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:r,retryReason:s})}catch(l){return this._logger.log(ze.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${r}, ${e}) threw error '${l}'.`),null}}_cancelCallbacksWithError(r){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(s=>{const l=e[s];try{l(null,r)}catch(o){this._logger.log(ze.Error,`Stream 'error' callback called with '${r}' threw error: ${A0(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(r,e,s,l){if(s)return l.length!==0?{target:r,arguments:e,streamIds:l,type:sn.Invocation}:{target:r,arguments:e,type:sn.Invocation};{const o=this._invocationId;return this._invocationId++,l.length!==0?{target:r,arguments:e,invocationId:o.toString(),streamIds:l,type:sn.Invocation}:{target:r,arguments:e,invocationId:o.toString(),type:sn.Invocation}}}_launchStreams(r,e){if(r.length!==0){e||(e=Promise.resolve());for(const s in r)r[s].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(s)))},error:l=>{let o;l instanceof Error?o=l.message:l&&l.toString?o=l.toString():o="Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(s,o)))},next:l=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(s,l)))}})}}_replaceStreamingParams(r){const e=[],s=[];for(let l=0;l<r.length;l++){const o=r[l];if(this._isObservable(o)){const i=this._invocationId;this._invocationId++,e[i]=o,s.push(i.toString()),r.splice(l,1)}}return[e,s]}_isObservable(r){return r&&r.subscribe&&typeof r.subscribe=="function"}_createStreamInvocation(r,e,s){const l=this._invocationId;return this._invocationId++,s.length!==0?{target:r,arguments:e,invocationId:l.toString(),streamIds:s,type:sn.StreamInvocation}:{target:r,arguments:e,invocationId:l.toString(),type:sn.StreamInvocation}}_createCancelInvocation(r){return{invocationId:r,type:sn.CancelInvocation}}_createStreamItemMessage(r,e){return{invocationId:r,item:e,type:sn.StreamItem}}_createCompletionMessage(r,e,s){return e?{error:e,invocationId:r,type:sn.Completion}:{invocationId:r,result:s,type:sn.Completion}}_createCloseMessage(){return{type:sn.Close}}}const E$=[0,2e3,1e4,3e4,null];class w4{constructor(r){this._retryDelays=r!==void 0?[...r,null]:E$}nextRetryDelayInMilliseconds(r){return this._retryDelays[r.previousRetryCount]}}class el{}el.Authorization="Authorization";el.Cookie="Cookie";class R$ extends Zp{constructor(r,e){super(),this._innerClient=r,this._accessTokenFactory=e}async send(r){let e=!0;this._accessTokenFactory&&(!this._accessToken||r.url&&r.url.indexOf("/negotiate?")>0)&&(e=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(r);const s=await this._innerClient.send(r);return e&&s.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(r),await this._innerClient.send(r)):s}_setAuthorizationHeader(r){r.headers||(r.headers={}),this._accessToken?r.headers[el.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&r.headers[el.Authorization]&&delete r.headers[el.Authorization]}getCookieString(r){return this._innerClient.getCookieString(r)}}var Or;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(Or||(Or={}));var ns;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(ns||(ns={}));let T$=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class j4{get pollAborted(){return this._pollAbort.aborted}constructor(r,e,s){this._httpClient=r,this._logger=e,this._pollAbort=new T$,this._options=s,this._running=!1,this.onreceive=null,this.onclose=null}async connect(r,e){if(Cr.isRequired(r,"url"),Cr.isRequired(e,"transferFormat"),Cr.isIn(e,ns,"transferFormat"),this._url=r,this._logger.log(ze.Trace,"(LongPolling transport) Connecting."),e===ns.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[s,l]=lc(),o={[s]:l,...this._options.headers},i={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};e===ns.Binary&&(i.responseType="arraybuffer");const d=`${r}&_=${Date.now()}`;this._logger.log(ze.Trace,`(LongPolling transport) polling: ${d}.`);const c=await this._httpClient.get(d,i);c.statusCode!==200?(this._logger.log(ze.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new Jo(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,i)}async _poll(r,e){try{for(;this._running;)try{const s=`${r}&_=${Date.now()}`;this._logger.log(ze.Trace,`(LongPolling transport) polling: ${s}.`);const l=await this._httpClient.get(s,e);l.statusCode===204?(this._logger.log(ze.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):l.statusCode!==200?(this._logger.log(ze.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new Jo(l.statusText||"",l.statusCode),this._running=!1):l.content?(this._logger.log(ze.Trace,`(LongPolling transport) data received. ${Zu(l.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(l.content)):this._logger.log(ze.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(s){this._running?s instanceof Wy?this._logger.log(ze.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=s,this._running=!1):this._logger.log(ze.Trace,`(LongPolling transport) Poll errored after shutdown: ${s.message}`)}}finally{this._logger.log(ze.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(r){return this._running?z5(this._logger,"LongPolling",this._httpClient,this._url,r,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(ze.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(ze.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const r={},[e,s]=lc();r[e]=s;const l={headers:{...r,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,l)}catch(i){o=i}o?o instanceof Jo&&(o.statusCode===404?this._logger.log(ze.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(ze.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(ze.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(ze.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let r="(LongPolling transport) Firing onclose event.";this._closeError&&(r+=" Error: "+this._closeError),this._logger.log(ze.Trace,r),this.onclose(this._closeError)}}}class A${constructor(r,e,s,l){this._httpClient=r,this._accessToken=e,this._logger=s,this._options=l,this.onreceive=null,this.onclose=null}async connect(r,e){return Cr.isRequired(r,"url"),Cr.isRequired(e,"transferFormat"),Cr.isIn(e,ns,"transferFormat"),this._logger.log(ze.Trace,"(SSE transport) Connecting."),this._url=r,this._accessToken&&(r+=(r.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((s,l)=>{let o=!1;if(e!==ns.Text){l(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let i;if(rr.isBrowser||rr.isWebWorker)i=new this._options.EventSource(r,{withCredentials:this._options.withCredentials});else{const d=this._httpClient.getCookieString(r),c={};c.Cookie=d;const[a,u]=lc();c[a]=u,i=new this._options.EventSource(r,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{i.onmessage=d=>{if(this.onreceive)try{this._logger.log(ze.Trace,`(SSE transport) data received. ${Zu(d.data,this._options.logMessageContent)}.`),this.onreceive(d.data)}catch(c){this._close(c);return}},i.onerror=d=>{o?this._close():l(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},i.onopen=()=>{this._logger.log(ze.Information,`SSE connected to ${this._url}`),this._eventSource=i,o=!0,s()}}catch(d){l(d);return}})}async send(r){return this._eventSource?z5(this._logger,"SSE",this._httpClient,this._url,r,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(r){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(r))}}class M${constructor(r,e,s,l,o,i){this._logger=s,this._accessTokenFactory=e,this._logMessageContent=l,this._webSocketConstructor=o,this._httpClient=r,this.onreceive=null,this.onclose=null,this._headers=i}async connect(r,e){Cr.isRequired(r,"url"),Cr.isRequired(e,"transferFormat"),Cr.isIn(e,ns,"transferFormat"),this._logger.log(ze.Trace,"(WebSockets transport) Connecting.");let s;return this._accessTokenFactory&&(s=await this._accessTokenFactory()),new Promise((l,o)=>{r=r.replace(/^http/,"ws");let i;const d=this._httpClient.getCookieString(r);let c=!1;if(rr.isNode||rr.isReactNative){const a={},[u,m]=lc();a[u]=m,s&&(a[el.Authorization]=`Bearer ${s}`),d&&(a[el.Cookie]=d),i=new this._webSocketConstructor(r,void 0,{headers:{...a,...this._headers}})}else s&&(r+=(r.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(s)}`);i||(i=new this._webSocketConstructor(r)),e===ns.Binary&&(i.binaryType="arraybuffer"),i.onopen=a=>{this._logger.log(ze.Information,`WebSocket connected to ${r}.`),this._webSocket=i,c=!0,l()},i.onerror=a=>{let u=null;typeof ErrorEvent<"u"&&a instanceof ErrorEvent?u=a.error:u="There was an error with the transport",this._logger.log(ze.Information,`(WebSockets transport) ${u}.`)},i.onmessage=a=>{if(this._logger.log(ze.Trace,`(WebSockets transport) data received. ${Zu(a.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(a.data)}catch(u){this._close(u);return}},i.onclose=a=>{if(c)this._close(a);else{let u=null;typeof ErrorEvent<"u"&&a instanceof ErrorEvent?u=a.error:u="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(u))}}})}send(r){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(ze.Trace,`(WebSockets transport) sending data. ${Zu(r,this._logMessageContent)}.`),this._webSocket.send(r),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(r){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(ze.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(r)&&(r.wasClean===!1||r.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${r.code} (${r.reason||"no reason given"}).`)):r instanceof Error?this.onclose(r):this.onclose())}_isCloseEvent(r){return r&&typeof r.wasClean=="boolean"&&typeof r.code=="number"}}const S4=100;class O${constructor(r,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Cr.isRequired(r,"url"),this._logger=d$(e.logger),this.baseUrl=this._resolveUrl(r),e=e||{},e.logMessageContent=e.logMessageContent===void 0?!1:e.logMessageContent,typeof e.withCredentials=="boolean"||e.withCredentials===void 0)e.withCredentials=e.withCredentials===void 0?!0:e.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.timeout=e.timeout===void 0?100*1e3:e.timeout;let s=null,l=null;if(rr.isNode&&typeof require<"u"){const o=typeof __webpack_require__=="function"?__non_webpack_require__:require;s=o("ws"),l=o("eventsource")}!rr.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:rr.isNode&&!e.WebSocket&&s&&(e.WebSocket=s),!rr.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:rr.isNode&&!e.EventSource&&typeof l<"u"&&(e.EventSource=l),this._httpClient=new R$(e.httpClient||new v$(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}async start(r){if(r=r||ns.Binary,Cr.isIn(r,ns,"transferFormat"),this._logger.log(ze.Debug,`Starting connection with transfer format '${ns[r]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(r),await this._startInternalPromise,this._connectionState==="Disconnecting"){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(ze.Error,e),await this._stopPromise,Promise.reject(new ma(e))}else if(this._connectionState!=="Connected"){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(ze.Error,e),Promise.reject(new ma(e))}this._connectionStarted=!0}send(r){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Yy(this.transport)),this._sendQueue.send(r))}async stop(r){if(this._connectionState==="Disconnected")return this._logger.log(ze.Debug,`Call to HttpConnection.stop(${r}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(ze.Debug,`Call to HttpConnection.stop(${r}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(e=>{this._stopPromiseResolver=e}),await this._stopInternal(r),await this._stopPromise}async _stopInternal(r){this._stopError=r;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(ze.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(ze.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(r){let e=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Or.WebSockets)this.transport=this._constructTransport(Or.WebSockets),await this._startTransport(e,r);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let s=null,l=0;do{if(s=await this._getNegotiationResponse(e),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new ma("The connection was stopped during negotiation.");if(s.error)throw new Error(s.error);if(s.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(s.url&&(e=s.url),s.accessToken){const o=s.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}l++}while(s.url&&l<S4);if(l===S4&&s.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(e,this._options.transport,s,r)}this.transport instanceof j4&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(ze.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(s){return this._logger.log(ze.Error,"Failed to start the connection: "+s),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(s)}}async _getNegotiationResponse(r){const e={},[s,l]=lc();e[s]=l;const o=this._resolveNegotiateUrl(r);this._logger.log(ze.Debug,`Sending negotiation request: ${o}.`);try{const i=await this._httpClient.post(o,{content:"",headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(i.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${i.statusCode}'`));const d=JSON.parse(i.content);return(!d.negotiateVersion||d.negotiateVersion<1)&&(d.connectionToken=d.connectionId),d.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new x4("Client didn't negotiate Stateful Reconnect but the server did.")):d}catch(i){let d="Failed to complete negotiation with the server: "+i;return i instanceof Jo&&i.statusCode===404&&(d=d+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(ze.Error,d),Promise.reject(new x4(d))}}_createConnectUrl(r,e){return e?r+(r.indexOf("?")===-1?"?":"&")+`id=${e}`:r}async _createTransport(r,e,s,l){let o=this._createConnectUrl(r,s.connectionToken);if(this._isITransport(e)){this._logger.log(ze.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,await this._startTransport(o,l),this.connectionId=s.connectionId;return}const i=[],d=s.availableTransports||[];let c=s;for(const a of d){const u=this._resolveTransportOrError(a,e,l,c?.useStatefulReconnect===!0);if(u instanceof Error)i.push(`${a.transport} failed:`),i.push(u);else if(this._isITransport(u)){if(this.transport=u,!c){try{c=await this._getNegotiationResponse(r)}catch(m){return Promise.reject(m)}o=this._createConnectUrl(r,c.connectionToken)}try{await this._startTransport(o,l),this.connectionId=c.connectionId;return}catch(m){if(this._logger.log(ze.Error,`Failed to start the transport '${a.transport}': ${m}`),c=void 0,i.push(new o$(`${a.transport} failed: ${m}`,Or[a.transport])),this._connectionState!=="Connecting"){const h="Failed to select transport before stop() was called.";return this._logger.log(ze.Debug,h),Promise.reject(new ma(h))}}}}return i.length>0?Promise.reject(new l$(`Unable to connect to the server with any of the available transports. ${i.join(" ")}`,i)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(r){switch(r){case Or.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new M$(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Or.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new A$(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Or.LongPolling:return new j4(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${r}.`)}}_startTransport(r,e){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async s=>{let l=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(r,e),await this.features.resend()}catch{l=!0}else{this._stopConnection(s);return}l&&this._stopConnection(s)}:this.transport.onclose=s=>this._stopConnection(s),this.transport.connect(r,e)}_resolveTransportOrError(r,e,s,l){const o=Or[r.transport];if(o==null)return this._logger.log(ze.Debug,`Skipping transport '${r.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${r.transport}' because it is not supported by this client.`);if(D$(e,o))if(r.transferFormats.map(d=>ns[d]).indexOf(s)>=0){if(o===Or.WebSockets&&!this._options.WebSocket||o===Or.ServerSentEvents&&!this._options.EventSource)return this._logger.log(ze.Debug,`Skipping transport '${Or[o]}' because it is not supported in your environment.'`),new a$(`'${Or[o]}' is not supported in your environment.`,o);this._logger.log(ze.Debug,`Selecting transport '${Or[o]}'.`);try{return this.features.reconnect=o===Or.WebSockets?l:void 0,this._constructTransport(o)}catch(d){return d}}else return this._logger.log(ze.Debug,`Skipping transport '${Or[o]}' because it does not support the requested transfer format '${ns[s]}'.`),new Error(`'${Or[o]}' does not support ${ns[s]}.`);else return this._logger.log(ze.Debug,`Skipping transport '${Or[o]}' because it was disabled by the client.`),new i$(`'${Or[o]}' is disabled by the client.`,o)}_isITransport(r){return r&&typeof r=="object"&&"connect"in r}_stopConnection(r){if(this._logger.log(ze.Debug,`HttpConnection.stopConnection(${r}) called while in state ${this._connectionState}.`),this.transport=void 0,r=this._stopError||r,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(ze.Debug,`Call to HttpConnection.stopConnection(${r}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(ze.Warning,`Call to HttpConnection.stopConnection(${r}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${r}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),r?this._logger.log(ze.Error,`Connection disconnected with error '${r}'.`):this._logger.log(ze.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(ze.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(r)}catch(e){this._logger.log(ze.Error,`HttpConnection.onclose(${r}) threw error '${e}'.`)}}}_resolveUrl(r){if(r.lastIndexOf("https://",0)===0||r.lastIndexOf("http://",0)===0)return r;if(!rr.isBrowser)throw new Error(`Cannot resolve '${r}'.`);const e=window.document.createElement("a");return e.href=r,this._logger.log(ze.Information,`Normalizing '${r}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(r){const e=new URL(r);e.pathname.endsWith("/")?e.pathname+="negotiate":e.pathname+="/negotiate";const s=new URLSearchParams(e.searchParams);return s.has("negotiateVersion")||s.append("negotiateVersion",this._negotiateVersion.toString()),s.has("useStatefulReconnect")?s.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&s.append("useStatefulReconnect","true"),e.search=s.toString(),e.toString()}}function D$(t,r){return!t||(r&t)!==0}class Yy{constructor(r){this._transport=r,this._buffer=[],this._executing=!0,this._sendBufferedData=new eh,this._transportResult=new eh,this._sendLoopPromise=this._sendLoop()}send(r){return this._bufferData(r),this._transportResult||(this._transportResult=new eh),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(r){if(this._buffer.length&&typeof this._buffer[0]!=typeof r)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof r}`);this._buffer.push(r),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new eh;const r=this._transportResult;this._transportResult=void 0;const e=typeof this._buffer[0]=="string"?this._buffer.join(""):Yy._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(e),r.resolve()}catch(s){r.reject(s)}}}static _concatBuffers(r){const e=r.map(o=>o.byteLength).reduce((o,i)=>o+i),s=new Uint8Array(e);let l=0;for(const o of r)s.set(new Uint8Array(o),l),l+=o.byteLength;return s.buffer}}class eh{constructor(){this.promise=new Promise((r,e)=>[this._resolver,this._rejecter]=[r,e])}resolve(){this._resolver()}reject(r){this._rejecter(r)}}const I$="json";class P${constructor(){this.name=I$,this.version=2,this.transferFormat=ns.Text}parseMessages(r,e){if(typeof r!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!r)return[];e===null&&(e=Qu.instance);const s=Fs.parse(r),l=[];for(const o of s){const i=JSON.parse(o);if(typeof i.type!="number")throw new Error("Invalid payload.");switch(i.type){case sn.Invocation:this._isInvocationMessage(i);break;case sn.StreamItem:this._isStreamItemMessage(i);break;case sn.Completion:this._isCompletionMessage(i);break;case sn.Ping:break;case sn.Close:break;case sn.Ack:this._isAckMessage(i);break;case sn.Sequence:this._isSequenceMessage(i);break;default:e.log(ze.Information,"Unknown message type '"+i.type+"' ignored.");continue}l.push(i)}return l}writeMessage(r){return Fs.write(JSON.stringify(r))}_isInvocationMessage(r){this._assertNotEmptyString(r.target,"Invalid payload for Invocation message."),r.invocationId!==void 0&&this._assertNotEmptyString(r.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(r){if(this._assertNotEmptyString(r.invocationId,"Invalid payload for StreamItem message."),r.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(r){if(r.result&&r.error)throw new Error("Invalid payload for Completion message.");!r.result&&r.error&&this._assertNotEmptyString(r.error,"Invalid payload for Completion message."),this._assertNotEmptyString(r.invocationId,"Invalid payload for Completion message.")}_isAckMessage(r){if(typeof r.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(r){if(typeof r.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(r,e){if(typeof r!="string"||r==="")throw new Error(e)}}const L$={trace:ze.Trace,debug:ze.Debug,info:ze.Information,information:ze.Information,warn:ze.Warning,warning:ze.Warning,error:ze.Error,critical:ze.Critical,none:ze.None};function B$(t){const r=L$[t.toLowerCase()];if(typeof r<"u")return r;throw new Error(`Unknown log level: ${t}`)}class F${configureLogging(r){if(Cr.isRequired(r,"logging"),U$(r))this.logger=r;else if(typeof r=="string"){const e=B$(r);this.logger=new Vh(e)}else this.logger=new Vh(r);return this}withUrl(r,e){return Cr.isRequired(r,"url"),Cr.isNotEmpty(r,"url"),this.url=r,typeof e=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...e}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:e},this}withHubProtocol(r){return Cr.isRequired(r,"protocol"),this.protocol=r,this}withAutomaticReconnect(r){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return r?Array.isArray(r)?this.reconnectPolicy=new w4(r):this.reconnectPolicy=r:this.reconnectPolicy=new w4,this}withServerTimeout(r){return Cr.isRequired(r,"milliseconds"),this._serverTimeoutInMilliseconds=r,this}withKeepAliveInterval(r){return Cr.isRequired(r,"milliseconds"),this._keepAliveIntervalInMilliseconds=r,this}withStatefulReconnect(r){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=r?.bufferSize,this}build(){const r=this.httpConnectionOptions||{};if(r.logger===void 0&&(r.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new O$(this.url,r);return Gy.create(e,this.logger||Qu.instance,this.protocol||new P$,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function U$(t){return t.log!==void 0}var Nb=(t=>(t.TransferApprovalRequest="TransferApprovalRequest",t.TransferApproved="TransferApproved",t.TransferRejected="TransferRejected",t))(Nb||{});const $$={alerts:[],unreadCount:0,isConnected:!1,onlineUserIds:new Set,fetchAlerts:async()=>{console.warn("fetchAlerts method not implemented yet!")},markAsRead:async()=>{console.warn("markAsRead method not implemented yet!")},markAllAsRead:async()=>{console.warn("markAllAsRead method not implemented yet!")},refreshUnreadCount:async()=>{console.warn("refreshUnreadCount method not implemented yet!")}},q5=B.createContext($$),z$=({children:t})=>{const[r,e]=B.useState([]),[s,l]=B.useState(0),[o,i]=B.useState(null),[d,c]=B.useState(!1),[a,u]=B.useState(new Set),{isAuthenticated:m,user:h}=bt();B.useEffect(()=>{if(!m||!h){o&&(o.stop(),i(null),c(!1));return}const v=sessionStorage.getItem("authToken");if(!v)return;const j=new F$().withUrl(`${dd}/hubs/notifications`,{accessTokenFactory:()=>v}).withAutomaticReconnect().configureLogging(ze.Information).build();return j.on("ReceiveAlert",N=>{console.log("Received alert:",N),e(T=>[N,...T]),l(T=>T+1)}),j.on("UnreadCountUpdate",N=>{console.log("Unread count updated:",N),l(N)}),j.on("UserConnected",N=>{console.log("User connected:",N),u(T=>new Set(T).add(N))}),j.on("UserDisconnected",N=>{console.log("User disconnected:",N),u(T=>{const D=new Set(T);return D.delete(N),D})}),j.start().then(async()=>{console.log("SignalR connected"),c(!0),i(j),g();try{const N=await j.invoke("GetOnlineUsers");console.log("Initial online users:",N),u(new Set(N))}catch(N){console.error("Failed to fetch initial online users:",N)}}).catch(N=>{console.error("SignalR connection error:",N),c(!1)}),()=>{j&&j.stop()}},[m,h]);const p=B.useCallback(async(v=!1,j)=>{try{const N=new URLSearchParams;v&&N.append("unreadOnly","true"),j&&N.append("limit",j.toString());const T=await Ye.get(`wmsalert?${N.toString()}`);e(T.data)}catch(N){console.error("Failed to fetch alerts:",N)}},[]),y=B.useCallback(async v=>{try{await Ye.post(`wmsalert/${v}/read`),e(j=>j.map(N=>N.id===v?{...N,isRead:!0,readAt:new Date().toISOString()}:N)),l(j=>Math.max(0,j-1))}catch(j){console.error("Failed to mark alert as read:",j)}},[]),x=B.useCallback(async()=>{try{await Ye.post("wmsalert/readAll"),e(v=>v.map(j=>({...j,isRead:!0,readAt:new Date().toISOString()}))),l(0)}catch(v){console.error("Failed to mark all alerts as read:",v)}},[]),g=B.useCallback(async()=>{try{const v=await Ye.get("wmsalert/count");l(v.data.count)}catch(v){console.error("Failed to refresh unread count:",v)}},[]),w={alerts:r,unreadCount:s,isConnected:d,onlineUserIds:a,fetchAlerts:p,markAsRead:y,markAllAsRead:x,refreshUnreadCount:g};return n.jsx(q5,{value:w,children:t})},Xy=()=>{const t=B.useContext(q5);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},q$=()=>{const{t}=Be(),{alerts:r,unreadCount:e,fetchAlerts:s,markAsRead:l,markAllAsRead:o,refreshUnreadCount:i}=Xy(),[d,c]=B.useState(!1),a=fn();B.useEffect(()=>{d&&s(!1,10)},[d,s]),B.useEffect(()=>{i()},[i]);const u=async p=>{p.isRead||await l(p.id),c(!1),p.data?a(p.data):p.actionUrl&&a(p.actionUrl)},m=async()=>{await o()},h=p=>p==="TransferApprovalRequest"||p===0?"bg-yellow-100 text-yellow-800":p==="TransferApproved"||p===1?"bg-green-100 text-green-800":p==="TransferRejected"||p===2?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800";return n.jsxs(kd,{open:d,onOpenChange:c,children:[n.jsx(Ed,{asChild:!0,children:n.jsxs("button",{className:"relative h-9 w-9 md:h-10 md:w-10 flex items-center justify-center rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-600","aria-label":"Notifications",children:[n.jsx(s3,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-600"}),e>0&&n.jsx(Nr,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:e>9?"9+":e})]})}),n.jsxs(Rd,{align:"end",className:"w-80 md:w-96",children:[n.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[n.jsx(lF,{className:"p-0",children:t("notifications")}),e>0&&n.jsx(Ie,{variant:"ghost",size:"sm",onClick:m,className:"text-xs h-7",children:t("markAllAsRead")})]}),n.jsx(M6,{}),r.length===0?n.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500",children:t("noNotifications")}):n.jsx(hl,{className:"h-[400px]",children:r.map(p=>n.jsx(Zo,{className:`flex flex-col items-start p-3 cursor-pointer ${p.isRead?"hover:bg-gray-50":"bg-blue-50 hover:bg-blue-100"}`,onClick:()=>u(p),children:n.jsxs("div",{className:"flex items-start gap-2 w-full",children:[n.jsx("div",{className:`h-2 w-2 rounded-full mt-1.5 flex-shrink-0 ${p.isRead?"bg-gray-300":"bg-blue-600"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-semibold text-sm truncate",children:p.title}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${h(p.alertType)}`,children:p.alertType===Nb.TransferApprovalRequest?t("alertPending"):p.alertType===Nb.TransferApproved?t("alertApproved"):t("alertRejected")})]}),n.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-1",children:p.message}),n.jsx("span",{className:"text-xs text-gray-400",children:xL(new Date(p.createdAt),{addSuffix:!0})})]})]})},p.id))})]})]})},V$=({className:t=""})=>{const{t:r}=Be(),{isConnected:e}=Xy(),[s,l]=B.useState("excellent"),[o,i]=B.useState(0),[d,c]=B.useState(navigator.onLine);B.useEffect(()=>{const p=()=>c(!0),y=()=>c(!1);return window.addEventListener("online",p),window.addEventListener("offline",y),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",y)}},[]),B.useEffect(()=>{if(!d){l("offline");return}const p=async()=>{const x=performance.now();try{await fetch(`${window.location.origin}/manifest.json`,{method:"HEAD",cache:"no-cache"});const g=performance.now(),w=Math.round(g-x);i(w),w<100?l("excellent"):w<300?l("good"):l("poor")}catch{l("offline"),i(0)}};p();const y=setInterval(p,3e4);return()=>clearInterval(y)},[d]),B.useEffect(()=>{!e&&d&&l("poor")},[e,d]);const u=(()=>{switch(s){case"excellent":return{icon:g2,color:"text-green-600",bgColor:"bg-green-100",label:r("networkExcellent"),bars:3};case"good":return{icon:g2,color:"text-yellow-600",bgColor:"bg-yellow-100",label:r("networkGood"),bars:2};case"poor":return{icon:go,color:"text-orange-600",bgColor:"bg-orange-100",label:r("networkPoor"),bars:1};case"offline":return{icon:f3,color:"text-red-600",bgColor:"bg-red-100",label:r("networkOffline"),bars:0}}})(),m=u.icon,h=()=>s==="offline"?n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-semibold",children:u.label}),n.jsx("div",{className:"text-xs",children:r("networkOfflineDesc")})]}):n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-semibold",children:u.label}),n.jsxs("div",{className:"text-xs",children:[r("latency"),": ",o,"ms"]}),!e&&n.jsx("div",{className:"text-xs text-orange-300",children:r("signalrDisconnected")})]});return n.jsx(Vy,{children:n.jsxs(L5,{children:[n.jsx(B5,{asChild:!0,children:n.jsxs("button",{className:`relative p-1.5 md:p-2 rounded-md hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 ${t}`,"aria-label":r("networkQuality"),children:[n.jsx(m,{className:`h-4 w-4 md:h-5 md:w-5 ${u.color}`}),n.jsx("span",{className:`absolute bottom-0.5 right-0.5 md:bottom-1 md:right-1 h-2 w-2 rounded-full ${u.bgColor} ${u.color} ring-2 ring-white`})]})}),n.jsx(F5,{side:"bottom",className:"max-w-xs",children:h()})]})})},cc={async getAll(t){return(await Ye.get("device",{params:t})).data},async getByUuid(t){return(await Ye.get(`device/${t}`)).data},async updateStatus(t,r){await Ye.put(`device/${t}/status`,r)},async updateName(t,r){await Ye.put(`device/${t}/name`,r)},async getAuditHistory(t){return(await Ye.get(`device/${t}/audit`)).data}},H$=({showDialog:t=!1})=>n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg w-full","aria-label":"Loading...",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Q,{className:"h-5 w-5 mr-3 rounded"}),n.jsx(Q,{className:"h-4 w-80"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-8 w-24"}),n.jsx(Q,{className:"h-8 w-8 rounded-full"})]})]}),t&&n.jsx(lr,{open:!0,children:n.jsxs(cr,{children:[n.jsxs(ur,{children:[n.jsx(dr,{children:n.jsx(Q,{className:"h-6 w-32"})}),n.jsx(_i,{children:n.jsx(Q,{className:"h-4 w-64"})})]}),n.jsx("div",{className:"space-y-4 py-4","aria-label":"Loading form...",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-20 w-full rounded"})]})}),n.jsxs(ra,{children:[n.jsx(Q,{className:"h-9 w-16"}),n.jsx(Q,{className:"h-9 w-20"})]})]})})]}),V5=({deviceStatus:t,onClose:r,showBorder:e=!1,showCloseButton:s=!0,allowActivation:l=!1})=>{const{t:o}=Be(),[i,d]=B.useState(!1),[c,a]=B.useState(!1),{setLoading:u,setError:m}=Dt(),{updateDeviceStatus:h}=bt(),p=dl({defaultValues:{reason:""}}),y=async j=>{try{a(!0);const N=nc();await cc.updateStatus(N,{status:Lr.Active,reason:j.reason||""}),h(Lr.Active),d(!1),r()}catch{m(o("deviceStatusBanner.activationError","Failed to activate device. Please try again."))}finally{a(!1)}},g=(j=>{switch(j){case Lr.Inactive:return{bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-600",message:o("deviceStatusBanner.inactive","Your device is currently inactive. Please contact your administrator.")};case Lr.Disabled:return{bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-600",message:o("deviceStatusBanner.disabled","Your device has been disabled. Please contact your administrator.")};default:return null}})(t);if(!g)return null;const w=e?`flex items-center justify-between p-4 ${g.bgColor} border ${g.borderColor} rounded-lg w-full`:`flex items-center justify-between p-4 ${g.bgColor} w-full`,v=l&&t===Lr.Inactive;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:w,style:e?{}:{left:"0px",right:"0px"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(go,{className:`h-5 w-5 ${g.iconColor} mr-3 flex-shrink-0`}),n.jsx("p",{className:`text-sm font-medium ${g.textColor}`,children:g.message})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[v&&n.jsxs(Ie,{onClick:()=>d(!0),size:"sm",variant:"outline",className:`${g.textColor} border-current hover:bg-opacity-10`,children:[n.jsx(m2,{className:"h-4 w-4 mr-2"}),o("deviceStatusBanner.activateDevice","Activate Device")]}),s&&n.jsx("button",{onClick:r,className:`${g.textColor} hover:bg-opacity-20 hover:bg-gray-500 rounded-full p-1 transition-colors`,"aria-label":o("close","Close"),children:n.jsx(br,{className:"h-4 w-4"})})]})]}),n.jsx(lr,{open:i,onOpenChange:d,children:n.jsxs(cr,{children:[n.jsxs(ur,{children:[n.jsx(dr,{children:o("deviceStatusBanner.activateDeviceTitle","Activate Device")}),n.jsx(_i,{children:o("deviceStatusBanner.activateDeviceDescription","You can optionally provide a reason for activating this device.")})]}),c?n.jsx(H$,{showDialog:!1}):n.jsx(fl,{...p,children:n.jsxs("form",{onSubmit:p.handleSubmit(y),className:"space-y-4",children:[n.jsx(Dr,{control:p.control,name:"reason",rules:{maxLength:{value:500,message:o("deviceStatusBanner.reasonMaxLength","Reason must not exceed 500 characters")}},render:({field:j})=>n.jsxs(Ir,{children:[n.jsx(Pr,{children:o("deviceStatusBanner.reasonLabel","Reason (Optional)")}),n.jsx(qr,{children:n.jsx(pl,{placeholder:o("deviceStatusBanner.reasonPlaceholder","Enter the reason for activating this device..."),className:"resize-none",rows:4,...j})}),n.jsx(Bs,{})]})}),n.jsxs(ra,{children:[n.jsx(Ie,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:c,children:o("cancel","Cancel")}),n.jsxs(Ie,{type:"submit",disabled:c,children:[n.jsx(m2,{className:"h-4 w-4 mr-2"}),c?o("deviceStatusBanner.activating","Activating..."):o("deviceStatusBanner.activate","Activate")]})]})]})})]})})]})},H5=({accountStatus:t,className:r=""})=>{const{t:e}=Be(),l=(i=>{switch(i){case Jn.Invalid:return{bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-600",icon:ba,message:e("accountStatusBanner.invalid","Your account status is invalid. Please contact support.")};case Jn.PaymentDue:return{bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-600",icon:go,message:e("accountStatusBanner.paymentDue","Payment is due for your account. Please update your payment method.")};case Jn.PaymentDueUnknown:return{bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-600",icon:sr,message:e("accountStatusBanner.paymentDueUnknown","Payment status is unknown. Please contact support to verify your account.")};case Jn.Demo:return{bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-600",icon:uo,message:e("accountStatusBanner.demo","You are using a demo account with limited features.")};case Jn.DemoExpired:return{bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-600",icon:ba,message:e("accountStatusBanner.demoExpired","Your demo account has expired. Please contact support to upgrade.")};case Jn.Disabled:return{bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-600",icon:ba,message:e("accountStatusBanner.disabled","Your account has been disabled. Please contact support.")};default:return null}})(t);if(!l)return null;const{icon:o}=l;return n.jsxs("div",{className:`flex items-center p-4 ${l.bgColor} border ${l.borderColor} rounded-lg ${r}`,children:[n.jsx(o,{className:`h-5 w-5 ${l.iconColor} mr-3 flex-shrink-0`}),n.jsx("p",{className:`text-sm font-medium ${l.textColor}`,children:l.message})]})},W$=({items:t,homeLabel:r,onHomeClick:e,className:s})=>{const l=B.useRef(null),[o,i]=B.useState([]),[d,c]=B.useState([]),[a,u]=B.useState(!1);B.useEffect(()=>{const h=()=>{if(!l.current)return;const y=l.current,x=y.offsetWidth;if(x===0){setTimeout(h,100);return}i(t.map((g,w)=>w)),c([]),u(!1),setTimeout(()=>{const g=y.querySelectorAll("[data-breadcrumb-item]");let w=0;const v=[],j=[],N=[];g.forEach(V=>{const P=V.offsetWidth+20;v.push(P)});const D=Math.max(x-120,x*.7);t.length>0&&(t.length>0&&v[t.length-1]&&(w+=v[t.length-1],j.push(t.length-1)),t.forEach((V,P)=>{V.priority==="high"&&!j.includes(P)&&v[P]&&w+v[P]<=D&&(w+=v[P],j.push(P))}),!j.includes(0)&&v[0]&&w+v[0]<=D&&(w+=v[0],j.push(0)),t.forEach((V,P)=>{!j.includes(P)&&v[P]&&w+v[P]<=D?(w+=v[P],j.push(P)):j.includes(P)||N.push(P)})),j.sort((V,P)=>V-P),i(j),c(N),u(N.length>0)},0)};h();const p=new ResizeObserver(h);return l.current&&p.observe(l.current),()=>{p.disconnect()}},[t]);const m=(h,p,y)=>{const x=n.jsxs("span",{className:"flex items-center",children:[h.icon&&n.jsx("span",{className:"mr-1 flex-shrink-0",children:h.icon}),n.jsx("span",{className:"truncate max-w-[80px] sm:max-w-[120px] md:max-w-[200px]",children:h.label})]});return h.onClick?n.jsx("button",{"data-breadcrumb-item":!0,className:"cursor-pointer text-xs md:text-base font-medium text-gray-700 hover:text-gray-900 underline focus:outline-none focus:ring-2 focus:ring-blue-600 rounded px-1 md:px-2 py-0.5 md:py-1 transition-all min-w-0 flex items-center",onClick:h.onClick,title:h.label,children:x},p):n.jsx("span",{"data-breadcrumb-item":!0,className:Ze("text-xs md:text-base font-medium min-w-0 flex items-center px-1 md:px-2",y?"text-gray-900 font-semibold":"text-gray-600"),title:h.label,children:x},p)};return n.jsxs("nav",{ref:l,className:Ze("flex items-center gap-1 md:gap-2 overflow-hidden w-full",s),"aria-label":"Breadcrumb",children:[r&&n.jsx(n.Fragment,{children:e?n.jsxs("button",{"data-breadcrumb-item":!0,className:"cursor-pointer text-xs md:text-lg font-semibold text-gray-700 hover:text-gray-900 underline focus:outline-none focus:ring-2 focus:ring-blue-600 rounded px-1 md:px-2 py-0.5 md:py-1 transition-all whitespace-nowrap flex items-center flex-shrink-0",onClick:e,children:[n.jsx(jh,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 flex-shrink-0"}),n.jsx("span",{className:"truncate max-w-[100px] sm:max-w-[150px] md:max-w-none",children:r})]}):n.jsxs("span",{"data-breadcrumb-item":!0,className:"text-xs md:text-lg font-semibold text-gray-900 whitespace-nowrap flex items-center flex-shrink-0",children:[n.jsx(jh,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 flex-shrink-0"}),n.jsx("span",{className:"truncate max-w-[100px] sm:max-w-[150px] md:max-w-none",children:r})]})}),n.jsx("div",{className:"flex items-center gap-1 md:gap-2 min-w-0 flex-1 overflow-hidden",children:t.map((h,p)=>{const y=!a||o.includes(p),x=p===t.length-1;if(!y)return null;const g=o[o.indexOf(p)-1],w=a&&o.includes(p)&&g!==void 0&&g!==p-1;return n.jsxs(Te.Fragment,{children:[w&&d.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-gray-400 text-xs md:text-base",children:"/"}),n.jsxs(kd,{children:[n.jsxs(Ed,{className:"inline-flex items-center gap-1 px-2 py-1 text-xs md:text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",children:[n.jsx("span",{className:"hidden sm:inline",children:"More"}),n.jsx("span",{className:"sm:hidden",children:"..."}),n.jsx(hd,{className:"h-3 w-3"}),d.length>0&&n.jsx("span",{className:"ml-1 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold leading-none text-white bg-blue-600 rounded-full",children:d.length})]}),n.jsx(Rd,{align:"start",className:"w-56",children:d.map(v=>n.jsxs(Zo,{onClick:t[v].onClick,disabled:!t[v].onClick,className:"cursor-pointer",children:[t[v].icon&&n.jsx("span",{className:"mr-2",children:t[v].icon}),t[v].label]},v))})]})]}),(p>0||r)&&n.jsx("span",{className:"text-gray-400 text-xs md:text-base",children:"/"}),m(h,p,x)]},p)})})]})},xn=({title:t,titleOnClick:r,titleBreadcrumbs:e,children:s,footer:l,onExportExcel:o,onAdd:i,onFilterClicked:d})=>{const{t:c}=Be(),{user:a,companyInfo:u,showDeviceStatusBanner:m,setShowDeviceStatusBanner:h}=bt(),p=()=>!a||!a.deviceStatus||!m?!1:a.deviceStatus===Lr.Inactive||a.deviceStatus===Lr.Disabled,y=()=>u?.accountStatus?[Jn.Invalid,Jn.PaymentDue,Jn.PaymentDueUnknown,Jn.Demo,Jn.DemoExpired,Jn.Disabled].includes(u.accountStatus):!1;return n.jsx(XU,{children:n.jsxs("div",{className:"h-dvh flex w-full text-base md:text-lg",children:[n.jsx(s$,{}),n.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[n.jsxs("header",{className:"flex items-center justify-between min-h-[3.5rem] md:min-h-[4rem] py-2 px-3 md:px-6 bg-white border-b border-gray-200 flex-shrink-0 z-10 w-full",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-1",children:[n.jsx(QU,{className:"flex-shrink-0 h-9 w-9 md:h-10 md:w-10 focus:outline-none focus:ring-2 focus:ring-blue-600 rounded-lg transition-colors hover:bg-gray-100"}),n.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:n.jsx(W$,{homeLabel:t,onHomeClick:r,items:e||[],className:"flex-1"})})]}),n.jsxs("div",{className:"flex items-center flex-shrink-0 gap-1 md:gap-2 ml-2 md:ml-4",children:[n.jsx(V$,{}),n.jsx(q$,{}),d&&n.jsx("button",{onClick:d,className:"h-9 w-9 md:h-10 md:w-10 flex items-center justify-center rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-600","aria-label":"Filter",children:n.jsx(K9,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-600"})}),i&&n.jsxs(Ie,{type:"button",variant:"outline",size:"sm",onClick:i,className:"h-9 md:h-10 font-normal focus:outline-none focus:ring-2 focus:ring-blue-600 px-2 md:px-3",children:[n.jsx(Vb,{className:"mr-1 md:mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:c("add")})]}),o&&n.jsx("button",{onClick:o,className:"h-9 w-9 md:h-10 md:w-10 flex items-center justify-center rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-600","aria-label":"Export to Excel",children:n.jsx(G9,{className:"h-4 w-4 md:h-5 md:w-5 text-green-600"})})]})]}),y()&&n.jsx("div",{className:"w-full",children:n.jsx(H5,{accountStatus:u.accountStatus,className:"w-full"})}),p()&&n.jsx("div",{className:"w-full",children:n.jsx(V5,{deviceStatus:a.deviceStatus,onClose:()=>h(!1),allowActivation:a?.superUser||!1})}),n.jsx("main",{className:"flex-1 overflow-auto p-0 md:p-2 md:py-4 w-full min-w-0",children:n.jsx("div",{className:"w-full min-w-0",children:s})}),l&&n.jsx("footer",{className:"flex-shrink-0 bg-white w-full border-t-1",children:l})]})]})})};function kr(){const t=navigator.language||"en-US",r=B.useCallback(l=>l==null?"":(typeof l=="string"?new Date(l):l).toLocaleDateString(t),[t]),e=B.useCallback(l=>l==null?"":(typeof l=="string"?new Date(l):l).toLocaleTimeString(t),[t]),s=B.useCallback(l=>{if(l==null)return"";const o=typeof l=="string"?new Date(l):l;return`${o.toLocaleDateString(t)} ${o.toLocaleTimeString(t)}`},[t]);return{dateFormat:r,timeFormat:e,dateTimeFormat:s}}var W5=(t=>(t.Error="Error",t.Ok="Ok",t))(W5||{}),G5=(t=>(t.Text="Text",t.Number="Number",t.Date="Date",t))(G5||{});function G$(t,r,e){if(r==null)return null;switch(t.type){case G5.Date:return e(r);default:return r.toString()}}function Hh(t,r,e,s){return r.map((l,o)=>{const i=t?.[l.key],d=G$(l,i,e);return s(l,d,o)})}const Y5=({details:t})=>{const{t:r}=Be(),{defaultUnit:e,unitSelection:s}=bt();return n.jsxs(K5,{children:[n.jsx(_t,{label:r("code"),value:t.itemCode}),n.jsx(_t,{label:r("description"),value:t.itemName}),(s||e===an.Dozen&&t.numInBuy!=1)&&n.jsx(_t,{label:r("purchasingUoM"),value:`${t.buyUnitMsr} ${t.numInBuy}`}),(s||e===an.Pack&&t.purPackUn!=1)&&n.jsx(_t,{label:r("packagingUoM"),value:`${t.purPackMsr} ${t.purPackUn}`}),n.jsx(X5,{customFields:t.customFields,render:(l,o,i)=>n.jsx(_t,{label:l.description,value:o},`${l.key}-${i}`)})]})},X5=({customFields:t,render:r})=>{const{user:e}=bt(),{dateFormat:s}=kr(),l=e?.customFields?.Items??[],o=Hh(t,l,s,r);return n.jsx(n.Fragment,{children:o})},Y$=({isOpen:t,onClose:r,details:e})=>{const{t:s}=Be();return n.jsx(lr,{open:t,onOpenChange:r,children:n.jsxs(cr,{className:"sm:max-w-[600px]",children:[n.jsxs(ur,{children:[n.jsx(dr,{children:s("itemDetails")}),n.jsxs(ZS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(br,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]}),n.jsx(Y5,{details:e})]})})},Za=({data:t})=>{const[r,e]=B.useState(!1),s=()=>{e(!0)},l=()=>{e(!1)};return n.jsxs(n.Fragment,{children:[n.jsx(Ja,{className:"text-blue-600 hover:underline",onClick:o=>{o.preventDefault(),s()},to:"",children:t.itemCode}),n.jsx(Y$,{isOpen:r,onClose:l,details:t})]})},Ju=({children:t})=>n.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-4 p-4 md:p-6",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:t})}),qs=({children:t})=>n.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-4 p-4 md:p-6",children:n.jsx("div",{className:"space-y-4",children:t})}),K5=({children:t})=>n.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-4 p-4 md:p-6",children:n.jsx("div",{className:"grid grid-cols-2 gap-4 text-sm",children:t})}),_t=({label:t,value:r,onClick:e,itemDetailsLink:s})=>{const l=o=>{o.preventDefault(),e?.()};return n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500",children:[t,":"]}),n.jsx("span",{className:"ml-2 font-medium nowra",children:!e&&!s?r:s?n.jsx(Za,{data:s}):n.jsx("a",{href:"#",onClick:l,className:"text-blue-600 hover:underline",children:r})})]})},_4=({label:t,values:r})=>n.jsxs("div",{className:"metric-row flex justify-between items-center py-2 border-b border-gray-200",children:[n.jsx("div",{className:"w-[30%] font-medium",children:n.jsx("span",{children:t})}),n.jsxs("div",{className:"flex-1 flex justify-around text-center",children:[n.jsx("div",{className:"flex-1",children:n.jsx("span",{children:r.units})}),n.jsx("div",{className:"flex-1",children:n.jsx("span",{children:r.buyUnits})}),n.jsx("div",{className:"flex-1",children:n.jsx("span",{children:r.packUnits})})]})]});function X$(){const{t}=Be();return n.jsx(xn,{title:t("notFound"),children:n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsxs(ot,{className:"w-full max-w-md p-6 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:t("notFound")}),n.jsx("p",{className:"mb-4",children:t("notFoundMessage")}),n.jsx(Ja,{className:"text-blue-600 hover:underline",to:"/",children:t("returnToHome")})]})})})}const Ky=({itemCode:t,className:r=""})=>n.jsx(Ja,{to:`/itemCheck/${encodeURIComponent(t)}`,className:`text-blue-600 hover:underline hover:text-blue-800 transition-colors ${r}`,children:t}),ni=()=>{const{t}=Be(),{defaultUnit:r,unitSelection:e,user:s}=bt(),l=s.settings;return o=>{const i=o.quantity<0;let d=Math.abs(o.quantity);const c=o.purPackMsr&&o.purPackMsr.length>0?o.purPackMsr:l.boxLabel??t("packUnit"),a=o.buyUnitMsr&&o.buyUnitMsr.length>0?o.buyUnitMsr:l.dozensLabel??t("buyUnit"),u=t("units");if(!e){const g=r===an.Pack?c:r===an.Dozen?a:u;return r===an.Pack&&(d=Math.floor(d/o.purPackUn)),`${i?"-":""}${d} ${g}`}const m=o.purPackUn==1?0:Math.floor(d/(o.numInBuy*o.purPackUn)),h=o.purPackUn==1?d:d%(o.numInBuy*o.purPackUn);let p,y;l.maxUnitLevel===an.Dozen?(p=h/o.numInBuy,y=0):(p=Math.floor(h/o.numInBuy),y=h%o.numInBuy);let x="";return m>0&&(x=`${m} ${c} `),p>0&&(x.length>0&&(x+=", "),x+=`${p} ${a} `),y>0&&(x.length>0&&(x+=", "),x+=`${y} ${u}`),x.length===0&&(x="0"),i?`-${x}`:x}},K$=({packageId:t,barcode:r,className:e="",children:s})=>n.jsx(Ja,{to:`/packageCheck/${t}/${r}`,className:`text-blue-600 hover:underline hover:text-blue-800 transition-colors ${e}`,children:s||r}),Q5=({packages:t,dozens:r,units:e})=>{const{t:s}=Be(),{user:l}=bt(),o=l.settings;return n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold text-white ${t>0?"bg-blue-500":"bg-gray-200"}`,children:o.unitAbbr??s("inventory.units.box.abbr")}),n.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold text-white ${r>0?"bg-green-500":"bg-gray-200"}`,children:o.dozensAbbr??s("inventory.units.dozen.abbr")}),l?.settings.enableUseBaseUn&&n.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-bold text-white ${e>0?"bg-amber-500":"bg-gray-200"}`,children:o.boxAbbr??s("inventory.units.unit.abbr")})]})})},Z5=({index:t,isExpanded:r,hasPackages:e,onToggle:s,mainContent:l,stockText:o,stockBreakdown:i,packages:d,totalQuantity:c,itemDetails:a,unitSelection:u})=>{const{t:m}=Be(),h=ni();return n.jsxs("div",{className:`${t!==0?"border-t":""}`,children:[n.jsxs("div",{onClick:()=>e?s():null,className:`flex items-center justify-between p-4 ${e?"cursor-pointer hover:bg-gray-50":""} transition-colors`,children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[l,n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o})]}),u&&n.jsx(Q5,{packages:i.packages,dozens:i.dozens,units:i.units}),n.jsx(i3,{className:`w-5 h-5 text-gray-400 transition-transform ml-2 ${r?"rotate-90":""} ${e?"opacity-100":"opacity-0"}`})]}),e&&r&&n.jsxs("div",{className:"bg-gray-50 px-4 pb-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:a.purPackMsr||m("boxes")}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.packages})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:a.buyUnitMsr||m("dozens")}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.dozens})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:m("units")}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.units})]})]}),d&&d.length>0&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:m("inventory.mixedBoxes")}),n.jsx("div",{className:"space-y-1",children:d.map((p,y)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx(K$,{packageId:p.id,barcode:p.barcode,className:"text-gray-600 font-mono"}),n.jsx("span",{className:"text-gray-900 font-medium",children:h({quantity:p.quantity,numInBuy:a.numInBuy,buyUnitMsr:a.buyUnitMsr,purPackUn:a.purPackUn,purPackMsr:a.purPackMsr})})]},y))})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-sm text-gray-500",children:[m("total"),": ",n.jsxs("span",{className:"font-semibold text-gray-900",children:[c," ",m("units")]})]})})]})]})},Wh=({totals:t,enablePackages:r=!1,unitSelection:e,primaryLabel:s,thirdLabel:l="inventory.mixedBoxes"})=>{const{t:o}=Be();return n.jsxs("div",{className:`grid grid-cols-${r?"3":"2"} gap-4`,children:[n.jsxs(ot,{className:"p-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx(l3,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.primaryCount}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o(s)})]}),n.jsxs(ot,{className:"p-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx(hp,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalBoxes}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o(e?"inventory.totalBoxes":"totalItems")})]}),r&&n.jsxs(ot,{className:"p-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx(qb,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.mixedBoxes}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o(l)})]})]})};function ed(t,r){const e=t.quantity??t.onHand??0,s=t.purPackUn===1?0:Math.floor(e/(t.numInBuy*t.purPackUn)),l=t.purPackUn===1?e:e%(t.numInBuy*t.purPackUn);let o,i;return r.maxUnitLevel===an.Dozen?(o=l/t.numInBuy,i=0):(o=Math.floor(l/t.numInBuy),i=l%t.numInBuy),{packages:s,dozens:o,units:i}}function Jp(t,r,e,s,l){const o=t.quantity??t.onHand??0;if(!e)switch(s){case an.Unit:return`${o} ${l("units")}`;case an.Dozen:return`${o/t.numInBuy} ${l("units")}`;case an.Pack:return`${o/t.numInBuy/t.purPackUn} ${l("units")}`}const{packages:i,dozens:d,units:c}=ed(t,r),a=[];return i>0&&a.push(`${i} ${t.purPackMsr||"Box"}`),d>0&&a.push(`${d} ${t.buyUnitMsr||"Doz"}`),c>0&&a.push(`${c} ${l("units")}`),a.join(", ")||"0"}const Q$=({content:t})=>{const{t:r}=Be(),{user:e,unitSelection:s,defaultUnit:l}=bt(),[o,i]=B.useState([]),[d,c]=B.useState(new Set),a=e.settings;B.useEffect(()=>{t&&i(t)},[t]);const u=p=>{const y=new Set(d);y.has(p)?y.delete(p):y.add(p),c(y)},h=(()=>{let p=o.length,y=0,x=0;const g=new Set;return o.forEach(w=>{const v=Math.floor(w.onHand/(w.numInBuy*w.purPackUn));y+=v,w.packages?.forEach(j=>{g.add(j.barcode)})}),x=g.size,{totalItems:p,totalBoxes:y,mixedBoxes:x}})();return!t||t.length===0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[n.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full p-6 mb-4",children:n.jsx(eT,{className:"w-12 h-12 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:r("binIsEmpty")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center max-w-sm",children:r("noBinContentFound")})]}),n.jsx(Wh,{totals:{primaryCount:0,totalBoxes:0,mixedBoxes:0},enablePackages:e?.settings?.enablePackages,unitSelection:s,primaryLabel:"totalItems"})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ot,{className:"p-0 gap-0",children:[o.map((p,y)=>{const x=p.packages&&p.packages.length>0,g=d.has(p.itemCode),w=ed(p,a),v=Jp(p,a,s,l,r);return n.jsx(Z5,{index:y,isExpanded:g,hasPackages:x,onToggle:()=>u(p.itemCode),mainContent:n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Ky,{itemCode:p.itemCode})}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",children:p.itemName})]}),stockText:v,stockBreakdown:w,packages:p.packages,totalQuantity:p.onHand,itemDetails:{numInBuy:p.numInBuy,purPackUn:p.purPackUn,purPackMsr:p.purPackMsr,buyUnitMsr:p.buyUnitMsr},unitSelection:s},y)}),o.length===0&&n.jsx("div",{className:"p-8 text-center text-gray-500",children:r("noBinContentFound")})]}),n.jsx(Wh,{totals:{primaryCount:h.totalItems,totalBoxes:h.totalBoxes,mixedBoxes:h.mixedBoxes},enablePackages:e?.settings?.enablePackages,unitSelection:s,primaryLabel:"totalItems"})]})},Z$=({itemCode:t,barcodes:r,submit:e})=>{const{t:s}=Be(),[l,o]=Te.useState([]),[i,d]=Te.useState("");function c(u,m){o(m?h=>[...h,u]:h=>h.filter(p=>p!==u))}function a(){e(t,l,i),o([]),d("")}return n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{className:"w-16",children:s("delete")}),n.jsx(he,{children:s("barcode")})]})}),n.jsxs(en,{children:[r.map((u,m)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(js,{checked:l.includes(u),onCheckedChange:h=>c(u,h)})}),n.jsx(ue,{children:n.jsx(on,{readOnly:!0,value:u})})]},m)),n.jsxs(We,{children:[n.jsx(ue,{}),n.jsx(ue,{children:n.jsx(on,{maxLength:254,placeholder:s("newBarcode"),value:i,onChange:u=>d(u.target.value)})})]})]})]}),n.jsx("div",{className:"flex justify-center p-2",children:n.jsxs(Ie,{variant:"destructive",onClick:a,disabled:l.length===0&&i.trim()==="",children:[n.jsx(yc,{className:"h-4 w-4 mr-2"}),s("update")]})})]})},J$=({barcode:t,clear:r,result:e,setBarcodeItem:s})=>{const{t:l}=Be();return n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ar,{className:"border-yellow-200 bg-yellow-50",children:[n.jsx(go,{className:"h-4 w-4 text-yellow-600"}),n.jsxs(Kn,{children:[n.jsx("strong",{children:l("multipleItemsDetected")}),n.jsx("br",{}),l("barcode"),": ",t]})]}),n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{className:"w-24"}),n.jsx(he,{children:l("item")}),n.jsx(he,{children:l("description")})]})}),n.jsx(en,{children:e.map((o,i)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Ie,{onClick:()=>s(i),children:l("select")})}),n.jsx(ue,{children:o.itemCode}),n.jsx(ue,{children:o.itemName})]},i))})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs(Ie,{variant:"destructive",onClick:()=>r(),children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),l("clear")]})})]})},J5=({binEntry:t,binCode:r,className:e="",children:s})=>n.jsx(Ja,{to:`/binCheck/${t}/${r}`,className:`text-blue-600 hover:underline hover:text-blue-800 transition-colors ${e}`,children:s||r}),ez=()=>n.jsxs("div",{className:"space-y-4","aria-label":"Loading stock information...",children:[n.jsx(ot,{className:"p-0 gap-0",children:[...Array(3)].map((t,r)=>n.jsx("div",{className:`${r!==0?"border-t":""}`,children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-4 w-32"})]}),n.jsxs("div",{className:"flex gap-2 mx-4",children:[n.jsx(Q,{className:"h-8 w-12"}),n.jsx(Q,{className:"h-8 w-12"}),n.jsx(Q,{className:"h-8 w-12"})]}),n.jsx(Q,{className:"w-5 h-5 ml-2"})]})},r))}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs(ot,{className:"p-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx(l3,{className:"w-6 h-6 text-gray-400"})}),n.jsx(Q,{className:"h-8 w-12 mx-auto mb-2"}),n.jsx(Q,{className:"h-3 w-20 mx-auto"})]}),n.jsxs(ot,{className:"p-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx(hp,{className:"w-6 h-6 text-gray-400"})}),n.jsx(Q,{className:"h-8 w-12 mx-auto mb-2"}),n.jsx(Q,{className:"h-3 w-20 mx-auto"})]}),n.jsxs(ot,{className:"p-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx(qb,{className:"w-6 h-6 text-gray-400"})}),n.jsx(Q,{className:"h-8 w-12 mx-auto mb-2"}),n.jsx(Q,{className:"h-3 w-20 mx-auto"})]})]})]}),tz=({result:t})=>{const{t:r}=Be(),{user:e,unitSelection:s,defaultUnit:l}=bt(),{setError:o}=Dt(),[i,d]=B.useState([]),[c,a]=B.useState(new Set),[u,m]=B.useState(!1),h=e.settings;B.useEffect(()=>{t&&t.itemCode&&(m(!0),e.binLocations?Ga.itemBinStock(t.itemCode).then(g=>d(g)).catch(g=>o(g)).finally(()=>m(!1)):Ga.itemStock(t.itemCode).then(g=>d(g)).catch(g=>o(g)).finally(()=>m(!1)))},[t]);const p=g=>{const w=new Set(c);w.has(g)?w.delete(g):w.add(g),a(w)},y=()=>{let g=i.length,w=0,v=0,j=0;return i.forEach(N=>{j+=N.packages?.length||0,w+=N.quantity}),v=Math.floor(w/(t.numInBuy*t.purPackUn)),{totalLocations:g,totalBoxes:v,mixedBoxes:j}};if(!t)return null;if(u)return n.jsx(ez,{});const x=y();return n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ot,{className:"p-0 gap-0",children:[i.map((g,w)=>{const v=g.packages&&g.packages.length>0,j=c.has(g.binEntry??-1),N=ed({...g,numInBuy:t.numInBuy,purPackUn:t.purPackUn},h),T=Jp({...g,numInBuy:t.numInBuy,purPackUn:t.purPackUn,purPackMsr:t.purPackMsr,buyUnitMsr:t.buyUnitMsr},h,s,l,r);return n.jsx(Z5,{index:w,isExpanded:j,hasPackages:v,onToggle:()=>p(g.binEntry??-1),mainContent:g.binEntry&&n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.jsx(J5,{binEntry:g.binEntry,binCode:g.binCode})}),stockText:T,stockBreakdown:N,packages:g.packages,totalQuantity:g.quantity,itemDetails:{numInBuy:t.numInBuy,purPackUn:t.purPackUn,purPackMsr:t.purPackMsr,buyUnitMsr:t.buyUnitMsr},unitSelection:s},w)}),i.length===0&&n.jsx("div",{className:"p-8 text-center text-gray-500",children:r("noStockDataFound")})]}),n.jsx(Wh,{totals:{primaryCount:x.totalLocations,totalBoxes:x.totalBoxes,mixedBoxes:x.mixedBoxes},enablePackages:e?.settings?.enablePackages,unitSelection:s,primaryLabel:"inventory.totalLocations"})]})},nz=({itemData:t,className:r,onItemUpdate:e})=>{const{t:s}=Be(),{user:l}=bt(),{setError:o}=Dt(),[i,d]=B.useState(!0),[c,a]=B.useState({}),u=l.itemMetaData,m=u&&u.length>0,h=nC(l),p=(w,v)=>{if(w==null)return"-";switch(v){case yn.Date:return new Date(w).toLocaleDateString();case yn.Decimal:return typeof w=="number"?w.toLocaleString():String(w);case yn.Integer:return typeof w=="number"?w.toLocaleString():String(w);case yn.String:default:return String(w)}},y=w=>{switch(w){case yn.String:return s("text");case yn.Decimal:return s("number");case yn.Integer:return s("integer");case yn.Date:return s("date");default:return s("unknown")}};B.useEffect(()=>{(async()=>{if(!m){d(!1);return}try{d(!0);const v=await Th(t.itemCode);a(v.metadata||{})}catch(v){console.error("Failed to load item metadata:",v),o(v),a({})}finally{d(!1)}})()},[t.itemCode,m,o]);const x=async w=>{const v={...t,...w};e?.(v);try{const j=await Th(t.itemCode);a(j.metadata||{})}catch(j){console.error("Failed to reload item metadata:",j)}};if(!m)return null;const g=()=>h?n.jsx(kb,{itemCode:t.itemCode,onItemUpdate:x}):null;return i?n.jsxs("div",{className:r,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{children:""}),h&&n.jsxs(Ie,{variant:"ghost",size:"sm",className:"h-8 px-2",disabled:!0,children:[n.jsx(fo,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:s("edit")})]})]}),n.jsx(Ju,{children:u?.map(w=>n.jsx("div",{className:"space-y-1",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-3 w-12"}),n.jsx("span",{className:"text-gray-500",children:":"}),n.jsx(Q,{className:"h-4 w-24"})]})},w.id))})]}):n.jsxs("div",{className:r,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{children:""}),g()]}),n.jsx(Ju,{children:u?.map(w=>{const v=c[w.id],j=p(v,w.type);return n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:w.description}),n.jsx("span",{className:"ml-1 text-xs text-gray-400",children:y(w.type)}),w.required&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"}),w.readOnly&&n.jsx("span",{className:"text-gray-400 ml-1",children:"(RO)"}),n.jsx("span",{className:"text-gray-500",children:":"}),n.jsx("span",{className:"ml-2 font-medium",children:j})]},w.id)})})]})},rz=({result:t,submit:r,onClear:e})=>{const{t:s}=Be(),{user:l}=bt(),o=l.itemMetaData&&l.itemMetaData.length>0,i=o?"grid-cols-3":"grid-cols-2";return n.jsxs(n.Fragment,{children:[n.jsx(Y5,{details:t}),n.jsxs(Ad,{defaultValue:"stock",className:"mt-4",children:[n.jsxs(Md,{className:`grid w-full ${i}`,children:[n.jsx(ya,{value:"stock",children:s("stock")}),n.jsx(ya,{value:"barcodes",children:s("barcodes")}),o&&n.jsx(ya,{value:"metadata",children:s("packages.metadata")})]}),n.jsx(xa,{value:"stock",className:"mt-4",children:n.jsx(tz,{result:t})}),n.jsx(xa,{value:"barcodes",className:"mt-4",children:n.jsx(Z$,{itemCode:t.itemCode,barcodes:t.barcodes,submit:r})}),o&&n.jsx(xa,{value:"metadata",className:"mt-4",children:n.jsx(nz,{itemData:t})})]})]})},sz=({definition:t,control:r,value:e,validation:s,isLoading:l,onFieldChange:o,onFieldFocus:i,onFieldBlur:d,allDefinitions:c=[]})=>{const{t:a}=Be(),u=!!t.calculated,m=t.calculated?.clearDependenciesOnManualEdit||!1,h=t.readOnly||l||u&&!m,p=y=>{const x={...y,required:t.required,disabled:h,className:`${s.isValid?"":"border-red-500"} ${u&&!m?"bg-blue-50":""} ${u&&m?"bg-green-50":""}`};switch(t.type){case yn.Date:return n.jsx(on,{type:"date",...x,onChange:g=>{(!u||m)&&(y.onChange(g),o(t.id,g.target.value))},onFocus:()=>i?.(t.id),onBlur:()=>d?.(t.id)});case yn.Decimal:return n.jsx(on,{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",placeholder:u&&!m?"Automatically calculated":`${a("enterValue")} ${t.description.toLowerCase()}`,...x,onChange:g=>{(!u||m)&&(y.onChange(g),o(t.id,g.target.value))},onFocus:()=>i?.(t.id),onBlur:g=>{d?.(t.id);const w=parseFloat(g.target.value);isNaN(w)||o(t.id,g.target.value)}});case yn.Integer:return n.jsx(on,{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:u&&!m?"Automatically calculated":`${a("enterValue")} ${t.description.toLowerCase()}`,...x,onChange:g=>{if(!u||m){const w=g.target.value.replace(/[^0-9-]/g,"");y.onChange(w),o(t.id,w)}},onFocus:()=>i?.(t.id),onBlur:g=>{d?.(t.id);const w=parseInt(g.target.value);isNaN(w)||o(t.id,g.target.value)}});default:return n.jsx(on,{type:"text",placeholder:u&&!m?"Automatically calculated":`${a("enterValue")} ${t.description.toLowerCase()}`,...x,onChange:g=>{(!u||m)&&(y.onChange(g),o(t.id,g.target.value))},onFocus:()=>i?.(t.id),onBlur:()=>d?.(t.id)})}};return n.jsx(Dr,{control:r,name:t.id,render:({field:y})=>n.jsxs(Ir,{children:[n.jsxs(Pr,{className:"flex items-center gap-1",children:[t.description,t.required&&n.jsx("span",{className:"text-red-500",children:"*"}),t.readOnly&&n.jsx("span",{className:"text-gray-500",children:"(Read Only)"}),u&&!m&&n.jsxs("span",{className:"text-blue-500",children:["(",a("calculated"),")"]}),u&&m&&n.jsxs("span",{className:"text-green-500",children:["(",a("calculated")," - ",a("editable"),")"]}),u&&t.calculated&&n.jsxs(q_,{children:[n.jsx(V_,{asChild:!0,children:n.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",children:n.jsx(c3,{className:"h-3 w-3 text-muted-foreground"})})}),n.jsx(H_,{className:"w-80",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-sm mb-1",children:[a("formula"),":"]}),n.jsx("code",{className:"block text-xs bg-muted p-2 rounded font-mono",children:t.calculated.formula})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-sm mb-1",children:[a("dependsOn"),":"]}),n.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:t.calculated.dependencies.map(x=>{const g=c.find(w=>w.id===x);return n.jsxs("li",{children:[" ",g?.description||x]},x)})})]}),t.calculated.clearDependenciesOnManualEdit&&n.jsxs("div",{className:"text-sm text-amber-600 border-t pt-2",children:[n.jsxs("p",{className:"font-medium",children:[a("note"),":"]}),n.jsx("p",{children:a("manualEditWillClearDependents")})]})]})})]})]}),n.jsx(qr,{children:p(y)}),n.jsx(Bs,{children:s.errorMessage})]})})},eC=({title:t,noFieldsMessage:r,definitions:e,currentValues:s,formState:l,getFieldValue:o,getFieldValidation:i,updateFieldValue:d,onFieldFocus:c,onFieldBlur:a,onSave:u,onReset:m,onCancel:h,className:p})=>{const{t:y}=Be(),x=dl({defaultValues:{}});B.useEffect(()=>{const v={};e.forEach(j=>{const N=o(j.id),T=N??s[j.id];if(T!=null)switch(j.type){case yn.Date:const D=new Date(T);v[j.id]=D.toISOString().split("T")[0];break;case yn.Decimal:case yn.Integer:case yn.String:default:v[j.id]=String(T);break}else v[j.id]=""}),x.reset(v)},[e,s,x,o]),B.useEffect(()=>{e.forEach(v=>{const j=o(v.id),N=x.getValues(v.id)??"";let T="";if(j!=null)switch(v.type){case yn.Date:T=(j instanceof Date?j:new Date(j)).toISOString().split("T")[0];break;case yn.Decimal:case yn.Integer:T=String(j);break;default:T=String(j);break}N!==T&&x.setValue(v.id,T,{shouldValidate:!1})})},[l.fields,e,x,o]);const g=(v,j)=>{const N=e.find(D=>D.id===v);if(!N)return;let T=null;if(j.trim()!=="")switch(N.type){case yn.String:T=j;break;case yn.Decimal:T=j;break;case yn.Integer:T=j;break;case yn.Date:T=new Date(j);break}d(v,T)},w=()=>{m();const v={};e.forEach(j=>{const N=s[j.id];if(N!=null)switch(j.type){case yn.Date:const T=new Date(N);v[j.id]=T.toISOString().split("T")[0];break;default:v[j.id]=String(N);break}else v[j.id]=""}),x.reset(v)};return e.length===0?n.jsx(ot,{className:p,children:n.jsx(Gt,{className:"pt-6",children:n.jsx("p",{className:"text-muted-foreground text-center",children:r})})}):l.isLoading&&!l.hasChanges?n.jsxs(ot,{className:p,children:[n.jsx(zn,{children:n.jsx(Kr,{children:t})}),n.jsx(Gt,{children:n.jsxs("div",{className:"space-y-4","aria-label":"Loading...",children:[e.slice(0,3).map((v,j)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-10 w-full"})]},j)),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Q,{className:"h-10 flex-1"}),n.jsx(Q,{className:"h-10 flex-1"}),h&&n.jsx(Q,{className:"h-10 w-20"})]})]})})]}):n.jsxs(ot,{className:p,children:[n.jsx(zn,{children:n.jsx(Kr,{children:t})}),n.jsx(Gt,{children:n.jsx(fl,{...x,children:n.jsxs("form",{onSubmit:x.handleSubmit(u),className:"space-y-4",children:[e.map(v=>n.jsx(sz,{definition:v,control:x.control,value:x.watch(v.id)||"",validation:i(v.id),isLoading:l.isLoading,onFieldChange:g,onFieldFocus:c,onFieldBlur:a,allDefinitions:e},v.id)),n.jsxs(ra,{className:"pt-4",children:[n.jsx(Ie,{type:"button",variant:"outline",onClick:w,disabled:l.isLoading||!l.hasChanges,children:y("reset")}),h&&n.jsx(Ie,{type:"button",variant:"secondary",onClick:h,disabled:l.isLoading,children:y("cancel")}),n.jsx(Ie,{type:"submit",disabled:!l.isValid||l.isLoading||!l.hasChanges,children:l.isLoading?y("saving"):y("save")})]})]})})})]})},az=({itemData:t,onSave:r,onCancel:e,className:s})=>{const{t:l}=Be(),{definitions:o,formState:i,updateFieldValue:d,saveMetadata:c,resetForm:a,getFieldValue:u,getFieldValidation:m,onFieldFocus:h,onFieldBlur:p}=yz(t,t.metadataDefinitions),y=async()=>{try{const x=await c(t.itemCode);r?.(x)}catch(x){console.error("Failed to save metadata:",x)}};return n.jsx(eC,{title:l("metadata"),noFieldsMessage:l("items.noMetadataFieldsConfigured"),definitions:o,currentValues:t.customAttributes||{},formState:i,getFieldValue:u,getFieldValidation:m,updateFieldValue:d,onFieldFocus:h,onFieldBlur:p,onSave:y,onReset:a,onCancel:e,className:s})},iz=({packageData:t,onSave:r,onCancel:e,className:s})=>{const{t:l}=Be(),{definitions:o,formState:i,updateFieldValue:d,saveMetadata:c,resetForm:a,getFieldValue:u,getFieldValidation:m,onFieldFocus:h,onFieldBlur:p}=KD(t,t.metadataDefinitions),y=async()=>{try{const x=await c(t.id);r?.(x)}catch(x){console.error("Failed to save metadata:",x)}};return n.jsx(eC,{title:l("packages.metadata"),noFieldsMessage:l("packages.noMetadataFieldsConfigured"),definitions:o,currentValues:t.customAttributes||{},formState:i,getFieldValue:u,getFieldValidation:m,updateFieldValue:d,onFieldFocus:h,onFieldBlur:p,onSave:y,onReset:a,onCancel:e,className:s})},oz=({packageData:t,className:r,onPackageUpdate:e})=>{const{t:s}=Be(),{user:l}=bt(),[o,i]=B.useState(!1),d=(y,x)=>{if(y==null)return"-";switch(x){case yn.Date:return new Date(y).toLocaleDateString();case yn.Decimal:return typeof y=="number"?y.toLocaleString():String(y);case yn.Integer:return typeof y=="number"?y.toLocaleString():String(y);case yn.String:default:return String(y)}},c=y=>{switch(y){case yn.String:return s("text");case yn.Decimal:return s("number");case yn.Integer:return s("integer");case yn.Date:return s("date");default:return s("unknown")}},a=l.packageMetaData,u=a&&a.length>0,m=y=>{const x={...t,...y,contents:t.contents};e?.(x),i(!1)},h=()=>{i(!1)};if(!u)return null;const p=()=>n.jsxs(lr,{open:o,onOpenChange:i,children:[n.jsx(QS,{asChild:!0,children:n.jsxs(Ie,{variant:"ghost",size:"sm",className:"h-8 px-2",children:[n.jsx(fo,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:s("edit")})]})}),n.jsxs(cr,{className:"max-w-2xl",children:[n.jsx(ur,{children:n.jsx(dr,{children:s("packages.editMetadata")})}),n.jsx(iz,{packageData:t,onSave:m,onCancel:h,className:"border-0 shadow-none"})]})]});return n.jsxs("div",{className:r,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold",children:s("packages.metadata")}),p()]}),n.jsx(Ju,{children:a.map(y=>{const x=t.customAttributes?.[y.id],g=d(x,y.type);return n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:y.description}),n.jsx("span",{className:"ml-1 text-xs text-gray-400",children:c(y.type)}),n.jsx("span",{className:"text-gray-500",children:":"}),n.jsx("span",{className:"ml-2 font-medium",children:g})]},y.id)})})]})};function C4(t){return{quantity:t.quantity,numInBuy:t.itemData?.quantityInUnit||1,purPackUn:t.itemData?.quantityInPack||1,purPackMsr:t.itemData?.packMeasure||null,buyUnitMsr:t.itemData?.unitMeasure||null}}const lz=({packageData:t,onPackageUpdate:r})=>{const{t:e}=Be(),{user:s,defaultUnit:l}=bt(),[o,i]=B.useState(t),d=s.settings;B.useEffect(()=>{i(t)},[t]);const c=p=>{i(p),r?.(p)},a=p=>{switch(p){case Ql.Active:return"bg-green-100 text-green-800";case Ql.Closed:return"bg-blue-100 text-blue-800";case Ql.Cancelled:return"bg-red-100 text-red-800";case Ql.Locked:return"bg-yellow-100 text-yellow-800";case Ql.Init:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},u=p=>e(`packages.status.${p.toLowerCase()}`),m=()=>{const p=o.contents.length,y=o.contents.reduce((g,w)=>g+w.quantity,0);let x=0;return o.contents.forEach(g=>{const w=C4(g),v=ed(w,d);x+=v.packages}),{totalItems:p,totalQuantity:y,totalPacks:x}};if(!o)return n.jsx("p",{className:"text-center text-muted-foreground",children:e("packages.noPackageContentFound")});const h=m();return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ot,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[e("packages.packageBarcode"),": ",o.barcode]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsx("div",{className:"flex items-center gap-1",children:n.jsx(Nr,{className:a(o.status),children:u(o.status)})}),o.binCode&&o.binEntry&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(lT,{className:"h-4 w-4"}),n.jsx(J5,{binEntry:o.binEntry,binCode:o.binCode})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Hb,{className:"h-4 w-4"}),n.jsx("span",{children:o.createdBy?.name})]})]})]}),n.jsxs("div",{className:"text-right text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[n.jsx(vh,{className:"h-4 w-4"}),n.jsxs("span",{children:[e("packages.packageCreated"),": ",xb(new Date(o.createdAt),new Date,{addSuffix:!0})]})]}),o.closedAt&&n.jsxs("div",{className:"flex items-center gap-1 justify-end mt-1",children:[n.jsx(vh,{className:"h-4 w-4"}),n.jsxs("span",{children:[e("packages.packageClosed"),": ",xb(new Date(o.closedAt),new Date,{addSuffix:!0})]})]})]})]})}),s?.packageMetaData&&s.packageMetaData.length>0&&n.jsx(oz,{packageData:o,onPackageUpdate:c}),n.jsxs(ot,{className:"p-0 gap-0",children:[o.contents.map((p,y)=>{const x=C4(p),g=ed(x,d),w=Jp(x,d,!0,l,e);return n.jsx("div",{className:`${y!==0?"border-t":""}`,children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Ky,{itemCode:p.itemCode})}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",children:p.itemData?.itemName||p.itemCode}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w})]}),n.jsx(Q5,{packages:g.packages,dozens:g.dozens,units:g.units})]})},p.id)}),o.contents.length===0&&n.jsx("div",{className:"p-8 text-center text-gray-500",children:e("packages.noPackageContentFound")})]}),n.jsx(Wh,{totals:{primaryCount:h.totalItems,totalBoxes:h.totalPacks,mixedBoxes:h.totalQuantity},enablePackages:!0,unitSelection:!0,primaryLabel:"totalItems",thirdLabel:"packages.totalQuantity"})]})};function th(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var M0={exports:{}};/*! ExcelJS 19-10-2023 */var N4;function cz(){return N4||(N4=1,(function(t,r){(function(e){t.exports=e()})((function(){return(function e(s,l,o){function i(a,u){if(!l[a]){if(!s[a]){var m=typeof th=="function"&&th;if(!u&&m)return m(a,!0);if(d)return d(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var p=l[a]={exports:{}};s[a][0].call(p.exports,(function(y){return i(s[a][1][y]||y)}),p,p.exports,e,s,l,o)}return l[a].exports}for(var d=typeof th=="function"&&th,c=0;c<o.length;c++)i(o[c]);return i})({1:[function(e,s,l){const o=e("fs"),i=e("fast-csv"),d=e("dayjs/plugin/customParseFormat"),c=e("dayjs/plugin/utc"),a=e("dayjs").extend(d).extend(c),u=e("../utils/stream-buf"),{fs:{exists:m}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};s.exports=class{constructor(p){this.workbook=p,this.worksheet=null}async readFile(p,y){if(y=y||{},!await m(p))throw new Error("File not found: "+p);const x=o.createReadStream(p),g=await this.read(x,y);return x.close(),g}read(p,y){return y=y||{},new Promise((x,g)=>{const w=this.workbook.addWorksheet(y.sheetName),v=y.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],j=y.map||function(T){if(T==="")return null;const D=Number(T);if(!Number.isNaN(D)&&D!==1/0)return D;const V=v.reduce(($,G)=>{if($)return $;const Y=a(T,G,!0);return Y.isValid()?Y:null},null);if(V)return new Date(V.valueOf());const P=h[T];return P!==void 0?P:T},N=i.parse(y.parserOptions).on("data",T=>{w.addRow(T.map(j))}).on("end",()=>{N.emit("worksheet",w)});N.on("worksheet",x).on("error",g),p.pipe(N)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(p,y){return new Promise((x,g)=>{y=y||{};const w=this.workbook.getWorksheet(y.sheetName||y.sheetId),v=i.format(y.formatterOptions);p.on("finish",()=>{x()}),v.on("error",g),v.pipe(p);const{dateFormat:j,dateUTC:N}=y,T=y.map||(P=>{if(P){if(P.text||P.hyperlink)return P.hyperlink||P.text||"";if(P.formula||P.result)return P.result||"";if(P instanceof Date)return j?N?a.utc(P).format(j):a(P).format(j):N?a.utc(P).format():a(P).format();if(P.error)return P.error;if(typeof P=="object")return JSON.stringify(P)}return P}),D=y.includeEmptyRows===void 0||y.includeEmptyRows;let V=1;w&&w.eachRow((P,$)=>{if(D)for(;V++<$-1;)v.write([]);const{values:G}=P;G.shift(),v.write(G.map(T)),V=$}),v.end()})}writeFile(p,y){const x={encoding:(y=y||{}).encoding||"utf8"},g=o.createWriteStream(p,x);return this.write(g,y)}async writeBuffer(p){const y=new u;return await this.write(y,p),y.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,s,l){const o=e("../utils/col-cache");class i{constructor(c,a){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,a)if(typeof a=="string"){const m=o.decodeAddress(a);this.nativeCol=m.col+u,this.nativeColOff=0,this.nativeRow=m.row+u,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+u,this.row=a.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof i||c==null?c:new i(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}s.exports=i},{"../utils/col-cache":19}],3:[function(e,s,l){const o=e("../utils/col-cache"),i=e("../utils/under-dash"),d=e("./enums"),{slideFormula:c}=e("../utils/shared-formula"),a=e("./note");class u{constructor(p,y,x){if(!p||!y)throw new Error("A Cell needs a Row");this._row=p,this._column=y,o.validateAddress(x),this._address=x,this._value=m.create(u.Types.Null,this),this.style=this._mergeStyle(p.style,y.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(p){this.style.numFmt=p}get font(){return this.style.font}set font(p){this.style.font=p}get alignment(){return this.style.alignment}set alignment(p){this.style.alignment=p}get border(){return this.style.border}set border(p){this.style.border=p}get fill(){return this.style.fill}set fill(p){this.style.fill=p}get protection(){return this.style.protection}set protection(p){this.style.protection=p}_mergeStyle(p,y,x){const g=p&&p.numFmt||y&&y.numFmt;g&&(x.numFmt=g);const w=p&&p.font||y&&y.font;w&&(x.font=w);const v=p&&p.alignment||y&&y.alignment;v&&(x.alignment=v);const j=p&&p.border||y&&y.border;j&&(x.border=j);const N=p&&p.fill||y&&y.fill;N&&(x.fill=N);const T=p&&p.protection||y&&y.protection;return T&&(x.protection=T),x}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(p,y){this._value.release(),this._value=m.create(u.Types.Merge,this,p),y||(this.style=p.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=m.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(p){return this._value.type===u.Types.Merge&&this._value.isMergedTo(p)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(p){this.type!==u.Types.Merge?(this._value.release(),this._value=m.create(m.getType(p),this,p)):this._value.master.value=p}get note(){return this._comment&&this._comment.note}set note(p){this._comment=new a(p)}get text(){return this._value.toString()}get html(){return i.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(p){this.type===u.Types.String&&(this._value=m.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:p}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:p}=this._row;return{sheetName:p.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(p){this.names=[p]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(p){const{definedNames:y}=this.workbook;y.removeAllNames(this.fullAddress),p.forEach(x=>{y.addEx(this.fullAddress,x)})}addName(p){this.workbook.definedNames.addEx(this.fullAddress,p)}removeName(p){this.workbook.definedNames.removeEx(this.fullAddress,p)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(p){this._dataValidations.add(this.address,p)}get model(){const{model:p}=this._value;return p.style=this.style,this._comment&&(p.comment=this._comment.model),p}set model(p){if(this._value.release(),this._value=m.create(p.type,this),this._value.model=p,p.comment)switch(p.comment.type){case"note":this._comment=a.fromModel(p.comment)}p.style?this.style=p.style:this.style={}}}u.Types=d.ValueType;const m={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.Number,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.String,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.Date,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.Hyperlink,text:p?p.text:void 0,hyperlink:p?p.hyperlink:void 0},p&&p.tooltip&&(this.model.tooltip=p.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,p){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:p?p.shareType:void 0,ref:p?p.ref:void 0,formula:p?p.formula:void 0,sharedFormula:p?p.sharedFormula:void 0,result:p?p.result:void 0}}_copyModel(h){const p={},y=x=>{const g=h[x];g&&(p[x]=g)};return y("formula"),y("result"),y("ref"),y("shareType"),y("sharedFormula"),p}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(m.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?d.FormulaType.Master:this.model.sharedFormula?d.FormulaType.Shared:d.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?d.ValueType.Null:h instanceof String||typeof h=="string"?d.ValueType.String:typeof h=="number"?d.ValueType.Number:h instanceof Date?d.ValueType.Date:h.text&&h.hyperlink?d.ValueType.Hyperlink:h.formula?d.ValueType.Formula:d.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,p=h.findCell(this.model.sharedFormula);this._translatedFormula=p&&c(p.formula,p.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.Merge,master:p?p.address:void 0},this._master=p,p&&p.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(p),rawValue:p}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.SharedString,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.String,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.Boolean,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,p){this.model={address:h.address,type:u.Types.Error,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,p)=>(h[p.t]=p.f,h),[]),create(h,p,y){const x=this.types[h];if(!x)throw new Error("Could not create Value of type "+h);return new x(p,y)}};s.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,s,l){const o=e("../utils/under-dash"),i=e("./enums"),d=e("../utils/col-cache");class c{constructor(u,m,h){this._worksheet=u,this._number=m,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return d.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((m,h)=>{this._worksheet.getCell(h+1,this.number).value=m})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&o.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,m){const h=this.number;m||(m=u,u=null),this._worksheet.eachRow(u,(p,y)=>{m(p.getCell(h),y)})}get values(){const u=[];return this.eachCell((m,h)=>{m&&m.type!==i.ValueType.Null&&(u[h]=m.value)}),u}set values(u){if(!u)return;const m=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((p,y)=>{this._worksheet.getCell(y+h,m).value=p})}_applyStyle(u,m){return this.style[u]=m,this.eachCell(h=>{h[u]=m}),m}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const m=[];let h=null;return u&&u.forEach((p,y)=>{p.isDefault?h&&(h=null):h&&p.equivalentTo(h)?h.max=y+1:(h={min:y+1,max:y+1,width:p.width!==void 0?p.width:9,style:p.style,isCustomWidth:p.isCustomWidth,hidden:p.hidden,outlineLevel:p.outlineLevel,collapsed:p.collapsed},m.push(h))}),m.length?m:void 0}static fromModel(u,m){const h=[];let p=1,y=0;for(m=(m=m||[]).sort((function(x,g){return x.min-g.min}));y<m.length;){const x=m[y++];for(;p<x.min;)h.push(new c(u,p++));for(;p<=x.max;)h.push(new c(u,p++,x))}return h.length?h:null}}s.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,s,l){s.exports=class{constructor(o){this.model=o||{}}add(o,i){return this.model[o]=i}find(o){return this.model[o]}remove(o){this.model[o]=void 0}}},{}],6:[function(e,s,l){const o=e("../utils/under-dash"),i=e("../utils/col-cache"),d=e("../utils/cell-matrix"),c=e("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;s.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new d)}add(u,m){const h=i.decodeEx(u);this.addEx(h,m)}addEx(u,m){const h=this.getMatrix(m);if(u.top)for(let p=u.left;p<=u.right;p++)for(let y=u.top;y<=u.bottom;y++){const x={sheetName:u.sheetName,address:i.n2l(p)+y,row:y,col:p};h.addCellEx(x)}else h.addCellEx(u)}remove(u,m){const h=i.decodeEx(u);this.removeEx(h,m)}removeEx(u,m){this.getMatrix(m).removeCellEx(u)}removeAllNames(u){o.each(this.matrixMap,m=>{m.removeCellEx(u)})}forEach(u){o.each(this.matrixMap,(m,h)=>{m.forEach(p=>{u(h,p)})})}getNames(u){return this.getNamesEx(i.decodeEx(u))}getNamesEx(u){return o.map(this.matrixMap,(m,h)=>m.findCellEx(u)&&h).filter(Boolean)}_explore(u,m){m.mark=!1;const{sheetName:h}=m,p=new c(m.row,m.col,m.row,m.col,h);let y,x;function g(v,j){const N=u.findCellAt(h,v,m.col);return!(!N||!N.mark)&&(p[j]=v,N.mark=!1,!0)}for(x=m.row-1;g(x,"top");x--);for(x=m.row+1;g(x,"bottom");x++);function w(v,j){const N=[];for(x=p.top;x<=p.bottom;x++){const T=u.findCellAt(h,x,v);if(!T||!T.mark)return!1;N.push(T)}p[j]=v;for(let T=0;T<N.length;T++)N[T].mark=!1;return!0}for(y=m.col-1;w(y,"left");y--);for(y=m.col+1;w(y,"right");y++);return p}getRanges(u,m){return(m=m||this.matrixMap[u])?(m.forEach(h=>{h.mark=!0}),{name:u,ranges:m.map(h=>h.mark&&this._explore(m,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,m){u.forEachInSheet(m,(h,p,y)=>{h&&(h.row===p&&h.col===y||(h.row=p,h.col=y,h.address=i.n2l(y)+p))})}spliceRows(u,m,h,p){o.each(this.matrixMap,y=>{y.spliceRows(u,m,h,p),this.normaliseMatrix(y,u)})}spliceColumns(u,m,h,p){o.each(this.matrixMap,y=>{y.spliceColumns(u,m,h,p),this.normaliseMatrix(y,u)})}get model(){return o.map(this.matrixMap,(u,m)=>this.getRanges(m,u)).filter(u=>u.ranges.length)}set model(u){const m=this.matrixMap={};u.forEach(h=>{const p=m[h.name]=new d;h.ranges.forEach(y=>{a.test(y.split("!").pop()||"")&&p.addCell(y)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,s,l){s.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,s,l){const o=e("../utils/col-cache"),i=e("./anchor");s.exports=class{constructor(d,c){this.worksheet=d,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(d){let{type:c,imageId:a,range:u,hyperlinks:m}=d;if(this.type=c,this.imageId=a,c==="image")if(typeof u=="string"){const h=o.decode(u);this.range={tl:new i(this.worksheet,{col:h.left,row:h.top},-1),br:new i(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new i(this.worksheet,u.tl,0),br:u.br&&new i(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:m||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,s,l){const o=e("../utils/under-dash");class i{constructor(c){this.note=c}get model(){let c=null;switch(typeof this.note){case"string":c={type:"note",note:{texts:[{text:this.note}]}};break;default:c={type:"note",note:this.note}}return o.deepMerge({},i.DEFAULT_CONFIGS,c)}set model(c){const{note:a}=c,{texts:u}=a;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=a}static fromModel(c){const a=new i;return a.model=c,a}}i.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},s.exports=i},{"../utils/under-dash":26}],10:[function(e,s,l){const o=e("../utils/col-cache");class i{constructor(){this.decode(arguments)}setTLBR(c,a,u,m,h){if(arguments.length<4){const p=o.decodeAddress(c),y=o.decodeAddress(a);this.model={top:Math.min(p.row,y.row),left:Math.min(p.col,y.col),bottom:Math.max(p.row,y.row),right:Math.max(p.col,y.col),sheetName:u},this.setTLBR(p.row,p.col,y.row,y.col,h)}else this.model={top:Math.min(c,u),left:Math.min(a,m),bottom:Math.max(c,u),right:Math.max(a,m),sheetName:h}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const a=c[0];if(a instanceof i)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{const u=o.decodeEx(a);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,a,u,m){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||m>this.right)&&(this.right=m)}expandRow(c){if(c){const{dimensions:a,number:u}=c;a&&this.expand(u,a.min,u,a.max)}}expandToAddress(c){const a=o.decodeEx(c);this.expand(a.row,a.col,a.row,a.col)}get tl(){return o.n2l(this.left)+this.top}get $t$l(){return`$${o.n2l(this.left)}$${this.top}`}get br(){return o.n2l(this.right)+this.bottom}get $b$r(){return`$${o.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const a=o.decodeEx(c);return this.containsEx(a)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let a=this.left;a<=this.right;a++)for(let u=this.top;u<=this.bottom;u++)c(o.encodeAddress(u,a),u,a)}}s.exports=i},{"../utils/col-cache":19}],11:[function(e,s,l){const o=e("../utils/under-dash"),i=e("./enums"),d=e("../utils/col-cache"),c=e("./cell");s.exports=class{constructor(a,u){this._worksheet=a,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let u=this._cells[a.col-1];if(!u){const m=this._worksheet.getColumn(a.col);u=new c(this,m,a.address),this._cells[a.col-1]=u}return u}getCell(a){if(typeof a=="string"){const u=this._worksheet.getColumnKey(a);a=u?u.number:d.l2n(a)}return this._cells[a-1]||this.getCellEx({address:d.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,u){const m=a+u;for(var h=arguments.length,p=new Array(h>2?h-2:0),y=2;y<h;y++)p[y-2]=arguments[y];const x=p.length-u,g=this._cells.length;let w,v,j;if(x<0)for(w=a+p.length;w<=g;w++)j=this._cells[w-1],v=this._cells[w-x-1],v?(j=this.getCell(w),j.value=v.value,j.style=v.style,j._comment=v._comment):j&&(j.value=null,j.style={},j._comment=void 0);else if(x>0)for(w=g;w>=m;w--)v=this._cells[w-1],v?(j=this.getCell(w+x),j.value=v.value,j.style=v.style,j._comment=v._comment):this._cells[w+x-1]=void 0;for(w=0;w<p.length;w++)j=this.getCell(a+w),j.value=p[w],j.style={},j._comment=void 0}eachCell(a,u){if(u||(u=a,a=null),a&&a.includeEmpty){const m=this._cells.length;for(let h=1;h<=m;h++)u(this.getCell(h),h)}else this._cells.forEach((m,h)=>{m&&m.type!==i.ValueType.Null&&u(m,h+1)})}addPageBreak(a,u){const m=this._worksheet,h=Math.max(0,a-1)||0,p=Math.max(0,u-1)||16838,y={id:this._number,max:p,man:1};h&&(y.min=h),m.rowBreaks.push(y)}get values(){const a=[];return this._cells.forEach(u=>{u&&u.type!==i.ValueType.Null&&(a[u.col]=u.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let u=0;a.hasOwnProperty("0")&&(u=1),a.forEach((m,h)=>{m!==void 0&&(this.getCellEx({address:d.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=m)})}else this._worksheet.eachColumnKey((u,m)=>{a[m]!==void 0&&(this.getCellEx({address:d.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=a[m])})}get hasValues(){return o.some(this._cells,a=>a&&a.type!==i.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,u=0;return this._cells.forEach(m=>{m&&m.type!==i.ValueType.Null&&((!a||a>m.col)&&(a=m.col),u<m.col&&(u=m.col))}),a>0?{min:a,max:u}:null}_applyStyle(a,u){return this.style[a]=u,this._cells.forEach(m=>{m&&(m[a]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const a=[];let u=0,m=0;return this._cells.forEach(h=>{if(h){const p=h.model;p&&((!u||u>h.col)&&(u=h.col),m<h.col&&(m=h.col),a.push(p))}}),this.height||a.length?{cells:a,number:this.number,min:u,max:m,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],a.cells.forEach(m=>{switch(m.type){case c.Types.Merge:break;default:{let h;if(m.address)h=d.decodeAddress(m.address);else if(u){const{row:p}=u,y=u.col+1;h={row:p,col:y,address:d.encodeAddress(p,y),$col$row:`$${d.n2l(y)}$${p}`}}u=h,this.getCellEx(h).model=m;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,s,l){const o=e("../utils/col-cache");class i{constructor(c,a,u){this.table=c,this.column=a,this.index=u}_set(c,a){this.table.cacheState(),this.column[c]=a}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}s.exports=class{constructor(d,c){this.worksheet=d,c&&(this.table=c,this.validate(),this.store())}getFormula(d){switch(d.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${d.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${d.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${d.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${d.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${d.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${d.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${d.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${d.name}])`;case"custom":return d.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+d.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:d}=this,c=(x,g,w)=>{x[g]===void 0&&(x[g]=w)};c(d,"headerRow",!0),c(d,"totalsRow",!1),c(d,"style",{}),c(d.style,"theme","TableStyleMedium2"),c(d.style,"showFirstColumn",!1),c(d.style,"showLastColumn",!1),c(d.style,"showRowStripes",!1),c(d.style,"showColumnStripes",!1);const a=(x,g)=>{if(!x)throw new Error(g)};a(d.ref,"Table must have ref"),a(d.columns,"Table must have column definitions"),a(d.rows,"Table must have row definitions"),d.tl=o.decodeAddress(d.ref);const{row:u,col:m}=d.tl;a(u>0,"Table must be on valid row"),a(m>0,"Table must be on valid col");const{width:h,filterHeight:p,tableHeight:y}=this;d.autoFilterRef=o.encode(u,m,u+p-1,m+h-1),d.tableRef=o.encode(u,m,u+y-1,m+h-1),d.columns.forEach((x,g)=>{a(x.name,`Column ${g} must have a name`),g===0?c(x,"totalsRowLabel","Total"):(c(x,"totalsRowFunction","none"),x.totalsRowFormula=this.getFormula(x))})}store(){const d=(p,y)=>{y&&Object.keys(y).forEach(x=>{p[x]=y[x]})},{worksheet:c,table:a}=this,{row:u,col:m}=a.tl;let h=0;if(a.headerRow){const p=c.getRow(u+h++);a.columns.forEach((y,x)=>{const{style:g,name:w}=y,v=p.getCell(m+x);v.value=w,d(v,g)})}if(a.rows.forEach(p=>{const y=c.getRow(u+h++);p.forEach((x,g)=>{const w=y.getCell(m+g);w.value=x,d(w,a.columns[g].style)})}),a.totalsRow){const p=c.getRow(u+h++);a.columns.forEach((y,x)=>{const g=p.getCell(m+x);if(x===0)g.value=y.totalsRowLabel;else{const w=this.getFormula(y);g.value=w?{formula:y.totalsRowFormula,result:y.totalsRowResult}:null}d(g,y.style)})}}load(d){const{table:c}=this,{row:a,col:u}=c.tl;let m=0;if(c.headerRow){const h=d.getRow(a+m++);c.columns.forEach((p,y)=>{h.getCell(u+y).value=p.name})}if(c.rows.forEach(h=>{const p=d.getRow(a+m++);h.forEach((y,x)=>{p.getCell(u+x).value=y})}),c.totalsRow){const h=d.getRow(a+m++);c.columns.forEach((p,y)=>{const x=h.getCell(u+y);y===0?x.value=p.totalsRowLabel:this.getFormula(p)&&(x.value={formula:p.totalsRowFormula,result:p.totalsRowResult})})}}get model(){return this.table}set model(d){this.table=d}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const d=o.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const a=this.worksheet.getRow(d.row+c);for(let u=0;u<this._cache.width;u++)a.getCell(d.col+u).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const a=this.worksheet.getRow(d.row+c);for(let u=0;u<this._cache.width;u++)a.getCell(d.col+u).value=null}for(let c=0;c<this.tableHeight;c++){const a=this.worksheet.getRow(d.row+c);for(let u=this.width;u<this._cache.width;u++)a.getCell(d.col+u).value=null}}this.store()}addRow(d,c){this.cacheState(),c===void 0?this.table.rows.push(d):this.table.rows.splice(c,0,d)}removeRows(d){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(d,c)}getColumn(d){const c=this.table.columns[d];return new i(this,c,d)}addColumn(d,c,a){this.cacheState(),a===void 0?(this.table.columns.push(d),this.table.rows.forEach((u,m)=>{u.push(c[m])})):(this.table.columns.splice(a,0,d),this.table.rows.forEach((u,m)=>{u.splice(a,0,c[m])}))}removeColumns(d){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(d,c),this.table.rows.forEach(a=>{a.splice(d,c)})}_assign(d,c,a){this.cacheState(),d[c]=a}get ref(){return this.table.ref}set ref(d){this._assign(this.table,"ref",d)}get name(){return this.table.name}set name(d){this.table.name=d}get displayName(){return this.table.displyName||this.table.name}set displayNamename(d){this.table.displayName=d}get headerRow(){return this.table.headerRow}set headerRow(d){this._assign(this.table,"headerRow",d)}get totalsRow(){return this.table.totalsRow}set totalsRow(d){this._assign(this.table,"totalsRow",d)}get theme(){return this.table.style.name}set theme(d){this.table.style.name=d}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(d){this.table.style.showFirstColumn=d}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(d){this.table.style.showLastColumn=d}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(d){this.table.style.showRowStripes=d}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(d){this.table.style.showColumnStripes=d}}},{"../utils/col-cache":19}],13:[function(e,s,l){const o=e("./worksheet"),i=e("./defined-names"),d=e("../xlsx/xlsx"),c=e("../csv/csv");s.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new i}get xlsx(){return this._xlsx||(this._xlsx=new d(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,u){const m=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((x,g)=>(g&&g.orderNo)>x?g.orderNo:x,0),p=Object.assign({},u,{id:m,name:a,orderNo:h+1,workbook:this}),y=new o(p);return this._worksheets[m]=y,y}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){const u=this.getWorksheet(a);u&&u.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(u=>u&&u.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,u)=>a.orderNo-u.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(u=>{a(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){const u=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),u}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(u=>{const{id:m,name:h,state:p}=u,y=a.sheets&&a.sheets.findIndex(x=>x.id===m);(this._worksheets[m]=new o({id:m,name:h,orderNo:y,state:p,workbook:this})).model=u}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,s,l){const o=e("../utils/under-dash"),i=e("../utils/col-cache"),d=e("./range"),c=e("./row"),a=e("./column"),u=e("./enums"),m=e("./image"),h=e("./table"),p=e("./data-validations"),y=e("../utils/encryptor"),{copyStyle:x}=e("../utils/copy-style");s.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new p,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(w=>w&&w.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new d;return this._rows.forEach(w=>{if(w){const v=w.dimensions;v&&g.expand(w.number,v.min,w.number,v.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((j,N)=>{const T=(N.header?1:N.headers&&N.headers.length)||0;return Math.max(j,T)},0);let w=1;const v=this._columns=[];g.forEach(j=>{const N=new a(this,w++,!1);v.push(N),N.defn=j})}getColumnKey(g){return this._keys[g]}setColumnKey(g,w){this._keys[g]=w}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){o.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const w=this._keys[g];if(w)return w;g=i.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let w=this._columns.length+1;for(;w<=g;)this._columns.push(new a(this,w++))}return this._columns[g-1]}spliceColumns(g,w){const v=this._rows.length;for(var j=arguments.length,N=new Array(j>2?j-2:0),T=2;T<j;T++)N[T-2]=arguments[T];if(N.length>0)for(let $=0;$<v;$++){const G=[g,w];N.forEach(W=>{G.push(W[$]||null)});const Y=this.getRow($+1);Y.splice.apply(Y,G)}else this._rows.forEach($=>{$&&$.splice(g,w)});const D=N.length-w,V=g+w,P=this._columns.length;if(D<0)for(let $=g+N.length;$<=P;$++)this.getColumn($).defn=this.getColumn($-D).defn;else if(D>0)for(let $=P;$>=V;$--)this.getColumn($+D).defn=this.getColumn($).defn;for(let $=g;$<g+N.length;$++)this.getColumn($).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,w,N.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(w=>{g=Math.max(g,w.cellCount)}),g}get actualColumnCount(){const g=[];let w=0;return this.eachRow(v=>{v.eachCell(j=>{let{col:N}=j;g[N]||(g[N]=!0,w++)})}),w}_commitRow(){}get _lastRowNumber(){const g=this._rows;let w=g.length;for(;w>0&&g[w-1]===void 0;)w--;return w}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,w){return this._rows.slice(g-1,g-1+w)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let w=this._rows[g-1];return w||(w=this._rows[g-1]=new c(this,g)),w}getRows(g,w){if(w<1)return;const v=[];for(let j=g;j<g+w;j++)v.push(this.getRow(j));return v}addRow(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,j=this.getRow(v);return j.values=g,this._setStyleOption(v,w[0]==="i"?w:"n"),j}addRows(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return g.forEach(j=>{v.push(this.addRow(j,w))}),v}insertRow(g,w){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,w),this._setStyleOption(g,v),this.getRow(g)}insertRows(g,w){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...w),v!=="n")for(let j=0;j<w.length;j++)v[0]==="o"&&this.findRow(w.length+g+j)!==void 0?this._copyStyle(w.length+g+j,g+j,v[1]==="+"):v[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+j,v[1]==="+");return this.getRows(g,w.length)}_setStyleOption(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";w[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,w[1]==="+"):w[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,w[1]==="+")}_copyStyle(g,w){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const j=this.getRow(g),N=this.getRow(w);N.style=x(j.style),j.eachCell({includeEmpty:v},(T,D)=>{N.getCell(D).style=x(T.style)}),N.height=j.height}duplicateRow(g,w){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const j=this._rows[g-1],N=new Array(w).fill(j.values);this.spliceRows(g+1,v?0:w,...N);for(let T=0;T<w;T++){const D=this._rows[g+T];D.style=j.style,D.height=j.height,j.eachCell({includeEmpty:!0},(V,P)=>{D.getCell(P).style=V.style})}}spliceRows(g,w){const v=g+w;for(var j=arguments.length,N=new Array(j>2?j-2:0),T=2;T<j;T++)N[T-2]=arguments[T];const D=N.length,V=D-w,P=this._rows.length;let $,G;if(V<0)for(g===P&&(this._rows[P-1]=void 0),$=v;$<=P;$++)if(G=this._rows[$-1],G){const Y=this.getRow($+V);Y.values=G.values,Y.style=G.style,Y.height=G.height,G.eachCell({includeEmpty:!0},(W,O)=>{Y.getCell(O).style=W.style}),this._rows[$-1]=void 0}else this._rows[$+V-1]=void 0;else if(V>0)for($=P;$>=v;$--)if(G=this._rows[$-1],G){const Y=this.getRow($+V);Y.values=G.values,Y.style=G.style,Y.height=G.height,G.eachCell({includeEmpty:!0},(W,O)=>{if(Y.getCell(O).style=W.style,W._value.constructor.name==="MergeValue"){const I=this.getRow(W._row._number+D).getCell(O),R=W._value._master,S=this.getRow(R._row._number+D).getCell(R._column._number);I.merge(S)}})}else this._rows[$+V-1]=void 0;for($=0;$<D;$++){const Y=this.getRow(g+$);Y.style={},Y.values=N[$]}this.workbook.definedNames.spliceRows(this.name,g,w,D)}eachRow(g,w){if(w||(w=g,g=void 0),g&&g.includeEmpty){const v=this._rows.length;for(let j=1;j<=v;j++)w(this.getRow(j),j)}else this._rows.forEach(v=>{v&&v.hasValues&&w(v,v.number)})}getSheetValues(){const g=[];return this._rows.forEach(w=>{w&&(g[w.number]=w.values)}),g}findCell(g,w){const v=i.getAddress(g,w),j=this._rows[v.row-1];return j?j.findCell(v.col):void 0}getCell(g,w){const v=i.getAddress(g,w);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];const j=new d(w);this._mergeCellsInternal(j)}mergeCellsWithoutStyle(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];const j=new d(w);this._mergeCellsInternal(j,!0)}_mergeCellsInternal(g,w){o.each(this._merges,j=>{if(j.intersects(g))throw new Error("Cannot merge already merged cells")});const v=this.getCell(g.top,g.left);for(let j=g.top;j<=g.bottom;j++)for(let N=g.left;N<=g.right;N++)(j>g.top||N>g.left)&&this.getCell(j,N).merge(v,w);this._merges[v.address]=g}_unMergeMaster(g){const w=this._merges[g.address];if(w){for(let v=w.top;v<=w.bottom;v++)for(let j=w.left;j<=w.right;j++)this.getCell(v,j).unmerge();delete this._merges[g.address]}}get hasMerges(){return o.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];const j=new d(w);for(let N=j.top;N<=j.bottom;N++)for(let T=j.left;T<=j.right;T++){const D=this.findCell(N,T);D&&(D.type===u.ValueType.Merge?this._unMergeMaster(D.master):this._merges[D.address]&&this._unMergeMaster(D))}}fillFormula(g,w,v){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const N=i.decode(g),{top:T,left:D,bottom:V,right:P}=N,$=P-D+1,G=i.encodeAddress(T,D),Y=j==="shared";let W;W=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(I,R)=>v[I-T][R-D]:(I,R)=>v[(I-T)*$+(R-D)]:()=>{};let O=!0;for(let I=T;I<=V;I++)for(let R=D;R<=P;R++)O?(this.getCell(I,R).value={shareType:j,formula:w,ref:g,result:W(I,R)},O=!1):this.getCell(I,R).value=Y?{sharedFormula:G,result:W(I,R)}:W(I,R)}addImage(g,w){const v={type:"image",imageId:g,range:w};this._media.push(new m(this,v))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const w={type:"background",imageId:g};this._media.push(new m(this,w))}getBackgroundImageId(){const g=this._media.find(w=>w.type==="background");return g&&g.imageId}protect(g,w){return new Promise(v=>{this.sheetProtection={sheet:!0},w&&"spinCount"in w&&(w.spinCount=Number.isFinite(w.spinCount)?Math.round(Math.max(0,w.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=y.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=w&&"spinCount"in w?w.spinCount:1e5,this.sheetProtection.hashValue=y.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),w&&(this.sheetProtection=Object.assign(this.sheetProtection,w),!g&&"spinCount"in w&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(g){const w=new h(this,g);return this.tables[g.name]=w,w}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(j=>j.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(j=>j.model),conditionalFormattings:this.conditionalFormattings};g.cols=a.toModel(this.columns);const w=g.rows=[],v=g.dimensions=new d;return this._rows.forEach(j=>{const N=j&&j.model;N&&(v.expand(N.number,N.min,N.number,N.max),w.push(N))}),g.merges=[],o.each(this._merges,j=>{g.merges.push(j.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(w=>{const v=new c(this,w.number);this._rows[v.number-1]=v,v.model=w})}_parseMergeCells(g){o.each(g.mergeCells,w=>{this.mergeCellsWithoutStyle(w)})}set model(g){this.name=g.name,this._columns=a.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new p(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(w=>new m(this,w)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((w,v)=>{const j=new h;return j.model=v,w[v.name]=j,w},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,s,l){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const o={Workbook:e("./doc/workbook")},i=e("./doc/enums");Object.keys(i).forEach(d=>{o[d]=i[d]}),s.exports=o},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,s,l){const o=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");l.bufferToString=function(i){return typeof i=="string"?i:o?o.decode(i):i.toString()}},{}],17:[function(e,s,l){const o=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:i}=e("buffer");l.stringToBuffer=function(d){return typeof d!="string"?d:o?i.from(o.encode(d).buffer):i.from(d)}},{buffer:220}],18:[function(e,s,l){const o=e("./under-dash"),i=e("./col-cache");s.exports=class{constructor(d){this.template=d,this.sheets={}}addCell(d){this.addCellEx(i.decodeEx(d))}getCell(d){return this.findCellEx(i.decodeEx(d),!0)}findCell(d){return this.findCellEx(i.decodeEx(d),!1)}findCellAt(d,c,a){const u=this.sheets[d],m=u&&u[c];return m&&m[a]}addCellEx(d){if(d.top)for(let c=d.top;c<=d.bottom;c++)for(let a=d.left;a<=d.right;a++)this.getCellAt(d.sheetName,c,a);else this.findCellEx(d,!0)}getCellEx(d){return this.findCellEx(d,!0)}findCellEx(d,c){const a=this.findSheet(d,c),u=this.findSheetRow(a,d,c);return this.findRowCell(u,d,c)}getCellAt(d,c,a){const u=this.sheets[d]||(this.sheets[d]=[]),m=u[c]||(u[c]=[]);return m[a]||(m[a]={sheetName:d,address:i.n2l(a)+c,row:c,col:a})}removeCellEx(d){const c=this.findSheet(d);if(!c)return;const a=this.findSheetRow(c,d);a&&delete a[d.col]}forEachInSheet(d,c){const a=this.sheets[d];a&&a.forEach((u,m)=>{u&&u.forEach((h,p)=>{h&&c(h,m,p)})})}forEach(d){o.each(this.sheets,(c,a)=>{this.forEachInSheet(a,d)})}map(d){const c=[];return this.forEach(a=>{c.push(d(a))}),c}findSheet(d,c){const a=d.sheetName;return this.sheets[a]?this.sheets[a]:c?this.sheets[a]=[]:void 0}findSheetRow(d,c,a){const{row:u}=c;return d&&d[u]?d[u]:a?d[u]=[]:void 0}findRowCell(d,c,a){const{col:u}=c;return d&&d[u]?d[u]:a?d[u]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(d,c,a,u){const m=this.sheets[d];if(m){const h=[];for(let p=0;p<u;p++)h.push([]);m.splice(c,a,...h)}}spliceColumns(d,c,a,u){const m=this.sheets[d];if(m){const h=[];for(let p=0;p<u;p++)h.push(null);o.each(m,p=>{p.splice(c,a,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,s,l){const o=/^[A-Z]+\d+$/,i={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:d=>d<=26?1:d<=676?2:3,_fill(d){let c,a,u,m,h,p=1;if(d>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&d>=1){for(;p<=26;)c=this._dictionary[p-1],this._n2l[p]=c,this._l2n[c]=p,p++;this._l2nFill=1}if(this._l2nFill<2&&d>=2){for(p=27;p<=702;)a=p-27,u=a%26,m=Math.floor(a/26),c=this._dictionary[m]+this._dictionary[u],this._n2l[p]=c,this._l2n[c]=p,p++;this._l2nFill=2}if(this._l2nFill<3&&d>=3){for(p=703;p<=16384;)a=p-703,u=a%26,m=Math.floor(a/26)%26,h=Math.floor(a/676),c=this._dictionary[h]+this._dictionary[m]+this._dictionary[u],this._n2l[p]=c,this._l2n[c]=p,p++;this._l2nFill=3}},l2n(d){if(this._l2n[d]||this._fill(d.length),!this._l2n[d])throw new Error("Out of bounds. Invalid column letter: "+d);return this._l2n[d]},n2l(d){if(d<1||d>16384)throw new Error(d+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[d]||this._fill(this._level(d)),this._n2l[d]},_hash:{},validateAddress(d){if(!o.test(d))throw new Error("Invalid Address: "+d);return!0},decodeAddress(d){const c=d.length<5&&this._hash[d];if(c)return c;let a=!1,u="",m=0,h=!1,p="",y=0;for(let g,w=0;w<d.length;w++)if(g=d.charCodeAt(w),!h&&g>=65&&g<=90)a=!0,u+=d[w],m=26*m+g-64;else if(g>=48&&g<=57)h=!0,p+=d[w],y=10*y+g-48;else if(h&&a&&g!==36)break;if(a){if(m>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else m=void 0;h||(y=void 0);const x={address:d=u+p,col:m,row:y,$col$row:`$${u}$${p}`};return m<=100&&y<=100&&(this._hash[d]=x,this._hash[x.$col$row]=x),x},getAddress(d,c){if(c){const a=this.n2l(c)+d;return this.decodeAddress(a)}return this.decodeAddress(d)},decode(d){const c=d.split(":");if(c.length===2){const a=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),m={top:Math.min(a.row,u.row),left:Math.min(a.col,u.col),bottom:Math.max(a.row,u.row),right:Math.max(a.col,u.col)};return m.tl=this.n2l(m.left)+m.top,m.br=this.n2l(m.right)+m.bottom,m.dimensions=`${m.tl}:${m.br}`,m}return this.decodeAddress(d)},decodeEx(d){const c=d.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=c[1]||c[2],u=c[3],m=u.split(":");if(m.length>1){let p=this.decodeAddress(m[0]),y=this.decodeAddress(m[1]);const x=Math.min(p.row,y.row),g=Math.min(p.col,y.col),w=Math.max(p.row,y.row),v=Math.max(p.col,y.col);return p=this.n2l(g)+x,y=this.n2l(v)+w,{top:x,left:g,bottom:w,right:v,sheetName:a,tl:{address:p,col:g,row:x,$col$row:`$${this.n2l(g)}$${x}`,sheetName:a},br:{address:y,col:v,row:w,$col$row:`$${this.n2l(v)}$${w}`,sheetName:a},dimensions:`${p}:${y}`}}if(u.startsWith("#"))return a?{sheetName:a,error:u}:{error:u};const h=this.decodeAddress(u);return a?{sheetName:a,...h}:h},encodeAddress:(d,c)=>i.n2l(c)+d,encode(){switch(arguments.length){case 2:return i.encodeAddress(arguments[0],arguments[1]);case 4:return`${i.encodeAddress(arguments[0],arguments[1])}:${i.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(d,c){const[a,u,,m,h]=d,[p,y]=c;return p>=a&&p<=m&&y>=u&&y<=h}};s.exports=i},{}],20:[function(e,s,l){const o=(d,c)=>({...d,...c.reduce((a,u)=>(d[u]&&(a[u]={...d[u]}),a),{})}),i=function(d,c,a){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];d[a]&&(c[a]=o(d[a],u))};l.copyStyle=d=>{if(!d)return d;if(c=d,Object.keys(c).length===0)return{};var c;const a={...d};return i(d,a,"font",["color"]),i(d,a,"alignment"),i(d,a,"protection"),d.border&&(i(d,a,"border"),i(d.border,a.border,"top",["color"]),i(d.border,a.border,"left",["color"]),i(d.border,a.border,"bottom",["color"]),i(d.border,a.border,"right",["color"]),i(d.border,a.border,"diagonal",["color"])),d.fill&&(i(d,a,"fill",["fgColor","bgColor","center"]),d.fill.stops&&(a.fill.stops=d.fill.stops.map(u=>o(u,["color"])))),a}},{}],21:[function(e,s,l){(function(o){(function(){const i=e("crypto"),d={hash(c){const a=i.createHash(c);for(var u=arguments.length,m=new Array(u>1?u-1:0),h=1;h<u;h++)m[h-1]=arguments[h];return a.update(o.concat(m)),a.digest()},convertPasswordToHash(c,a,u,m){if(a=a.toLowerCase(),i.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);const h=o.from(c,"utf16le");let p=this.hash(a,o.from(u,"base64"),h);for(let y=0;y<m;y++){const x=o.alloc(4);x.writeUInt32LE(y,0),p=this.hash(a,p,x)}return p.toString("base64")},randomBytes:c=>i.randomBytes(c)};s.exports=d}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,s,l){const{SaxesParser:o}=e("saxes"),{PassThrough:i}=e("readable-stream"),{bufferToString:d}=e("./browser-buffer-decode");s.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new i));const a=new o;let u;a.on("error",h=>{u=h});let m=[];a.on("opentag",h=>m.push({eventType:"opentag",value:h})),a.on("text",h=>m.push({eventType:"text",value:h})),a.on("closetag",h=>m.push({eventType:"closetag",value:h}));for await(const h of c){if(a.write(d(h)),u)throw u;yield m,m=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,s,l){const o=e("./col-cache"),i=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,d=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;s.exports={slideFormula:function(c,a,u){const m=o.decode(a),h=o.decode(u);return c.replace(i,(p,y,x,g,w)=>{if(w)return p;const v=d.exec(g);if(v){const j=v[1],N=v[2].toUpperCase(),T=v[3],D=v[4];if(N.length>3||N.length===3&&N>"XFD")return p;let V=o.l2n(N),P=parseInt(D,10);return j||(V+=h.col-m.col),T||(P+=h.row-m.row),(y||"")+(j||"")+o.n2l(V)+(T||"")+P}return p})}}},{"./col-cache":19}],24:[function(e,s,l){(function(o,i){(function(){const d=e("readable-stream"),c=e("./utils"),a=e("./string-buf");class u{constructor(g,w){this._data=g,this._encoding=w}get length(){return this.toBuffer().length}copy(g,w,v,j){return this.toBuffer().copy(g,w,v,j)}toBuffer(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}class m{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,v,j){return this._data._buf.copy(g,w,v,j)}toBuffer(){return this._data.toBuffer()}}class h{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,v,j){this._data.copy(g,w,v,j)}toBuffer(){return this._data}}class p{constructor(g){this.size=g,this.buffer=i.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let w;return g===0?null:g===void 0||g>=this.length?(w=this.toBuffer(),this.iRead=this.iWrite,w):(w=i.alloc(g),this.buffer.copy(w,0,this.iRead,g),this.iRead+=g,w)}write(g,w,v){const j=Math.min(v,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,w,w+j),this.iWrite+=j,j}}const y=function(x){x=x||{},this.bufSize=x.bufSize||1048576,this.buffers=[],this.batch=x.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(y,d.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map(x=>x.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const x=new p(this.bufSize);return this.buffers.push(x),x},async _pipe(x){await Promise.all(this.pipes.map((function(g){return new Promise(w=>{g.write(x.toBuffer(),()=>{w()})})})))},_writeToBuffers(x){let g=0;const w=x.length;for(;g<w;)g+=this._getWritableBuffer().write(x,g,w-g)},async write(x,g,w){let v;if(g instanceof Function&&(w=g,g="utf8"),w=w||c.nop,x instanceof a)v=new m(x);else if(x instanceof i)v=new h(x);else{if(!(typeof x=="string"||x instanceof String||x instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new u(x,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),o.nextTick(w)):(await this._pipe(v),w());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(x,g,w){const v=j=>{j?w(j):(this._flush(),this.pipes.forEach(N=>{N.end()}),this.emit("finish"))};x?this.write(x,g,v):v()},read(x){let g;if(x){for(g=[];x&&this.buffers.length&&!this.buffers[0].eod;){const w=this.buffers[0],v=w.read(x);x-=v.length,g.push(v),w.eod&&w.full&&this.buffers.shift()}return i.concat(g)}return g=this.buffers.map(w=>w.toBuffer()).filter(Boolean),this.buffers=[],i.concat(g)},setEncoding(x){this.encoding=x},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(x){this.pipes.push(x),!this.paused&&this.buffers.length&&this.end()},unpipe(x){this.pipes=this.pipes.filter(g=>g!==x)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),s.exports=y}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,s,l){(function(o){(function(){s.exports=class{constructor(i){this._buf=o.alloc(i&&i.size||16384),this._encoding=i&&i.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=o.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(i){i=i||0,this._buffer=void 0,this._inPos=i}_grow(i){let d=2*this._buf.length;for(;d<i;)d*=2;const c=o.alloc(d);this._buf.copy(c,0),this._buf=c}addText(i){this._buffer=void 0;let d=this._inPos+this._buf.write(i,this._inPos,this._encoding);for(;d>=this._buf.length-4;)this._grow(this._inPos+i.length),d=this._inPos+this._buf.write(i,this._inPos,this._encoding);this._inPos=d}addStringBuf(i){i.length&&(this._buffer=void 0,this.length+i.length>this.capacity&&this._grow(this.length+i.length),i._buf.copy(this._buf,this._inPos,0,i.length),this._inPos+=i.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,s,l){const{toString:o}=Object.prototype,i=/["&<>]/,d={each:function(c,a){c&&(Array.isArray(c)?c.forEach(a):Object.keys(c).forEach(u=>{a(c[u],u)}))},some:function(c,a){return!!c&&(Array.isArray(c)?c.some(a):Object.keys(c).some(u=>a(c[u],u)))},every:function(c,a){return!c||(Array.isArray(c)?c.every(a):Object.keys(c).every(u=>a(c[u],u)))},map:function(c,a){return c?Array.isArray(c)?c.map(a):Object.keys(c).map(u=>a(c[u],u)):[]},keyBy:(c,a)=>c.reduce((u,m)=>(u[m[a]]=m,u),{}),isEqual:function(c,a){const u=typeof c,m=typeof a,h=Array.isArray(c),p=Array.isArray(a);let y;if(u!==m)return!1;switch(typeof c){case"object":if(h||p)return!(!h||!p)&&c.length===a.length&&c.every((x,g)=>{const w=a[g];return d.isEqual(x,w)});if(c===null||a===null)return c===a;if(y=Object.keys(c),Object.keys(a).length!==y.length)return!1;for(const x of y)if(!a.hasOwnProperty(x))return!1;return d.every(c,(x,g)=>{const w=a[g];return d.isEqual(x,w)});default:return c===a}},escapeHtml(c){const a=i.exec(c);if(!a)return c;let u="",m="",h=0,p=a.index;for(;p<c.length;p++){switch(c.charAt(p)){case'"':m="&quot;";break;case"&":m="&amp;";break;case"'":m="&apos;";break;case"<":m="&lt;";break;case">":m="&gt;";break;default:continue}h!==p&&(u+=c.substring(h,p)),h=p+1,u+=m}return h!==p?u+c.substring(h,p):u},strcmp:(c,a)=>c<a?-1:c>a?1:0,isUndefined:c=>o.call(c)==="[object Undefined]",isObject:c=>o.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:a}=arguments;let u,m,h;function p(y,x){u=c[x],h=Array.isArray(y),d.isObject(y)||h?(h?(h=!1,m=u&&Array.isArray(u)?u:[]):m=u&&d.isObject(u)?u:{},c[x]=d.deepMerge(m,y)):d.isUndefined(y)||(c[x]=y)}for(let y=0;y<a;y++)d.each(arguments[y],p);return c}};s.exports=d},{}],27:[function(e,s,l){(function(o,i){(function(){const d=e("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:u=>new Promise(m=>{o.setImmediate?i(()=>{m(u)}):setTimeout(()=>{m(u)},1)}),inherits:function(u,m,h,p){u.super_=m,p||(p=h,h=null),h&&Object.keys(h).forEach(x=>{Object.defineProperty(u,x,Object.getOwnPropertyDescriptor(h,x))});const y={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};p&&Object.keys(p).forEach(x=>{y[x]=Object.getOwnPropertyDescriptor(p,x)}),u.prototype=Object.create(m.prototype,y)},dateToExcel:(u,m)=>25569+u.getTime()/864e5-(m?1462:0),excelToDate(u,m){const h=Math.round(24*(u-25569+(m?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const m=u.lastIndexOf("/");return{path:u.substring(0,m),name:u.substring(m+1)}},getRelsPath(u){const m=a.parsePath(u);return`${m.path}/_rels/${m.name}.rels`},xmlEncode(u){const m=c.exec(u);if(!m)return u;let h="",p="",y=0,x=m.index;for(;x<u.length;x++){const g=u.charCodeAt(x);switch(g){case 34:p="&quot;";break;case 38:p="&amp;";break;case 39:p="&apos;";break;case 60:p="&lt;";break;case 62:p="&gt;";break;case 127:p="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){p="";break}continue}y!==x&&(h+=u.substring(y,x)),y=x+1,p&&(h+=p)}return y!==x?h+u.substring(y,x):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,m=>{switch(m){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return m}}),validInt(u){const m=parseInt(u,10);return Number.isNaN(m)?0:m},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(m=>{d.access(u,d.constants.F_OK,h=>{m(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};s.exports=a}).call(this)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,s,l){const o=e("./under-dash"),i=e("./utils");function d(u,m,h){u.push(` ${m}="${i.xmlEncode(h.toString())}"`)}function c(u,m){if(m){const h=[];o.each(m,(p,y)=>{p!==void 0&&d(h,y,p)}),u.push(h.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(m){const h=this._xml;h.push("<?xml"),c(h,m),h.push(`?>
`)}openNode(m,h){const p=this.tos,y=this._xml;p&&this.open&&y.push(">"),this._stack.push(m),y.push("<"),y.push(m),c(y,h),this.leaf=!0,this.open=!0}addAttribute(m,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&d(this._xml,m,h)}addAttributes(m){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,m)}writeText(m){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(i.xmlEncode(m.toString()))}writeXml(m){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(m)}closeNode(){const m=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(m),h.push(">")),this.open=!1,this.leaf=!1}leafNode(m,h,p){this.openNode(m,h),p!==void 0&&this.writeText(p),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const m=this._rollbacks.pop();this._xml.length>m.xml&&this._xml.splice(m.xml,this._xml.length-m.xml),this._stack.length>m.stack&&this._stack.splice(m.stack,this._stack.length-m.stack),this.leaf=m.leaf,this.open=m.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},s.exports=a},{"./under-dash":26,"./utils":27}],29:[function(e,s,l){(function(o){(function(){const i=e("events"),d=e("jszip"),c=e("./stream-buf"),{stringToBuffer:a}=e("./browser-buffer-encode");class u extends i.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new d,this.stream=new c}append(h,p){p.hasOwnProperty("base64")&&p.base64?this.zip.file(p.name,h,{base64:!0}):(o.browser&&typeof h=="string"&&(h=a(h)),this.zip.file(p.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,p){return this.stream.pipe(h,p)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}s.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,s,l){s.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,s,l){s.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,s,l){const o=e("../../utils/parse-sax"),i=e("../../utils/xml-stream");class d{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof d?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(const u of a)for(const{eventType:m,value:h}of u)if(m==="opentag")this.parseOpen(h);else if(m==="text")this.parseText(h);else if(m==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(a){return this.parse(o(a))}get xml(){return this.toXml(this.model)}toXml(a){const u=new i;return this.render(u,a),u.xml}static toAttribute(a,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(m)return u}else if(m||a!==u)return a.toString()}static toStringAttribute(a,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return d.toAttribute(a,u,m)}static toStringValue(a,u){return a===void 0?u:a}static toBoolAttribute(a,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(m)return u}else if(m||a!==u)return a?"1":"0"}static toBoolValue(a,u){return a===void 0?u:a==="1"}static toIntAttribute(a,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return d.toAttribute(a,u,m)}static toIntValue(a,u){return a===void 0?u:parseInt(a,10)}static toFloatAttribute(a,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return d.toAttribute(a,u,m)}static toFloatValue(a,u){return a===void 0?u:parseFloat(a)}}s.exports=d},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,s,l){const o=e("../base-xform"),i=e("../../../utils/col-cache");function d(a){try{return i.decodeEx(a),!0}catch{return!1}}function c(a){const u=[];let m=!1,h="";return a.split(",").forEach(p=>{if(!p)return;const y=(p.match(/'/g)||[]).length;if(!y)return void(m?h+=p+",":d(p)&&u.push(p));const x=y%2==0;!m&&x&&d(p)?u.push(p):m&&!x?(m=!1,d(h+p)&&u.push(h+p),h=""):(m=!0,h+=p+",")}),u}s.exports=class extends o{render(a,u){a.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),a.writeText(u.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,s,l){const o=e("../../../utils/utils"),i=e("../base-xform");s.exports=class extends i{render(d,c){d.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(d){return d.name==="sheet"&&(this.model={name:o.xmlDecode(d.attributes.name),id:parseInt(d.attributes.sheetId,10),state:d.attributes.state,rId:d.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{render(i,d){i.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:d.fullCalcOnLoad?1:void 0})}parseOpen(i){return i.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{render(i,d){i.leafNode("workbookPr",{date1904:d.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(i){return i.name==="workbookPr"&&(this.model={date1904:i.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{render(i,d){const c={xWindow:d.x||0,yWindow:d.y||0,windowWidth:d.width||12e3,windowHeight:d.height||24e3,firstSheet:d.firstSheet,activeTab:d.activeTab};d.visibility&&d.visibility!=="visible"&&(c.visibility=d.visibility),i.leafNode("workbookView",c)}parseOpen(i){if(i.name==="workbookView"){const d=this.model={},c=function(u,m,h){const p=m!==void 0?d[u]=m:h;p!==void 0&&(d[u]=p)},a=function(u,m,h){const p=m!==void 0?d[u]=parseInt(m,10):h;p!==void 0&&(d[u]=p)};return a("x",i.attributes.xWindow,0),a("y",i.attributes.yWindow,0),a("width",i.attributes.windowWidth,25e3),a("height",i.attributes.windowHeight,1e4),c("visibility",i.attributes.visibility,"visible"),a("activeTab",i.attributes.activeTab,void 0),a("firstSheet",i.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../../../utils/col-cache"),d=e("../../../utils/xml-stream"),c=e("../base-xform"),a=e("../static-xform"),u=e("../list-xform"),m=e("./defined-name-xform"),h=e("./sheet-xform"),p=e("./workbook-view-xform"),y=e("./workbook-properties-xform"),x=e("./workbook-calc-properties-xform");class g extends c{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new y,bookViews:new u({tag:"bookViews",count:!1,childXform:new p}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new m}),calcPr:new x}}prepare(v){v.sheets=v.worksheets;const j=[];let N=0;v.sheets.forEach(T=>{if(T.pageSetup&&T.pageSetup.printArea&&T.pageSetup.printArea.split("&&").forEach(D=>{const V=D.split(":"),P={name:"_xlnm.Print_Area",ranges:[`'${T.name}'!$${V[0]}:$${V[1]}`],localSheetId:N};j.push(P)}),T.pageSetup&&(T.pageSetup.printTitlesRow||T.pageSetup.printTitlesColumn)){const D=[];if(T.pageSetup.printTitlesColumn){const P=T.pageSetup.printTitlesColumn.split(":");D.push(`'${T.name}'!$${P[0]}:$${P[1]}`)}if(T.pageSetup.printTitlesRow){const P=T.pageSetup.printTitlesRow.split(":");D.push(`'${T.name}'!$${P[0]}:$${P[1]}`)}const V={name:"_xlnm.Print_Titles",ranges:D,localSheetId:N};j.push(V)}N++}),j.length&&(v.definedNames=v.definedNames.concat(j)),(v.media||[]).forEach((T,D)=>{T.name=T.type+(D+1)})}render(v,j){v.openXml(d.StdDocAttributes),v.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,j.properties),this.map.bookViews.render(v,j.views),this.map.sheets.render(v,j.sheets),this.map.definedNames.render(v,j.definedNames),this.map.calcPr.render(v,j.calcProperties),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"workbook":return!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(v){const j=(v.workbookRels||[]).reduce((P,$)=>(P[$.Id]=$,P),{}),N=[];let T,D=0;(v.sheets||[]).forEach(P=>{const $=j[P.rId];$&&(T=v.worksheetHash["xl/"+$.Target.replace(/^(\s|\/xl\/)+/,"")],T&&(T.name=P.name,T.id=P.id,T.state=P.state,N[D++]=T))});const V=[];o.each(v.definedNames,P=>{if(P.name==="_xlnm.Print_Area"){if(T=N[P.localSheetId],T){T.pageSetup||(T.pageSetup={});const $=i.decodeEx(P.ranges[0]);T.pageSetup.printArea=T.pageSetup.printArea?`${T.pageSetup.printArea}&&${$.dimensions}`:$.dimensions}}else if(P.name==="_xlnm.Print_Titles"){if(T=N[P.localSheetId],T){T.pageSetup||(T.pageSetup={});const $=P.ranges.join(","),G=/\$/g,Y=/\$\d+:\$\d+/,W=$.match(Y);if(W&&W.length){const R=W[0];T.pageSetup.printTitlesRow=R.replace(G,"")}const O=/\$[A-Z]+:\$[A-Z]+/,I=$.match(O);if(I&&I.length){const R=I[0];T.pageSetup.printTitlesColumn=R.replace(G,"")}}}else V.push(P)}),v.definedNames=V,v.media.forEach((P,$)=>{P.index=$})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},s.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,s,l){const o=e("../strings/rich-text-xform"),i=e("../../../utils/utils"),d=e("../base-xform"),c=s.exports=function(a){this.model=a};i.inherits(c,d,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new o),this._richTextXform},render(a,u){u=u||this.model,a.openNode("comment",{ref:u.ref,authorId:0}),a.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(m=>{this.richTextXform.render(a,m)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model={type:"note",note:{texts:[]},...a.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,s,l){const o=e("../../../utils/xml-stream"),i=e("../../../utils/utils"),d=e("../base-xform"),c=e("./comment-xform"),a=s.exports=function(){this.map={comment:new c}};i.inherits(a,d,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,m){m=m||this.model,u.openXml(o.StdDocAttributes),u.openNode("comments",a.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),m.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,s,l){const o=e("../../base-xform");s.exports=class extends o{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,d,c){(d===c[2]||this.tag==="x:SizeWithCells"&&d===c[1])&&i.leafNode(this.tag)}parseOpen(i){switch(i.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,s,l){const o=e("../../base-xform");s.exports=class extends o{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,d){i.leafNode(this.tag,null,d)}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"x:Anchor"}getAnchorRect(i){const d=Math.floor(i.left),c=Math.floor(68*(i.left-d)),a=Math.floor(i.top),u=Math.floor(18*(i.top-a)),m=Math.floor(i.right),h=Math.floor(68*(i.right-m)),p=Math.floor(i.bottom);return[d,c,a,u,m,h,p,Math.floor(18*(i.bottom-p))]}getDefaultRect(i){const d=i.col,c=Math.max(i.row-2,0);return[d,6,c,14,d+2,2,c+4,16]}render(i,d){const c=d.anchor?this.getAnchorRect(d.anchor):this.getDefaultRect(d.refAddress);i.leafNode("x:Anchor",null,c.join(", "))}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,s,l){const o=e("../base-xform"),i=e("./vml-anchor-xform"),d=e("./style/vml-protection-xform"),c=e("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];s.exports=class extends o{constructor(){super(),this.map={"x:Anchor":new i,"x:Locked":new d({tag:"x:Locked"}),"x:LockText":new d({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,m){const{protection:h,editAs:p}=m.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,p,a),this.map["x:SizeWithCells"].render(u,p,a),this.map["x:Anchor"].render(u,m),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,m.refAddress.row-1),u.leafNode("x:Column",null,m.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),m=Object.keys(u).length;this.model.editAs=a[m],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,s,l){const o=e("../../../utils/xml-stream"),i=e("../base-xform"),d=e("./vml-shape-xform");class c extends i{constructor(){super(),this.map={"v:shape":new d}}get tag(){return"xml"}render(u,m){u.openXml(o.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),m.comments.forEach((h,p)=>{this.map["v:shape"].render(u,h,p)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,m){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,m):this.map["xdr:oneCellAnchor"].reconcile(h,m)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},s.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,s,l){const o=e("../base-xform"),i=e("./vml-textbox-xform"),d=e("./vml-client-data-xform");class c extends o{constructor(){super(),this.map={"v:textbox":new i,"x:ClientData":new d}}get tag(){return"v:shape"}render(u,m,h){u.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(m,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,m),this.map["x:ClientData"].render(u,m),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}c.V_SHAPE_ATTRIBUTES=(a,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),s.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"v:textbox"}conversionUnit(i,d,c){return`${parseFloat(i)*d.toFixed(2)}${c}`}reverseConversionUnit(i){return(i||"").split(",").map(d=>Number(parseFloat(this.conversionUnit(parseFloat(d),.1,"")).toFixed(2)))}render(i,d){const c={style:"mso-direction-alt:auto"};if(d&&d.note){let{inset:a}=d.note&&d.note.margins;Array.isArray(a)&&(a=a.map(u=>this.conversionUnit(u,10,"mm")).join(",")),a&&(c.inset=a)}i.openNode("v:textbox",c),i.leafNode("div",{style:"text-align:left"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:return this.model={inset:this.reverseConversionUnit(i.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,s,l){const o=e("./base-xform");s.exports=class extends o{createNewModel(i){return{}}parseOpen(i){return this.parser=this.parser||this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag&&(this.model=this.createNewModel(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}onParserClose(i,d){this.model[i]=d.model}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.onParserClose(i,this.parser),this.parser=void 0),!0):i!==this.tag}}},{"./base-xform":32}],49:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{render(i,d){i.openNode("HeadingPairs"),i.openNode("vt:vector",{size:2,baseType:"variant"}),i.openNode("vt:variant"),i.leafNode("vt:lpstr",void 0,"Worksheets"),i.closeNode(),i.openNode("vt:variant"),i.leafNode("vt:i4",void 0,d.length),i.closeNode(),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="HeadingPairs"}parseText(){}parseClose(i){return i!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{render(i,d){i.openNode("TitlesOfParts"),i.openNode("vt:vector",{size:d.length,baseType:"lpstr"}),d.forEach(c=>{i.leafNode("vt:lpstr",void 0,c.name)}),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="TitlesOfParts"}parseText(){}parseClose(i){return i!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,s,l){const o=e("../../../utils/xml-stream"),i=e("../base-xform"),d=e("../simple/string-xform"),c=e("./app-heading-pairs-xform"),a=e("./app-titles-of-parts-xform");class u extends i{constructor(){super(),this.map={Company:new d({tag:"Company"}),Manager:new d({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new a}}render(h,p){h.openXml(o.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,p.worksheets),this.map.TitleOfParts.render(h,p.worksheets),this.map.Company.render(h,p.company||""),this.map.Manager.render(h,p.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(m){return m.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,s,l){const o=e("../../../utils/xml-stream"),i=e("../base-xform");class d extends i{render(a,u){a.openXml(o.StdDocAttributes),a.openNode("Types",d.PROPERTY_ATTRIBUTES);const m={};(u.media||[]).forEach(h=>{if(h.type==="image"){const p=h.extension;m[p]||(m[p]=!0,a.leafNode("Default",{Extension:p,ContentType:"image/"+p}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const p=`/xl/worksheets/sheet${h.id}.xml`;a.leafNode("Override",{PartName:p,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{a.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{a.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:p}=h;a.leafNode("Override",{PartName:`/xl/${p}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,s,l){const o=e("../../../utils/xml-stream"),i=e("../base-xform"),d=e("../simple/date-xform"),c=e("../simple/string-xform"),a=e("../simple/integer-xform");class u extends i{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new d({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new d({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new d({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,p){h.openXml(o.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,p.creator),this.map["dc:title"].render(h,p.title),this.map["dc:subject"].render(h,p.subject),this.map["dc:description"].render(h,p.description),this.map["dc:identifier"].render(h,p.identifier),this.map["dc:language"].render(h,p.language),this.map["cp:keywords"].render(h,p.keywords),this.map["cp:category"].render(h,p.category),this.map["cp:lastModifiedBy"].render(h,p.lastModifiedBy),this.map["cp:lastPrinted"].render(h,p.lastPrinted),this.map["cp:revision"].render(h,p.revision),this.map["cp:version"].render(h,p.version),this.map["cp:contentStatus"].render(h,p.contentStatus),this.map["cp:contentType"].render(h,p.contentType),this.map["dcterms:created"].render(h,p.created),this.map["dcterms:modified"].render(h,p.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(m){return m.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{render(i,d){i.leafNode("Relationship",d)}parseOpen(i){switch(i.name){case"Relationship":return this.model=i.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,s,l){const o=e("../../../utils/xml-stream"),i=e("../base-xform"),d=e("./relationship-xform");class c extends i{constructor(){super(),this.map={Relationship:new d}}render(u,m){m=m||this._values,u.openXml(o.StdDocAttributes),u.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),m.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},s.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={range:{editAs:i.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}reconcilePicture(i,d){if(i&&i.rId){const c=d.rels[i.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const a=c[1],u=d.mediaIndex[a];return d.media[u]}}}}},{"../base-xform":32}],57:[function(e,s,l){const o=e("../base-xform"),i=e("./blip-xform");s.exports=class extends o{constructor(){super(),this.map={"a:blip":new i}}get tag(){return"xdr:blipFill"}render(d,c){d.openNode(this.tag),this.map["a:blip"].render(d,c),d.openNode("a:stretch"),d.leafNode("a:fillRect"),d.closeNode(),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"a:blip"}render(i,d){i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":d.rId,cstate:"print"})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"xdr:cNvPicPr"}render(i){i.openNode(this.tag),i.leafNode("a:picLocks",{noChangeAspect:"1"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,s,l){const o=e("../base-xform"),i=e("./hlink-click-xform"),d=e("./ext-lst-xform");s.exports=class extends o{constructor(){super(),this.map={"a:hlinkClick":new i,"a:extLst":new d}}get tag(){return"xdr:cNvPr"}render(c,a){c.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(c,a),this.map["a:extLst"].render(c,a),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,s,l){const o=e("../base-xform"),i=e("../simple/integer-xform");s.exports=class extends o{constructor(d){super(),this.tag=d.tag,this.map={"xdr:col":new i({tag:"xdr:col",zero:!0}),"xdr:colOff":new i({tag:"xdr:colOff",zero:!0}),"xdr:row":new i({tag:"xdr:row",zero:!0}),"xdr:rowOff":new i({tag:"xdr:rowOff",zero:!0})}}render(d,c){d.openNode(this.tag),this.map["xdr:col"].render(d,c.nativeCol),this.map["xdr:colOff"].render(d,c.nativeColOff),this.map["xdr:row"].render(d,c.nativeRow),this.map["xdr:rowOff"].render(d,c.nativeRowOff),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,s,l){const o=e("../../../utils/col-cache"),i=e("../../../utils/xml-stream"),d=e("../base-xform"),c=e("./two-cell-anchor-xform"),a=e("./one-cell-anchor-xform");class u extends d{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new a}}prepare(h){h.anchors.forEach((p,y)=>{p.anchorType=(function(x){return(typeof x.range=="string"?o.decode(x.range):x.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(p),this.map[p.anchorType].prepare(p,{index:y})})}get tag(){return"xdr:wsDr"}render(h,p){h.openXml(i.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),p.anchors.forEach(y=>{this.map[y.anchorType].render(h,y)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,p){h.anchors.forEach(y=>{y.br?this.map["xdr:twoCellAnchor"].reconcile(y,p):this.map["xdr:oneCellAnchor"].reconcile(y,p)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},s.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"a:extLst"}render(i){i.openNode(this.tag),i.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),i.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),i.closeNode(),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{constructor(i){super(),this.tag=i.tag,this.map={}}render(i,d){i.openNode(this.tag);const c=Math.floor(9525*d.width),a=Math.floor(9525*d.height);i.addAttribute("cx",c),i.addAttribute("cy",a),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={width:parseInt(i.attributes.cx||"0",10)/9525,height:parseInt(i.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"a:hlinkClick"}render(i,d){d.hyperlinks&&d.hyperlinks.rId&&i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":d.hyperlinks.rId,tooltip:d.hyperlinks.tooltip})}parseOpen(i){switch(i.name){case this.tag:return this.model={hyperlinks:{rId:i.attributes["r:id"],tooltip:i.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,s,l){const o=e("../base-xform"),i=e("./c-nv-pr-xform"),d=e("./c-nv-pic-pr-xform");s.exports=class extends o{constructor(){super(),this.map={"xdr:cNvPr":new i,"xdr:cNvPicPr":new d}}get tag(){return"xdr:nvPicPr"}render(c,a){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,a),this.map["xdr:cNvPicPr"].render(c,a),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,s,l){const o=e("./base-cell-anchor-xform"),i=e("../static-xform"),d=e("./cell-position-xform"),c=e("./ext-xform"),a=e("./pic-xform");s.exports=class extends o{constructor(){super(),this.map={"xdr:from":new d({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,m){this.map["xdr:pic"].prepare(u.picture,m)}render(u,m){u.openNode(this.tag,{editAs:m.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,m.range.tl),this.map["xdr:ext"].render(u,m.range.ext),this.map["xdr:pic"].render(u,m.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,m){u.medium=this.reconcilePicture(u.picture,m)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,s,l){const o=e("../base-xform"),i=e("../static-xform"),d=e("./blip-fill-xform"),c=e("./nv-pic-pr-xform"),a=e("./sp-pr");s.exports=class extends o{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new d,"xdr:spPr":new i(a)}}get tag(){return"xdr:pic"}prepare(u,m){u.index=m.index+1}render(u,m){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,m),this.map["xdr:blipFill"].render(u,m),this.map["xdr:spPr"].render(u,m),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,s,l){s.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,s,l){const o=e("./base-cell-anchor-xform"),i=e("../static-xform"),d=e("./cell-position-xform"),c=e("./pic-xform");s.exports=class extends o{constructor(){super(),this.map={"xdr:from":new d({tag:"xdr:from"}),"xdr:to":new d({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,u){this.map["xdr:pic"].prepare(a.picture,u)}render(a,u){a.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,u.range.tl),this.map["xdr:to"].render(a,u.range.br),this.map["xdr:pic"].render(a,u.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,u){a.medium=this.reconcilePicture(a.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,s,l){const o=e("./base-xform");s.exports=class extends o{constructor(i){super(),this.tag=i.tag,this.always=!!i.always,this.count=i.count,this.empty=i.empty,this.$count=i.$count||"count",this.$=i.$,this.childXform=i.childXform,this.maxItems=i.maxItems}prepare(i,d){const{childXform:c}=this;i&&i.forEach((a,u)=>{d.index=u,c.prepare(a,d)})}render(i,d){if(this.always||d&&d.length){i.openNode(this.tag,this.$),this.count&&i.addAttribute(this.$count,d&&d.length||0);const{childXform:c}=this;(d||[]).forEach((a,u)=>{c.render(i,a,u)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(i)&&(this.parser=this.childXform,!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(i,d){if(i){const{childXform:c}=this;i.forEach(a=>{c.reconcile(a,d)})}}}},{"./base-xform":32}],72:[function(e,s,l){const o=e("../../../utils/col-cache"),i=e("../base-xform");s.exports=class extends i{get tag(){return"autoFilter"}render(d,c){if(c)if(typeof c=="string")d.leafNode("autoFilter",{ref:c});else{const a=function(h){return typeof h=="string"?h:o.getAddress(h.row,h.column).address},u=a(c.from),m=a(c.to);u&&m&&d.leafNode("autoFilter",{ref:`${u}:${m}`})}}parseOpen(d){d.name==="autoFilter"&&(this.model=d.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,s,l){const o=e("../../../utils/utils"),i=e("../base-xform"),d=e("../../../doc/range"),c=e("../../../doc/enums"),a=e("../strings/rich-text-xform");function u(m){if(m==null)return c.ValueType.Null;if(m instanceof String||typeof m=="string")return c.ValueType.String;if(typeof m=="number")return c.ValueType.Number;if(typeof m=="boolean")return c.ValueType.Boolean;if(m instanceof Date)return c.ValueType.Date;if(m.text&&m.hyperlink)return c.ValueType.Hyperlink;if(m.formula)return c.ValueType.Formula;if(m.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}s.exports=class extends i{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(m,h){const p=h.styles.addStyleModel(m.style||{},(function(y){switch(y.type){case c.ValueType.Formula:return u(y.result);default:return y.type}})(m));switch(p&&(m.styleId=p),m.comment&&h.comments.push({...m.comment,ref:m.address}),m.type){case c.ValueType.String:case c.ValueType.RichText:h.sharedStrings&&(m.ssId=h.sharedStrings.add(m.value));break;case c.ValueType.Date:h.date1904&&(m.date1904=!0);break;case c.ValueType.Hyperlink:h.sharedStrings&&m.text!==void 0&&m.text!==null&&(m.ssId=h.sharedStrings.add(m.text)),h.hyperlinks.push({address:m.address,target:m.hyperlink,tooltip:m.tooltip});break;case c.ValueType.Merge:h.merges.add(m);break;case c.ValueType.Formula:if(h.date1904&&(m.date1904=!0),m.shareType==="shared"&&(m.si=h.siFormulae++),m.formula)h.formulae[m.address]=m;else if(m.sharedFormula){const y=h.formulae[m.sharedFormula];if(!y)throw new Error("Shared Formula master must exist above and or left of clone for cell "+m.address);y.si===void 0?(y.shareType="shared",y.si=h.siFormulae++,y.range=new d(y.address,m.address)):y.range&&y.range.expandToAddress(m.address),m.si=y.si}}}renderFormula(m,h){let p=null;switch(h.shareType){case"shared":p={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":p={t:"array",ref:h.ref};break;default:h.si!==void 0&&(p={t:"shared",si:h.si})}switch(u(h.result)){case c.ValueType.Null:m.leafNode("f",p,h.formula);break;case c.ValueType.String:m.addAttribute("t","str"),m.leafNode("f",p,h.formula),m.leafNode("v",null,h.result);break;case c.ValueType.Number:m.leafNode("f",p,h.formula),m.leafNode("v",null,h.result);break;case c.ValueType.Boolean:m.addAttribute("t","b"),m.leafNode("f",p,h.formula),m.leafNode("v",null,h.result?1:0);break;case c.ValueType.Error:m.addAttribute("t","e"),m.leafNode("f",p,h.formula),m.leafNode("v",null,h.result.error);break;case c.ValueType.Date:m.leafNode("f",p,h.formula),m.leafNode("v",null,o.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(m,h){if(h.type!==c.ValueType.Null||h.styleId){switch(m.openNode("c"),m.addAttribute("r",h.address),h.styleId&&m.addAttribute("s",h.styleId),h.type){case c.ValueType.Null:break;case c.ValueType.Number:m.leafNode("v",null,h.value);break;case c.ValueType.Boolean:m.addAttribute("t","b"),m.leafNode("v",null,h.value?"1":"0");break;case c.ValueType.Error:m.addAttribute("t","e"),m.leafNode("v",null,h.value.error);break;case c.ValueType.String:case c.ValueType.RichText:h.ssId!==void 0?(m.addAttribute("t","s"),m.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(m.addAttribute("t","inlineStr"),m.openNode("is"),h.value.richText.forEach(p=>{this.richTextXForm.render(m,p)}),m.closeNode("is")):(m.addAttribute("t","str"),m.leafNode("v",null,h.value));break;case c.ValueType.Date:m.leafNode("v",null,o.dateToExcel(h.value,h.date1904));break;case c.ValueType.Hyperlink:h.ssId!==void 0?(m.addAttribute("t","s"),m.leafNode("v",null,h.ssId)):(m.addAttribute("t","str"),m.leafNode("v",null,h.text));break;case c.ValueType.Formula:this.renderFormula(m,h);break;case c.ValueType.Merge:}m.closeNode()}}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"c":return this.model={address:m.attributes.r},this.t=m.attributes.t,m.attributes.s&&(this.model.styleId=parseInt(m.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=m.attributes.si,this.model.shareType=m.attributes.t,this.model.ref=m.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(m),!0;default:return!1}}parseText(m){if(this.parser)this.parser.parseText(m);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+m:m;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+m:m:this.model.value=this.model.value?this.model.value+m:m}}parseClose(m){switch(m){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=c.ValueType.Formula,h.value&&(this.t==="str"?h.result=o.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=c.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=c.ValueType.String,h.value=o.xmlDecode(h.value);break;case"inlineStr":h.type=c.ValueType.String;break;case"b":h.type=c.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=c.ValueType.Error,h.value={error:h.value};break;default:h.type=c.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=c.ValueType.Null:h.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(m),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(m),!0)}}reconcile(m,h){const p=m.styleId&&h.styles&&h.styles.getStyleModel(m.styleId);switch(p&&(m.style=p),m.styleId!==void 0&&(m.styleId=void 0),m.type){case c.ValueType.String:typeof m.value=="number"&&h.sharedStrings&&(m.value=h.sharedStrings.getString(m.value)),m.value.richText&&(m.type=c.ValueType.RichText);break;case c.ValueType.Number:p&&o.isDateFmt(p.numFmt)&&(m.type=c.ValueType.Date,m.value=o.excelToDate(m.value,h.date1904));break;case c.ValueType.Formula:m.result!==void 0&&p&&o.isDateFmt(p.numFmt)&&(m.result=o.excelToDate(m.result,h.date1904)),m.shareType==="shared"&&(m.ref?h.formulae[m.si]=m.address:(m.sharedFormula=h.formulae[m.si],delete m.shareType),delete m.si)}const y=h.hyperlinkMap[m.address];y&&(m.type===c.ValueType.Formula?(m.text=m.result,m.result=void 0):(m.text=m.value,m.value=void 0),m.type=c.ValueType.Hyperlink,m.hyperlink=y);const x=h.commentsMap&&h.commentsMap[m.address];x&&(m.comment=x)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,s,l){const o=e("../../base-xform");s.exports=class extends o{get tag(){return"x14:cfIcon"}render(i,d){i.leafNode(this.tag,{iconSet:d.iconSet,iconId:d.iconId})}parseOpen(i){let{attributes:d}=i;this.model={iconSet:d.iconSet,iconId:o.toIntValue(d.iconId)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],75:[function(e,s,l){const{v4:o}=e("uuid"),i=e("../../base-xform"),d=e("../../composite-xform"),c=e("./databar-ext-xform"),a=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class m extends d{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(p){return p.type==="dataBar"?c.isExt(p):!(p.type!=="iconSet"||!p.custom&&!u[p.iconSet])}prepare(p){m.isExt(p)&&(p.x14Id=`{${o()}}`.toUpperCase())}render(p,y){if(m.isExt(y))switch(y.type){case"dataBar":this.renderDataBar(p,y);break;case"iconSet":this.renderIconSet(p,y)}}renderDataBar(p,y){p.openNode(this.tag,{type:"dataBar",id:y.x14Id}),this.databarXform.render(p,y),p.closeNode()}renderIconSet(p,y){p.openNode(this.tag,{type:"iconSet",priority:y.priority,id:y.x14Id||`{${o()}}`}),this.iconSetXform.render(p,y),p.closeNode()}createNewModel(p){let{attributes:y}=p;return{type:y.type,x14Id:y.id,priority:i.toIntValue(y.priority)}}onParserClose(p,y){Object.assign(this.model,y.model)}}s.exports=m},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,s,l){const o=e("../../composite-xform"),i=e("./f-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"xm:f":this.fExtXform=new i}}get tag(){return"x14:cfvo"}render(d,c){d.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(d,c.value),d.closeNode()}createNewModel(d){return{type:d.attributes.type}}onParserClose(d,c){switch(d){case"xm:f":this.model.value=c.model?parseFloat(c.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,s,l){const o=e("../../composite-xform"),i=e("./sqref-ext-xform"),d=e("./cf-rule-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"xm:sqref":this.sqRef=new i,"x14:cfRule":this.cfRule=new d}}get tag(){return"x14:conditionalFormatting"}prepare(c,a){c.rules.forEach(u=>{this.cfRule.prepare(u,a)})}render(c,a){a.rules.some(d.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(d.isExt).forEach(u=>this.cfRule.render(c,u)),this.sqRef.render(c,a.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,a){switch(c){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,s,l){const o=e("../../composite-xform"),i=e("./cf-rule-ext-xform"),d=e("./conditional-formatting-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new d}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(a=>a.rules.some(i.isExt))),c.hasExtContent}prepare(c,a){c.forEach(u=>{this.cfXform.prepare(u,a)})}render(c,a){this.hasContent(a)&&(c.openNode(this.tag),a.forEach(u=>this.cfXform.render(c,u)),c.closeNode())}createNewModel(){return[]}onParserClose(c,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,s,l){const o=e("../../base-xform"),i=e("../../composite-xform"),d=e("../../style/color-xform"),c=e("./cfvo-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new d("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new d("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new d("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new d("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,u){a.openNode(this.tag,{minLength:o.toIntAttribute(u.minLength,0,!0),maxLength:o.toIntAttribute(u.maxLength,100,!0),border:o.toBoolAttribute(u.border,!1),gradient:o.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:o.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toAttribute(u.axisPosition,"auto"),direction:o.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(m=>{this.cfvoXform.render(a,m)}),this.borderColorXform.render(a,u.borderColor),this.negativeBorderColorXform.render(a,u.negativeBorderColor),this.negativeFillColorXform.render(a,u.negativeFillColor),this.axisColorXform.render(a,u.axisColor),a.closeNode()}createNewModel(a){let{attributes:u}=a;return{cfvo:[],minLength:o.toIntValue(u.minLength,0),maxLength:o.toIntValue(u.maxLength,100),border:o.toBoolValue(u.border,!1),gradient:o.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:o.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toStringValue(u.axisPosition,"auto"),direction:o.toStringValue(u.direction,"leftToRight")}}onParserClose(a,u){const[,m]=a.split(":");switch(m){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[m]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,s,l){const o=e("../../base-xform");s.exports=class extends o{get tag(){return"xm:f"}render(i,d){i.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],81:[function(e,s,l){const o=e("../../base-xform"),i=e("../../composite-xform"),d=e("./cfvo-ext-xform"),c=e("./cf-icon-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new d,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(a,u){a.openNode(this.tag,{iconSet:o.toStringAttribute(u.iconSet),reverse:o.toBoolAttribute(u.reverse,!1),showValue:o.toBoolAttribute(u.showValue,!0),custom:o.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(m=>{this.cfvoXform.render(a,m)}),u.icons&&u.icons.forEach((m,h)=>{m.iconId=h,this.cfIconXform.render(a,m)}),a.closeNode()}createNewModel(a){let{attributes:u}=a;return{cfvo:[],iconSet:o.toStringValue(u.iconSet,"3TrafficLights"),reverse:o.toBoolValue(u.reverse,!1),showValue:o.toBoolValue(u.showValue,!0)}}onParserClose(a,u){const[,m]=a.split(":");switch(m){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[m]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,s,l){const o=e("../../base-xform");s.exports=class extends o{get tag(){return"xm:sqref"}render(i,d){i.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],83:[function(e,s,l){const o=e("../../base-xform"),i=e("../../composite-xform"),d=e("../../../../doc/range"),c=e("./databar-xform"),a=e("./ext-lst-ref-xform"),u=e("./formula-xform"),m=e("./color-scale-xform"),h=e("./icon-set-xform"),p={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},y=g=>{const{type:w,operator:v}=g;switch(w){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:w};default:return{type:w,operator:v}}};class x extends i{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new m,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(w){return w.type!=="iconSet"||!w.custom&&!p[w.iconSet]}render(w,v){switch(v.type){case"expression":this.renderExpression(w,v);break;case"cellIs":this.renderCellIs(w,v);break;case"top10":this.renderTop10(w,v);break;case"aboveAverage":this.renderAboveAverage(w,v);break;case"dataBar":this.renderDataBar(w,v);break;case"colorScale":this.renderColorScale(w,v);break;case"iconSet":this.renderIconSet(w,v);break;case"containsText":this.renderText(w,v);break;case"timePeriod":this.renderTimePeriod(w,v)}}renderExpression(w,v){w.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(w,v.formulae[0]),w.closeNode()}renderCellIs(w,v){w.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(j=>{this.formulaXform.render(w,j)}),w.closeNode()}renderTop10(w,v){w.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:o.toBoolAttribute(v.percent,!1),bottom:o.toBoolAttribute(v.bottom,!1),rank:o.toIntValue(v.rank,10,!0)})}renderAboveAverage(w,v){w.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:o.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(w,v){w.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(w,v),this.extLstRefXform.render(w,v),w.closeNode()}renderColorScale(w,v){w.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(w,v),w.closeNode()}renderIconSet(w,v){x.isPrimitive(v)&&(w.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(w,v),w.closeNode())}renderText(w,v){w.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:o.toStringAttribute(v.operator,"containsText")});const j=(N=>{if(N.formulae&&N.formulae[0])return N.formulae[0];const T=new d(N.ref),{tl:D}=T;switch(N.operator){case"containsText":return`NOT(ISERROR(SEARCH("${N.text}",${D})))`;case"containsBlanks":return`LEN(TRIM(${D}))=0`;case"notContainsBlanks":return`LEN(TRIM(${D}))>0`;case"containsErrors":return`ISERROR(${D})`;case"notContainsErrors":return`NOT(ISERROR(${D}))`;default:return}})(v);j&&this.formulaXform.render(w,j),w.closeNode()}renderTimePeriod(w,v){w.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const j=(N=>{if(N.formulae&&N.formulae[0])return N.formulae[0];const T=new d(N.ref),{tl:D}=T;switch(N.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${D},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${D},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${D},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${D},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${D},1)=TODAY()-1`;case"today":return`FLOOR(${D},1)=TODAY()`;case"tomorrow":return`FLOOR(${D},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${D},1)<=6,FLOOR(${D},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0-1)),YEAR(${D})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${D})=MONTH(TODAY()),YEAR(${D})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0+1)),YEAR(${D})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);j&&this.formulaXform.render(w,j),w.closeNode()}createNewModel(w){let{attributes:v}=w;return{...y(v),dxfId:o.toIntValue(v.dxfId),priority:o.toIntValue(v.priority),timePeriod:v.timePeriod,percent:o.toBoolValue(v.percent),bottom:o.toBoolValue(v.bottom),rank:o.toIntValue(v.rank),aboveAverage:o.toBoolValue(v.aboveAverage)}}onParserClose(w,v){switch(w){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}s.exports=x},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,s,l){const o=e("../../base-xform");s.exports=class extends o{get tag(){return"cfvo"}render(i,d){i.leafNode(this.tag,{type:d.type,val:d.value})}parseOpen(i){this.model={type:i.attributes.type,value:o.toFloatValue(i.attributes.val)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],85:[function(e,s,l){const o=e("../../composite-xform"),i=e("../../style/color-xform"),d=e("./cfvo-xform");s.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new d,color:this.colorXform=new i}}get tag(){return"colorScale"}render(c,a){c.openNode(this.tag),a.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),a.color.forEach(u=>{this.colorXform.render(c,u)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,a){this.model[c].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,s,l){const o=e("../../composite-xform"),i=e("./cf-rule-xform");s.exports=class extends o{constructor(){super(),this.map={cfRule:new i}}get tag(){return"conditionalFormatting"}render(d,c){c.rules.some(i.isPrimitive)&&(d.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(a=>{i.isPrimitive(a)&&(a.ref=c.ref,this.map.cfRule.render(d,a))}),d.closeNode())}createNewModel(d){let{attributes:c}=d;return{ref:c.sqref,rules:[]}}onParserClose(d,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,s,l){const o=e("../../base-xform"),i=e("./conditional-formatting-xform");s.exports=class extends o{constructor(){super(),this.cfXform=new i}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(d,c){let a=d.reduce((u,m)=>Math.max(u,...m.rules.map(h=>h.priority||0)),1);d.forEach(u=>{u.rules.forEach(m=>{m.priority||(m.priority=a++),m.style&&(m.dxfId=c.styles.addDxfStyle(m.style))})})}render(d,c){c.forEach(a=>{this.cfXform.render(d,a)})}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(!!this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(d,c){d.forEach(a=>{a.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=c.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,s,l){const o=e("../../composite-xform"),i=e("../../style/color-xform"),d=e("./cfvo-xform");s.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new d,color:this.colorXform=new i}}get tag(){return"dataBar"}render(c,a){c.openNode(this.tag),a.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),this.colorXform.render(c,a.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,a){switch(c){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,s,l){const o=e("../../base-xform"),i=e("../../composite-xform");class d extends o{get tag(){return"x14:id"}render(u,m){u.leafNode(this.tag,null,m)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class c extends i{constructor(){super(),this.map={"x14:id":this.idXform=new d}}get tag(){return"ext"}render(u,m){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,m.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,m){this.model.x14Id=m.model}}s.exports=class extends i{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(a,u){a.openNode(this.tag),this.map.ext.render(a,u),a.closeNode()}createNewModel(){return{}}onParserClose(a,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,s,l){const o=e("../../base-xform");s.exports=class extends o{get tag(){return"formula"}render(i,d){i.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],91:[function(e,s,l){const o=e("../../base-xform"),i=e("../../composite-xform"),d=e("./cfvo-xform");s.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new d}}get tag(){return"iconSet"}render(c,a){c.openNode(this.tag,{iconSet:o.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:o.toBoolAttribute(a.reverse,!1),showValue:o.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),c.closeNode()}createNewModel(c){let{attributes:a}=c;return{iconSet:o.toStringValue(a.iconSet,"3TrafficLights"),reverse:o.toBoolValue(a.reverse),showValue:o.toBoolValue(a.showValue),cfvo:[]}}onParserClose(c,a){this.model[c].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,s,l){const o=e("../../../utils/utils"),i=e("../base-xform");s.exports=class extends i{get tag(){return"col"}prepare(d,c){const a=c.styles.addStyleModel(d.style||{});a&&(d.styleId=a)}render(d,c){d.openNode("col"),d.addAttribute("min",c.min),d.addAttribute("max",c.max),c.width&&d.addAttribute("width",c.width),c.styleId&&d.addAttribute("style",c.styleId),c.hidden&&d.addAttribute("hidden","1"),c.bestFit&&d.addAttribute("bestFit","1"),c.outlineLevel&&d.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&d.addAttribute("collapsed","1"),d.addAttribute("customWidth","1"),d.closeNode()}parseOpen(d){if(d.name==="col"){const c=this.model={min:parseInt(d.attributes.min||"0",10),max:parseInt(d.attributes.max||"0",10),width:d.attributes.width===void 0?void 0:parseFloat(d.attributes.width||"0")};return d.attributes.style&&(c.styleId=parseInt(d.attributes.style,10)),o.parseBoolean(d.attributes.hidden)&&(c.hidden=!0),o.parseBoolean(d.attributes.bestFit)&&(c.bestFit=!0),d.attributes.outlineLevel&&(c.outlineLevel=parseInt(d.attributes.outlineLevel,10)),o.parseBoolean(d.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(d,c){d.styleId&&(d.style=c.styles.getStyleModel(d.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../../../utils/utils"),d=e("../../../utils/col-cache"),c=e("../base-xform"),a=e("../../../doc/range");function u(h,p,y,x){const g=p[y];g!==void 0?h[y]=g:x!==void 0&&(h[y]=x)}function m(h,p,y,x){const g=p[y];g!==void 0&&(h[y]=i.parseBoolean(g))}s.exports=class extends c{get tag(){return"dataValidations"}render(h,p){const y=(function(x){const g=o.map(x,(j,N)=>({address:N,dataValidation:j,marked:!1})).sort((j,N)=>o.strcmp(j.address,N.address)),w=o.keyBy(g,"address"),v=(j,N,T)=>{for(let D=0;D<N;D++){const V=d.encodeAddress(j.row+D,T);if(!x[V]||!o.isEqual(x[j.address],x[V]))return!1}return!0};return g.map(j=>{if(!j.marked){const N=d.decodeEx(j.address);if(N.dimensions)return w[N.dimensions].marked=!0,{...j.dataValidation,sqref:j.address};let T=1,D=d.encodeAddress(N.row+T,N.col);for(;x[D]&&o.isEqual(j.dataValidation,x[D]);)T++,D=d.encodeAddress(N.row+T,N.col);let V=1;for(;v(N,T,N.col+V);)V++;for(let P=0;P<T;P++)for(let $=0;$<V;$++)D=d.encodeAddress(N.row+P,N.col+$),w[D].marked=!0;if(T>1||V>1){const P=N.row+(T-1),$=N.col+(V-1);return{...j.dataValidation,sqref:`${j.address}:${d.encodeAddress(P,$)}`}}return{...j.dataValidation,sqref:j.address}}return null}).filter(Boolean)})(p);y.length&&(h.openNode("dataValidations",{count:y.length}),y.forEach(x=>{h.openNode("dataValidation"),x.type!=="any"&&(h.addAttribute("type",x.type),x.operator&&x.type!=="list"&&x.operator!=="between"&&h.addAttribute("operator",x.operator),x.allowBlank&&h.addAttribute("allowBlank","1")),x.showInputMessage&&h.addAttribute("showInputMessage","1"),x.promptTitle&&h.addAttribute("promptTitle",x.promptTitle),x.prompt&&h.addAttribute("prompt",x.prompt),x.showErrorMessage&&h.addAttribute("showErrorMessage","1"),x.errorStyle&&h.addAttribute("errorStyle",x.errorStyle),x.errorTitle&&h.addAttribute("errorTitle",x.errorTitle),x.error&&h.addAttribute("error",x.error),h.addAttribute("sqref",x.sqref),(x.formulae||[]).forEach((g,w)=>{h.openNode("formula"+(w+1)),x.type==="date"?h.writeText(i.dateToExcel(new Date(g))):h.writeText(g),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const p={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&m(p,h.attributes,"allowBlank"),m(p,h.attributes,"showInputMessage"),m(p,h.attributes,"showErrorMessage"),p.type){case"any":case"list":case"custom":break;default:u(p,h.attributes,"operator","between")}return u(p,h.attributes,"promptTitle"),u(p,h.attributes,"prompt"),u(p,h.attributes,"errorStyle"),u(p,h.attributes,"errorTitle"),u(p,h.attributes,"error"),this._dataValidation=p,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(p=>{p.includes(":")?new a(p).forEachAddress(y=>{this.model[y]=this._dataValidation}):this.model[p]=this._dataValidation}),!0;case"formula1":case"formula2":{let p=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":p=parseInt(p,10);break;case"decimal":p=parseFloat(p);break;case"date":p=i.excelToDate(parseFloat(p))}return this._dataValidation.formulae.push(p),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"dimension"}render(i,d){d&&i.leafNode("dimension",{ref:d})}parseOpen(i){return i.name==="dimension"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"drawing"}render(i,d){d&&i.leafNode(this.tag,{"r:id":d.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,s,l){const o=e("../composite-xform"),i=e("./cf-ext/conditional-formattings-ext-xform");class d extends o{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new i}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,u){this.conditionalFormattings.prepare(a.conditionalFormattings,u)}render(a,u){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,u.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,u){this.model[a]=u.model}}s.exports=class extends o{constructor(){super(),this.map={ext:this.ext=new d}}get tag(){return"extLst"}prepare(c,a){this.ext.prepare(c,a)}hasContent(c){return this.ext.hasContent(c)}render(c,a){this.hasContent(a)&&(c.openNode("extLst"),this.ext.render(c,a),c.closeNode())}createNewModel(){return{}}onParserClose(c,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"headerFooter"}render(i,d){if(d){i.addRollback();let c=!1;i.openNode("headerFooter"),d.differentFirst&&(i.addAttribute("differentFirst","1"),c=!0),d.differentOddEven&&(i.addAttribute("differentOddEven","1"),c=!0),d.oddHeader&&typeof d.oddHeader=="string"&&(i.leafNode("oddHeader",null,d.oddHeader),c=!0),d.oddFooter&&typeof d.oddFooter=="string"&&(i.leafNode("oddFooter",null,d.oddFooter),c=!0),d.evenHeader&&typeof d.evenHeader=="string"&&(i.leafNode("evenHeader",null,d.evenHeader),c=!0),d.evenFooter&&typeof d.evenFooter=="string"&&(i.leafNode("evenFooter",null,d.evenFooter),c=!0),d.firstHeader&&typeof d.firstHeader=="string"&&(i.leafNode("firstHeader",null,d.firstHeader),c=!0),d.firstFooter&&typeof d.firstFooter=="string"&&(i.leafNode("firstFooter",null,d.firstFooter),c=!0),c?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){switch(i.name){case"headerFooter":return this.model={},i.attributes.differentFirst&&(this.model.differentFirst=parseInt(i.attributes.differentFirst,0)===1),i.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(i.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(i){switch(this.currentNode){case"oddHeader":this.model.oddHeader=i;break;case"oddFooter":this.model.oddFooter=i;break;case"evenHeader":this.model.evenHeader=i;break;case"evenFooter":this.model.evenFooter=i;break;case"firstHeader":this.model.firstHeader=i;break;case"firstFooter":this.model.firstFooter=i}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"hyperlink"}render(i,d){this.isInternalLink(d)?i.leafNode("hyperlink",{ref:d.address,"r:id":d.rId,tooltip:d.tooltip,location:d.target}):i.leafNode("hyperlink",{ref:d.address,"r:id":d.rId,tooltip:d.tooltip})}parseOpen(i){return i.name==="hyperlink"&&(this.model={address:i.attributes.ref,rId:i.attributes["r:id"],tooltip:i.attributes.tooltip},i.attributes.location&&(this.model.target=i.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(i){return i.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(i.target)}}},{"../base-xform":32}],99:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"mergeCell"}render(i,d){i.leafNode("mergeCell",{ref:d})}parseOpen(i){return i.name==="mergeCell"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../../../doc/range"),d=e("../../../utils/col-cache"),c=e("../../../doc/enums");s.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{const u=`${a.master}:${a.address}`;this.merges[a.master]=new i(u)}}get mergeCells(){return o.map(this.merges,a=>a.range)}reconcile(a,u){o.each(a,m=>{const h=d.decode(m);for(let p=h.top;p<=h.bottom;p++){const y=u[p-1];for(let x=h.left;x<=h.right;x++){const g=y.cells[x-1];g?g.type===c.ValueType.Merge&&(g.master=h.tl):y.cells[x]={type:c.ValueType.Null,address:d.encodeAddress(p,x)}}}})}getMasterAddress(a){const u=this.hash[a];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,s,l){const o=e("../base-xform"),i=d=>d!==void 0;s.exports=class extends o{get tag(){return"outlinePr"}render(d,c){return!(!c||!i(c.summaryBelow)&&!i(c.summaryRight))&&(d.leafNode(this.tag,{summaryBelow:i(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:i(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(d){return d.name===this.tag&&(this.model={summaryBelow:i(d.attributes.summaryBelow)?!!Number(d.attributes.summaryBelow):void 0,summaryRight:i(d.attributes.summaryRight)?!!Number(d.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"brk"}render(i,d){i.leafNode("brk",d)}parseOpen(i){return i.name==="brk"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../base-xform");s.exports=class extends i{get tag(){return"pageMargins"}render(d,c){if(c){const a={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};o.some(a,u=>u!==void 0)&&d.leafNode(this.tag,a)}}parseOpen(d){switch(d.name){case this.tag:return this.model={left:parseFloat(d.attributes.left||.7),right:parseFloat(d.attributes.right||.7),top:parseFloat(d.attributes.top||.75),bottom:parseFloat(d.attributes.bottom||.75),header:parseFloat(d.attributes.header||.3),footer:parseFloat(d.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"pageSetUpPr"}render(i,d){return!(!d||!d.fitToPage)&&(i.leafNode(this.tag,{fitToPage:d.fitToPage?"1":void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={fitToPage:i.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../base-xform");function d(m){return m?"1":void 0}function c(m){switch(m){case"overThenDown":return m;default:return}}function a(m){switch(m){case"atEnd":case"asDisplyed":return m;default:return}}function u(m){switch(m){case"dash":case"blank":case"NA":return m;default:return}}s.exports=class extends i{get tag(){return"pageSetup"}render(m,h){if(h){const p={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:c(h.pageOrder),blackAndWhite:d(h.blackAndWhite),draft:d(h.draft),cellComments:a(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:d(h.firstPageNumber),usePrinterDefaults:d(h.usePrinterDefaults),copies:h.copies};o.some(p,y=>y!==void 0)&&m.leafNode(this.tag,p)}}parseOpen(m){switch(m.name){case this.tag:return this.model={paperSize:(h=m.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:m.attributes.orientation||"portrait",horizontalDpi:parseInt(m.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(m.attributes.verticalDpi||"4294967295",10),pageOrder:m.attributes.pageOrder||"downThenOver",blackAndWhite:m.attributes.blackAndWhite==="1",draft:m.attributes.draft==="1",cellComments:m.attributes.cellComments||"None",errors:m.attributes.errors||"displayed",scale:parseInt(m.attributes.scale||"100",10),fitToWidth:parseInt(m.attributes.fitToWidth||"1",10),fitToHeight:parseInt(m.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(m.attributes.firstPageNumber||"1",10),useFirstPageNumber:m.attributes.useFirstPageNumber==="1",usePrinterDefaults:m.attributes.usePrinterDefaults==="1",copies:parseInt(m.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"picture"}render(i,d){d&&i.leafNode(this.tag,{"r:id":d.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../base-xform");function d(c){return c?"1":void 0}s.exports=class extends i{get tag(){return"printOptions"}render(c,a){if(a){const u={headings:d(a.showRowColHeaders),gridLines:d(a.showGridLines),horizontalCentered:d(a.horizontalCentered),verticalCentered:d(a.verticalCentered)};o.some(u,m=>m!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,s,l){const o=e("./page-breaks-xform"),i=e("../list-xform");s.exports=class extends i{constructor(){super({tag:"rowBreaks",count:!0,childXform:new o})}render(d,c){if(c&&c.length){d.openNode(this.tag,this.$),this.count&&(d.addAttribute(this.$count,c.length),d.addAttribute("manualBreakCount",c.length));const{childXform:a}=this;c.forEach(u=>{a.render(d,u)}),d.closeNode()}else this.empty&&d.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,s,l){const o=e("../base-xform"),i=e("../../../utils/utils"),d=e("./cell-xform");s.exports=class extends o{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new d}}get tag(){return"row"}prepare(c,a){const u=a.styles.addStyleModel(c.style);u&&(c.styleId=u);const m=this.map.c;c.cells.forEach(h=>{m.prepare(h,a)})}render(c,a,u){c.openNode("row"),c.addAttribute("r",a.number),a.height&&(c.addAttribute("ht",a.height),c.addAttribute("customHeight","1")),a.hidden&&c.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&c.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(c.addAttribute("s",a.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&c.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&c.addAttribute("collapsed","1");const m=this.map.c;a.cells.forEach(h=>{m.render(c,h,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const a=c.attributes.spans?c.attributes.spans.split(":").map(m=>parseInt(m,10)):[void 0,void 0],u=this.model={number:parseInt(c.attributes.r,10),min:a[0],max:a[1],cells:[]};return c.attributes.s&&(u.styleId=parseInt(c.attributes.s,10)),i.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),i.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.ht&&(u.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),i.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,a){c.style=c.styleId?a.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const u=this.map.c;c.cells.forEach(m=>{u.reconcile(m,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../base-xform");s.exports=class extends i{get tag(){return"sheetFormatPr"}render(d,c){if(c){const a={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(a.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(a.customHeight="1"),o.some(a,u=>u!==void 0)&&d.leafNode("sheetFormatPr",a)}}parseOpen(d){return d.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(d.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(d.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(d.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(d.attributes.outlineLevelCol||"0",10)},d.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(d.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,s,l){const o=e("../base-xform"),i=e("../style/color-xform"),d=e("./page-setup-properties-xform"),c=e("./outline-properties-xform");s.exports=class extends o{constructor(){super(),this.map={tabColor:new i("tabColor"),pageSetUpPr:new d,outlinePr:new c}}get tag(){return"sheetPr"}render(a,u){if(u){a.addRollback(),a.openNode("sheetPr");let m=!1;m=this.map.tabColor.render(a,u.tabColor)||m,m=this.map.pageSetUpPr.render(a,u.pageSetup)||m,m=this.map.outlinePr.render(a,u.outlineProperties)||m,m?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../base-xform");function d(a,u){return a?u:void 0}function c(a,u){return a===u||void 0}s.exports=class extends i{get tag(){return"sheetProtection"}render(a,u){if(u){const m={sheet:d(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:d(u.formatCells,"0"),formatColumns:d(u.formatColumns,"0"),formatRows:d(u.formatRows,"0"),insertColumns:d(u.insertColumns,"0"),insertRows:d(u.insertRows,"0"),insertHyperlinks:d(u.insertHyperlinks,"0"),deleteColumns:d(u.deleteColumns,"0"),deleteRows:d(u.deleteRows,"0"),sort:d(u.sort,"0"),autoFilter:d(u.autoFilter,"0"),pivotTables:d(u.pivotTables,"0")};u.sheet&&(m.algorithmName=u.algorithmName,m.hashValue=u.hashValue,m.saltValue=u.saltValue,m.spinCount=u.spinCount,m.objects=d(u.objects===!1,"1"),m.scenarios=d(u.scenarios===!1,"1")),o.some(m,h=>h!==void 0)&&a.leafNode(this.tag,m)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:c(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(a.attributes.formatCells,"0"),formatColumns:c(a.attributes.formatColumns,"0"),formatRows:c(a.attributes.formatRows,"0"),insertColumns:c(a.attributes.insertColumns,"0"),insertRows:c(a.attributes.insertRows,"0"),insertHyperlinks:c(a.attributes.insertHyperlinks,"0"),deleteColumns:c(a.attributes.deleteColumns,"0"),deleteRows:c(a.attributes.deleteRows,"0"),sort:c(a.attributes.sort,"0"),autoFilter:c(a.attributes.autoFilter,"0"),pivotTables:c(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,s,l){const o=e("../../../utils/col-cache"),i=e("../base-xform"),d={frozen:"frozen",frozenSplit:"frozen",split:"split"};s.exports=class extends i{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,a){c.openNode("sheetView",{workbookViewId:a.workbookViewId||0});const u=function(x,g,w){w&&c.addAttribute(x,g)};let m,h,p,y;switch(u("rightToLeft","1",a.rightToLeft===!0),u("tabSelected","1",a.tabSelected),u("showRuler","0",a.showRuler===!1),u("showRowColHeaders","0",a.showRowColHeaders===!1),u("showGridLines","0",a.showGridLines===!1),u("zoomScale",a.zoomScale,a.zoomScale),u("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),u("view",a.style,a.style),a.state){case"frozen":h=a.xSplit||0,p=a.ySplit||0,m=a.topLeftCell||o.getAddress(p+1,h+1).address,y=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:m,activePane:y,state:"frozen"}),c.leafNode("selection",{pane:y,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),c.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),c.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&c.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const a=c.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let a,u;switch(c){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:d[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(a.activeCell=u.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(a.activeCell=u.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"tablePart"}render(i,d){d&&i.leafNode(this.tag,{"r:id":d.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../../../utils/col-cache"),d=e("../../../utils/xml-stream"),c=e("../../rel-type"),a=e("./merges"),u=e("../base-xform"),m=e("../list-xform"),h=e("./row-xform"),p=e("./col-xform"),y=e("./dimension-xform"),x=e("./hyperlink-xform"),g=e("./merge-cell-xform"),w=e("./data-validations-xform"),v=e("./sheet-properties-xform"),j=e("./sheet-format-properties-xform"),N=e("./sheet-view-xform"),T=e("./sheet-protection-xform"),D=e("./page-margins-xform"),V=e("./page-setup-xform"),P=e("./print-options-xform"),$=e("./auto-filter-xform"),G=e("./picture-xform"),Y=e("./drawing-xform"),W=e("./table-part-xform"),O=e("./row-breaks-xform"),I=e("./header-footer-xform"),R=e("./cf/conditional-formattings-xform"),S=e("./ext-lst-xform"),C=(E,M)=>{if(!M||!M.length)return E;if(!E||!E.length)return M;const L={},z={};return E.forEach(K=>{L[K.ref]=K,K.rules.forEach(Z=>{const{x14Id:te}=Z;te&&(z[te]=Z)})}),M.forEach(K=>{K.rules.forEach(Z=>{const te=z[Z.x14Id];te?((H,ee)=>{Object.keys(ee).forEach(U=>{const F=H[U],J=ee[U];F===void 0&&J!==void 0&&(H[U]=J)})})(te,Z):L[K.ref]?L[K.ref].rules.push(Z):E.push({ref:K.ref,rules:[Z]})})}),E};class k extends u{constructor(M){super();const{maxRows:L,maxCols:z,ignoreNodes:K}=M||{};this.ignoreNodes=K||[],this.map={sheetPr:new v,dimension:new y,sheetViews:new m({tag:"sheetViews",count:!1,childXform:new N}),sheetFormatPr:new j,cols:new m({tag:"cols",count:!1,childXform:new p}),sheetData:new m({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:z}),maxItems:L}),autoFilter:new $,mergeCells:new m({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new O,hyperlinks:new m({tag:"hyperlinks",count:!1,childXform:new x}),pageMargins:new D,dataValidations:new w,pageSetup:new V,headerFooter:new I,printOptions:new P,picture:new G,drawing:new Y,sheetProtection:new T,tableParts:new m({tag:"tableParts",count:!0,childXform:new W}),conditionalFormatting:new R,extLst:new S}}prepare(M,L){L.merges=new a,M.hyperlinks=L.hyperlinks=[],M.comments=L.comments=[],L.formulae={},L.siFormulae=0,this.map.cols.prepare(M.cols,L),this.map.sheetData.prepare(M.rows,L),this.map.conditionalFormatting.prepare(M.conditionalFormattings,L),M.mergeCells=L.merges.mergeCells;const z=M.rels=[];function K(H){return"rId"+(H.length+1)}if(M.hyperlinks.forEach(H=>{const ee=K(z);H.rId=ee,z.push({Id:ee,Type:c.Hyperlink,Target:H.target,TargetMode:"External"})}),M.comments.length>0){const H={Id:K(z),Type:c.Comments,Target:`../comments${M.id}.xml`};z.push(H);const ee={Id:K(z),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${M.id}.vml`};z.push(ee),M.comments.forEach(U=>{U.refAddress=i.decodeAddress(U.ref)}),L.commentRefs.push({commentName:"comments"+M.id,vmlDrawing:"vmlDrawing"+M.id})}const Z=[];let te;M.media.forEach(H=>{if(H.type==="background"){const ee=K(z);te=L.media[H.imageId],z.push({Id:ee,Type:c.Image,Target:`../media/${te.name}.${te.extension}`}),M.background={rId:ee},M.image=L.media[H.imageId]}else if(H.type==="image"){let{drawing:ee}=M;te=L.media[H.imageId],ee||(ee=M.drawing={rId:K(z),name:"drawing"+ ++L.drawingsCount,anchors:[],rels:[]},L.drawings.push(ee),z.push({Id:ee.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${ee.name}.xml`}));let U=this.preImageId===H.imageId?Z[H.imageId]:Z[ee.rels.length];U||(U=K(ee.rels),Z[ee.rels.length]=U,ee.rels.push({Id:U,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${te.name}.${te.extension}`}));const F={picture:{rId:U},range:H.range};if(H.hyperlinks&&H.hyperlinks.hyperlink){const J=K(ee.rels);Z[ee.rels.length]=J,F.picture.hyperlinks={tooltip:H.hyperlinks.tooltip,rId:J},ee.rels.push({Id:J,Type:c.Hyperlink,Target:H.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=H.imageId,ee.anchors.push(F)}}),M.tables.forEach(H=>{const ee=K(z);H.rId=ee,z.push({Id:ee,Type:c.Table,Target:"../tables/"+H.target}),H.columns.forEach(U=>{const{style:F}=U;F&&(U.dxfId=L.styles.addDxfStyle(F))})}),this.map.extLst.prepare(M,L)}render(M,L){M.openXml(d.StdDocAttributes),M.openNode("worksheet",k.WORKSHEET_ATTRIBUTES);const z=L.properties?{defaultRowHeight:L.properties.defaultRowHeight,dyDescent:L.properties.dyDescent,outlineLevelCol:L.properties.outlineLevelCol,outlineLevelRow:L.properties.outlineLevelRow}:void 0;L.properties&&L.properties.defaultColWidth&&(z.defaultColWidth=L.properties.defaultColWidth);const K={outlineProperties:L.properties&&L.properties.outlineProperties,tabColor:L.properties&&L.properties.tabColor,pageSetup:L.pageSetup&&L.pageSetup.fitToPage?{fitToPage:L.pageSetup.fitToPage}:void 0},Z=L.pageSetup&&L.pageSetup.margins,te={showRowColHeaders:L.pageSetup&&L.pageSetup.showRowColHeaders,showGridLines:L.pageSetup&&L.pageSetup.showGridLines,horizontalCentered:L.pageSetup&&L.pageSetup.horizontalCentered,verticalCentered:L.pageSetup&&L.pageSetup.verticalCentered},H=L.sheetProtection;this.map.sheetPr.render(M,K),this.map.dimension.render(M,L.dimensions),this.map.sheetViews.render(M,L.views),this.map.sheetFormatPr.render(M,z),this.map.cols.render(M,L.cols),this.map.sheetData.render(M,L.rows),this.map.sheetProtection.render(M,H),this.map.autoFilter.render(M,L.autoFilter),this.map.mergeCells.render(M,L.mergeCells),this.map.conditionalFormatting.render(M,L.conditionalFormattings),this.map.dataValidations.render(M,L.dataValidations),this.map.hyperlinks.render(M,L.hyperlinks),this.map.printOptions.render(M,te),this.map.pageMargins.render(M,Z),this.map.pageSetup.render(M,L.pageSetup),this.map.headerFooter.render(M,L.headerFooter),this.map.rowBreaks.render(M,L.rowBreaks),this.map.drawing.render(M,L.drawing),this.map.picture.render(M,L.background),this.map.tableParts.render(M,L.tables),this.map.extLst.render(M,L),L.rels&&L.rels.forEach(ee=>{ee.Type===c.VmlDrawing&&M.leafNode("legacyDrawing",{"r:id":ee.Id})}),M.closeNode()}parseOpen(M){return this.parser?(this.parser.parseOpen(M),!0):M.name==="worksheet"?(o.each(this.map,L=>{L.reset()}),!0):(this.map[M.name]&&!this.ignoreNodes.includes(M.name)&&(this.parser=this.map[M.name],this.parser.parseOpen(M)),!0)}parseText(M){this.parser&&this.parser.parseText(M)}parseClose(M){if(this.parser)return this.parser.parseClose(M)||(this.parser=void 0),!0;switch(M){case"worksheet":{const L=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(L.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(L.outlineProperties=this.map.sheetPr.model.outlineProperties);const z={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},K=Object.assign(z,this.map.pageSetup.model,this.map.printOptions.model),Z=C(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:L,views:this.map.sheetViews.model,pageSetup:K,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(M,L){const z=(M.relationships||[]).reduce((Z,te)=>{if(Z[te.Id]=te,te.Type===c.Comments&&(M.comments=L.comments[te.Target].comments),te.Type===c.VmlDrawing&&M.comments&&M.comments.length){const H=L.vmlDrawings[te.Target].comments;M.comments.forEach((ee,U)=>{ee.note=Object.assign({},ee.note,H[U])})}return Z},{});if(L.commentsMap=(M.comments||[]).reduce((Z,te)=>(te.ref&&(Z[te.ref]=te),Z),{}),L.hyperlinkMap=(M.hyperlinks||[]).reduce((Z,te)=>(te.rId&&(Z[te.address]=z[te.rId].Target),Z),{}),L.formulae={},M.rows=M.rows&&M.rows.filter(Boolean)||[],M.rows.forEach(Z=>{Z.cells=Z.cells&&Z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(M.cols,L),this.map.sheetData.reconcile(M.rows,L),this.map.conditionalFormatting.reconcile(M.conditionalFormattings,L),M.media=[],M.drawing){const Z=z[M.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Z){const te=Z[1];L.drawings[te].anchors.forEach(H=>{if(H.medium){const ee={type:"image",imageId:H.medium.index,range:H.range,hyperlinks:H.picture.hyperlinks};M.media.push(ee)}})}}const K=M.background&&z[M.background.rId];if(K){const Z=K.Target.split("/media/")[1],te=L.mediaIndex&&L.mediaIndex[Z];te!==void 0&&M.media.push({type:"background",imageId:te})}M.tables=(M.tables||[]).map(Z=>{const te=z[Z.rId];return L.tables[te.Target]}),delete M.relationships,delete M.hyperlinks,delete M.comments}}k.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},s.exports=k},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{constructor(i){super(),this.tag=i.tag,this.attr=i.attr}render(i,d){d&&(i.openNode(this.tag),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this._format=i.format||function(d){try{return Number.isNaN(d.getTime())?"":d.toISOString()}catch{return""}},this._parse=i.parse||function(d){return new Date(d)}}render(i,d){d&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,this._format(d)):i.writeText(this._format(d)),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=this._parse(i.attributes[this.attr]):this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this.zero=i.zero}render(i,d){(d||this.zero)&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,d):i.writeText(d),i.closeNode())}parseOpen(i){return i.name===this.tag&&(this.attr?this.model=parseInt(i.attributes[this.attr],10):this.text=[],!0)}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs}render(i,d){d!==void 0&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,d):i.writeText(d),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=i.attributes[this.attr]:this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,s,l){const o=e("./base-xform"),i=e("../../utils/xml-stream");s.exports=class extends o{constructor(d){super(),this._model=d}render(d){if(!this._xml){const c=new i;(function a(u,m){u.openNode(m.tag,m.$),m.c&&m.c.forEach(h=>{a(u,h)}),m.t&&u.writeText(m.t),u.closeNode()})(c,this._model),this._xml=c.xml}d.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(d){switch(d){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,s,l){const o=e("./text-xform"),i=e("./rich-text-xform"),d=e("../base-xform");s.exports=class extends d{constructor(){super(),this.map={r:new i,t:new o}}get tag(){return"rPh"}render(c,a){if(c.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){const{r:u}=this.map;a.richText.forEach(m=>{u.render(c,m)})}else a&&this.map.t.render(c,a.text);c.closeNode()}parseOpen(c){const{name:a}=c;return this.parser?(this.parser.parseOpen(c),!0):a===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,s,l){const o=e("./text-xform"),i=e("../style/font-xform"),d=e("../base-xform");class c extends d{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new o)}get fontXform(){return this._fontXform||(this._fontXform=new i(c.FONT_OPTIONS))}render(u,m){m=m||this.model,u.openNode("r"),m.font&&this.fontXform.render(u,m.font),this.textXform.render(u,m.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},s.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,s,l){const o=e("./text-xform"),i=e("./rich-text-xform"),d=e("./phonetic-text-xform"),c=e("../base-xform");s.exports=class extends c{constructor(a){super(),this.model=a,this.map={r:new i,t:new o,rPh:new d}}get tag(){return"si"}render(a,u){a.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(m=>{this.map.r.render(a,m)}):this.map.t.render(a,""):u!=null&&this.map.t.render(a,u),a.closeNode()}parseOpen(a){const{name:u}=a;return this.parser?(this.parser.parseOpen(a),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,s,l){const o=e("../../../utils/xml-stream"),i=e("../base-xform"),d=e("./shared-string-xform");s.exports=class extends i{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new d)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let a=this.hash[c];return a===void 0&&(a=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,a}addRichText(c){const a=this.sharedStringXform.toXml(c);let u=this.rich[a];return u===void 0&&(u=this.rich[a]=this.model.values.length,this.model.values.push(c)),this.model.count++,u}render(c,a){a=a||this._values,c.openXml(o.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});const u=this.sharedStringXform;a.values.forEach(m=>{u.render(c,m)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(c){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"t"}render(i,d){i.openNode("t"),/^\s|\n|\s$/.test(d)&&i.addAttribute("xml:space","preserve"),i.writeText(d),i.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(i,d)=>String.fromCharCode(parseInt(d,16)))}parseOpen(i){switch(i.name){case"t":return this._text=[],!0;default:return!1}}parseText(i){this._text.push(i)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,s,l){const o=e("../../../doc/enums"),i=e("../../../utils/utils"),d=e("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,m)=>(u[m]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,m)=>(u[m]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=i.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=i.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return o.ReadingOrder.LeftToRight;case"rtl":return o.ReadingOrder.RightToLeft;default:return}}},a={toXml(u){if(u=c.textRotation(u)){if(u==="vertical")return 255;const m=Math.round(u);if(m>=0&&m<=90)return m;if(m<0&&m>=-90)return 90-m}},toModel(u){const m=i.validInt(u);if(m!==void 0){if(m===255)return"vertical";if(m>=0&&m<=90)return m;if(m>90&&m<=180)return 90-m}}};s.exports=class extends d{get tag(){return"alignment"}render(u,m){u.addRollback(),u.openNode("alignment");let h=!1;function p(y,x){x&&(u.addAttribute(y,x),h=!0)}p("horizontal",c.horizontal(m.horizontal)),p("vertical",c.vertical(m.vertical)),p("wrapText",!!c.wrapText(m.wrapText)&&"1"),p("shrinkToFit",!!c.shrinkToFit(m.shrinkToFit)&&"1"),p("indent",c.indent(m.indent)),p("textRotation",a.toXml(m.textRotation)),p("readingOrder",c.readingOrder(m.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const m={};let h=!1;function p(y,x,g){y&&(m[x]=g,h=!0)}p(u.attributes.horizontal,"horizontal",u.attributes.horizontal),p(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),p(u.attributes.wrapText,"wrapText",i.parseBoolean(u.attributes.wrapText)),p(u.attributes.shrinkToFit,"shrinkToFit",i.parseBoolean(u.attributes.shrinkToFit)),p(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),p(u.attributes.textRotation,"textRotation",a.toModel(u.attributes.textRotation)),p(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?m:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,s,l){const o=e("../base-xform"),i=e("../../../utils/utils"),d=e("./color-xform");class c extends o{constructor(u){super(),this.name=u,this.map={color:new d}}get tag(){return this.name}render(u,m,h){const p=m&&m.color||h||this.defaultColor;u.openNode(this.name),m&&m.style&&(u.addAttribute("style",m.style),p&&this.map.color.render(u,p)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:m}=u.attributes;return this.model=m?{style:m}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return c.validStyleValues[u]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,u)=>(a[u]=!0,a),{}),s.exports=class extends o{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(a,u){const{color:m}=u;function h(p,y){p&&!p.color&&u.color&&(p={...p,color:u.color}),y.render(a,p,m)}a.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&a.addAttribute("diagonalUp","1"),u.diagonal.down&&a.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=i.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=i.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){const u=this.model={},m=function(h,p,y){p&&(y&&Object.assign(p,y),u[h]=p)};m("left",this.map.left.model),m("right",this.map.right.model),m("top",this.map.top.model),m("bottom",this.map.bottom.model),m("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{constructor(i){super(),this.name=i||"color"}get tag(){return this.name}render(i,d){return!!d&&(i.openNode(this.name),d.argb?i.addAttribute("rgb",d.argb):d.theme!==void 0?(i.addAttribute("theme",d.theme),d.tint!==void 0&&i.addAttribute("tint",d.tint)):d.indexed!==void 0?i.addAttribute("indexed",d.indexed):i.addAttribute("auto","1"),i.closeNode(),!0)}parseOpen(i){return i.name===this.name&&(i.attributes.rgb?this.model={argb:i.attributes.rgb}:i.attributes.theme?(this.model={theme:parseInt(i.attributes.theme,10)},i.attributes.tint&&(this.model.tint=parseFloat(i.attributes.tint))):i.attributes.indexed?this.model={indexed:parseInt(i.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,s,l){const o=e("../base-xform"),i=e("./alignment-xform"),d=e("./border-xform"),c=e("./fill-xform"),a=e("./font-xform"),u=e("./numfmt-xform"),m=e("./protection-xform");s.exports=class extends o{constructor(){super(),this.map={alignment:new i,border:new d,fill:new c,font:new a,numFmt:new u,protection:new m}}get tag(){return"dxf"}render(h,p){if(h.openNode(this.tag),p.font&&this.map.font.render(h,p.font),p.numFmt&&p.numFmtId){const y={id:p.numFmtId,formatCode:p.numFmt};this.map.numFmt.render(h,y)}p.fill&&this.map.fill.render(h,p.fill),p.alignment&&this.map.alignment.render(h,p.alignment),p.border&&this.map.border.render(h,p.border),p.protection&&this.map.protection.render(h,p.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,s,l){const o=e("../base-xform"),i=e("./color-xform");class d extends o{constructor(){super(),this.map={color:new i}}get tag(){return"stop"}render(h,p){h.openNode("stop"),h.addAttribute("position",p.position),this.map.color.render(h,p.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends o{constructor(){super(),this.map={fgColor:new i("fgColor"),bgColor:new i("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,p){h.openNode("patternFill"),h.addAttribute("patternType",p.pattern),p.fgColor&&this.map.fgColor.render(h,p.fgColor),p.bgColor&&this.map.bgColor.render(h,p.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class a extends o{constructor(){super(),this.map={stop:new d}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,p){switch(h.openNode("gradientFill"),p.gradient){case"angle":h.addAttribute("degree",p.degree);break;case"path":h.addAttribute("type","path"),p.center.left&&(h.addAttribute("left",p.center.left),p.center.right===void 0&&h.addAttribute("right",p.center.left)),p.center.right&&h.addAttribute("right",p.center.right),p.center.top&&(h.addAttribute("top",p.center.top),p.center.bottom===void 0&&h.addAttribute("bottom",p.center.top)),p.center.bottom&&h.addAttribute("bottom",p.center.bottom)}const y=this.map.stop;p.stops.forEach(x=>{y.render(h,x)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const p=this.model={stops:[]};return h.attributes.degree?(p.gradient="angle",p.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(p.gradient="path",p.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(p.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(p.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends o{constructor(){super(),this.map={patternFill:new c,gradientFill:new a}}get tag(){return"fill"}render(h,p){switch(h.addRollback(),h.openNode("fill"),p.type){case"pattern":this.map.patternFill.render(h,p);break;case"gradient":this.map.gradientFill.render(h,p);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((m,h)=>(m[h]=!0,m),{}),u.StopXform=d,u.PatternFillXform=c,u.GradientFillXform=a,s.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,s,l){const o=e("./color-xform"),i=e("../simple/boolean-xform"),d=e("../simple/integer-xform"),c=e("../simple/string-xform"),a=e("./underline-xform"),u=e("../../../utils/under-dash"),m=e("../base-xform");class h extends m{constructor(y){super(),this.options=y||h.OPTIONS,this.map={b:{prop:"bold",xform:new i({tag:"b",attr:"val"})},i:{prop:"italic",xform:new i({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new d({tag:"charset",attr:"val"})},color:{prop:"color",xform:new o},condense:{prop:"condense",xform:new i({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new i({tag:"extend",attr:"val"})},family:{prop:"family",xform:new d({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new i({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new i({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new i({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new d({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(y,x){const{map:g}=this;y.openNode(this.options.tagName),u.each(this.map,(w,v)=>{g[v].xform.render(y,x[w.prop])}),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;if(this.map[y.name])return this.parser=this.map[y.name].xform,this.parser.parseOpen(y);switch(y.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser&&!this.parser.parseClose(y)){const x=this.map[y];return this.parser.model&&(this.model[x.prop]=this.parser.model),this.parser=void 0,!0}switch(y){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},s.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,s,l){const o=e("../../../utils/under-dash"),i=e("../../defaultnumformats"),d=e("../base-xform"),c=(function(){const u={};return o.each(i,(m,h)=>{m.f&&(u[m.f]=parseInt(h,10))}),u})();class a extends d{constructor(m,h){super(),this.id=m,this.formatCode=h}get tag(){return"numFmt"}render(m,h){m.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(m){switch(m.name){case"numFmt":return this.model={id:parseInt(m.attributes.numFmtId,10),formatCode:m.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(u){return c[u]},a.getDefaultFmtCode=function(u){return i[u]&&i[u].f},s.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,s,l){const o=e("../base-xform"),i={boolean:(d,c)=>d===void 0?c:d};s.exports=class extends o{get tag(){return"protection"}render(d,c){d.addRollback(),d.openNode("protection");let a=!1;function u(m,h){h!==void 0&&(d.addAttribute(m,h),a=!0)}u("locked",i.boolean(c.locked,!0)?void 0:"0"),u("hidden",i.boolean(c.hidden,!1)?"1":void 0),d.closeNode(),a?d.commit():d.rollback()}parseOpen(d){const c={locked:d.attributes.locked!=="0",hidden:d.attributes.hidden==="1"},a=!c.locked||c.hidden;this.model=a?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,s,l){const o=e("../base-xform"),i=e("./alignment-xform"),d=e("./protection-xform");s.exports=class extends o{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new i,protection:new d}}get tag(){return"xf"}render(c,a){c.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&c.addAttribute("xfId",a.xfId||0),a.numFmtId&&c.addAttribute("applyNumberFormat","1"),a.fontId&&c.addAttribute("applyFont","1"),a.fillId&&c.addAttribute("applyFill","1"),a.borderId&&c.addAttribute("applyBorder","1"),a.alignment&&c.addAttribute("applyAlignment","1"),a.protection&&c.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(c,a.alignment),a.protection&&this.map.protection.render(c,a.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,s,l){const o=e("../../../doc/enums"),i=e("../../../utils/xml-stream"),d=e("../base-xform"),c=e("../static-xform"),a=e("../list-xform"),u=e("./font-xform"),m=e("./fill-xform"),h=e("./border-xform"),p=e("./numfmt-xform"),y=e("./style-xform"),x=e("./dxf-xform");class g extends d{constructor(v){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new p}),fonts:new a({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new m}),borders:new a({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new y}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new y({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new x}),numFmt:new p,font:new u,fill:new m,border:new h,style:new y({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,j){j=j||this.model,v.openXml(i.StdDocAttributes),v.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(j.numFmts&&j.numFmts.length&&(v.openNode("numFmts",{count:j.numFmts.length}),j.numFmts.forEach(N=>{v.writeXml(N)}),v.closeNode()),j.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:j.fonts.length,"x14ac:knownFonts":1}),j.fonts.forEach(N=>{v.writeXml(N)}),v.closeNode(),v.openNode("fills",{count:j.fills.length}),j.fills.forEach(N=>{v.writeXml(N)}),v.closeNode(),v.openNode("borders",{count:j.borders.length}),j.borders.forEach(N=>{v.writeXml(N)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:j.styles.length}),j.styles.forEach(N=>{v.writeXml(N)}),v.closeNode()):(this.map.numFmts.render(v,j.numFmts),this.map.fonts.render(v,j.fonts),this.map.fills.render(v,j.fills),this.map.borders.render(v,j.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,j.styles)),g.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,j.dxfs),g.STATIC_XFORMS.tableStyles.render(v),g.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const j=(N,T)=>{T.model&&T.model.length&&(this.model[N]=T.model)};if(j("numFmts",this.map.numFmts),j("fonts",this.map.fonts),j("fills",this.map.fills),j("borders",this.map.borders),j("styles",this.map.cellXfs),j("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const N=this.index.numFmt;this.model.numFmts.forEach(T=>{N[T.id]=T.formatCode})}return!1}default:return!0}}addStyleModel(v,j){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const N={};if(j=j||o.ValueType.Number,v.numFmt)N.numFmtId=this._addNumFmtStr(v.numFmt);else switch(j){case o.ValueType.Number:N.numFmtId=this._addNumFmtStr("General");break;case o.ValueType.Date:N.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(N.fontId=this._addFont(v.font)),v.border&&(N.borderId=this._addBorder(v.border)),v.fill&&(N.fillId=this._addFill(v.fill)),v.alignment&&(N.alignment=v.alignment),v.protection&&(N.protection=v.protection);const T=this._addStyle(N);return this.weakMap&&this.weakMap.set(v,T),T}getStyleModel(v){const j=this.model.styles[v];if(!j)return null;let N=this.index.model[v];if(N)return N;if(N=this.index.model[v]={},j.numFmtId){const D=this.index.numFmt[j.numFmtId]||p.getDefaultFmtCode(j.numFmtId);D&&(N.numFmt=D)}function T(D,V,P){if(P||P===0){const $=V[P];$&&(N[D]=$)}}return T("font",this.model.fonts,j.fontId),T("border",this.model.borders,j.borderId),T("fill",this.model.fills,j.fillId),j.alignment&&(N.alignment=j.alignment),j.protection&&(N.protection=j.protection),N}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const j=this.map.style.toXml(v);let N=this.index.style[j];return N===void 0&&(N=this.index.style[j]=this.model.styles.length,this.model.styles.push(j)),N}_addNumFmtStr(v){let j=p.getDefaultFmtId(v);if(j!==void 0||(j=this.index.numFmt[v],j!==void 0))return j;j=this.index.numFmt[v]=164+this.model.numFmts.length;const N=this.map.numFmt.toXml({id:j,formatCode:v});return this.model.numFmts.push(N),j}_addFont(v){const j=this.map.font.toXml(v);let N=this.index.font[j];return N===void 0&&(N=this.index.font[j]=this.model.fonts.length,this.model.fonts.push(j)),N}_addBorder(v){const j=this.map.border.toXml(v);let N=this.index.border[j];return N===void 0&&(N=this.index.border[j]=this.model.borders.length,this.model.borders.push(j)),N}_addFill(v){const j=this.map.fill.toXml(v);let N=this.index.fill[j];return N===void 0&&(N=this.index.fill[j]=this.model.fills.length,this.model.fills.push(j)),N}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(w){return w.autodrain(),Promise.resolve()}addStyleModel(w,v){switch(v){case o.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const w={numFmtId:p.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(w)}return this._dateStyleId}getStyleModel(){return{}}},s.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,s,l){const o=e("../base-xform");class i extends o{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,a){if((a=a||this.model)===!0)c.leafNode("u");else{const u=i.Attributes[a];u&&c.leafNode("u",u)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},s.exports=i},{"../base-xform":32}],137:[function(e,s,l){const o=e("../base-xform"),i=e("./filter-column-xform");s.exports=class extends o{constructor(){super(),this.map={filterColumn:new i}}get tag(){return"autoFilter"}prepare(d){d.columns.forEach((c,a)=>{this.map.filterColumn.prepare(c,{index:a})})}render(d,c){return d.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(a=>{this.map.filterColumn.render(d,a)}),d.closeNode(),!0}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.model={autoFilterRef:d.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[d.name],this.parser)return this.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"customFilter"}render(i,d){i.leafNode(this.tag,{val:d.val,operator:d.operator})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val,operator:i.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,s,l){const o=e("../base-xform"),i=e("../list-xform"),d=e("./custom-filter-xform"),c=e("./filter-xform");s.exports=class extends o{constructor(){super(),this.map={customFilters:new i({tag:"customFilters",count:!1,empty:!0,childXform:new d}),filters:new i({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(a,u){a.colId=u.index.toString()}render(a,u){return u.customFilters?(a.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(a,u.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;const{attributes:u}=a;switch(a.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"filter"}render(i,d){i.leafNode(this.tag,{val:d.val})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"tableColumn"}prepare(i,d){i.id=d.index+1}render(i,d){return i.leafNode(this.tag,{id:d.id.toString(),name:d.name,totalsRowLabel:d.totalsRowLabel,totalsRowFunction:d.totalsRowFunction,dxfId:d.dxfId}),!0}parseOpen(i){if(i.name===this.tag){const{attributes:d}=i;return this.model={name:d.name,totalsRowLabel:d.totalsRowLabel,totalsRowFunction:d.totalsRowFunction,dxfId:d.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,s,l){const o=e("../base-xform");s.exports=class extends o{get tag(){return"tableStyleInfo"}render(i,d){return i.leafNode(this.tag,{name:d.theme?d.theme:void 0,showFirstColumn:d.showFirstColumn?"1":"0",showLastColumn:d.showLastColumn?"1":"0",showRowStripes:d.showRowStripes?"1":"0",showColumnStripes:d.showColumnStripes?"1":"0"}),!0}parseOpen(i){if(i.name===this.tag){const{attributes:d}=i;return this.model={theme:d.name?d.name:null,showFirstColumn:d.showFirstColumn==="1",showLastColumn:d.showLastColumn==="1",showRowStripes:d.showRowStripes==="1",showColumnStripes:d.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,s,l){const o=e("../../../utils/xml-stream"),i=e("../base-xform"),d=e("../list-xform"),c=e("./auto-filter-xform"),a=e("./table-column-xform"),u=e("./table-style-info-xform");class m extends i{constructor(){super(),this.map={autoFilter:new c,tableColumns:new d({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new u}}prepare(p,y){this.map.autoFilter.prepare(p),this.map.tableColumns.prepare(p.columns,y)}get tag(){return"table"}render(p,y){p.openXml(o.StdDocAttributes),p.openNode(this.tag,{...m.TABLE_ATTRIBUTES,id:y.id,name:y.name,displayName:y.displayName||y.name,ref:y.tableRef,totalsRowCount:y.totalsRow?"1":void 0,totalsRowShown:y.totalsRow?void 0:"1",headerRowCount:y.headerRow?"1":"0"}),this.map.autoFilter.render(p,y),this.map.tableColumns.render(p,y.columns),this.map.tableStyleInfo.render(p,y.style),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;const{name:y,attributes:x}=p;switch(y){case this.tag:this.reset(),this.model={name:x.name,displayName:x.displayName||x.name,tableRef:x.ref,totalsRow:x.totalsRowCount==="1",headerRow:x.headerRowCount==="1"};break;default:this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p)}return!0}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((y,x)=>{this.model.columns[x].filterButton=y.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(p,y){p.columns.forEach(x=>{x.dxfId!==void 0&&(x.style=y.styles.getDxfStyle(x.dxfId))})}}m.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},s.exports=m},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,s,l){(function(o,i){(function(){const d=e("fs"),c=e("jszip"),{PassThrough:a}=e("readable-stream"),u=e("../utils/zip-stream"),m=e("../utils/stream-buf"),h=e("../utils/utils"),p=e("../utils/xml-stream"),{bufferToString:y}=e("../utils/browser-buffer-decode"),x=e("./xform/style/styles-xform"),g=e("./xform/core/core-xform"),w=e("./xform/strings/shared-strings-xform"),v=e("./xform/core/relationships-xform"),j=e("./xform/core/content-types-xform"),N=e("./xform/core/app-xform"),T=e("./xform/book/workbook-xform"),D=e("./xform/sheet/worksheet-xform"),V=e("./xform/drawing/drawing-xform"),P=e("./xform/table/table-xform"),$=e("./xform/comment/comments-xform"),G=e("./xform/comment/vml-notes-xform"),Y=e("./xml/theme1");class W{constructor(I){this.workbook=I}async readFile(I,R){if(!await h.fs.exists(I))throw new Error("File not found: "+I);const S=d.createReadStream(I);try{const C=await this.read(S,R);return S.close(),C}catch(C){throw S.close(),C}}parseRels(I){return new v().parseStream(I)}parseWorkbook(I){return new T().parseStream(I)}parseSharedStrings(I){return new w().parseStream(I)}reconcile(I,R){const S=new T,C=new D(R),k=new V,E=new P;S.reconcile(I);const M={media:I.media,mediaIndex:I.mediaIndex};Object.keys(I.drawings).forEach(K=>{const Z=I.drawings[K],te=I.drawingRels[K];te&&(M.rels=te.reduce((H,ee)=>(H[ee.Id]=ee,H),{}),(Z.anchors||[]).forEach(H=>{const ee=H.picture&&H.picture.hyperlinks;ee&&M.rels[ee.rId]&&(ee.hyperlink=M.rels[ee.rId].Target,delete ee.rId)}),k.reconcile(Z,M))});const L={styles:I.styles};Object.values(I.tables).forEach(K=>{E.reconcile(K,L)});const z={styles:I.styles,sharedStrings:I.sharedStrings,media:I.media,mediaIndex:I.mediaIndex,date1904:I.properties&&I.properties.date1904,drawings:I.drawings,comments:I.comments,tables:I.tables,vmlDrawings:I.vmlDrawings};I.worksheets.forEach(K=>{K.relationships=I.worksheetRels[K.sheetNo],C.reconcile(K,z)}),delete I.worksheetHash,delete I.worksheetRels,delete I.globalRels,delete I.sharedStrings,delete I.workbookRels,delete I.sheetDefs,delete I.styles,delete I.mediaIndex,delete I.drawings,delete I.drawingRels,delete I.vmlDrawings}async _processWorksheetEntry(I,R,S,C,k){const E=new D(C),M=await E.parseStream(I);M.sheetNo=S,R.worksheetHash[k]=M,R.worksheets.push(M)}async _processCommentEntry(I,R,S){const C=new $,k=await C.parseStream(I);R.comments[`../${S}.xml`]=k}async _processTableEntry(I,R,S){const C=new P,k=await C.parseStream(I);R.tables[`../tables/${S}.xml`]=k}async _processWorksheetRelsEntry(I,R,S){const C=new v,k=await C.parseStream(I);R.worksheetRels[S]=k}async _processMediaEntry(I,R,S){const C=S.lastIndexOf(".");if(C>=1){const k=S.substr(C+1),E=S.substr(0,C);await new Promise((M,L)=>{const z=new m;z.on("finish",()=>{R.mediaIndex[S]=R.media.length,R.mediaIndex[E]=R.media.length;const K={type:"image",name:E,extension:k,buffer:z.toBuffer()};R.media.push(K),M()}),I.on("error",K=>{L(K)}),I.pipe(z)})}}async _processDrawingEntry(I,R,S){const C=new V,k=await C.parseStream(I);R.drawings[S]=k}async _processDrawingRelsEntry(I,R,S){const C=new v,k=await C.parseStream(I);R.drawingRels[S]=k}async _processVmlDrawingEntry(I,R,S){const C=new G,k=await C.parseStream(I);R.vmlDrawings[`../drawings/${S}.vml`]=k}async _processThemeEntry(I,R,S){await new Promise((C,k)=>{const E=new m;I.on("error",k),E.on("error",k),E.on("finish",()=>{R.themes[S]=E.read().toString(),C()}),I.pipe(E)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(I,R){!I[Symbol.asyncIterator]&&I.pipe&&(I=I.pipe(new a));const S=[];for await(const C of I)S.push(C);return this.load(i.concat(S),R)}async load(I,R){let S;S=R&&R.base64?i.from(I.toString(),"base64"):I;const C={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},k=await c.loadAsync(S);for(const E of Object.values(k.files))if(!E.dir){let M,L=E.name;if(L[0]==="/"&&(L=L.substr(1)),L.match(/xl\/media\//)||L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))M=new a,M.write(await E.async("nodebuffer"));else{let z;M=new a({writableObjectMode:!0,readableObjectMode:!0}),z=o.browser?y(await E.async("nodebuffer")):await E.async("string");const K=16384;for(let Z=0;Z<z.length;Z+=K)M.write(z.substring(Z,Z+K))}switch(M.end(),L){case"_rels/.rels":C.globalRels=await this.parseRels(M);break;case"xl/workbook.xml":{const z=await this.parseWorkbook(M);C.sheets=z.sheets,C.definedNames=z.definedNames,C.views=z.views,C.properties=z.properties,C.calcProperties=z.calcProperties;break}case"xl/_rels/workbook.xml.rels":C.workbookRels=await this.parseRels(M);break;case"xl/sharedStrings.xml":C.sharedStrings=new w,await C.sharedStrings.parseStream(M);break;case"xl/styles.xml":C.styles=new x,await C.styles.parseStream(M);break;case"docProps/app.xml":{const z=new N,K=await z.parseStream(M);C.company=K.company,C.manager=K.manager;break}case"docProps/core.xml":{const z=new g,K=await z.parseStream(M);Object.assign(C,K);break}default:{let z=L.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(z){await this._processWorksheetEntry(M,C,z[1],R,L);break}if(z=L.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),z){await this._processWorksheetRelsEntry(M,C,z[1]);break}if(z=L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),z){await this._processThemeEntry(M,C,z[1]);break}if(z=L.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),z){await this._processMediaEntry(M,C,z[1]);break}if(z=L.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),z){await this._processDrawingEntry(M,C,z[1]);break}if(z=L.match(/xl\/(comments\d+)[.]xml/),z){await this._processCommentEntry(M,C,z[1]);break}if(z=L.match(/xl\/tables\/(table\d+)[.]xml/),z){await this._processTableEntry(M,C,z[1]);break}if(z=L.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),z){await this._processDrawingRelsEntry(M,C,z[1]);break}if(z=L.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),z){await this._processVmlDrawingEntry(M,C,z[1]);break}}}}return this.reconcile(C,R),this.workbook.model=C,this.workbook}async addMedia(I,R){await Promise.all(R.media.map(async S=>{if(S.type==="image"){const C=`xl/media/${S.name}.${S.extension}`;if(S.filename){const k=await(function(E,M){return new Promise((L,z)=>{d.readFile(E,M,(K,Z)=>{K?z(K):L(Z)})})})(S.filename);return I.append(k,{name:C})}if(S.buffer)return I.append(S.buffer,{name:C});if(S.base64){const k=S.base64,E=k.substring(k.indexOf(",")+1);return I.append(E,{name:C,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(I,R){const S=new V,C=new v;R.worksheets.forEach(k=>{const{drawing:E}=k;if(E){S.prepare(E,{});let M=S.toXml(E);I.append(M,{name:`xl/drawings/${E.name}.xml`}),M=C.toXml(E.rels),I.append(M,{name:`xl/drawings/_rels/${E.name}.xml.rels`})}})}addTables(I,R){const S=new P;R.worksheets.forEach(C=>{const{tables:k}=C;k.forEach(E=>{S.prepare(E,{});const M=S.toXml(E);I.append(M,{name:"xl/tables/"+E.target})})})}async addContentTypes(I,R){const S=new j().toXml(R);I.append(S,{name:"[Content_Types].xml"})}async addApp(I,R){const S=new N().toXml(R);I.append(S,{name:"docProps/app.xml"})}async addCore(I,R){const S=new g;I.append(S.toXml(R),{name:"docProps/core.xml"})}async addThemes(I,R){const S=R.themes||{theme1:Y};Object.keys(S).forEach(C=>{const k=S[C],E=`xl/theme/${C}.xml`;I.append(k,{name:E})})}async addOfficeRels(I){const R=new v().toXml([{Id:"rId1",Type:W.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:W.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:W.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);I.append(R,{name:"_rels/.rels"})}async addWorkbookRels(I,R){let S=1;const C=[{Id:"rId"+S++,Type:W.RelType.Styles,Target:"styles.xml"},{Id:"rId"+S++,Type:W.RelType.Theme,Target:"theme/theme1.xml"}];R.sharedStrings.count&&C.push({Id:"rId"+S++,Type:W.RelType.SharedStrings,Target:"sharedStrings.xml"}),R.worksheets.forEach(E=>{E.rId="rId"+S++,C.push({Id:E.rId,Type:W.RelType.Worksheet,Target:`worksheets/sheet${E.id}.xml`})});const k=new v().toXml(C);I.append(k,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(I,R){R.sharedStrings&&R.sharedStrings.count&&I.append(R.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(I,R){const{xml:S}=R.styles;S&&I.append(S,{name:"xl/styles.xml"})}async addWorkbook(I,R){const S=new T;I.append(S.toXml(R),{name:"xl/workbook.xml"})}async addWorksheets(I,R){const S=new D,C=new v,k=new $,E=new G;R.worksheets.forEach(M=>{let L=new p;S.render(L,M),I.append(L.xml,{name:`xl/worksheets/sheet${M.id}.xml`}),M.rels&&M.rels.length&&(L=new p,C.render(L,M.rels),I.append(L.xml,{name:`xl/worksheets/_rels/sheet${M.id}.xml.rels`})),M.comments.length>0&&(L=new p,k.render(L,M),I.append(L.xml,{name:`xl/comments${M.id}.xml`}),L=new p,E.render(L,M),I.append(L.xml,{name:`xl/drawings/vmlDrawing${M.id}.vml`}))})}_finalize(I){return new Promise((R,S)=>{I.on("finish",()=>{R(this)}),I.on("error",S),I.finalize()})}prepareModel(I,R){I.creator=I.creator||"ExcelJS",I.lastModifiedBy=I.lastModifiedBy||"ExcelJS",I.created=I.created||new Date,I.modified=I.modified||new Date,I.useSharedStrings=R.useSharedStrings===void 0||R.useSharedStrings,I.useStyles=R.useStyles===void 0||R.useStyles,I.sharedStrings=new w,I.styles=I.useStyles?new x(!0):new x.Mock;const S=new T,C=new D;S.prepare(I);const k={sharedStrings:I.sharedStrings,styles:I.styles,date1904:I.properties.date1904,drawingsCount:0,media:I.media};k.drawings=I.drawings=[],k.commentRefs=I.commentRefs=[];let E=0;I.tables=[],I.worksheets.forEach(M=>{M.tables.forEach(L=>{E++,L.target=`table${E}.xml`,L.id=E,I.tables.push(L)}),C.prepare(M,k)})}async write(I,R){R=R||{};const{model:S}=this.workbook,C=new u.ZipWriter(R.zip);return C.pipe(I),this.prepareModel(S,R),await this.addContentTypes(C,S),await this.addOfficeRels(C,S),await this.addWorkbookRels(C,S),await this.addWorksheets(C,S),await this.addSharedStrings(C,S),await this.addDrawings(C,S),await this.addTables(C,S),await Promise.all([this.addThemes(C,S),this.addStyles(C,S)]),await this.addMedia(C,S),await Promise.all([this.addApp(C,S),this.addCore(C,S)]),await this.addWorkbook(C,S),this._finalize(C)}writeFile(I,R){const S=d.createWriteStream(I);return new Promise((C,k)=>{S.on("finish",()=>{C()}),S.on("error",E=>{k(E)}),this.write(S,R).then(()=>{S.end()}).catch(E=>{k(E)})})}async writeBuffer(I){const R=new m;return await this.write(R,I),R.read()}}W.RelType=e("./rel-type"),s.exports=W}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,s,l){s.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,s,l){(function(o){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvFormatterStream=void 0;const i=e("stream"),d=e("./formatter");class c extends i.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new d.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,m,h){let p=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(y,x)=>y?(p=!0,h(y)):(x&&x.forEach(g=>{this.push(o.from(g,"utf8"))}),p=!0,h()))}catch(y){if(p)throw y;h(y)}}_flush(u){this.rowFormatter.finish((m,h)=>m?u(m):(h&&h.forEach(p=>{this.push(o.from(p,"utf8"))}),u()))}}l.CsvFormatterStream=c}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FormatterOptions=void 0,l.FormatterOptions=class{constructor(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var i;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,o||{}),o?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),o?.quote===!0?this.quote='"':o?.quote===!1&&(this.quote=""),typeof o?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((i=o.writeHeaders)===null||i===void 0||i),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,s,l){var o=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=void 0;const i=o(e("lodash.isboolean")),d=o(e("lodash.isnil")),c=o(e("lodash.escaperegexp"));l.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");const u=`[${a.delimiter}${c.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(a){this._headers=a}shouldQuote(a,u){const m=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return i.default(m)?m:Array.isArray(m)?m[a]:this._headers!==null&&m[this._headers[a]]}format(a,u,m){const h=(""+(d.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:p}=this;return p.quote!==""&&h.indexOf(p.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,p.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,m)?this.quoteField(h):h}quoteField(a){const{quote:u}=this.formatterOptions;return`${u}${a}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,s,l){var o=function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowFormatter=void 0;const i=o(e("lodash.isfunction")),d=o(e("lodash.isequal")),c=e("./FieldFormatter"),a=e("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new c.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(p=>p[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return a.isSyncTransform(h)?(p,y)=>{let x=null;try{x=h(p)}catch(g){return y(g)}return y(null,x)}:(p,y)=>{h(p,y)}}set rowTransform(h){if(!i.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,p){this.callTransformer(h,(y,x)=>{if(y)return p(y);if(!h)return p(null);const g=[];if(x){const{shouldFormatColumns:w,headers:v}=this.checkHeaders(x);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),w){const j=this.gatherColumns(x);g.push(this.formatColumns(j,!1))}}return p(null,g)})}finish(h){const p=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));p.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&p.push(this.formatterOptions.rowDelimiter),h(null,p)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const p=u.gatherHeaders(h);return this.headers=p,this.fieldFormatter.headers=p,this.shouldWriteHeaders?{shouldFormatColumns:!d.default(p,h),headers:p}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((p,y)=>{const x=h[y];return x?x[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((p,y)=>h[y]):this.headers.map(p=>h[p])}callTransformer(h,p){return this._rowTransform?this._rowTransform(h,p):p(null,h)}formatColumns(h,p){const y=h.map((g,w)=>this.fieldFormatter.format(g,w,p)).join(this.formatterOptions.delimiter),{rowCount:x}=this;return this.rowCount+=1,x?[this.formatterOptions.rowDelimiter,y].join(""):y}}l.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=l.RowFormatter=void 0;var o=e("./RowFormatter");Object.defineProperty(l,"RowFormatter",{enumerable:!0,get:function(){return o.RowFormatter}});var i=e("./FieldFormatter");Object.defineProperty(l,"FieldFormatter",{enumerable:!0,get:function(){return i.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,s,l){(function(o){(function(){var i=Object.create?function(w,v,j,N){N===void 0&&(N=j),Object.defineProperty(w,N,{enumerable:!0,get:function(){return v[j]}})}:function(w,v,j,N){N===void 0&&(N=j),w[N]=v[j]},d=Object.create?function(w,v){Object.defineProperty(w,"default",{enumerable:!0,value:v})}:function(w,v){w.default=v},c=function(w){if(w&&w.__esModule)return w;var v={};if(w!=null)for(var j in w)j!=="default"&&Object.prototype.hasOwnProperty.call(w,j)&&i(v,w,j);return d(v,w),v},a=function(w,v){for(var j in w)j==="default"||Object.prototype.hasOwnProperty.call(v,j)||i(v,w,j)};Object.defineProperty(l,"__esModule",{value:!0}),l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=l.FormatterOptions=l.CsvFormatterStream=void 0;const u=e("util"),m=e("stream"),h=c(e("fs")),p=e("./FormatterOptions"),y=e("./CsvFormatterStream");a(e("./types"),l);var x=e("./CsvFormatterStream");Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return x.CsvFormatterStream}});var g=e("./FormatterOptions");Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),l.format=w=>new y.CsvFormatterStream(new p.FormatterOptions(w)),l.write=(w,v)=>{const j=l.format(v),N=u.promisify((T,D)=>{j.write(T,void 0,D)});return w.reduce((T,D)=>T.then(()=>N(D)),Promise.resolve()).then(()=>j.end()).catch(T=>{j.emit("error",T)}),j},l.writeToStream=(w,v,j)=>l.write(v,j).pipe(w),l.writeToBuffer=function(w){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const j=[],N=new m.Writable({write(T,D,V){j.push(T),V()}});return new Promise((T,D)=>{N.on("error",D).on("finish",()=>T(o.concat(j))),l.write(w,v).pipe(N)})},l.writeToString=(w,v)=>l.writeToBuffer(w,v).then(j=>j.toString()),l.writeToPath=(w,v,j)=>{const N=h.createWriteStream(w,{encoding:"utf8"});return l.write(v,j).pipe(N)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncTransform=void 0,l.isSyncTransform=o=>o.length===1},{}],153:[function(e,s,l){(function(o){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=void 0;const i=e("string_decoder"),d=e("stream"),c=e("./transforms"),a=e("./parser");class u extends d.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new a.Parser(h),this.headerTransformer=new c.HeaderTransformer(h),this.decoder=new i.StringDecoder(h.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var p=arguments.length,y=new Array(p>1?p-1:0),x=1;x<p;x++)y[x-1]=arguments[x];return super.emit(h,...y)}_transform(h,p,y){if(this.hasHitRowLimit)return y();const x=u.wrapDoneCallback(y);try{const{lines:g}=this,w=g+this.decoder.write(h),v=this.parse(w,!0);return this.processRows(v,x)}catch(g){return x(g)}}_flush(h){const p=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return p();try{const y=this.lines+this.decoder.end(),x=this.parse(y,!1);return this.processRows(x,p)}catch(y){return p(y)}}parse(h,p){if(!h)return[];const{line:y,rows:x}=this.parser.parse(h,p);return this.lines=y,x}processRows(h,p){const y=h.length,x=g=>{const w=N=>N?p(N):g%100!=0?x(g+1):void o(()=>x(g+1));if(this.checkAndEmitHeaders(),g>=y||this.hasHitRowLimit)return p();if(this.parsedLineCount+=1,this.shouldSkipLine)return w();const v=h[g];this.rowCount+=1,this.parsedRowCount+=1;const j=this.rowCount;return this.transformRow(v,(N,T)=>{if(N)return this.rowCount-=1,w(N);if(!T)return w(new Error("expected transform result"));if(T.isValid){if(T.row)return this.pushRow(T.row,w)}else this.emit("data-invalid",T.row,j,T.reason);return w()})};x(0)}transformRow(h,p){try{this.headerTransformer.transform(h,(y,x)=>y?p(y):x?x.isValid?x.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(x.row,p):this.skipRow(p):(this.rowCount-=1,this.parsedRowCount-=1,p(null,{row:null,isValid:!0})):this.shouldEmitRows?p(null,{isValid:!1,row:h}):this.skipRow(p):p(new Error("Expected result from header transform")))}catch(y){p(y)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,p){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),p()}catch(y){p(y)}}static wrapDoneCallback(h){let p=!1;return function(y){if(y){if(p)throw y;return p=!0,void h(y)}for(var x=arguments.length,g=new Array(x>1?x-1:0),w=1;w<x;w++)g[w-1]=arguments[w];h(...g)}}}l.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,s,l){var o=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0}),l.ParserOptions=void 0;const i=o(e("lodash.escaperegexp")),d=o(e("lodash.isnil"));l.ParserOptions=class{constructor(c){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=i.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!d.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,s,l){var o=Object.create?function(x,g,w,v){v===void 0&&(v=w),Object.defineProperty(x,v,{enumerable:!0,get:function(){return g[w]}})}:function(x,g,w,v){v===void 0&&(v=w),x[v]=g[w]},i=Object.create?function(x,g){Object.defineProperty(x,"default",{enumerable:!0,value:g})}:function(x,g){x.default=g},d=function(x){if(x&&x.__esModule)return x;var g={};if(x!=null)for(var w in x)w!=="default"&&Object.prototype.hasOwnProperty.call(x,w)&&o(g,x,w);return i(g,x),g},c=function(x,g){for(var w in x)w==="default"||Object.prototype.hasOwnProperty.call(g,w)||o(g,x,w)};Object.defineProperty(l,"__esModule",{value:!0}),l.parseString=l.parseFile=l.parseStream=l.parse=l.ParserOptions=l.CsvParserStream=void 0;const a=d(e("fs")),u=e("stream"),m=e("./ParserOptions"),h=e("./CsvParserStream");c(e("./types"),l);var p=e("./CsvParserStream");Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return p.CsvParserStream}});var y=e("./ParserOptions");Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return y.ParserOptions}}),l.parse=x=>new h.CsvParserStream(new m.ParserOptions(x)),l.parseStream=(x,g)=>x.pipe(new h.CsvParserStream(new m.ParserOptions(g))),l.parseFile=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(x).pipe(new h.CsvParserStream(new m.ParserOptions(g)))},l.parseString=(x,g)=>{const w=new u.Readable;return w.push(x),w.push(null),w.pipe(new h.CsvParserStream(new m.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Parser=void 0;const o=e("./Scanner"),i=e("./RowParser"),d=e("./Token");class c{constructor(u){this.parserOptions=u,this.rowParser=new i.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,m){const h=new o.Scanner({line:c.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:m});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const m=[];let h=!0;for(;h;)h=this.parseRow(u,m);return{line:u.line,rows:m}}parseWithComments(u){const{parserOptions:m}=this,h=[];for(let p=u.nextCharacterToken;p!==null;p=u.nextCharacterToken)if(d.Token.isTokenComment(p,m)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,m){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&i.RowParser.isEmptyRow(h)||m.push(h),!0)}}l.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.RowParser=void 0;const o=e("./column"),i=e("./Token");l.RowParser=class{constructor(d){this.parserOptions=d,this.columnParser=new o.ColumnParser(d)}static isEmptyRow(d){return d.join("").replace(/\s+/g,"")===""}parse(d){const{parserOptions:c}=this,{hasMoreData:a}=d,u=d,m=[];let h=this.getStartToken(u,m);for(;h;){if(i.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&i.Token.isTokenCarriageReturn(h,c)&&a?null:(u.truncateToCursor(),m);if(!this.shouldSkipColumnParse(u,h,m)){const p=this.columnParser.parse(u);if(p===null)return null;m.push(p)}h=u.nextNonSpaceToken}return a?null:(u.truncateToCursor(),m)}getStartToken(d,c){const a=d.nextNonSpaceToken;return a!==null&&i.Token.isTokenDelimiter(a,this.parserOptions)?(c.push(""),d.nextNonSpaceToken):a}shouldSkipColumnParse(d,c,a){const{parserOptions:u}=this;if(i.Token.isTokenDelimiter(c,u)){d.advancePastToken(c);const m=d.nextCharacterToken;if(!d.hasMoreCharacters||m!==null&&i.Token.isTokenRowDelimiter(m)||m!==null&&i.Token.isTokenDelimiter(m,u))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Scanner=void 0;const o=e("./Token"),i=/((?:\r\n)|\n|\r)/;l.Scanner=class{constructor(d){this.cursor=0,this.line=d.line,this.lineLength=this.line.length,this.parserOptions=d.parserOptions,this.hasMoreData=d.hasMoreData,this.cursor=d.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:d}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(d.search(c)===-1)return null;const a=c.exec(d);if(a==null)return null;const u=a[1],m=this.cursor+(a.index||0);return new o.Token({token:u,startCursor:m,endCursor:m+u.length-1})}get nextCharacterToken(){const{cursor:d,lineLength:c}=this;return c<=d?null:new o.Token({token:this.line[d],startCursor:d,endCursor:d})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const d=i.exec(this.lineFromCursor);return d?(this.cursor+=(d.index||0)+d[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(d){return this.cursor=d,this}advanceToToken(d){return this.cursor=d.startCursor,this}advancePastToken(d){return this.cursor=d.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Token=void 0,l.Token=class{constructor(o){this.token=o.token,this.startCursor=o.startCursor,this.endCursor=o.endCursor}static isTokenRowDelimiter(o){const i=o.token;return i==="\r"||i===`
`||i===`\r
`}static isTokenCarriageReturn(o,i){return o.token===i.carriageReturn}static isTokenComment(o,i){return i.supportsComments&&!!o&&o.token===i.comment}static isTokenEscapeCharacter(o,i){return o.token===i.escapeChar}static isTokenQuote(o,i){return o.token===i.quote}static isTokenDelimiter(o,i){return o.token===i.delimiter}}},{}],160:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=void 0,l.ColumnFormatter=class{constructor(o){o.trim?this.format=i=>i.trim():o.ltrim?this.format=i=>i.trimLeft():o.rtrim?this.format=i=>i.trimRight():this.format=i=>i}}},{}],161:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnParser=void 0;const o=e("./NonQuotedColumnParser"),i=e("./QuotedColumnParser"),d=e("../Token");l.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new i.QuotedColumnParser(c),this.nonQuotedColumnParser=new o.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:a}=c;return a!==null&&d.Token.isTokenQuote(a,this.parserOptions)?(c.advanceToToken(a),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.NonQuotedColumnParser=void 0;const o=e("./ColumnFormatter"),i=e("../Token");l.NonQuotedColumnParser=class{constructor(d){this.parserOptions=d,this.columnFormatter=new o.ColumnFormatter(d)}parse(d){if(!d.hasMoreCharacters)return null;const{parserOptions:c}=this,a=[];let u=d.nextCharacterToken;for(;u&&!i.Token.isTokenDelimiter(u,c)&&!i.Token.isTokenRowDelimiter(u);u=d.nextCharacterToken)a.push(u.token),d.advancePastToken(u);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=void 0;const o=e("./ColumnFormatter"),i=e("../Token");l.QuotedColumnParser=class{constructor(d){this.parserOptions=d,this.columnFormatter=new o.ColumnFormatter(d)}parse(d){if(!d.hasMoreCharacters)return null;const c=d.cursor,{foundClosingQuote:a,col:u}=this.gatherDataBetweenQuotes(d);if(!a){if(d.advanceTo(c),!d.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${d.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(d),u}gatherDataBetweenQuotes(d){const{parserOptions:c}=this;let a=!1,u=!1;const m=[];let h=d.nextCharacterToken;for(;!u&&h!==null;h=d.nextCharacterToken){const p=i.Token.isTokenQuote(h,c);if(!a&&p)a=!0;else if(a)if(i.Token.isTokenEscapeCharacter(h,c)){d.advancePastToken(h);const y=d.nextCharacterToken;y!==null&&(i.Token.isTokenQuote(y,c)||i.Token.isTokenEscapeCharacter(y,c))?(m.push(y.token),h=y):p?u=!0:m.push(h.token)}else p?u=!0:m.push(h.token);d.advancePastToken(h)}return{col:this.columnFormatter.format(m.join("")),foundClosingQuote:u}}checkForMalformedColumn(d){const{parserOptions:c}=this,{nextNonSpaceToken:a}=d;if(a){const u=i.Token.isTokenDelimiter(a,c),m=i.Token.isTokenRowDelimiter(a);if(!u&&!m){const h=d.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${a.token}'. at '${h}`)}d.advanceToToken(a)}else d.hasMoreData||d.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=void 0;var o=e("./ColumnParser");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}});var i=e("./NonQuotedColumnParser");Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}});var d=e("./QuotedColumnParser");Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return d.QuotedColumnParser}});var c=e("./ColumnFormatter");Object.defineProperty(l,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=l.Token=l.Scanner=l.RowParser=l.Parser=void 0;var o=e("./Parser");Object.defineProperty(l,"Parser",{enumerable:!0,get:function(){return o.Parser}});var i=e("./RowParser");Object.defineProperty(l,"RowParser",{enumerable:!0,get:function(){return i.RowParser}});var d=e("./Scanner");Object.defineProperty(l,"Scanner",{enumerable:!0,get:function(){return d.Scanner}});var c=e("./Token");Object.defineProperty(l,"Token",{enumerable:!0,get:function(){return c.Token}});var a=e("./column");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,s,l){var o=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=void 0;const i=o(e("lodash.isundefined")),d=o(e("lodash.isfunction")),c=o(e("lodash.uniq")),a=o(e("lodash.groupby"));l.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):d.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,m){return this.shouldMapRow(u)?m(null,this.processRow(u)):m(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:m}=this;if(!this.headersTransform&&m.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:m}=this;if(!m.discardUnmappedColumns&&u.length>this.headersLength){if(!m.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return m.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const m={},{headers:h,headersLength:p}=this;for(let y=0;y<p;y+=1){const x=h[y];if(!i.default(x)){const g=u[y];i.default(g)?m[x]="":m[x]=g}}return m}setHeaders(u){var m;const h=u.filter(p=>!!p);if(c.default(h).length!==h.length){const p=a.default(h),y=Object.keys(p).filter(x=>p[x].length>1);throw new Error("Duplicate headers found "+JSON.stringify(y))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((m=this.headers)===null||m===void 0?void 0:m.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,s,l){var o=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowTransformerValidator=void 0;const i=o(e("lodash.isfunction")),d=e("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return d.isSyncTransform(u)?(m,h)=>{let p=null;try{p=u(m)}catch(y){return h(y)}return h(null,p)}:u}static createValidator(u){return d.isSyncValidate(u)?(m,h)=>{h(null,{row:m,isValid:u(m)})}:(m,h)=>{u(m,(p,y,x)=>p?h(p):h(null,y?{row:m,isValid:y,reason:x}:{row:m,isValid:!1,reason:x}))}}set rowTransform(u){if(!i.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}set rowValidator(u){if(!i.default(u))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(u)}transformAndValidate(u,m){return this.callTransformer(u,(h,p)=>h?m(h):p?this.callValidator(p,(y,x)=>y?m(y):x&&!x.isValid?m(null,{row:p,isValid:!1,reason:x.reason}):m(null,{row:p,isValid:!0})):m(null,{row:null,isValid:!0}))}callTransformer(u,m){return this._rowTransform?this._rowTransform(u,m):m(null,u)}callValidator(u,m){return this._rowValidator?this._rowValidator(u,m):m(null,{row:u,isValid:!0})}}l.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=l.RowTransformerValidator=void 0;var o=e("./RowTransformerValidator");Object.defineProperty(l,"RowTransformerValidator",{enumerable:!0,get:function(){return o.RowTransformerValidator}});var i=e("./HeaderTransformer");Object.defineProperty(l,"HeaderTransformer",{enumerable:!0,get:function(){return i.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncValidate=l.isSyncTransform=void 0,l.isSyncTransform=o=>o.length===1,l.isSyncValidate=o=>o.length===1},{}],170:[function(e,s,l){const o=l;o.bignum=e("bn.js"),o.define=e("./asn1/api").define,o.base=e("./asn1/base"),o.constants=e("./asn1/constants"),o.decoders=e("./asn1/decoders"),o.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,s,l){const o=e("./encoders"),i=e("./decoders"),d=e("inherits");function c(a,u){this.name=a,this.body=u,this.decoders={},this.encoders={}}l.define=function(a,u){return new c(a,u)},c.prototype._createNamed=function(a){const u=this.name;function m(h){this._initNamed(h,u)}return d(m,a),m.prototype._initNamed=function(h,p){a.call(this,h,p)},new m(this)},c.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(i[a])),this.decoders[a]},c.prototype.decode=function(a,u,m){return this._getDecoder(u).decode(a,m)},c.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(o[a])),this.encoders[a]},c.prototype.encode=function(a,u,m){return this._getEncoder(u).encode(a,m)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,s,l){const o=e("inherits"),i=e("../base/reporter").Reporter,d=e("safer-buffer").Buffer;function c(u,m){i.call(this,m),d.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function a(u,m){if(Array.isArray(u))this.length=0,this.value=u.map((function(h){return a.isEncoderBuffer(h)||(h=new a(h,m)),this.length+=h.length,h}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return m.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=d.byteLength(u);else{if(!d.isBuffer(u))return m.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}o(c,i),l.DecoderBuffer=c,c.isDecoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&d.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},c.prototype.restore=function(u){const m=new c(this.base);return m.offset=u.offset,m.length=this.offset,this.offset=u.offset,i.prototype.restore.call(this,u.reporter),m},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},c.prototype.skip=function(u,m){if(!(this.offset+u<=this.length))return this.error(m||"DecoderBuffer overrun");const h=new c(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},c.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},l.EncoderBuffer=a,a.isEncoderBuffer=function(u){return u instanceof a?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},a.prototype.join=function(u,m){return u||(u=d.alloc(this.length)),m||(m=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(h){h.join(u,m),m+=h.length})):(typeof this.value=="number"?u[m]=this.value:typeof this.value=="string"?u.write(this.value,m):d.isBuffer(this.value)&&this.value.copy(u,m),m+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,s,l){const o=l;o.Reporter=e("./reporter").Reporter,o.DecoderBuffer=e("./buffer").DecoderBuffer,o.EncoderBuffer=e("./buffer").EncoderBuffer,o.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,s,l){const o=e("../base/reporter").Reporter,i=e("../base/buffer").EncoderBuffer,d=e("../base/buffer").DecoderBuffer,c=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function m(p,y,x){const g={};this._baseState=g,g.name=x,g.enc=p,g.parent=y||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}s.exports=m;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];m.prototype.clone=function(){const p=this._baseState,y={};h.forEach((function(g){y[g]=p[g]}));const x=new this.constructor(y.parent);return x._baseState=y,x},m.prototype._wrap=function(){const p=this._baseState;u.forEach((function(y){this[y]=function(){const x=new this.constructor(this);return p.children.push(x),x[y].apply(x,arguments)}}),this)},m.prototype._init=function(p){const y=this._baseState;c(y.parent===null),p.call(this),y.children=y.children.filter((function(x){return x._baseState.parent===this}),this),c.equal(y.children.length,1,"Root node can have only one child")},m.prototype._useArgs=function(p){const y=this._baseState,x=p.filter((function(g){return g instanceof this.constructor}),this);p=p.filter((function(g){return!(g instanceof this.constructor)}),this),x.length!==0&&(c(y.children===null),y.children=x,x.forEach((function(g){g._baseState.parent=this}),this)),p.length!==0&&(c(y.args===null),y.args=p,y.reverseArgs=p.map((function(g){if(typeof g!="object"||g.constructor!==Object)return g;const w={};return Object.keys(g).forEach((function(v){v==(0|v)&&(v|=0);const j=g[v];w[j]=v})),w})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(p){m.prototype[p]=function(){const y=this._baseState;throw new Error(p+" not implemented for encoding: "+y.enc)}})),a.forEach((function(p){m.prototype[p]=function(){const y=this._baseState,x=Array.prototype.slice.call(arguments);return c(y.tag===null),y.tag=p,this._useArgs(x),this}})),m.prototype.use=function(p){c(p);const y=this._baseState;return c(y.use===null),y.use=p,this},m.prototype.optional=function(){return this._baseState.optional=!0,this},m.prototype.def=function(p){const y=this._baseState;return c(y.default===null),y.default=p,y.optional=!0,this},m.prototype.explicit=function(p){const y=this._baseState;return c(y.explicit===null&&y.implicit===null),y.explicit=p,this},m.prototype.implicit=function(p){const y=this._baseState;return c(y.explicit===null&&y.implicit===null),y.implicit=p,this},m.prototype.obj=function(){const p=this._baseState,y=Array.prototype.slice.call(arguments);return p.obj=!0,y.length!==0&&this._useArgs(y),this},m.prototype.key=function(p){const y=this._baseState;return c(y.key===null),y.key=p,this},m.prototype.any=function(){return this._baseState.any=!0,this},m.prototype.choice=function(p){const y=this._baseState;return c(y.choice===null),y.choice=p,this._useArgs(Object.keys(p).map((function(x){return p[x]}))),this},m.prototype.contains=function(p){const y=this._baseState;return c(y.use===null),y.contains=p,this},m.prototype._decode=function(p,y){const x=this._baseState;if(x.parent===null)return p.wrapResult(x.children[0]._decode(p,y));let g,w=x.default,v=!0,j=null;if(x.key!==null&&(j=p.enterKey(x.key)),x.optional){let N=null;if(x.explicit!==null?N=x.explicit:x.implicit!==null?N=x.implicit:x.tag!==null&&(N=x.tag),N!==null||x.any){if(v=this._peekTag(p,N,x.any),p.isError(v))return v}else{const T=p.save();try{x.choice===null?this._decodeGeneric(x.tag,p,y):this._decodeChoice(p,y),v=!0}catch{v=!1}p.restore(T)}}if(x.obj&&v&&(g=p.enterObject()),v){if(x.explicit!==null){const T=this._decodeTag(p,x.explicit);if(p.isError(T))return T;p=T}const N=p.offset;if(x.use===null&&x.choice===null){let T;x.any&&(T=p.save());const D=this._decodeTag(p,x.implicit!==null?x.implicit:x.tag,x.any);if(p.isError(D))return D;x.any?w=p.raw(T):p=D}if(y&&y.track&&x.tag!==null&&y.track(p.path(),N,p.length,"tagged"),y&&y.track&&x.tag!==null&&y.track(p.path(),p.offset,p.length,"content"),x.any||(w=x.choice===null?this._decodeGeneric(x.tag,p,y):this._decodeChoice(p,y)),p.isError(w))return w;if(x.any||x.choice!==null||x.children===null||x.children.forEach((function(T){T._decode(p,y)})),x.contains&&(x.tag==="octstr"||x.tag==="bitstr")){const T=new d(w);w=this._getUse(x.contains,p._reporterState.obj)._decode(T,y)}}return x.obj&&v&&(w=p.leaveObject(g)),x.key===null||w===null&&v!==!0?j!==null&&p.exitKey(j):p.leaveKey(j,x.key,w),w},m.prototype._decodeGeneric=function(p,y,x){const g=this._baseState;return p==="seq"||p==="set"?null:p==="seqof"||p==="setof"?this._decodeList(y,p,g.args[0],x):/str$/.test(p)?this._decodeStr(y,p,x):p==="objid"&&g.args?this._decodeObjid(y,g.args[0],g.args[1],x):p==="objid"?this._decodeObjid(y,null,null,x):p==="gentime"||p==="utctime"?this._decodeTime(y,p,x):p==="null_"?this._decodeNull(y,x):p==="bool"?this._decodeBool(y,x):p==="objDesc"?this._decodeStr(y,p,x):p==="int"||p==="enum"?this._decodeInt(y,g.args&&g.args[0],x):g.use!==null?this._getUse(g.use,y._reporterState.obj)._decode(y,x):y.error("unknown tag: "+p)},m.prototype._getUse=function(p,y){const x=this._baseState;return x.useDecoder=this._use(p,y),c(x.useDecoder._baseState.parent===null),x.useDecoder=x.useDecoder._baseState.children[0],x.implicit!==x.useDecoder._baseState.implicit&&(x.useDecoder=x.useDecoder.clone(),x.useDecoder._baseState.implicit=x.implicit),x.useDecoder},m.prototype._decodeChoice=function(p,y){const x=this._baseState;let g=null,w=!1;return Object.keys(x.choice).some((function(v){const j=p.save(),N=x.choice[v];try{const T=N._decode(p,y);if(p.isError(T))return!1;g={type:v,value:T},w=!0}catch{return p.restore(j),!1}return!0}),this),w?g:p.error("Choice not matched")},m.prototype._createEncoderBuffer=function(p){return new i(p,this.reporter)},m.prototype._encode=function(p,y,x){const g=this._baseState;if(g.default!==null&&g.default===p)return;const w=this._encodeValue(p,y,x);return w===void 0||this._skipDefault(w,y,x)?void 0:w},m.prototype._encodeValue=function(p,y,x){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(p,y||new o);let w=null;if(this.reporter=y,g.optional&&p===void 0){if(g.default===null)return;p=g.default}let v=null,j=!1;if(g.any)w=this._createEncoderBuffer(p);else if(g.choice)w=this._encodeChoice(p,y);else if(g.contains)v=this._getUse(g.contains,x)._encode(p,y),j=!0;else if(g.children)v=g.children.map((function(N){if(N._baseState.tag==="null_")return N._encode(null,y,p);if(N._baseState.key===null)return y.error("Child should have a key");const T=y.enterKey(N._baseState.key);if(typeof p!="object")return y.error("Child expected, but input is not object");const D=N._encode(p[N._baseState.key],y,p);return y.leaveKey(T),D}),this).filter((function(N){return N})),v=this._createEncoderBuffer(v);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return y.error("Too many args for : "+g.tag);if(!Array.isArray(p))return y.error("seqof/setof, but data is not Array");const N=this.clone();N._baseState.implicit=null,v=this._createEncoderBuffer(p.map((function(T){const D=this._baseState;return this._getUse(D.args[0],p)._encode(T,y)}),N))}else g.use!==null?w=this._getUse(g.use,x)._encode(p,y):(v=this._encodePrimitive(g.tag,p),j=!0);if(!g.any&&g.choice===null){const N=g.implicit!==null?g.implicit:g.tag,T=g.implicit===null?"universal":"context";N===null?g.use===null&&y.error("Tag could be omitted only for .use()"):g.use===null&&(w=this._encodeComposite(N,j,T,v))}return g.explicit!==null&&(w=this._encodeComposite(g.explicit,!1,"context",w)),w},m.prototype._encodeChoice=function(p,y){const x=this._baseState,g=x.choice[p.type];return g||c(!1,p.type+" not found in "+JSON.stringify(Object.keys(x.choice))),g._encode(p.value,y)},m.prototype._encodePrimitive=function(p,y){const x=this._baseState;if(/str$/.test(p))return this._encodeStr(y,p);if(p==="objid"&&x.args)return this._encodeObjid(y,x.reverseArgs[0],x.args[1]);if(p==="objid")return this._encodeObjid(y,null,null);if(p==="gentime"||p==="utctime")return this._encodeTime(y,p);if(p==="null_")return this._encodeNull();if(p==="int"||p==="enum")return this._encodeInt(y,x.args&&x.reverseArgs[0]);if(p==="bool")return this._encodeBool(y);if(p==="objDesc")return this._encodeStr(y,p);throw new Error("Unsupported tag: "+p)},m.prototype._isNumstr=function(p){return/^[0-9 ]*$/.test(p)},m.prototype._isPrintstr=function(p){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(p)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,s,l){const o=e("inherits");function i(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function d(c,a){this.path=c,this.rethrow(a)}l.Reporter=i,i.prototype.isError=function(c){return c instanceof d},i.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},i.prototype.restore=function(c){const a=this._reporterState;a.obj=c.obj,a.path=a.path.slice(0,c.pathLen)},i.prototype.enterKey=function(c){return this._reporterState.path.push(c)},i.prototype.exitKey=function(c){const a=this._reporterState;a.path=a.path.slice(0,c-1)},i.prototype.leaveKey=function(c,a,u){const m=this._reporterState;this.exitKey(c),m.obj!==null&&(m.obj[a]=u)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const c=this._reporterState,a=c.obj;return c.obj={},a},i.prototype.leaveObject=function(c){const a=this._reporterState,u=a.obj;return a.obj=c,u},i.prototype.error=function(c){let a;const u=this._reporterState,m=c instanceof d;if(a=m?c:new d(u.path.map((function(h){return"["+JSON.stringify(h)+"]"})).join(""),c.message||c,c.stack),!u.options.partial)throw a;return m||u.errors.push(a),a},i.prototype.wrapResult=function(c){const a=this._reporterState;return a.options.partial?{result:this.isError(c)?null:c,errors:a.errors}:c},o(d,Error),d.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,d),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(e,s,l){function o(i){const d={};return Object.keys(i).forEach((function(c){(0|c)==c&&(c|=0);const a=i[c];d[a]=c})),d}l.tagClass={0:"universal",1:"application",2:"context",3:"private"},l.tagClassByName=o(l.tagClass),l.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},l.tagByName=o(l.tag)},{}],177:[function(e,s,l){const o=l;o._reverse=function(i){const d={};return Object.keys(i).forEach((function(c){(0|c)==c&&(c|=0);const a=i[c];d[a]=c})),d},o.der=e("./der")},{"./der":176}],178:[function(e,s,l){const o=e("inherits"),i=e("bn.js"),d=e("../base/buffer").DecoderBuffer,c=e("../base/node"),a=e("../constants/der");function u(y){this.enc="der",this.name=y.name,this.entity=y,this.tree=new m,this.tree._init(y.body)}function m(y){c.call(this,"der",y)}function h(y,x){let g=y.readUInt8(x);if(y.isError(g))return g;const w=a.tagClass[g>>6],v=(32&g)==0;if((31&g)==31){let j=g;for(g=0;(128&j)==128;){if(j=y.readUInt8(x),y.isError(j))return j;g<<=7,g|=127&j}}else g&=31;return{cls:w,primitive:v,tag:g,tagStr:a.tag[g]}}function p(y,x,g){let w=y.readUInt8(g);if(y.isError(w))return w;if(!x&&w===128)return null;if((128&w)==0)return w;const v=127&w;if(v>4)return y.error("length octect is too long");w=0;for(let j=0;j<v;j++){w<<=8;const N=y.readUInt8(g);if(y.isError(N))return N;w|=N}return w}s.exports=u,u.prototype.decode=function(y,x){return d.isDecoderBuffer(y)||(y=new d(y,x)),this.tree._decode(y,x)},o(m,c),m.prototype._peekTag=function(y,x,g){if(y.isEmpty())return!1;const w=y.save(),v=h(y,'Failed to peek tag: "'+x+'"');return y.isError(v)?v:(y.restore(w),v.tag===x||v.tagStr===x||v.tagStr+"of"===x||g)},m.prototype._decodeTag=function(y,x,g){const w=h(y,'Failed to decode tag of "'+x+'"');if(y.isError(w))return w;let v=p(y,w.primitive,'Failed to get length of "'+x+'"');if(y.isError(v))return v;if(!g&&w.tag!==x&&w.tagStr!==x&&w.tagStr+"of"!==x)return y.error('Failed to match tag: "'+x+'"');if(w.primitive||v!==null)return y.skip(v,'Failed to match body of: "'+x+'"');const j=y.save(),N=this._skipUntilEnd(y,'Failed to skip indefinite length body: "'+this.tag+'"');return y.isError(N)?N:(v=y.offset-j.offset,y.restore(j),y.skip(v,'Failed to match body of: "'+x+'"'))},m.prototype._skipUntilEnd=function(y,x){for(;;){const g=h(y,x);if(y.isError(g))return g;const w=p(y,g.primitive,x);if(y.isError(w))return w;let v;if(v=g.primitive||w!==null?y.skip(w):this._skipUntilEnd(y,x),y.isError(v))return v;if(g.tagStr==="end")break}},m.prototype._decodeList=function(y,x,g,w){const v=[];for(;!y.isEmpty();){const j=this._peekTag(y,"end");if(y.isError(j))return j;const N=g.decode(y,"der",w);if(y.isError(N)&&j)break;v.push(N)}return v},m.prototype._decodeStr=function(y,x){if(x==="bitstr"){const g=y.readUInt8();return y.isError(g)?g:{unused:g,data:y.raw()}}if(x==="bmpstr"){const g=y.raw();if(g.length%2==1)return y.error("Decoding of string type: bmpstr length mismatch");let w="";for(let v=0;v<g.length/2;v++)w+=String.fromCharCode(g.readUInt16BE(2*v));return w}if(x==="numstr"){const g=y.raw().toString("ascii");return this._isNumstr(g)?g:y.error("Decoding of string type: numstr unsupported characters")}if(x==="octstr"||x==="objDesc")return y.raw();if(x==="printstr"){const g=y.raw().toString("ascii");return this._isPrintstr(g)?g:y.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(x)?y.raw().toString():y.error("Decoding of string type: "+x+" unsupported")},m.prototype._decodeObjid=function(y,x,g){let w;const v=[];let j=0,N=0;for(;!y.isEmpty();)N=y.readUInt8(),j<<=7,j|=127&N,(128&N)==0&&(v.push(j),j=0);128&N&&v.push(j);const T=v[0]/40|0,D=v[0]%40;if(w=g?v:[T,D].concat(v.slice(1)),x){let V=x[w.join(" ")];V===void 0&&(V=x[w.join(".")]),V!==void 0&&(w=V)}return w},m.prototype._decodeTime=function(y,x){const g=y.raw().toString();let w,v,j,N,T,D;if(x==="gentime")w=0|g.slice(0,4),v=0|g.slice(4,6),j=0|g.slice(6,8),N=0|g.slice(8,10),T=0|g.slice(10,12),D=0|g.slice(12,14);else{if(x!=="utctime")return y.error("Decoding "+x+" time is not supported yet");w=0|g.slice(0,2),v=0|g.slice(2,4),j=0|g.slice(4,6),N=0|g.slice(6,8),T=0|g.slice(8,10),D=0|g.slice(10,12),w=w<70?2e3+w:1900+w}return Date.UTC(w,v-1,j,N,T,D,0)},m.prototype._decodeNull=function(){return null},m.prototype._decodeBool=function(y){const x=y.readUInt8();return y.isError(x)?x:x!==0},m.prototype._decodeInt=function(y,x){const g=y.raw();let w=new i(g);return x&&(w=x[w.toString(10)]||w),w},m.prototype._use=function(y,x){return typeof y=="function"&&(y=y(x)),y._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,s,l){const o=l;o.der=e("./der"),o.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,s,l){const o=e("inherits"),i=e("safer-buffer").Buffer,d=e("./der");function c(a){d.call(this,a),this.enc="pem"}o(c,d),s.exports=c,c.prototype.decode=function(a,u){const m=a.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),p=/^-----(BEGIN|END) ([^-]+)-----$/;let y=-1,x=-1;for(let v=0;v<m.length;v++){const j=m[v].match(p);if(j!==null&&j[2]===h){if(y!==-1){if(j[1]!=="END")break;x=v;break}if(j[1]!=="BEGIN")break;y=v}}if(y===-1||x===-1)throw new Error("PEM section not found for: "+h);const g=m.slice(y+1,x).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const w=i.from(g,"base64");return d.prototype.decode.call(this,w,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,s,l){const o=e("inherits"),i=e("safer-buffer").Buffer,d=e("../base/node"),c=e("../constants/der");function a(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){d.call(this,"der",h)}function m(h){return h<10?"0"+h:h}s.exports=a,a.prototype.encode=function(h,p){return this.tree._encode(h,p).join()},o(u,d),u.prototype._encodeComposite=function(h,p,y,x){const g=(function(j,N,T,D){let V;if(j==="seqof"?j="seq":j==="setof"&&(j="set"),c.tagByName.hasOwnProperty(j))V=c.tagByName[j];else{if(typeof j!="number"||(0|j)!==j)return D.error("Unknown tag: "+j);V=j}return V>=31?D.error("Multi-octet tag encoding unsupported"):(N||(V|=32),V|=c.tagClassByName[T||"universal"]<<6,V)})(h,p,y,this.reporter);if(x.length<128){const j=i.alloc(2);return j[0]=g,j[1]=x.length,this._createEncoderBuffer([j,x])}let w=1;for(let j=x.length;j>=256;j>>=8)w++;const v=i.alloc(2+w);v[0]=g,v[1]=128|w;for(let j=1+w,N=x.length;N>0;j--,N>>=8)v[j]=255&N;return this._createEncoderBuffer([v,x])},u.prototype._encodeStr=function(h,p){if(p==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(p==="bmpstr"){const y=i.alloc(2*h.length);for(let x=0;x<h.length;x++)y.writeUInt16BE(h.charCodeAt(x),2*x);return this._createEncoderBuffer(y)}return p==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):p==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(p)||p==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+p+" unsupported")},u.prototype._encodeObjid=function(h,p,y){if(typeof h=="string"){if(!p)return this.reporter.error("string objid given, but no values map found");if(!p.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=p[h].split(/[\s.]+/g);for(let v=0;v<h.length;v++)h[v]|=0}else if(Array.isArray(h)){h=h.slice();for(let v=0;v<h.length;v++)h[v]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!y){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let x=0;for(let v=0;v<h.length;v++){let j=h[v];for(x++;j>=128;j>>=7)x++}const g=i.alloc(x);let w=g.length-1;for(let v=h.length-1;v>=0;v--){let j=h[v];for(g[w--]=127&j;(j>>=7)>0;)g[w--]=128|127&j}return this._createEncoderBuffer(g)},u.prototype._encodeTime=function(h,p){let y;const x=new Date(h);return p==="gentime"?y=[m(x.getUTCFullYear()),m(x.getUTCMonth()+1),m(x.getUTCDate()),m(x.getUTCHours()),m(x.getUTCMinutes()),m(x.getUTCSeconds()),"Z"].join(""):p==="utctime"?y=[m(x.getUTCFullYear()%100),m(x.getUTCMonth()+1),m(x.getUTCDate()),m(x.getUTCHours()),m(x.getUTCMinutes()),m(x.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+p+" time is not supported yet"),this._encodeStr(y,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,p){if(typeof h=="string"){if(!p)return this.reporter.error("String int or enum given, but no values map");if(!p.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=p[h]}if(typeof h!="number"&&!i.isBuffer(h)){const g=h.toArray();!h.sign&&128&g[0]&&g.unshift(0),h=i.from(g)}if(i.isBuffer(h)){let g=h.length;h.length===0&&g++;const w=i.alloc(g);return h.copy(w),h.length===0&&(w[0]=0),this._createEncoderBuffer(w)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let y=1;for(let g=h;g>=256;g>>=8)y++;const x=new Array(y);for(let g=x.length-1;g>=0;g--)x[g]=255&h,h>>=8;return 128&x[0]&&x.unshift(0),this._createEncoderBuffer(i.from(x))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,p){return typeof h=="function"&&(h=h(p)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,p,y){const x=this._baseState;let g;if(x.default===null)return!1;const w=h.join();if(x.defaultBuffer===void 0&&(x.defaultBuffer=this._encodeValue(x.default,p,y).join()),w.length!==x.defaultBuffer.length)return!1;for(g=0;g<w.length;g++)if(w[g]!==x.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,s,l){const o=l;o.der=e("./der"),o.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,s,l){const o=e("inherits"),i=e("./der");function d(c){i.call(this,c),this.enc="pem"}o(d,i),s.exports=d,d.prototype.encode=function(c,a){const u=i.prototype.encode.call(this,c).toString("base64"),m=["-----BEGIN "+a.label+"-----"];for(let h=0;h<u.length;h+=64)m.push(u.slice(h,h+64));return m.push("-----END "+a.label+"-----"),m.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,s,l){(function(o,i){function d(O,I){if(!O)throw new Error(I||"Assertion failed")}function c(O,I){O.super_=I;var R=function(){};R.prototype=I.prototype,O.prototype=new R,O.prototype.constructor=O}function a(O,I,R){if(a.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&(I!=="le"&&I!=="be"||(R=I,I=10),this._init(O||0,I||10,R||"be"))}var u;typeof o=="object"?o.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function m(O,I){var R=O.charCodeAt(I);return R>=65&&R<=70?R-55:R>=97&&R<=102?R-87:R-48&15}function h(O,I,R){var S=m(O,R);return R-1>=I&&(S|=m(O,R-1)<<4),S}function p(O,I,R,S){for(var C=0,k=Math.min(O.length,R),E=I;E<k;E++){var M=O.charCodeAt(E)-48;C*=S,C+=M>=49?M-49+10:M>=17?M-17+10:M}return C}a.isBN=function(O){return O instanceof a||O!==null&&typeof O=="object"&&O.constructor.wordSize===a.wordSize&&Array.isArray(O.words)},a.max=function(O,I){return O.cmp(I)>0?O:I},a.min=function(O,I){return O.cmp(I)<0?O:I},a.prototype._init=function(O,I,R){if(typeof O=="number")return this._initNumber(O,I,R);if(typeof O=="object")return this._initArray(O,I,R);I==="hex"&&(I=16),d(I===(0|I)&&I>=2&&I<=36);var S=0;(O=O.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<O.length&&(I===16?this._parseHex(O,S,R):(this._parseBase(O,I,S),R==="le"&&this._initArray(this.toArray(),I,R)))},a.prototype._initNumber=function(O,I,R){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[67108863&O],this.length=1):O<4503599627370496?(this.words=[67108863&O,O/67108864&67108863],this.length=2):(d(O<9007199254740992),this.words=[67108863&O,O/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),I,R)},a.prototype._initArray=function(O,I,R){if(d(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var C,k,E=0;if(R==="be")for(S=O.length-1,C=0;S>=0;S-=3)k=O[S]|O[S-1]<<8|O[S-2]<<16,this.words[C]|=k<<E&67108863,this.words[C+1]=k>>>26-E&67108863,(E+=24)>=26&&(E-=26,C++);else if(R==="le")for(S=0,C=0;S<O.length;S+=3)k=O[S]|O[S+1]<<8|O[S+2]<<16,this.words[C]|=k<<E&67108863,this.words[C+1]=k>>>26-E&67108863,(E+=24)>=26&&(E-=26,C++);return this.strip()},a.prototype._parseHex=function(O,I,R){this.length=Math.ceil((O.length-I)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var C,k=0,E=0;if(R==="be")for(S=O.length-1;S>=I;S-=2)C=h(O,I,S)<<k,this.words[E]|=67108863&C,k>=18?(k-=18,E+=1,this.words[E]|=C>>>26):k+=8;else for(S=(O.length-I)%2==0?I+1:I;S<O.length;S+=2)C=h(O,I,S)<<k,this.words[E]|=67108863&C,k>=18?(k-=18,E+=1,this.words[E]|=C>>>26):k+=8;this.strip()},a.prototype._parseBase=function(O,I,R){this.words=[0],this.length=1;for(var S=0,C=1;C<=67108863;C*=I)S++;S--,C=C/I|0;for(var k=O.length-R,E=k%S,M=Math.min(k,k-E)+R,L=0,z=R;z<M;z+=S)L=p(O,z,z+S,I),this.imuln(C),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(E!==0){var K=1;for(L=p(O,z,O.length,I),z=0;z<E;z++)K*=I;this.imuln(K),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this.strip()},a.prototype.copy=function(O){O.words=new Array(this.length);for(var I=0;I<this.length;I++)O.words[I]=this.words[I];O.length=this.length,O.negative=this.negative,O.red=this.red},a.prototype.clone=function(){var O=new a(null);return this.copy(O),O},a.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(O,I,R){R.negative=I.negative^O.negative;var S=O.length+I.length|0;R.length=S,S=S-1|0;var C=0|O.words[0],k=0|I.words[0],E=C*k,M=67108863&E,L=E/67108864|0;R.words[0]=M;for(var z=1;z<S;z++){for(var K=L>>>26,Z=67108863&L,te=Math.min(z,I.length-1),H=Math.max(0,z-O.length+1);H<=te;H++){var ee=z-H|0;K+=(E=(C=0|O.words[ee])*(k=0|I.words[H])+Z)/67108864|0,Z=67108863&E}R.words[z]=0|Z,L=0|K}return L!==0?R.words[z]=0|L:R.length--,R.strip()}a.prototype.toString=function(O,I){var R;if(I=0|I||1,(O=O||10)===16||O==="hex"){R="";for(var S=0,C=0,k=0;k<this.length;k++){var E=this.words[k],M=(16777215&(E<<S|C)).toString(16);R=(C=E>>>24-S&16777215)!==0||k!==this.length-1?y[6-M.length]+M+R:M+R,(S+=2)>=26&&(S-=26,k--)}for(C!==0&&(R=C.toString(16)+R);R.length%I!=0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(O===(0|O)&&O>=2&&O<=36){var L=x[O],z=g[O];R="";var K=this.clone();for(K.negative=0;!K.isZero();){var Z=K.modn(z).toString(O);R=(K=K.idivn(z)).isZero()?Z+R:y[L-Z.length]+Z+R}for(this.isZero()&&(R="0"+R);R.length%I!=0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}d(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=67108864*this.words[1]:this.length===3&&this.words[2]===1?O+=4503599627370496+67108864*this.words[1]:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(O,I){return d(u!==void 0),this.toArrayLike(u,O,I)},a.prototype.toArray=function(O,I){return this.toArrayLike(Array,O,I)},a.prototype.toArrayLike=function(O,I,R){var S=this.byteLength(),C=R||Math.max(1,S);d(S<=C,"byte array longer than desired length"),d(C>0,"Requested array length <= 0"),this.strip();var k,E,M=I==="le",L=new O(C),z=this.clone();if(M){for(E=0;!z.isZero();E++)k=z.andln(255),z.iushrn(8),L[E]=k;for(;E<C;E++)L[E]=0}else{for(E=0;E<C-S;E++)L[E]=0;for(E=0;!z.isZero();E++)k=z.andln(255),z.iushrn(8),L[C-E-1]=k}return L},Math.clz32?a.prototype._countBits=function(O){return 32-Math.clz32(O)}:a.prototype._countBits=function(O){var I=O,R=0;return I>=4096&&(R+=13,I>>>=13),I>=64&&(R+=7,I>>>=7),I>=8&&(R+=4,I>>>=4),I>=2&&(R+=2,I>>>=2),R+I},a.prototype._zeroBits=function(O){if(O===0)return 26;var I=O,R=0;return(8191&I)==0&&(R+=13,I>>>=13),(127&I)==0&&(R+=7,I>>>=7),(15&I)==0&&(R+=4,I>>>=4),(3&I)==0&&(R+=2,I>>>=2),(1&I)==0&&R++,R},a.prototype.bitLength=function(){var O=this.words[this.length-1],I=this._countBits(O);return 26*(this.length-1)+I},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,I=0;I<this.length;I++){var R=this._zeroBits(this.words[I]);if(O+=R,R!==26)break}return O},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},a.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var I=0;I<O.length;I++)this.words[I]=this.words[I]|O.words[I];return this.strip()},a.prototype.ior=function(O){return d((this.negative|O.negative)==0),this.iuor(O)},a.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},a.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},a.prototype.iuand=function(O){var I;I=this.length>O.length?O:this;for(var R=0;R<I.length;R++)this.words[R]=this.words[R]&O.words[R];return this.length=I.length,this.strip()},a.prototype.iand=function(O){return d((this.negative|O.negative)==0),this.iuand(O)},a.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},a.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},a.prototype.iuxor=function(O){var I,R;this.length>O.length?(I=this,R=O):(I=O,R=this);for(var S=0;S<R.length;S++)this.words[S]=I.words[S]^R.words[S];if(this!==I)for(;S<I.length;S++)this.words[S]=I.words[S];return this.length=I.length,this.strip()},a.prototype.ixor=function(O){return d((this.negative|O.negative)==0),this.iuxor(O)},a.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},a.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},a.prototype.inotn=function(O){d(typeof O=="number"&&O>=0);var I=0|Math.ceil(O/26),R=O%26;this._expand(I),R>0&&I--;for(var S=0;S<I;S++)this.words[S]=67108863&~this.words[S];return R>0&&(this.words[S]=~this.words[S]&67108863>>26-R),this.strip()},a.prototype.notn=function(O){return this.clone().inotn(O)},a.prototype.setn=function(O,I){d(typeof O=="number"&&O>=0);var R=O/26|0,S=O%26;return this._expand(R+1),this.words[R]=I?this.words[R]|1<<S:this.words[R]&~(1<<S),this.strip()},a.prototype.iadd=function(O){var I,R,S;if(this.negative!==0&&O.negative===0)return this.negative=0,I=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,I=this.isub(O),O.negative=1,I._normSign();this.length>O.length?(R=this,S=O):(R=O,S=this);for(var C=0,k=0;k<S.length;k++)I=(0|R.words[k])+(0|S.words[k])+C,this.words[k]=67108863&I,C=I>>>26;for(;C!==0&&k<R.length;k++)I=(0|R.words[k])+C,this.words[k]=67108863&I,C=I>>>26;if(this.length=R.length,C!==0)this.words[this.length]=C,this.length++;else if(R!==this)for(;k<R.length;k++)this.words[k]=R.words[k];return this},a.prototype.add=function(O){var I;return O.negative!==0&&this.negative===0?(O.negative=0,I=this.sub(O),O.negative^=1,I):O.negative===0&&this.negative!==0?(this.negative=0,I=O.sub(this),this.negative=1,I):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},a.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var I=this.iadd(O);return O.negative=1,I._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var R,S,C=this.cmp(O);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(R=this,S=O):(R=O,S=this);for(var k=0,E=0;E<S.length;E++)k=(I=(0|R.words[E])-(0|S.words[E])+k)>>26,this.words[E]=67108863&I;for(;k!==0&&E<R.length;E++)k=(I=(0|R.words[E])+k)>>26,this.words[E]=67108863&I;if(k===0&&E<R.length&&R!==this)for(;E<R.length;E++)this.words[E]=R.words[E];return this.length=Math.max(this.length,E),R!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(O){return this.clone().isub(O)};var v=function(O,I,R){var S,C,k,E=O.words,M=I.words,L=R.words,z=0,K=0|E[0],Z=8191&K,te=K>>>13,H=0|E[1],ee=8191&H,U=H>>>13,F=0|E[2],J=8191&F,re=F>>>13,ce=0|E[3],se=8191&ce,de=ce>>>13,we=0|E[4],ve=8191&we,ie=we>>>13,ge=0|E[5],me=8191&ge,ae=ge>>>13,le=0|E[6],fe=8191&le,xe=le>>>13,je=0|E[7],_e=8191&je,De=je>>>13,Fe=0|E[8],Ue=8191&Fe,Je=Fe>>>13,dt=0|E[9],ft=8191&dt,yt=dt>>>13,et=0|M[0],Ke=8191&et,rt=et>>>13,pt=0|M[1],it=8191&pt,Kt=pt>>>13,rn=0|M[2],Ct=8191&rn,pn=rn>>>13,Xt=0|M[3],Ut=8191&Xt,lt=Xt>>>13,It=0|M[4],ct=8191&It,Bt=It>>>13,jn=0|M[5],gt=8191&jn,Lt=jn>>>13,zt=0|M[6],ht=8191&zt,ye=zt>>>13,Ne=0|M[7],Pe=8191&Ne,st=Ne>>>13,Ot=0|M[8],tt=8191&Ot,Ft=Ot>>>13,Nt=0|M[9],vt=8191&Nt,$t=Nt>>>13;R.negative=O.negative^I.negative,R.length=19;var Pt=(z+(S=Math.imul(Z,Ke))|0)+((8191&(C=(C=Math.imul(Z,rt))+Math.imul(te,Ke)|0))<<13)|0;z=((k=Math.imul(te,rt))+(C>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,S=Math.imul(ee,Ke),C=(C=Math.imul(ee,rt))+Math.imul(U,Ke)|0,k=Math.imul(U,rt);var Et=(z+(S=S+Math.imul(Z,it)|0)|0)+((8191&(C=(C=C+Math.imul(Z,Kt)|0)+Math.imul(te,it)|0))<<13)|0;z=((k=k+Math.imul(te,Kt)|0)+(C>>>13)|0)+(Et>>>26)|0,Et&=67108863,S=Math.imul(J,Ke),C=(C=Math.imul(J,rt))+Math.imul(re,Ke)|0,k=Math.imul(re,rt),S=S+Math.imul(ee,it)|0,C=(C=C+Math.imul(ee,Kt)|0)+Math.imul(U,it)|0,k=k+Math.imul(U,Kt)|0;var Xn=(z+(S=S+Math.imul(Z,Ct)|0)|0)+((8191&(C=(C=C+Math.imul(Z,pn)|0)+Math.imul(te,Ct)|0))<<13)|0;z=((k=k+Math.imul(te,pn)|0)+(C>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,S=Math.imul(se,Ke),C=(C=Math.imul(se,rt))+Math.imul(de,Ke)|0,k=Math.imul(de,rt),S=S+Math.imul(J,it)|0,C=(C=C+Math.imul(J,Kt)|0)+Math.imul(re,it)|0,k=k+Math.imul(re,Kt)|0,S=S+Math.imul(ee,Ct)|0,C=(C=C+Math.imul(ee,pn)|0)+Math.imul(U,Ct)|0,k=k+Math.imul(U,pn)|0;var On=(z+(S=S+Math.imul(Z,Ut)|0)|0)+((8191&(C=(C=C+Math.imul(Z,lt)|0)+Math.imul(te,Ut)|0))<<13)|0;z=((k=k+Math.imul(te,lt)|0)+(C>>>13)|0)+(On>>>26)|0,On&=67108863,S=Math.imul(ve,Ke),C=(C=Math.imul(ve,rt))+Math.imul(ie,Ke)|0,k=Math.imul(ie,rt),S=S+Math.imul(se,it)|0,C=(C=C+Math.imul(se,Kt)|0)+Math.imul(de,it)|0,k=k+Math.imul(de,Kt)|0,S=S+Math.imul(J,Ct)|0,C=(C=C+Math.imul(J,pn)|0)+Math.imul(re,Ct)|0,k=k+Math.imul(re,pn)|0,S=S+Math.imul(ee,Ut)|0,C=(C=C+Math.imul(ee,lt)|0)+Math.imul(U,Ut)|0,k=k+Math.imul(U,lt)|0;var qn=(z+(S=S+Math.imul(Z,ct)|0)|0)+((8191&(C=(C=C+Math.imul(Z,Bt)|0)+Math.imul(te,ct)|0))<<13)|0;z=((k=k+Math.imul(te,Bt)|0)+(C>>>13)|0)+(qn>>>26)|0,qn&=67108863,S=Math.imul(me,Ke),C=(C=Math.imul(me,rt))+Math.imul(ae,Ke)|0,k=Math.imul(ae,rt),S=S+Math.imul(ve,it)|0,C=(C=C+Math.imul(ve,Kt)|0)+Math.imul(ie,it)|0,k=k+Math.imul(ie,Kt)|0,S=S+Math.imul(se,Ct)|0,C=(C=C+Math.imul(se,pn)|0)+Math.imul(de,Ct)|0,k=k+Math.imul(de,pn)|0,S=S+Math.imul(J,Ut)|0,C=(C=C+Math.imul(J,lt)|0)+Math.imul(re,Ut)|0,k=k+Math.imul(re,lt)|0,S=S+Math.imul(ee,ct)|0,C=(C=C+Math.imul(ee,Bt)|0)+Math.imul(U,ct)|0,k=k+Math.imul(U,Bt)|0;var Hn=(z+(S=S+Math.imul(Z,gt)|0)|0)+((8191&(C=(C=C+Math.imul(Z,Lt)|0)+Math.imul(te,gt)|0))<<13)|0;z=((k=k+Math.imul(te,Lt)|0)+(C>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,S=Math.imul(fe,Ke),C=(C=Math.imul(fe,rt))+Math.imul(xe,Ke)|0,k=Math.imul(xe,rt),S=S+Math.imul(me,it)|0,C=(C=C+Math.imul(me,Kt)|0)+Math.imul(ae,it)|0,k=k+Math.imul(ae,Kt)|0,S=S+Math.imul(ve,Ct)|0,C=(C=C+Math.imul(ve,pn)|0)+Math.imul(ie,Ct)|0,k=k+Math.imul(ie,pn)|0,S=S+Math.imul(se,Ut)|0,C=(C=C+Math.imul(se,lt)|0)+Math.imul(de,Ut)|0,k=k+Math.imul(de,lt)|0,S=S+Math.imul(J,ct)|0,C=(C=C+Math.imul(J,Bt)|0)+Math.imul(re,ct)|0,k=k+Math.imul(re,Bt)|0,S=S+Math.imul(ee,gt)|0,C=(C=C+Math.imul(ee,Lt)|0)+Math.imul(U,gt)|0,k=k+Math.imul(U,Lt)|0;var Jr=(z+(S=S+Math.imul(Z,ht)|0)|0)+((8191&(C=(C=C+Math.imul(Z,ye)|0)+Math.imul(te,ht)|0))<<13)|0;z=((k=k+Math.imul(te,ye)|0)+(C>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,S=Math.imul(_e,Ke),C=(C=Math.imul(_e,rt))+Math.imul(De,Ke)|0,k=Math.imul(De,rt),S=S+Math.imul(fe,it)|0,C=(C=C+Math.imul(fe,Kt)|0)+Math.imul(xe,it)|0,k=k+Math.imul(xe,Kt)|0,S=S+Math.imul(me,Ct)|0,C=(C=C+Math.imul(me,pn)|0)+Math.imul(ae,Ct)|0,k=k+Math.imul(ae,pn)|0,S=S+Math.imul(ve,Ut)|0,C=(C=C+Math.imul(ve,lt)|0)+Math.imul(ie,Ut)|0,k=k+Math.imul(ie,lt)|0,S=S+Math.imul(se,ct)|0,C=(C=C+Math.imul(se,Bt)|0)+Math.imul(de,ct)|0,k=k+Math.imul(de,Bt)|0,S=S+Math.imul(J,gt)|0,C=(C=C+Math.imul(J,Lt)|0)+Math.imul(re,gt)|0,k=k+Math.imul(re,Lt)|0,S=S+Math.imul(ee,ht)|0,C=(C=C+Math.imul(ee,ye)|0)+Math.imul(U,ht)|0,k=k+Math.imul(U,ye)|0;var pe=(z+(S=S+Math.imul(Z,Pe)|0)|0)+((8191&(C=(C=C+Math.imul(Z,st)|0)+Math.imul(te,Pe)|0))<<13)|0;z=((k=k+Math.imul(te,st)|0)+(C>>>13)|0)+(pe>>>26)|0,pe&=67108863,S=Math.imul(Ue,Ke),C=(C=Math.imul(Ue,rt))+Math.imul(Je,Ke)|0,k=Math.imul(Je,rt),S=S+Math.imul(_e,it)|0,C=(C=C+Math.imul(_e,Kt)|0)+Math.imul(De,it)|0,k=k+Math.imul(De,Kt)|0,S=S+Math.imul(fe,Ct)|0,C=(C=C+Math.imul(fe,pn)|0)+Math.imul(xe,Ct)|0,k=k+Math.imul(xe,pn)|0,S=S+Math.imul(me,Ut)|0,C=(C=C+Math.imul(me,lt)|0)+Math.imul(ae,Ut)|0,k=k+Math.imul(ae,lt)|0,S=S+Math.imul(ve,ct)|0,C=(C=C+Math.imul(ve,Bt)|0)+Math.imul(ie,ct)|0,k=k+Math.imul(ie,Bt)|0,S=S+Math.imul(se,gt)|0,C=(C=C+Math.imul(se,Lt)|0)+Math.imul(de,gt)|0,k=k+Math.imul(de,Lt)|0,S=S+Math.imul(J,ht)|0,C=(C=C+Math.imul(J,ye)|0)+Math.imul(re,ht)|0,k=k+Math.imul(re,ye)|0,S=S+Math.imul(ee,Pe)|0,C=(C=C+Math.imul(ee,st)|0)+Math.imul(U,Pe)|0,k=k+Math.imul(U,st)|0;var ke=(z+(S=S+Math.imul(Z,tt)|0)|0)+((8191&(C=(C=C+Math.imul(Z,Ft)|0)+Math.imul(te,tt)|0))<<13)|0;z=((k=k+Math.imul(te,Ft)|0)+(C>>>13)|0)+(ke>>>26)|0,ke&=67108863,S=Math.imul(ft,Ke),C=(C=Math.imul(ft,rt))+Math.imul(yt,Ke)|0,k=Math.imul(yt,rt),S=S+Math.imul(Ue,it)|0,C=(C=C+Math.imul(Ue,Kt)|0)+Math.imul(Je,it)|0,k=k+Math.imul(Je,Kt)|0,S=S+Math.imul(_e,Ct)|0,C=(C=C+Math.imul(_e,pn)|0)+Math.imul(De,Ct)|0,k=k+Math.imul(De,pn)|0,S=S+Math.imul(fe,Ut)|0,C=(C=C+Math.imul(fe,lt)|0)+Math.imul(xe,Ut)|0,k=k+Math.imul(xe,lt)|0,S=S+Math.imul(me,ct)|0,C=(C=C+Math.imul(me,Bt)|0)+Math.imul(ae,ct)|0,k=k+Math.imul(ae,Bt)|0,S=S+Math.imul(ve,gt)|0,C=(C=C+Math.imul(ve,Lt)|0)+Math.imul(ie,gt)|0,k=k+Math.imul(ie,Lt)|0,S=S+Math.imul(se,ht)|0,C=(C=C+Math.imul(se,ye)|0)+Math.imul(de,ht)|0,k=k+Math.imul(de,ye)|0,S=S+Math.imul(J,Pe)|0,C=(C=C+Math.imul(J,st)|0)+Math.imul(re,Pe)|0,k=k+Math.imul(re,st)|0,S=S+Math.imul(ee,tt)|0,C=(C=C+Math.imul(ee,Ft)|0)+Math.imul(U,tt)|0,k=k+Math.imul(U,Ft)|0;var He=(z+(S=S+Math.imul(Z,vt)|0)|0)+((8191&(C=(C=C+Math.imul(Z,$t)|0)+Math.imul(te,vt)|0))<<13)|0;z=((k=k+Math.imul(te,$t)|0)+(C>>>13)|0)+(He>>>26)|0,He&=67108863,S=Math.imul(ft,it),C=(C=Math.imul(ft,Kt))+Math.imul(yt,it)|0,k=Math.imul(yt,Kt),S=S+Math.imul(Ue,Ct)|0,C=(C=C+Math.imul(Ue,pn)|0)+Math.imul(Je,Ct)|0,k=k+Math.imul(Je,pn)|0,S=S+Math.imul(_e,Ut)|0,C=(C=C+Math.imul(_e,lt)|0)+Math.imul(De,Ut)|0,k=k+Math.imul(De,lt)|0,S=S+Math.imul(fe,ct)|0,C=(C=C+Math.imul(fe,Bt)|0)+Math.imul(xe,ct)|0,k=k+Math.imul(xe,Bt)|0,S=S+Math.imul(me,gt)|0,C=(C=C+Math.imul(me,Lt)|0)+Math.imul(ae,gt)|0,k=k+Math.imul(ae,Lt)|0,S=S+Math.imul(ve,ht)|0,C=(C=C+Math.imul(ve,ye)|0)+Math.imul(ie,ht)|0,k=k+Math.imul(ie,ye)|0,S=S+Math.imul(se,Pe)|0,C=(C=C+Math.imul(se,st)|0)+Math.imul(de,Pe)|0,k=k+Math.imul(de,st)|0,S=S+Math.imul(J,tt)|0,C=(C=C+Math.imul(J,Ft)|0)+Math.imul(re,tt)|0,k=k+Math.imul(re,Ft)|0;var Xe=(z+(S=S+Math.imul(ee,vt)|0)|0)+((8191&(C=(C=C+Math.imul(ee,$t)|0)+Math.imul(U,vt)|0))<<13)|0;z=((k=k+Math.imul(U,$t)|0)+(C>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(ft,Ct),C=(C=Math.imul(ft,pn))+Math.imul(yt,Ct)|0,k=Math.imul(yt,pn),S=S+Math.imul(Ue,Ut)|0,C=(C=C+Math.imul(Ue,lt)|0)+Math.imul(Je,Ut)|0,k=k+Math.imul(Je,lt)|0,S=S+Math.imul(_e,ct)|0,C=(C=C+Math.imul(_e,Bt)|0)+Math.imul(De,ct)|0,k=k+Math.imul(De,Bt)|0,S=S+Math.imul(fe,gt)|0,C=(C=C+Math.imul(fe,Lt)|0)+Math.imul(xe,gt)|0,k=k+Math.imul(xe,Lt)|0,S=S+Math.imul(me,ht)|0,C=(C=C+Math.imul(me,ye)|0)+Math.imul(ae,ht)|0,k=k+Math.imul(ae,ye)|0,S=S+Math.imul(ve,Pe)|0,C=(C=C+Math.imul(ve,st)|0)+Math.imul(ie,Pe)|0,k=k+Math.imul(ie,st)|0,S=S+Math.imul(se,tt)|0,C=(C=C+Math.imul(se,Ft)|0)+Math.imul(de,tt)|0,k=k+Math.imul(de,Ft)|0;var xt=(z+(S=S+Math.imul(J,vt)|0)|0)+((8191&(C=(C=C+Math.imul(J,$t)|0)+Math.imul(re,vt)|0))<<13)|0;z=((k=k+Math.imul(re,$t)|0)+(C>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(ft,Ut),C=(C=Math.imul(ft,lt))+Math.imul(yt,Ut)|0,k=Math.imul(yt,lt),S=S+Math.imul(Ue,ct)|0,C=(C=C+Math.imul(Ue,Bt)|0)+Math.imul(Je,ct)|0,k=k+Math.imul(Je,Bt)|0,S=S+Math.imul(_e,gt)|0,C=(C=C+Math.imul(_e,Lt)|0)+Math.imul(De,gt)|0,k=k+Math.imul(De,Lt)|0,S=S+Math.imul(fe,ht)|0,C=(C=C+Math.imul(fe,ye)|0)+Math.imul(xe,ht)|0,k=k+Math.imul(xe,ye)|0,S=S+Math.imul(me,Pe)|0,C=(C=C+Math.imul(me,st)|0)+Math.imul(ae,Pe)|0,k=k+Math.imul(ae,st)|0,S=S+Math.imul(ve,tt)|0,C=(C=C+Math.imul(ve,Ft)|0)+Math.imul(ie,tt)|0,k=k+Math.imul(ie,Ft)|0;var Qe=(z+(S=S+Math.imul(se,vt)|0)|0)+((8191&(C=(C=C+Math.imul(se,$t)|0)+Math.imul(de,vt)|0))<<13)|0;z=((k=k+Math.imul(de,$t)|0)+(C>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,S=Math.imul(ft,ct),C=(C=Math.imul(ft,Bt))+Math.imul(yt,ct)|0,k=Math.imul(yt,Bt),S=S+Math.imul(Ue,gt)|0,C=(C=C+Math.imul(Ue,Lt)|0)+Math.imul(Je,gt)|0,k=k+Math.imul(Je,Lt)|0,S=S+Math.imul(_e,ht)|0,C=(C=C+Math.imul(_e,ye)|0)+Math.imul(De,ht)|0,k=k+Math.imul(De,ye)|0,S=S+Math.imul(fe,Pe)|0,C=(C=C+Math.imul(fe,st)|0)+Math.imul(xe,Pe)|0,k=k+Math.imul(xe,st)|0,S=S+Math.imul(me,tt)|0,C=(C=C+Math.imul(me,Ft)|0)+Math.imul(ae,tt)|0,k=k+Math.imul(ae,Ft)|0;var nt=(z+(S=S+Math.imul(ve,vt)|0)|0)+((8191&(C=(C=C+Math.imul(ve,$t)|0)+Math.imul(ie,vt)|0))<<13)|0;z=((k=k+Math.imul(ie,$t)|0)+(C>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(ft,gt),C=(C=Math.imul(ft,Lt))+Math.imul(yt,gt)|0,k=Math.imul(yt,Lt),S=S+Math.imul(Ue,ht)|0,C=(C=C+Math.imul(Ue,ye)|0)+Math.imul(Je,ht)|0,k=k+Math.imul(Je,ye)|0,S=S+Math.imul(_e,Pe)|0,C=(C=C+Math.imul(_e,st)|0)+Math.imul(De,Pe)|0,k=k+Math.imul(De,st)|0,S=S+Math.imul(fe,tt)|0,C=(C=C+Math.imul(fe,Ft)|0)+Math.imul(xe,tt)|0,k=k+Math.imul(xe,Ft)|0;var mn=(z+(S=S+Math.imul(me,vt)|0)|0)+((8191&(C=(C=C+Math.imul(me,$t)|0)+Math.imul(ae,vt)|0))<<13)|0;z=((k=k+Math.imul(ae,$t)|0)+(C>>>13)|0)+(mn>>>26)|0,mn&=67108863,S=Math.imul(ft,ht),C=(C=Math.imul(ft,ye))+Math.imul(yt,ht)|0,k=Math.imul(yt,ye),S=S+Math.imul(Ue,Pe)|0,C=(C=C+Math.imul(Ue,st)|0)+Math.imul(Je,Pe)|0,k=k+Math.imul(Je,st)|0,S=S+Math.imul(_e,tt)|0,C=(C=C+Math.imul(_e,Ft)|0)+Math.imul(De,tt)|0,k=k+Math.imul(De,Ft)|0;var Wt=(z+(S=S+Math.imul(fe,vt)|0)|0)+((8191&(C=(C=C+Math.imul(fe,$t)|0)+Math.imul(xe,vt)|0))<<13)|0;z=((k=k+Math.imul(xe,$t)|0)+(C>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,S=Math.imul(ft,Pe),C=(C=Math.imul(ft,st))+Math.imul(yt,Pe)|0,k=Math.imul(yt,st),S=S+Math.imul(Ue,tt)|0,C=(C=C+Math.imul(Ue,Ft)|0)+Math.imul(Je,tt)|0,k=k+Math.imul(Je,Ft)|0;var nn=(z+(S=S+Math.imul(_e,vt)|0)|0)+((8191&(C=(C=C+Math.imul(_e,$t)|0)+Math.imul(De,vt)|0))<<13)|0;z=((k=k+Math.imul(De,$t)|0)+(C>>>13)|0)+(nn>>>26)|0,nn&=67108863,S=Math.imul(ft,tt),C=(C=Math.imul(ft,Ft))+Math.imul(yt,tt)|0,k=Math.imul(yt,Ft);var Rt=(z+(S=S+Math.imul(Ue,vt)|0)|0)+((8191&(C=(C=C+Math.imul(Ue,$t)|0)+Math.imul(Je,vt)|0))<<13)|0;z=((k=k+Math.imul(Je,$t)|0)+(C>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Rn=(z+(S=Math.imul(ft,vt))|0)+((8191&(C=(C=Math.imul(ft,$t))+Math.imul(yt,vt)|0))<<13)|0;return z=((k=Math.imul(yt,$t))+(C>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,L[0]=Pt,L[1]=Et,L[2]=Xn,L[3]=On,L[4]=qn,L[5]=Hn,L[6]=Jr,L[7]=pe,L[8]=ke,L[9]=He,L[10]=Xe,L[11]=xt,L[12]=Qe,L[13]=nt,L[14]=mn,L[15]=Wt,L[16]=nn,L[17]=Rt,L[18]=Rn,z!==0&&(L[19]=z,R.length++),R};function j(O,I,R){return new N().mulp(O,I,R)}function N(O,I){this.x=O,this.y=I}Math.imul||(v=w),a.prototype.mulTo=function(O,I){var R=this.length+O.length;return this.length===10&&O.length===10?v(this,O,I):R<63?w(this,O,I):R<1024?(function(S,C,k){k.negative=C.negative^S.negative,k.length=S.length+C.length;for(var E=0,M=0,L=0;L<k.length-1;L++){var z=M;M=0;for(var K=67108863&E,Z=Math.min(L,C.length-1),te=Math.max(0,L-S.length+1);te<=Z;te++){var H=L-te,ee=(0|S.words[H])*(0|C.words[te]),U=67108863&ee;K=67108863&(U=U+K|0),M+=(z=(z=z+(ee/67108864|0)|0)+(U>>>26)|0)>>>26,z&=67108863}k.words[L]=K,E=z,z=M}return E!==0?k.words[L]=E:k.length--,k.strip()})(this,O,I):j(this,O,I)},N.prototype.makeRBT=function(O){for(var I=new Array(O),R=a.prototype._countBits(O)-1,S=0;S<O;S++)I[S]=this.revBin(S,R,O);return I},N.prototype.revBin=function(O,I,R){if(O===0||O===R-1)return O;for(var S=0,C=0;C<I;C++)S|=(1&O)<<I-C-1,O>>=1;return S},N.prototype.permute=function(O,I,R,S,C,k){for(var E=0;E<k;E++)S[E]=I[O[E]],C[E]=R[O[E]]},N.prototype.transform=function(O,I,R,S,C,k){this.permute(k,O,I,R,S,C);for(var E=1;E<C;E<<=1)for(var M=E<<1,L=Math.cos(2*Math.PI/M),z=Math.sin(2*Math.PI/M),K=0;K<C;K+=M)for(var Z=L,te=z,H=0;H<E;H++){var ee=R[K+H],U=S[K+H],F=R[K+H+E],J=S[K+H+E],re=Z*F-te*J;J=Z*J+te*F,F=re,R[K+H]=ee+F,S[K+H]=U+J,R[K+H+E]=ee-F,S[K+H+E]=U-J,H!==M&&(re=L*Z-z*te,te=L*te+z*Z,Z=re)}},N.prototype.guessLen13b=function(O,I){var R=1|Math.max(I,O),S=1&R,C=0;for(R=R/2|0;R;R>>>=1)C++;return 1<<C+1+S},N.prototype.conjugate=function(O,I,R){if(!(R<=1))for(var S=0;S<R/2;S++){var C=O[S];O[S]=O[R-S-1],O[R-S-1]=C,C=I[S],I[S]=-I[R-S-1],I[R-S-1]=-C}},N.prototype.normalize13b=function(O,I){for(var R=0,S=0;S<I/2;S++){var C=8192*Math.round(O[2*S+1]/I)+Math.round(O[2*S]/I)+R;O[S]=67108863&C,R=C<67108864?0:C/67108864|0}return O},N.prototype.convert13b=function(O,I,R,S){for(var C=0,k=0;k<I;k++)C+=0|O[k],R[2*k]=8191&C,C>>>=13,R[2*k+1]=8191&C,C>>>=13;for(k=2*I;k<S;++k)R[k]=0;d(C===0),d((-8192&C)==0)},N.prototype.stub=function(O){for(var I=new Array(O),R=0;R<O;R++)I[R]=0;return I},N.prototype.mulp=function(O,I,R){var S=2*this.guessLen13b(O.length,I.length),C=this.makeRBT(S),k=this.stub(S),E=new Array(S),M=new Array(S),L=new Array(S),z=new Array(S),K=new Array(S),Z=new Array(S),te=R.words;te.length=S,this.convert13b(O.words,O.length,E,S),this.convert13b(I.words,I.length,z,S),this.transform(E,k,M,L,S,C),this.transform(z,k,K,Z,S,C);for(var H=0;H<S;H++){var ee=M[H]*K[H]-L[H]*Z[H];L[H]=M[H]*Z[H]+L[H]*K[H],M[H]=ee}return this.conjugate(M,L,S),this.transform(M,L,te,k,S,C),this.conjugate(te,k,S),this.normalize13b(te,S),R.negative=O.negative^I.negative,R.length=O.length+I.length,R.strip()},a.prototype.mul=function(O){var I=new a(null);return I.words=new Array(this.length+O.length),this.mulTo(O,I)},a.prototype.mulf=function(O){var I=new a(null);return I.words=new Array(this.length+O.length),j(this,O,I)},a.prototype.imul=function(O){return this.clone().mulTo(O,this)},a.prototype.imuln=function(O){d(typeof O=="number"),d(O<67108864);for(var I=0,R=0;R<this.length;R++){var S=(0|this.words[R])*O,C=(67108863&S)+(67108863&I);I>>=26,I+=S/67108864|0,I+=C>>>26,this.words[R]=67108863&C}return I!==0&&(this.words[R]=I,this.length++),this},a.prototype.muln=function(O){return this.clone().imuln(O)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(O){var I=(function(k){for(var E=new Array(k.bitLength()),M=0;M<E.length;M++){var L=M/26|0,z=M%26;E[M]=(k.words[L]&1<<z)>>>z}return E})(O);if(I.length===0)return new a(1);for(var R=this,S=0;S<I.length&&I[S]===0;S++,R=R.sqr());if(++S<I.length)for(var C=R.sqr();S<I.length;S++,C=C.sqr())I[S]!==0&&(R=R.mul(C));return R},a.prototype.iushln=function(O){d(typeof O=="number"&&O>=0);var I,R=O%26,S=(O-R)/26,C=67108863>>>26-R<<26-R;if(R!==0){var k=0;for(I=0;I<this.length;I++){var E=this.words[I]&C,M=(0|this.words[I])-E<<R;this.words[I]=M|k,k=E>>>26-R}k&&(this.words[I]=k,this.length++)}if(S!==0){for(I=this.length-1;I>=0;I--)this.words[I+S]=this.words[I];for(I=0;I<S;I++)this.words[I]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(O){return d(this.negative===0),this.iushln(O)},a.prototype.iushrn=function(O,I,R){var S;d(typeof O=="number"&&O>=0),S=I?(I-I%26)/26:0;var C=O%26,k=Math.min((O-C)/26,this.length),E=67108863^67108863>>>C<<C,M=R;if(S-=k,S=Math.max(0,S),M){for(var L=0;L<k;L++)M.words[L]=this.words[L];M.length=k}if(k!==0)if(this.length>k)for(this.length-=k,L=0;L<this.length;L++)this.words[L]=this.words[L+k];else this.words[0]=0,this.length=1;var z=0;for(L=this.length-1;L>=0&&(z!==0||L>=S);L--){var K=0|this.words[L];this.words[L]=z<<26-C|K>>>C,z=K&E}return M&&z!==0&&(M.words[M.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(O,I,R){return d(this.negative===0),this.iushrn(O,I,R)},a.prototype.shln=function(O){return this.clone().ishln(O)},a.prototype.ushln=function(O){return this.clone().iushln(O)},a.prototype.shrn=function(O){return this.clone().ishrn(O)},a.prototype.ushrn=function(O){return this.clone().iushrn(O)},a.prototype.testn=function(O){d(typeof O=="number"&&O>=0);var I=O%26,R=(O-I)/26,S=1<<I;return!(this.length<=R)&&!!(this.words[R]&S)},a.prototype.imaskn=function(O){d(typeof O=="number"&&O>=0);var I=O%26,R=(O-I)/26;if(d(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(I!==0&&R++,this.length=Math.min(R,this.length),I!==0){var S=67108863^67108863>>>I<<I;this.words[this.length-1]&=S}return this.strip()},a.prototype.maskn=function(O){return this.clone().imaskn(O)},a.prototype.iaddn=function(O){return d(typeof O=="number"),d(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(0|this.words[0])<O?(this.words[0]=O-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},a.prototype._iaddn=function(O){this.words[0]+=O;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},a.prototype.isubn=function(O){if(d(typeof O=="number"),d(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},a.prototype.addn=function(O){return this.clone().iaddn(O)},a.prototype.subn=function(O){return this.clone().isubn(O)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(O,I,R){var S,C,k=O.length+R;this._expand(k);var E=0;for(S=0;S<O.length;S++){C=(0|this.words[S+R])+E;var M=(0|O.words[S])*I;E=((C-=67108863&M)>>26)-(M/67108864|0),this.words[S+R]=67108863&C}for(;S<this.length-R;S++)E=(C=(0|this.words[S+R])+E)>>26,this.words[S+R]=67108863&C;if(E===0)return this.strip();for(d(E===-1),E=0,S=0;S<this.length;S++)E=(C=-(0|this.words[S])+E)>>26,this.words[S]=67108863&C;return this.negative=1,this.strip()},a.prototype._wordDiv=function(O,I){var R=(this.length,O.length),S=this.clone(),C=O,k=0|C.words[C.length-1];(R=26-this._countBits(k))!==0&&(C=C.ushln(R),S.iushln(R),k=0|C.words[C.length-1]);var E,M=S.length-C.length;if(I!=="mod"){(E=new a(null)).length=M+1,E.words=new Array(E.length);for(var L=0;L<E.length;L++)E.words[L]=0}var z=S.clone()._ishlnsubmul(C,1,M);z.negative===0&&(S=z,E&&(E.words[M]=1));for(var K=M-1;K>=0;K--){var Z=67108864*(0|S.words[C.length+K])+(0|S.words[C.length+K-1]);for(Z=Math.min(Z/k|0,67108863),S._ishlnsubmul(C,Z,K);S.negative!==0;)Z--,S.negative=0,S._ishlnsubmul(C,1,K),S.isZero()||(S.negative^=1);E&&(E.words[K]=Z)}return E&&E.strip(),S.strip(),I!=="div"&&R!==0&&S.iushrn(R),{div:E||null,mod:S}},a.prototype.divmod=function(O,I,R){return d(!O.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&O.negative===0?(k=this.neg().divmod(O,I),I!=="mod"&&(S=k.div.neg()),I!=="div"&&(C=k.mod.neg(),R&&C.negative!==0&&C.iadd(O)),{div:S,mod:C}):this.negative===0&&O.negative!==0?(k=this.divmod(O.neg(),I),I!=="mod"&&(S=k.div.neg()),{div:S,mod:k.mod}):(this.negative&O.negative)!=0?(k=this.neg().divmod(O.neg(),I),I!=="div"&&(C=k.mod.neg(),R&&C.negative!==0&&C.isub(O)),{div:k.div,mod:C}):O.length>this.length||this.cmp(O)<0?{div:new a(0),mod:this}:O.length===1?I==="div"?{div:this.divn(O.words[0]),mod:null}:I==="mod"?{div:null,mod:new a(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new a(this.modn(O.words[0]))}:this._wordDiv(O,I);var S,C,k},a.prototype.div=function(O){return this.divmod(O,"div",!1).div},a.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},a.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},a.prototype.divRound=function(O){var I=this.divmod(O);if(I.mod.isZero())return I.div;var R=I.div.negative!==0?I.mod.isub(O):I.mod,S=O.ushrn(1),C=O.andln(1),k=R.cmp(S);return k<0||C===1&&k===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},a.prototype.modn=function(O){d(O<=67108863);for(var I=(1<<26)%O,R=0,S=this.length-1;S>=0;S--)R=(I*R+(0|this.words[S]))%O;return R},a.prototype.idivn=function(O){d(O<=67108863);for(var I=0,R=this.length-1;R>=0;R--){var S=(0|this.words[R])+67108864*I;this.words[R]=S/O|0,I=S%O}return this.strip()},a.prototype.divn=function(O){return this.clone().idivn(O)},a.prototype.egcd=function(O){d(O.negative===0),d(!O.isZero());var I=this,R=O.clone();I=I.negative!==0?I.umod(O):I.clone();for(var S=new a(1),C=new a(0),k=new a(0),E=new a(1),M=0;I.isEven()&&R.isEven();)I.iushrn(1),R.iushrn(1),++M;for(var L=R.clone(),z=I.clone();!I.isZero();){for(var K=0,Z=1;(I.words[0]&Z)==0&&K<26;++K,Z<<=1);if(K>0)for(I.iushrn(K);K-- >0;)(S.isOdd()||C.isOdd())&&(S.iadd(L),C.isub(z)),S.iushrn(1),C.iushrn(1);for(var te=0,H=1;(R.words[0]&H)==0&&te<26;++te,H<<=1);if(te>0)for(R.iushrn(te);te-- >0;)(k.isOdd()||E.isOdd())&&(k.iadd(L),E.isub(z)),k.iushrn(1),E.iushrn(1);I.cmp(R)>=0?(I.isub(R),S.isub(k),C.isub(E)):(R.isub(I),k.isub(S),E.isub(C))}return{a:k,b:E,gcd:R.iushln(M)}},a.prototype._invmp=function(O){d(O.negative===0),d(!O.isZero());var I=this,R=O.clone();I=I.negative!==0?I.umod(O):I.clone();for(var S,C=new a(1),k=new a(0),E=R.clone();I.cmpn(1)>0&&R.cmpn(1)>0;){for(var M=0,L=1;(I.words[0]&L)==0&&M<26;++M,L<<=1);if(M>0)for(I.iushrn(M);M-- >0;)C.isOdd()&&C.iadd(E),C.iushrn(1);for(var z=0,K=1;(R.words[0]&K)==0&&z<26;++z,K<<=1);if(z>0)for(R.iushrn(z);z-- >0;)k.isOdd()&&k.iadd(E),k.iushrn(1);I.cmp(R)>=0?(I.isub(R),C.isub(k)):(R.isub(I),k.isub(C))}return(S=I.cmpn(1)===0?C:k).cmpn(0)<0&&S.iadd(O),S},a.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var I=this.clone(),R=O.clone();I.negative=0,R.negative=0;for(var S=0;I.isEven()&&R.isEven();S++)I.iushrn(1),R.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;R.isEven();)R.iushrn(1);var C=I.cmp(R);if(C<0){var k=I;I=R,R=k}else if(C===0||R.cmpn(1)===0)break;I.isub(R)}return R.iushln(S)},a.prototype.invm=function(O){return this.egcd(O).a.umod(O)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(O){return this.words[0]&O},a.prototype.bincn=function(O){d(typeof O=="number");var I=O%26,R=(O-I)/26,S=1<<I;if(this.length<=R)return this._expand(R+1),this.words[R]|=S,this;for(var C=S,k=R;C!==0&&k<this.length;k++){var E=0|this.words[k];C=(E+=C)>>>26,E&=67108863,this.words[k]=E}return C!==0&&(this.words[k]=C,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(O){var I,R=O<0;if(this.negative!==0&&!R)return-1;if(this.negative===0&&R)return 1;if(this.strip(),this.length>1)I=1;else{R&&(O=-O),d(O<=67108863,"Number is too big");var S=0|this.words[0];I=S===O?0:S<O?-1:1}return this.negative!==0?0|-I:I},a.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var I=this.ucmp(O);return this.negative!==0?0|-I:I},a.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var I=0,R=this.length-1;R>=0;R--){var S=0|this.words[R],C=0|O.words[R];if(S!==C){S<C?I=-1:S>C&&(I=1);break}}return I},a.prototype.gtn=function(O){return this.cmpn(O)===1},a.prototype.gt=function(O){return this.cmp(O)===1},a.prototype.gten=function(O){return this.cmpn(O)>=0},a.prototype.gte=function(O){return this.cmp(O)>=0},a.prototype.ltn=function(O){return this.cmpn(O)===-1},a.prototype.lt=function(O){return this.cmp(O)===-1},a.prototype.lten=function(O){return this.cmpn(O)<=0},a.prototype.lte=function(O){return this.cmp(O)<=0},a.prototype.eqn=function(O){return this.cmpn(O)===0},a.prototype.eq=function(O){return this.cmp(O)===0},a.red=function(O){return new Y(O)},a.prototype.toRed=function(O){return d(!this.red,"Already a number in reduction context"),d(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},a.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(O){return this.red=O,this},a.prototype.forceRed=function(O){return d(!this.red,"Already a number in reduction context"),this._forceRed(O)},a.prototype.redAdd=function(O){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},a.prototype.redIAdd=function(O){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},a.prototype.redSub=function(O){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},a.prototype.redISub=function(O){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},a.prototype.redShl=function(O){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},a.prototype.redMul=function(O){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},a.prototype.redIMul=function(O){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},a.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(O){return d(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var T={k256:null,p224:null,p192:null,p25519:null};function D(O,I){this.name=O,this.p=new a(I,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function G(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Y(O){if(typeof O=="string"){var I=a._prime(O);this.m=I.p,this.prime=I}else d(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}function W(O){Y.call(this,O),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var O=new a(null);return O.words=new Array(Math.ceil(this.n/13)),O},D.prototype.ireduce=function(O){var I,R=O;do this.split(R,this.tmp),I=(R=(R=this.imulK(R)).iadd(this.tmp)).bitLength();while(I>this.n);var S=I<this.n?-1:R.ucmp(this.p);return S===0?(R.words[0]=0,R.length=1):S>0?R.isub(this.p):R.strip!==void 0?R.strip():R._strip(),R},D.prototype.split=function(O,I){O.iushrn(this.n,0,I)},D.prototype.imulK=function(O){return O.imul(this.k)},c(V,D),V.prototype.split=function(O,I){for(var R=Math.min(O.length,9),S=0;S<R;S++)I.words[S]=O.words[S];if(I.length=R,O.length<=9)return O.words[0]=0,void(O.length=1);var C=O.words[9];for(I.words[I.length++]=4194303&C,S=10;S<O.length;S++){var k=0|O.words[S];O.words[S-10]=(4194303&k)<<4|C>>>22,C=k}C>>>=22,O.words[S-10]=C,C===0&&O.length>10?O.length-=10:O.length-=9},V.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var I=0,R=0;R<O.length;R++){var S=0|O.words[R];I+=977*S,O.words[R]=67108863&I,I=64*S+(I/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O},c(P,D),c($,D),c(G,D),G.prototype.imulK=function(O){for(var I=0,R=0;R<O.length;R++){var S=19*(0|O.words[R])+I,C=67108863&S;S>>>=26,O.words[R]=C,I=S}return I!==0&&(O.words[O.length++]=I),O},a._prime=function(O){if(T[O])return T[O];var I;if(O==="k256")I=new V;else if(O==="p224")I=new P;else if(O==="p192")I=new $;else{if(O!=="p25519")throw new Error("Unknown prime "+O);I=new G}return T[O]=I,I},Y.prototype._verify1=function(O){d(O.negative===0,"red works only with positives"),d(O.red,"red works only with red numbers")},Y.prototype._verify2=function(O,I){d((O.negative|I.negative)==0,"red works only with positives"),d(O.red&&O.red===I.red,"red works only with red numbers")},Y.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},Y.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},Y.prototype.add=function(O,I){this._verify2(O,I);var R=O.add(I);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},Y.prototype.iadd=function(O,I){this._verify2(O,I);var R=O.iadd(I);return R.cmp(this.m)>=0&&R.isub(this.m),R},Y.prototype.sub=function(O,I){this._verify2(O,I);var R=O.sub(I);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},Y.prototype.isub=function(O,I){this._verify2(O,I);var R=O.isub(I);return R.cmpn(0)<0&&R.iadd(this.m),R},Y.prototype.shl=function(O,I){return this._verify1(O),this.imod(O.ushln(I))},Y.prototype.imul=function(O,I){return this._verify2(O,I),this.imod(O.imul(I))},Y.prototype.mul=function(O,I){return this._verify2(O,I),this.imod(O.mul(I))},Y.prototype.isqr=function(O){return this.imul(O,O.clone())},Y.prototype.sqr=function(O){return this.mul(O,O)},Y.prototype.sqrt=function(O){if(O.isZero())return O.clone();var I=this.m.andln(3);if(d(I%2==1),I===3){var R=this.m.add(new a(1)).iushrn(2);return this.pow(O,R)}for(var S=this.m.subn(1),C=0;!S.isZero()&&S.andln(1)===0;)C++,S.iushrn(1);d(!S.isZero());var k=new a(1).toRed(this),E=k.redNeg(),M=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new a(2*L*L).toRed(this);this.pow(L,M).cmp(E)!==0;)L.redIAdd(E);for(var z=this.pow(L,S),K=this.pow(O,S.addn(1).iushrn(1)),Z=this.pow(O,S),te=C;Z.cmp(k)!==0;){for(var H=Z,ee=0;H.cmp(k)!==0;ee++)H=H.redSqr();d(ee<te);var U=this.pow(z,new a(1).iushln(te-ee-1));K=K.redMul(U),z=U.redSqr(),Z=Z.redMul(z),te=ee}return K},Y.prototype.invm=function(O){var I=O._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},Y.prototype.pow=function(O,I){if(I.isZero())return new a(1).toRed(this);if(I.cmpn(1)===0)return O.clone();var R=new Array(16);R[0]=new a(1).toRed(this),R[1]=O;for(var S=2;S<R.length;S++)R[S]=this.mul(R[S-1],O);var C=R[0],k=0,E=0,M=I.bitLength()%26;for(M===0&&(M=26),S=I.length-1;S>=0;S--){for(var L=I.words[S],z=M-1;z>=0;z--){var K=L>>z&1;C!==R[0]&&(C=this.sqr(C)),K!==0||k!==0?(k<<=1,k|=K,(++E===4||S===0&&z===0)&&(C=this.mul(C,R[k]),E=0,k=0)):E=0}M=26}return C},Y.prototype.convertTo=function(O){var I=O.umod(this.m);return I===O?I.clone():I},Y.prototype.convertFrom=function(O){var I=O.clone();return I.red=null,I},a.mont=function(O){return new W(O)},c(W,Y),W.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},W.prototype.convertFrom=function(O){var I=this.imod(O.mul(this.rinv));return I.red=null,I},W.prototype.imul=function(O,I){if(O.isZero()||I.isZero())return O.words[0]=0,O.length=1,O;var R=O.imul(I),S=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=R.isub(S).iushrn(this.shift),k=C;return C.cmp(this.m)>=0?k=C.isub(this.m):C.cmpn(0)<0&&(k=C.iadd(this.m)),k._forceRed(this)},W.prototype.mul=function(O,I){if(O.isZero()||I.isZero())return new a(0)._forceRed(this);var R=O.mul(I),S=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=R.isub(S).iushrn(this.shift),k=C;return C.cmp(this.m)>=0?k=C.isub(this.m):C.cmpn(0)<0&&(k=C.iadd(this.m)),k._forceRed(this)},W.prototype.invm=function(O){return this.imod(O._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],185:[function(e,s,l){l.byteLength=function(p){var y=m(p),x=y[0],g=y[1];return 3*(x+g)/4-g},l.toByteArray=function(p){var y,x,g=m(p),w=g[0],v=g[1],j=new d((function(D,V,P){return 3*(V+P)/4-P})(0,w,v)),N=0,T=v>0?w-4:w;for(x=0;x<T;x+=4)y=i[p.charCodeAt(x)]<<18|i[p.charCodeAt(x+1)]<<12|i[p.charCodeAt(x+2)]<<6|i[p.charCodeAt(x+3)],j[N++]=y>>16&255,j[N++]=y>>8&255,j[N++]=255&y;return v===2&&(y=i[p.charCodeAt(x)]<<2|i[p.charCodeAt(x+1)]>>4,j[N++]=255&y),v===1&&(y=i[p.charCodeAt(x)]<<10|i[p.charCodeAt(x+1)]<<4|i[p.charCodeAt(x+2)]>>2,j[N++]=y>>8&255,j[N++]=255&y),j},l.fromByteArray=function(p){for(var y,x=p.length,g=x%3,w=[],v=0,j=x-g;v<j;v+=16383)w.push(h(p,v,v+16383>j?j:v+16383));return g===1?(y=p[x-1],w.push(o[y>>2]+o[y<<4&63]+"==")):g===2&&(y=(p[x-2]<<8)+p[x-1],w.push(o[y>>10]+o[y>>4&63]+o[y<<2&63]+"=")),w.join("")};for(var o=[],i=[],d=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=c.length;a<u;++a)o[a]=c[a],i[c.charCodeAt(a)]=a;function m(p){var y=p.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=p.indexOf("=");return x===-1&&(x=y),[x,x===y?0:4-x%4]}function h(p,y,x){for(var g,w,v=[],j=y;j<x;j+=3)g=(p[j]<<16&16711680)+(p[j+1]<<8&65280)+(255&p[j+2]),v.push(o[(w=g)>>18&63]+o[w>>12&63]+o[w>>6&63]+o[63&w]);return v.join("")}i[45]=62,i[95]=63},{}],186:[function(e,s,l){(function(o,i){function d(R,S){if(!R)throw new Error(S||"Assertion failed")}function c(R,S){R.super_=S;var C=function(){};C.prototype=S.prototype,R.prototype=new C,R.prototype.constructor=R}function a(R,S,C){if(a.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&(S!=="le"&&S!=="be"||(C=S,S=10),this._init(R||0,S||10,C||"be"))}var u;typeof o=="object"?o.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function m(R,S){var C=R.charCodeAt(S);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void d(!1,"Invalid character in "+R)}function h(R,S,C){var k=m(R,C);return C-1>=S&&(k|=m(R,C-1)<<4),k}function p(R,S,C,k){for(var E=0,M=0,L=Math.min(R.length,C),z=S;z<L;z++){var K=R.charCodeAt(z)-48;E*=k,M=K>=49?K-49+10:K>=17?K-17+10:K,d(K>=0&&M<k,"Invalid character"),E+=M}return E}function y(R,S){R.words=S.words,R.length=S.length,R.negative=S.negative,R.red=S.red}if(a.isBN=function(R){return R instanceof a||R!==null&&typeof R=="object"&&R.constructor.wordSize===a.wordSize&&Array.isArray(R.words)},a.max=function(R,S){return R.cmp(S)>0?R:S},a.min=function(R,S){return R.cmp(S)<0?R:S},a.prototype._init=function(R,S,C){if(typeof R=="number")return this._initNumber(R,S,C);if(typeof R=="object")return this._initArray(R,S,C);S==="hex"&&(S=16),d(S===(0|S)&&S>=2&&S<=36);var k=0;(R=R.toString().replace(/\s+/g,""))[0]==="-"&&(k++,this.negative=1),k<R.length&&(S===16?this._parseHex(R,k,C):(this._parseBase(R,S,k),C==="le"&&this._initArray(this.toArray(),S,C)))},a.prototype._initNumber=function(R,S,C){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[67108863&R],this.length=1):R<4503599627370496?(this.words=[67108863&R,R/67108864&67108863],this.length=2):(d(R<9007199254740992),this.words=[67108863&R,R/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),S,C)},a.prototype._initArray=function(R,S,C){if(d(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var E,M,L=0;if(C==="be")for(k=R.length-1,E=0;k>=0;k-=3)M=R[k]|R[k-1]<<8|R[k-2]<<16,this.words[E]|=M<<L&67108863,this.words[E+1]=M>>>26-L&67108863,(L+=24)>=26&&(L-=26,E++);else if(C==="le")for(k=0,E=0;k<R.length;k+=3)M=R[k]|R[k+1]<<8|R[k+2]<<16,this.words[E]|=M<<L&67108863,this.words[E+1]=M>>>26-L&67108863,(L+=24)>=26&&(L-=26,E++);return this._strip()},a.prototype._parseHex=function(R,S,C){this.length=Math.ceil((R.length-S)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var E,M=0,L=0;if(C==="be")for(k=R.length-1;k>=S;k-=2)E=h(R,S,k)<<M,this.words[L]|=67108863&E,M>=18?(M-=18,L+=1,this.words[L]|=E>>>26):M+=8;else for(k=(R.length-S)%2==0?S+1:S;k<R.length;k+=2)E=h(R,S,k)<<M,this.words[L]|=67108863&E,M>=18?(M-=18,L+=1,this.words[L]|=E>>>26):M+=8;this._strip()},a.prototype._parseBase=function(R,S,C){this.words=[0],this.length=1;for(var k=0,E=1;E<=67108863;E*=S)k++;k--,E=E/S|0;for(var M=R.length-C,L=M%k,z=Math.min(M,M-L)+C,K=0,Z=C;Z<z;Z+=k)K=p(R,Z,Z+k,S),this.imuln(E),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(L!==0){var te=1;for(K=p(R,Z,R.length,S),Z=0;Z<L;Z++)te*=S;this.imuln(te),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},a.prototype.copy=function(R){R.words=new Array(this.length);for(var S=0;S<this.length;S++)R.words[S]=this.words[S];R.length=this.length,R.negative=this.negative,R.red=this.red},a.prototype._move=function(R){y(R,this)},a.prototype.clone=function(){var R=new a(null);return this.copy(R),R},a.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{a.prototype.inspect=x}else a.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(R,S){var C;if(S=0|S||1,(R=R||10)===16||R==="hex"){C="";for(var k=0,E=0,M=0;M<this.length;M++){var L=this.words[M],z=(16777215&(L<<k|E)).toString(16);E=L>>>24-k&16777215,(k+=2)>=26&&(k-=26,M--),C=E!==0||M!==this.length-1?g[6-z.length]+z+C:z+C}for(E!==0&&(C=E.toString(16)+C);C.length%S!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(R===(0|R)&&R>=2&&R<=36){var K=w[R],Z=v[R];C="";var te=this.clone();for(te.negative=0;!te.isZero();){var H=te.modrn(Z).toString(R);C=(te=te.idivn(Z)).isZero()?H+C:g[K-H.length]+H+C}for(this.isZero()&&(C="0"+C);C.length%S!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}d(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=67108864*this.words[1]:this.length===3&&this.words[2]===1?R+=4503599627370496+67108864*this.words[1]:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},a.prototype.toJSON=function(){return this.toString(16,2)},u&&(a.prototype.toBuffer=function(R,S){return this.toArrayLike(u,R,S)}),a.prototype.toArray=function(R,S){return this.toArrayLike(Array,R,S)};function j(R,S,C){C.negative=S.negative^R.negative;var k=R.length+S.length|0;C.length=k,k=k-1|0;var E=0|R.words[0],M=0|S.words[0],L=E*M,z=67108863&L,K=L/67108864|0;C.words[0]=z;for(var Z=1;Z<k;Z++){for(var te=K>>>26,H=67108863&K,ee=Math.min(Z,S.length-1),U=Math.max(0,Z-R.length+1);U<=ee;U++){var F=Z-U|0;te+=(L=(E=0|R.words[F])*(M=0|S.words[U])+H)/67108864|0,H=67108863&L}C.words[Z]=0|H,K=0|te}return K!==0?C.words[Z]=0|K:C.length--,C._strip()}a.prototype.toArrayLike=function(R,S,C){this._strip();var k=this.byteLength(),E=C||Math.max(1,k);d(k<=E,"byte array longer than desired length"),d(E>0,"Requested array length <= 0");var M=(function(L,z){return L.allocUnsafe?L.allocUnsafe(z):new L(z)})(R,E);return this["_toArrayLike"+(S==="le"?"LE":"BE")](M,k),M},a.prototype._toArrayLikeLE=function(R,S){for(var C=0,k=0,E=0,M=0;E<this.length;E++){var L=this.words[E]<<M|k;R[C++]=255&L,C<R.length&&(R[C++]=L>>8&255),C<R.length&&(R[C++]=L>>16&255),M===6?(C<R.length&&(R[C++]=L>>24&255),k=0,M=0):(k=L>>>24,M+=2)}if(C<R.length)for(R[C++]=k;C<R.length;)R[C++]=0},a.prototype._toArrayLikeBE=function(R,S){for(var C=R.length-1,k=0,E=0,M=0;E<this.length;E++){var L=this.words[E]<<M|k;R[C--]=255&L,C>=0&&(R[C--]=L>>8&255),C>=0&&(R[C--]=L>>16&255),M===6?(C>=0&&(R[C--]=L>>24&255),k=0,M=0):(k=L>>>24,M+=2)}if(C>=0)for(R[C--]=k;C>=0;)R[C--]=0},Math.clz32?a.prototype._countBits=function(R){return 32-Math.clz32(R)}:a.prototype._countBits=function(R){var S=R,C=0;return S>=4096&&(C+=13,S>>>=13),S>=64&&(C+=7,S>>>=7),S>=8&&(C+=4,S>>>=4),S>=2&&(C+=2,S>>>=2),C+S},a.prototype._zeroBits=function(R){if(R===0)return 26;var S=R,C=0;return(8191&S)==0&&(C+=13,S>>>=13),(127&S)==0&&(C+=7,S>>>=7),(15&S)==0&&(C+=4,S>>>=4),(3&S)==0&&(C+=2,S>>>=2),(1&S)==0&&C++,C},a.prototype.bitLength=function(){var R=this.words[this.length-1],S=this._countBits(R);return 26*(this.length-1)+S},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,S=0;S<this.length;S++){var C=this._zeroBits(this.words[S]);if(R+=C,C!==26)break}return R},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},a.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var S=0;S<R.length;S++)this.words[S]=this.words[S]|R.words[S];return this._strip()},a.prototype.ior=function(R){return d((this.negative|R.negative)==0),this.iuor(R)},a.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},a.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},a.prototype.iuand=function(R){var S;S=this.length>R.length?R:this;for(var C=0;C<S.length;C++)this.words[C]=this.words[C]&R.words[C];return this.length=S.length,this._strip()},a.prototype.iand=function(R){return d((this.negative|R.negative)==0),this.iuand(R)},a.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},a.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},a.prototype.iuxor=function(R){var S,C;this.length>R.length?(S=this,C=R):(S=R,C=this);for(var k=0;k<C.length;k++)this.words[k]=S.words[k]^C.words[k];if(this!==S)for(;k<S.length;k++)this.words[k]=S.words[k];return this.length=S.length,this._strip()},a.prototype.ixor=function(R){return d((this.negative|R.negative)==0),this.iuxor(R)},a.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},a.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},a.prototype.inotn=function(R){d(typeof R=="number"&&R>=0);var S=0|Math.ceil(R/26),C=R%26;this._expand(S),C>0&&S--;for(var k=0;k<S;k++)this.words[k]=67108863&~this.words[k];return C>0&&(this.words[k]=~this.words[k]&67108863>>26-C),this._strip()},a.prototype.notn=function(R){return this.clone().inotn(R)},a.prototype.setn=function(R,S){d(typeof R=="number"&&R>=0);var C=R/26|0,k=R%26;return this._expand(C+1),this.words[C]=S?this.words[C]|1<<k:this.words[C]&~(1<<k),this._strip()},a.prototype.iadd=function(R){var S,C,k;if(this.negative!==0&&R.negative===0)return this.negative=0,S=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,S=this.isub(R),R.negative=1,S._normSign();this.length>R.length?(C=this,k=R):(C=R,k=this);for(var E=0,M=0;M<k.length;M++)S=(0|C.words[M])+(0|k.words[M])+E,this.words[M]=67108863&S,E=S>>>26;for(;E!==0&&M<C.length;M++)S=(0|C.words[M])+E,this.words[M]=67108863&S,E=S>>>26;if(this.length=C.length,E!==0)this.words[this.length]=E,this.length++;else if(C!==this)for(;M<C.length;M++)this.words[M]=C.words[M];return this},a.prototype.add=function(R){var S;return R.negative!==0&&this.negative===0?(R.negative=0,S=this.sub(R),R.negative^=1,S):R.negative===0&&this.negative!==0?(this.negative=0,S=R.sub(this),this.negative=1,S):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},a.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var S=this.iadd(R);return R.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var C,k,E=this.cmp(R);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(C=this,k=R):(C=R,k=this);for(var M=0,L=0;L<k.length;L++)M=(S=(0|C.words[L])-(0|k.words[L])+M)>>26,this.words[L]=67108863&S;for(;M!==0&&L<C.length;L++)M=(S=(0|C.words[L])+M)>>26,this.words[L]=67108863&S;if(M===0&&L<C.length&&C!==this)for(;L<C.length;L++)this.words[L]=C.words[L];return this.length=Math.max(this.length,L),C!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(R){return this.clone().isub(R)};var N=function(R,S,C){var k,E,M,L=R.words,z=S.words,K=C.words,Z=0,te=0|L[0],H=8191&te,ee=te>>>13,U=0|L[1],F=8191&U,J=U>>>13,re=0|L[2],ce=8191&re,se=re>>>13,de=0|L[3],we=8191&de,ve=de>>>13,ie=0|L[4],ge=8191&ie,me=ie>>>13,ae=0|L[5],le=8191&ae,fe=ae>>>13,xe=0|L[6],je=8191&xe,_e=xe>>>13,De=0|L[7],Fe=8191&De,Ue=De>>>13,Je=0|L[8],dt=8191&Je,ft=Je>>>13,yt=0|L[9],et=8191&yt,Ke=yt>>>13,rt=0|z[0],pt=8191&rt,it=rt>>>13,Kt=0|z[1],rn=8191&Kt,Ct=Kt>>>13,pn=0|z[2],Xt=8191&pn,Ut=pn>>>13,lt=0|z[3],It=8191&lt,ct=lt>>>13,Bt=0|z[4],jn=8191&Bt,gt=Bt>>>13,Lt=0|z[5],zt=8191&Lt,ht=Lt>>>13,ye=0|z[6],Ne=8191&ye,Pe=ye>>>13,st=0|z[7],Ot=8191&st,tt=st>>>13,Ft=0|z[8],Nt=8191&Ft,vt=Ft>>>13,$t=0|z[9],Pt=8191&$t,Et=$t>>>13;C.negative=R.negative^S.negative,C.length=19;var Xn=(Z+(k=Math.imul(H,pt))|0)+((8191&(E=(E=Math.imul(H,it))+Math.imul(ee,pt)|0))<<13)|0;Z=((M=Math.imul(ee,it))+(E>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,k=Math.imul(F,pt),E=(E=Math.imul(F,it))+Math.imul(J,pt)|0,M=Math.imul(J,it);var On=(Z+(k=k+Math.imul(H,rn)|0)|0)+((8191&(E=(E=E+Math.imul(H,Ct)|0)+Math.imul(ee,rn)|0))<<13)|0;Z=((M=M+Math.imul(ee,Ct)|0)+(E>>>13)|0)+(On>>>26)|0,On&=67108863,k=Math.imul(ce,pt),E=(E=Math.imul(ce,it))+Math.imul(se,pt)|0,M=Math.imul(se,it),k=k+Math.imul(F,rn)|0,E=(E=E+Math.imul(F,Ct)|0)+Math.imul(J,rn)|0,M=M+Math.imul(J,Ct)|0;var qn=(Z+(k=k+Math.imul(H,Xt)|0)|0)+((8191&(E=(E=E+Math.imul(H,Ut)|0)+Math.imul(ee,Xt)|0))<<13)|0;Z=((M=M+Math.imul(ee,Ut)|0)+(E>>>13)|0)+(qn>>>26)|0,qn&=67108863,k=Math.imul(we,pt),E=(E=Math.imul(we,it))+Math.imul(ve,pt)|0,M=Math.imul(ve,it),k=k+Math.imul(ce,rn)|0,E=(E=E+Math.imul(ce,Ct)|0)+Math.imul(se,rn)|0,M=M+Math.imul(se,Ct)|0,k=k+Math.imul(F,Xt)|0,E=(E=E+Math.imul(F,Ut)|0)+Math.imul(J,Xt)|0,M=M+Math.imul(J,Ut)|0;var Hn=(Z+(k=k+Math.imul(H,It)|0)|0)+((8191&(E=(E=E+Math.imul(H,ct)|0)+Math.imul(ee,It)|0))<<13)|0;Z=((M=M+Math.imul(ee,ct)|0)+(E>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,k=Math.imul(ge,pt),E=(E=Math.imul(ge,it))+Math.imul(me,pt)|0,M=Math.imul(me,it),k=k+Math.imul(we,rn)|0,E=(E=E+Math.imul(we,Ct)|0)+Math.imul(ve,rn)|0,M=M+Math.imul(ve,Ct)|0,k=k+Math.imul(ce,Xt)|0,E=(E=E+Math.imul(ce,Ut)|0)+Math.imul(se,Xt)|0,M=M+Math.imul(se,Ut)|0,k=k+Math.imul(F,It)|0,E=(E=E+Math.imul(F,ct)|0)+Math.imul(J,It)|0,M=M+Math.imul(J,ct)|0;var Jr=(Z+(k=k+Math.imul(H,jn)|0)|0)+((8191&(E=(E=E+Math.imul(H,gt)|0)+Math.imul(ee,jn)|0))<<13)|0;Z=((M=M+Math.imul(ee,gt)|0)+(E>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,k=Math.imul(le,pt),E=(E=Math.imul(le,it))+Math.imul(fe,pt)|0,M=Math.imul(fe,it),k=k+Math.imul(ge,rn)|0,E=(E=E+Math.imul(ge,Ct)|0)+Math.imul(me,rn)|0,M=M+Math.imul(me,Ct)|0,k=k+Math.imul(we,Xt)|0,E=(E=E+Math.imul(we,Ut)|0)+Math.imul(ve,Xt)|0,M=M+Math.imul(ve,Ut)|0,k=k+Math.imul(ce,It)|0,E=(E=E+Math.imul(ce,ct)|0)+Math.imul(se,It)|0,M=M+Math.imul(se,ct)|0,k=k+Math.imul(F,jn)|0,E=(E=E+Math.imul(F,gt)|0)+Math.imul(J,jn)|0,M=M+Math.imul(J,gt)|0;var pe=(Z+(k=k+Math.imul(H,zt)|0)|0)+((8191&(E=(E=E+Math.imul(H,ht)|0)+Math.imul(ee,zt)|0))<<13)|0;Z=((M=M+Math.imul(ee,ht)|0)+(E>>>13)|0)+(pe>>>26)|0,pe&=67108863,k=Math.imul(je,pt),E=(E=Math.imul(je,it))+Math.imul(_e,pt)|0,M=Math.imul(_e,it),k=k+Math.imul(le,rn)|0,E=(E=E+Math.imul(le,Ct)|0)+Math.imul(fe,rn)|0,M=M+Math.imul(fe,Ct)|0,k=k+Math.imul(ge,Xt)|0,E=(E=E+Math.imul(ge,Ut)|0)+Math.imul(me,Xt)|0,M=M+Math.imul(me,Ut)|0,k=k+Math.imul(we,It)|0,E=(E=E+Math.imul(we,ct)|0)+Math.imul(ve,It)|0,M=M+Math.imul(ve,ct)|0,k=k+Math.imul(ce,jn)|0,E=(E=E+Math.imul(ce,gt)|0)+Math.imul(se,jn)|0,M=M+Math.imul(se,gt)|0,k=k+Math.imul(F,zt)|0,E=(E=E+Math.imul(F,ht)|0)+Math.imul(J,zt)|0,M=M+Math.imul(J,ht)|0;var ke=(Z+(k=k+Math.imul(H,Ne)|0)|0)+((8191&(E=(E=E+Math.imul(H,Pe)|0)+Math.imul(ee,Ne)|0))<<13)|0;Z=((M=M+Math.imul(ee,Pe)|0)+(E>>>13)|0)+(ke>>>26)|0,ke&=67108863,k=Math.imul(Fe,pt),E=(E=Math.imul(Fe,it))+Math.imul(Ue,pt)|0,M=Math.imul(Ue,it),k=k+Math.imul(je,rn)|0,E=(E=E+Math.imul(je,Ct)|0)+Math.imul(_e,rn)|0,M=M+Math.imul(_e,Ct)|0,k=k+Math.imul(le,Xt)|0,E=(E=E+Math.imul(le,Ut)|0)+Math.imul(fe,Xt)|0,M=M+Math.imul(fe,Ut)|0,k=k+Math.imul(ge,It)|0,E=(E=E+Math.imul(ge,ct)|0)+Math.imul(me,It)|0,M=M+Math.imul(me,ct)|0,k=k+Math.imul(we,jn)|0,E=(E=E+Math.imul(we,gt)|0)+Math.imul(ve,jn)|0,M=M+Math.imul(ve,gt)|0,k=k+Math.imul(ce,zt)|0,E=(E=E+Math.imul(ce,ht)|0)+Math.imul(se,zt)|0,M=M+Math.imul(se,ht)|0,k=k+Math.imul(F,Ne)|0,E=(E=E+Math.imul(F,Pe)|0)+Math.imul(J,Ne)|0,M=M+Math.imul(J,Pe)|0;var He=(Z+(k=k+Math.imul(H,Ot)|0)|0)+((8191&(E=(E=E+Math.imul(H,tt)|0)+Math.imul(ee,Ot)|0))<<13)|0;Z=((M=M+Math.imul(ee,tt)|0)+(E>>>13)|0)+(He>>>26)|0,He&=67108863,k=Math.imul(dt,pt),E=(E=Math.imul(dt,it))+Math.imul(ft,pt)|0,M=Math.imul(ft,it),k=k+Math.imul(Fe,rn)|0,E=(E=E+Math.imul(Fe,Ct)|0)+Math.imul(Ue,rn)|0,M=M+Math.imul(Ue,Ct)|0,k=k+Math.imul(je,Xt)|0,E=(E=E+Math.imul(je,Ut)|0)+Math.imul(_e,Xt)|0,M=M+Math.imul(_e,Ut)|0,k=k+Math.imul(le,It)|0,E=(E=E+Math.imul(le,ct)|0)+Math.imul(fe,It)|0,M=M+Math.imul(fe,ct)|0,k=k+Math.imul(ge,jn)|0,E=(E=E+Math.imul(ge,gt)|0)+Math.imul(me,jn)|0,M=M+Math.imul(me,gt)|0,k=k+Math.imul(we,zt)|0,E=(E=E+Math.imul(we,ht)|0)+Math.imul(ve,zt)|0,M=M+Math.imul(ve,ht)|0,k=k+Math.imul(ce,Ne)|0,E=(E=E+Math.imul(ce,Pe)|0)+Math.imul(se,Ne)|0,M=M+Math.imul(se,Pe)|0,k=k+Math.imul(F,Ot)|0,E=(E=E+Math.imul(F,tt)|0)+Math.imul(J,Ot)|0,M=M+Math.imul(J,tt)|0;var Xe=(Z+(k=k+Math.imul(H,Nt)|0)|0)+((8191&(E=(E=E+Math.imul(H,vt)|0)+Math.imul(ee,Nt)|0))<<13)|0;Z=((M=M+Math.imul(ee,vt)|0)+(E>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,k=Math.imul(et,pt),E=(E=Math.imul(et,it))+Math.imul(Ke,pt)|0,M=Math.imul(Ke,it),k=k+Math.imul(dt,rn)|0,E=(E=E+Math.imul(dt,Ct)|0)+Math.imul(ft,rn)|0,M=M+Math.imul(ft,Ct)|0,k=k+Math.imul(Fe,Xt)|0,E=(E=E+Math.imul(Fe,Ut)|0)+Math.imul(Ue,Xt)|0,M=M+Math.imul(Ue,Ut)|0,k=k+Math.imul(je,It)|0,E=(E=E+Math.imul(je,ct)|0)+Math.imul(_e,It)|0,M=M+Math.imul(_e,ct)|0,k=k+Math.imul(le,jn)|0,E=(E=E+Math.imul(le,gt)|0)+Math.imul(fe,jn)|0,M=M+Math.imul(fe,gt)|0,k=k+Math.imul(ge,zt)|0,E=(E=E+Math.imul(ge,ht)|0)+Math.imul(me,zt)|0,M=M+Math.imul(me,ht)|0,k=k+Math.imul(we,Ne)|0,E=(E=E+Math.imul(we,Pe)|0)+Math.imul(ve,Ne)|0,M=M+Math.imul(ve,Pe)|0,k=k+Math.imul(ce,Ot)|0,E=(E=E+Math.imul(ce,tt)|0)+Math.imul(se,Ot)|0,M=M+Math.imul(se,tt)|0,k=k+Math.imul(F,Nt)|0,E=(E=E+Math.imul(F,vt)|0)+Math.imul(J,Nt)|0,M=M+Math.imul(J,vt)|0;var xt=(Z+(k=k+Math.imul(H,Pt)|0)|0)+((8191&(E=(E=E+Math.imul(H,Et)|0)+Math.imul(ee,Pt)|0))<<13)|0;Z=((M=M+Math.imul(ee,Et)|0)+(E>>>13)|0)+(xt>>>26)|0,xt&=67108863,k=Math.imul(et,rn),E=(E=Math.imul(et,Ct))+Math.imul(Ke,rn)|0,M=Math.imul(Ke,Ct),k=k+Math.imul(dt,Xt)|0,E=(E=E+Math.imul(dt,Ut)|0)+Math.imul(ft,Xt)|0,M=M+Math.imul(ft,Ut)|0,k=k+Math.imul(Fe,It)|0,E=(E=E+Math.imul(Fe,ct)|0)+Math.imul(Ue,It)|0,M=M+Math.imul(Ue,ct)|0,k=k+Math.imul(je,jn)|0,E=(E=E+Math.imul(je,gt)|0)+Math.imul(_e,jn)|0,M=M+Math.imul(_e,gt)|0,k=k+Math.imul(le,zt)|0,E=(E=E+Math.imul(le,ht)|0)+Math.imul(fe,zt)|0,M=M+Math.imul(fe,ht)|0,k=k+Math.imul(ge,Ne)|0,E=(E=E+Math.imul(ge,Pe)|0)+Math.imul(me,Ne)|0,M=M+Math.imul(me,Pe)|0,k=k+Math.imul(we,Ot)|0,E=(E=E+Math.imul(we,tt)|0)+Math.imul(ve,Ot)|0,M=M+Math.imul(ve,tt)|0,k=k+Math.imul(ce,Nt)|0,E=(E=E+Math.imul(ce,vt)|0)+Math.imul(se,Nt)|0,M=M+Math.imul(se,vt)|0;var Qe=(Z+(k=k+Math.imul(F,Pt)|0)|0)+((8191&(E=(E=E+Math.imul(F,Et)|0)+Math.imul(J,Pt)|0))<<13)|0;Z=((M=M+Math.imul(J,Et)|0)+(E>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,k=Math.imul(et,Xt),E=(E=Math.imul(et,Ut))+Math.imul(Ke,Xt)|0,M=Math.imul(Ke,Ut),k=k+Math.imul(dt,It)|0,E=(E=E+Math.imul(dt,ct)|0)+Math.imul(ft,It)|0,M=M+Math.imul(ft,ct)|0,k=k+Math.imul(Fe,jn)|0,E=(E=E+Math.imul(Fe,gt)|0)+Math.imul(Ue,jn)|0,M=M+Math.imul(Ue,gt)|0,k=k+Math.imul(je,zt)|0,E=(E=E+Math.imul(je,ht)|0)+Math.imul(_e,zt)|0,M=M+Math.imul(_e,ht)|0,k=k+Math.imul(le,Ne)|0,E=(E=E+Math.imul(le,Pe)|0)+Math.imul(fe,Ne)|0,M=M+Math.imul(fe,Pe)|0,k=k+Math.imul(ge,Ot)|0,E=(E=E+Math.imul(ge,tt)|0)+Math.imul(me,Ot)|0,M=M+Math.imul(me,tt)|0,k=k+Math.imul(we,Nt)|0,E=(E=E+Math.imul(we,vt)|0)+Math.imul(ve,Nt)|0,M=M+Math.imul(ve,vt)|0;var nt=(Z+(k=k+Math.imul(ce,Pt)|0)|0)+((8191&(E=(E=E+Math.imul(ce,Et)|0)+Math.imul(se,Pt)|0))<<13)|0;Z=((M=M+Math.imul(se,Et)|0)+(E>>>13)|0)+(nt>>>26)|0,nt&=67108863,k=Math.imul(et,It),E=(E=Math.imul(et,ct))+Math.imul(Ke,It)|0,M=Math.imul(Ke,ct),k=k+Math.imul(dt,jn)|0,E=(E=E+Math.imul(dt,gt)|0)+Math.imul(ft,jn)|0,M=M+Math.imul(ft,gt)|0,k=k+Math.imul(Fe,zt)|0,E=(E=E+Math.imul(Fe,ht)|0)+Math.imul(Ue,zt)|0,M=M+Math.imul(Ue,ht)|0,k=k+Math.imul(je,Ne)|0,E=(E=E+Math.imul(je,Pe)|0)+Math.imul(_e,Ne)|0,M=M+Math.imul(_e,Pe)|0,k=k+Math.imul(le,Ot)|0,E=(E=E+Math.imul(le,tt)|0)+Math.imul(fe,Ot)|0,M=M+Math.imul(fe,tt)|0,k=k+Math.imul(ge,Nt)|0,E=(E=E+Math.imul(ge,vt)|0)+Math.imul(me,Nt)|0,M=M+Math.imul(me,vt)|0;var mn=(Z+(k=k+Math.imul(we,Pt)|0)|0)+((8191&(E=(E=E+Math.imul(we,Et)|0)+Math.imul(ve,Pt)|0))<<13)|0;Z=((M=M+Math.imul(ve,Et)|0)+(E>>>13)|0)+(mn>>>26)|0,mn&=67108863,k=Math.imul(et,jn),E=(E=Math.imul(et,gt))+Math.imul(Ke,jn)|0,M=Math.imul(Ke,gt),k=k+Math.imul(dt,zt)|0,E=(E=E+Math.imul(dt,ht)|0)+Math.imul(ft,zt)|0,M=M+Math.imul(ft,ht)|0,k=k+Math.imul(Fe,Ne)|0,E=(E=E+Math.imul(Fe,Pe)|0)+Math.imul(Ue,Ne)|0,M=M+Math.imul(Ue,Pe)|0,k=k+Math.imul(je,Ot)|0,E=(E=E+Math.imul(je,tt)|0)+Math.imul(_e,Ot)|0,M=M+Math.imul(_e,tt)|0,k=k+Math.imul(le,Nt)|0,E=(E=E+Math.imul(le,vt)|0)+Math.imul(fe,Nt)|0,M=M+Math.imul(fe,vt)|0;var Wt=(Z+(k=k+Math.imul(ge,Pt)|0)|0)+((8191&(E=(E=E+Math.imul(ge,Et)|0)+Math.imul(me,Pt)|0))<<13)|0;Z=((M=M+Math.imul(me,Et)|0)+(E>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,k=Math.imul(et,zt),E=(E=Math.imul(et,ht))+Math.imul(Ke,zt)|0,M=Math.imul(Ke,ht),k=k+Math.imul(dt,Ne)|0,E=(E=E+Math.imul(dt,Pe)|0)+Math.imul(ft,Ne)|0,M=M+Math.imul(ft,Pe)|0,k=k+Math.imul(Fe,Ot)|0,E=(E=E+Math.imul(Fe,tt)|0)+Math.imul(Ue,Ot)|0,M=M+Math.imul(Ue,tt)|0,k=k+Math.imul(je,Nt)|0,E=(E=E+Math.imul(je,vt)|0)+Math.imul(_e,Nt)|0,M=M+Math.imul(_e,vt)|0;var nn=(Z+(k=k+Math.imul(le,Pt)|0)|0)+((8191&(E=(E=E+Math.imul(le,Et)|0)+Math.imul(fe,Pt)|0))<<13)|0;Z=((M=M+Math.imul(fe,Et)|0)+(E>>>13)|0)+(nn>>>26)|0,nn&=67108863,k=Math.imul(et,Ne),E=(E=Math.imul(et,Pe))+Math.imul(Ke,Ne)|0,M=Math.imul(Ke,Pe),k=k+Math.imul(dt,Ot)|0,E=(E=E+Math.imul(dt,tt)|0)+Math.imul(ft,Ot)|0,M=M+Math.imul(ft,tt)|0,k=k+Math.imul(Fe,Nt)|0,E=(E=E+Math.imul(Fe,vt)|0)+Math.imul(Ue,Nt)|0,M=M+Math.imul(Ue,vt)|0;var Rt=(Z+(k=k+Math.imul(je,Pt)|0)|0)+((8191&(E=(E=E+Math.imul(je,Et)|0)+Math.imul(_e,Pt)|0))<<13)|0;Z=((M=M+Math.imul(_e,Et)|0)+(E>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,k=Math.imul(et,Ot),E=(E=Math.imul(et,tt))+Math.imul(Ke,Ot)|0,M=Math.imul(Ke,tt),k=k+Math.imul(dt,Nt)|0,E=(E=E+Math.imul(dt,vt)|0)+Math.imul(ft,Nt)|0,M=M+Math.imul(ft,vt)|0;var Rn=(Z+(k=k+Math.imul(Fe,Pt)|0)|0)+((8191&(E=(E=E+Math.imul(Fe,Et)|0)+Math.imul(Ue,Pt)|0))<<13)|0;Z=((M=M+Math.imul(Ue,Et)|0)+(E>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,k=Math.imul(et,Nt),E=(E=Math.imul(et,vt))+Math.imul(Ke,Nt)|0,M=Math.imul(Ke,vt);var Nn=(Z+(k=k+Math.imul(dt,Pt)|0)|0)+((8191&(E=(E=E+Math.imul(dt,Et)|0)+Math.imul(ft,Pt)|0))<<13)|0;Z=((M=M+Math.imul(ft,Et)|0)+(E>>>13)|0)+(Nn>>>26)|0,Nn&=67108863;var ln=(Z+(k=Math.imul(et,Pt))|0)+((8191&(E=(E=Math.imul(et,Et))+Math.imul(Ke,Pt)|0))<<13)|0;return Z=((M=Math.imul(Ke,Et))+(E>>>13)|0)+(ln>>>26)|0,ln&=67108863,K[0]=Xn,K[1]=On,K[2]=qn,K[3]=Hn,K[4]=Jr,K[5]=pe,K[6]=ke,K[7]=He,K[8]=Xe,K[9]=xt,K[10]=Qe,K[11]=nt,K[12]=mn,K[13]=Wt,K[14]=nn,K[15]=Rt,K[16]=Rn,K[17]=Nn,K[18]=ln,Z!==0&&(K[19]=Z,C.length++),C};function T(R,S,C){C.negative=S.negative^R.negative,C.length=R.length+S.length;for(var k=0,E=0,M=0;M<C.length-1;M++){var L=E;E=0;for(var z=67108863&k,K=Math.min(M,S.length-1),Z=Math.max(0,M-R.length+1);Z<=K;Z++){var te=M-Z,H=(0|R.words[te])*(0|S.words[Z]),ee=67108863&H;z=67108863&(ee=ee+z|0),E+=(L=(L=L+(H/67108864|0)|0)+(ee>>>26)|0)>>>26,L&=67108863}C.words[M]=z,k=L,L=E}return k!==0?C.words[M]=k:C.length--,C._strip()}function D(R,S,C){return T(R,S,C)}Math.imul||(N=j),a.prototype.mulTo=function(R,S){var C=this.length+R.length;return this.length===10&&R.length===10?N(this,R,S):C<63?j(this,R,S):C<1024?T(this,R,S):D(this,R,S)},a.prototype.mul=function(R){var S=new a(null);return S.words=new Array(this.length+R.length),this.mulTo(R,S)},a.prototype.mulf=function(R){var S=new a(null);return S.words=new Array(this.length+R.length),D(this,R,S)},a.prototype.imul=function(R){return this.clone().mulTo(R,this)},a.prototype.imuln=function(R){var S=R<0;S&&(R=-R),d(typeof R=="number"),d(R<67108864);for(var C=0,k=0;k<this.length;k++){var E=(0|this.words[k])*R,M=(67108863&E)+(67108863&C);C>>=26,C+=E/67108864|0,C+=M>>>26,this.words[k]=67108863&M}return C!==0&&(this.words[k]=C,this.length++),S?this.ineg():this},a.prototype.muln=function(R){return this.clone().imuln(R)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(R){var S=(function(M){for(var L=new Array(M.bitLength()),z=0;z<L.length;z++){var K=z/26|0,Z=z%26;L[z]=M.words[K]>>>Z&1}return L})(R);if(S.length===0)return new a(1);for(var C=this,k=0;k<S.length&&S[k]===0;k++,C=C.sqr());if(++k<S.length)for(var E=C.sqr();k<S.length;k++,E=E.sqr())S[k]!==0&&(C=C.mul(E));return C},a.prototype.iushln=function(R){d(typeof R=="number"&&R>=0);var S,C=R%26,k=(R-C)/26,E=67108863>>>26-C<<26-C;if(C!==0){var M=0;for(S=0;S<this.length;S++){var L=this.words[S]&E,z=(0|this.words[S])-L<<C;this.words[S]=z|M,M=L>>>26-C}M&&(this.words[S]=M,this.length++)}if(k!==0){for(S=this.length-1;S>=0;S--)this.words[S+k]=this.words[S];for(S=0;S<k;S++)this.words[S]=0;this.length+=k}return this._strip()},a.prototype.ishln=function(R){return d(this.negative===0),this.iushln(R)},a.prototype.iushrn=function(R,S,C){var k;d(typeof R=="number"&&R>=0),k=S?(S-S%26)/26:0;var E=R%26,M=Math.min((R-E)/26,this.length),L=67108863^67108863>>>E<<E,z=C;if(k-=M,k=Math.max(0,k),z){for(var K=0;K<M;K++)z.words[K]=this.words[K];z.length=M}if(M!==0)if(this.length>M)for(this.length-=M,K=0;K<this.length;K++)this.words[K]=this.words[K+M];else this.words[0]=0,this.length=1;var Z=0;for(K=this.length-1;K>=0&&(Z!==0||K>=k);K--){var te=0|this.words[K];this.words[K]=Z<<26-E|te>>>E,Z=te&L}return z&&Z!==0&&(z.words[z.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(R,S,C){return d(this.negative===0),this.iushrn(R,S,C)},a.prototype.shln=function(R){return this.clone().ishln(R)},a.prototype.ushln=function(R){return this.clone().iushln(R)},a.prototype.shrn=function(R){return this.clone().ishrn(R)},a.prototype.ushrn=function(R){return this.clone().iushrn(R)},a.prototype.testn=function(R){d(typeof R=="number"&&R>=0);var S=R%26,C=(R-S)/26,k=1<<S;return!(this.length<=C)&&!!(this.words[C]&k)},a.prototype.imaskn=function(R){d(typeof R=="number"&&R>=0);var S=R%26,C=(R-S)/26;if(d(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(S!==0&&C++,this.length=Math.min(C,this.length),S!==0){var k=67108863^67108863>>>S<<S;this.words[this.length-1]&=k}return this._strip()},a.prototype.maskn=function(R){return this.clone().imaskn(R)},a.prototype.iaddn=function(R){return d(typeof R=="number"),d(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(0|this.words[0])<=R?(this.words[0]=R-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},a.prototype._iaddn=function(R){this.words[0]+=R;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},a.prototype.isubn=function(R){if(d(typeof R=="number"),d(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},a.prototype.addn=function(R){return this.clone().iaddn(R)},a.prototype.subn=function(R){return this.clone().isubn(R)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(R,S,C){var k,E,M=R.length+C;this._expand(M);var L=0;for(k=0;k<R.length;k++){E=(0|this.words[k+C])+L;var z=(0|R.words[k])*S;L=((E-=67108863&z)>>26)-(z/67108864|0),this.words[k+C]=67108863&E}for(;k<this.length-C;k++)L=(E=(0|this.words[k+C])+L)>>26,this.words[k+C]=67108863&E;if(L===0)return this._strip();for(d(L===-1),L=0,k=0;k<this.length;k++)L=(E=-(0|this.words[k])+L)>>26,this.words[k]=67108863&E;return this.negative=1,this._strip()},a.prototype._wordDiv=function(R,S){var C=(this.length,R.length),k=this.clone(),E=R,M=0|E.words[E.length-1];(C=26-this._countBits(M))!==0&&(E=E.ushln(C),k.iushln(C),M=0|E.words[E.length-1]);var L,z=k.length-E.length;if(S!=="mod"){(L=new a(null)).length=z+1,L.words=new Array(L.length);for(var K=0;K<L.length;K++)L.words[K]=0}var Z=k.clone()._ishlnsubmul(E,1,z);Z.negative===0&&(k=Z,L&&(L.words[z]=1));for(var te=z-1;te>=0;te--){var H=67108864*(0|k.words[E.length+te])+(0|k.words[E.length+te-1]);for(H=Math.min(H/M|0,67108863),k._ishlnsubmul(E,H,te);k.negative!==0;)H--,k.negative=0,k._ishlnsubmul(E,1,te),k.isZero()||(k.negative^=1);L&&(L.words[te]=H)}return L&&L._strip(),k._strip(),S!=="div"&&C!==0&&k.iushrn(C),{div:L||null,mod:k}},a.prototype.divmod=function(R,S,C){return d(!R.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&R.negative===0?(M=this.neg().divmod(R,S),S!=="mod"&&(k=M.div.neg()),S!=="div"&&(E=M.mod.neg(),C&&E.negative!==0&&E.iadd(R)),{div:k,mod:E}):this.negative===0&&R.negative!==0?(M=this.divmod(R.neg(),S),S!=="mod"&&(k=M.div.neg()),{div:k,mod:M.mod}):(this.negative&R.negative)!=0?(M=this.neg().divmod(R.neg(),S),S!=="div"&&(E=M.mod.neg(),C&&E.negative!==0&&E.isub(R)),{div:M.div,mod:E}):R.length>this.length||this.cmp(R)<0?{div:new a(0),mod:this}:R.length===1?S==="div"?{div:this.divn(R.words[0]),mod:null}:S==="mod"?{div:null,mod:new a(this.modrn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new a(this.modrn(R.words[0]))}:this._wordDiv(R,S);var k,E,M},a.prototype.div=function(R){return this.divmod(R,"div",!1).div},a.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},a.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},a.prototype.divRound=function(R){var S=this.divmod(R);if(S.mod.isZero())return S.div;var C=S.div.negative!==0?S.mod.isub(R):S.mod,k=R.ushrn(1),E=R.andln(1),M=C.cmp(k);return M<0||E===1&&M===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},a.prototype.modrn=function(R){var S=R<0;S&&(R=-R),d(R<=67108863);for(var C=(1<<26)%R,k=0,E=this.length-1;E>=0;E--)k=(C*k+(0|this.words[E]))%R;return S?-k:k},a.prototype.modn=function(R){return this.modrn(R)},a.prototype.idivn=function(R){var S=R<0;S&&(R=-R),d(R<=67108863);for(var C=0,k=this.length-1;k>=0;k--){var E=(0|this.words[k])+67108864*C;this.words[k]=E/R|0,C=E%R}return this._strip(),S?this.ineg():this},a.prototype.divn=function(R){return this.clone().idivn(R)},a.prototype.egcd=function(R){d(R.negative===0),d(!R.isZero());var S=this,C=R.clone();S=S.negative!==0?S.umod(R):S.clone();for(var k=new a(1),E=new a(0),M=new a(0),L=new a(1),z=0;S.isEven()&&C.isEven();)S.iushrn(1),C.iushrn(1),++z;for(var K=C.clone(),Z=S.clone();!S.isZero();){for(var te=0,H=1;(S.words[0]&H)==0&&te<26;++te,H<<=1);if(te>0)for(S.iushrn(te);te-- >0;)(k.isOdd()||E.isOdd())&&(k.iadd(K),E.isub(Z)),k.iushrn(1),E.iushrn(1);for(var ee=0,U=1;(C.words[0]&U)==0&&ee<26;++ee,U<<=1);if(ee>0)for(C.iushrn(ee);ee-- >0;)(M.isOdd()||L.isOdd())&&(M.iadd(K),L.isub(Z)),M.iushrn(1),L.iushrn(1);S.cmp(C)>=0?(S.isub(C),k.isub(M),E.isub(L)):(C.isub(S),M.isub(k),L.isub(E))}return{a:M,b:L,gcd:C.iushln(z)}},a.prototype._invmp=function(R){d(R.negative===0),d(!R.isZero());var S=this,C=R.clone();S=S.negative!==0?S.umod(R):S.clone();for(var k,E=new a(1),M=new a(0),L=C.clone();S.cmpn(1)>0&&C.cmpn(1)>0;){for(var z=0,K=1;(S.words[0]&K)==0&&z<26;++z,K<<=1);if(z>0)for(S.iushrn(z);z-- >0;)E.isOdd()&&E.iadd(L),E.iushrn(1);for(var Z=0,te=1;(C.words[0]&te)==0&&Z<26;++Z,te<<=1);if(Z>0)for(C.iushrn(Z);Z-- >0;)M.isOdd()&&M.iadd(L),M.iushrn(1);S.cmp(C)>=0?(S.isub(C),E.isub(M)):(C.isub(S),M.isub(E))}return(k=S.cmpn(1)===0?E:M).cmpn(0)<0&&k.iadd(R),k},a.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var S=this.clone(),C=R.clone();S.negative=0,C.negative=0;for(var k=0;S.isEven()&&C.isEven();k++)S.iushrn(1),C.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;C.isEven();)C.iushrn(1);var E=S.cmp(C);if(E<0){var M=S;S=C,C=M}else if(E===0||C.cmpn(1)===0)break;S.isub(C)}return C.iushln(k)},a.prototype.invm=function(R){return this.egcd(R).a.umod(R)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(R){return this.words[0]&R},a.prototype.bincn=function(R){d(typeof R=="number");var S=R%26,C=(R-S)/26,k=1<<S;if(this.length<=C)return this._expand(C+1),this.words[C]|=k,this;for(var E=k,M=C;E!==0&&M<this.length;M++){var L=0|this.words[M];E=(L+=E)>>>26,L&=67108863,this.words[M]=L}return E!==0&&(this.words[M]=E,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(R){var S,C=R<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)S=1;else{C&&(R=-R),d(R<=67108863,"Number is too big");var k=0|this.words[0];S=k===R?0:k<R?-1:1}return this.negative!==0?0|-S:S},a.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var S=this.ucmp(R);return this.negative!==0?0|-S:S},a.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var S=0,C=this.length-1;C>=0;C--){var k=0|this.words[C],E=0|R.words[C];if(k!==E){k<E?S=-1:k>E&&(S=1);break}}return S},a.prototype.gtn=function(R){return this.cmpn(R)===1},a.prototype.gt=function(R){return this.cmp(R)===1},a.prototype.gten=function(R){return this.cmpn(R)>=0},a.prototype.gte=function(R){return this.cmp(R)>=0},a.prototype.ltn=function(R){return this.cmpn(R)===-1},a.prototype.lt=function(R){return this.cmp(R)===-1},a.prototype.lten=function(R){return this.cmpn(R)<=0},a.prototype.lte=function(R){return this.cmp(R)<=0},a.prototype.eqn=function(R){return this.cmpn(R)===0},a.prototype.eq=function(R){return this.cmp(R)===0},a.red=function(R){return new O(R)},a.prototype.toRed=function(R){return d(!this.red,"Already a number in reduction context"),d(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},a.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(R){return this.red=R,this},a.prototype.forceRed=function(R){return d(!this.red,"Already a number in reduction context"),this._forceRed(R)},a.prototype.redAdd=function(R){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},a.prototype.redIAdd=function(R){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},a.prototype.redSub=function(R){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},a.prototype.redISub=function(R){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},a.prototype.redShl=function(R){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},a.prototype.redMul=function(R){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},a.prototype.redIMul=function(R){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},a.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(R){return d(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var V={k256:null,p224:null,p192:null,p25519:null};function P(R,S){this.name=R,this.p=new a(S,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function G(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Y(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function W(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(R){if(typeof R=="string"){var S=a._prime(R);this.m=S.p,this.prime=S}else d(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function I(R){O.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}P.prototype._tmp=function(){var R=new a(null);return R.words=new Array(Math.ceil(this.n/13)),R},P.prototype.ireduce=function(R){var S,C=R;do this.split(C,this.tmp),S=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(S>this.n);var k=S<this.n?-1:C.ucmp(this.p);return k===0?(C.words[0]=0,C.length=1):k>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},P.prototype.split=function(R,S){R.iushrn(this.n,0,S)},P.prototype.imulK=function(R){return R.imul(this.k)},c($,P),$.prototype.split=function(R,S){for(var C=Math.min(R.length,9),k=0;k<C;k++)S.words[k]=R.words[k];if(S.length=C,R.length<=9)return R.words[0]=0,void(R.length=1);var E=R.words[9];for(S.words[S.length++]=4194303&E,k=10;k<R.length;k++){var M=0|R.words[k];R.words[k-10]=(4194303&M)<<4|E>>>22,E=M}E>>>=22,R.words[k-10]=E,E===0&&R.length>10?R.length-=10:R.length-=9},$.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var S=0,C=0;C<R.length;C++){var k=0|R.words[C];S+=977*k,R.words[C]=67108863&S,S=64*k+(S/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R},c(G,P),c(Y,P),c(W,P),W.prototype.imulK=function(R){for(var S=0,C=0;C<R.length;C++){var k=19*(0|R.words[C])+S,E=67108863&k;k>>>=26,R.words[C]=E,S=k}return S!==0&&(R.words[R.length++]=S),R},a._prime=function(R){if(V[R])return V[R];var S;if(R==="k256")S=new $;else if(R==="p224")S=new G;else if(R==="p192")S=new Y;else{if(R!=="p25519")throw new Error("Unknown prime "+R);S=new W}return V[R]=S,S},O.prototype._verify1=function(R){d(R.negative===0,"red works only with positives"),d(R.red,"red works only with red numbers")},O.prototype._verify2=function(R,S){d((R.negative|S.negative)==0,"red works only with positives"),d(R.red&&R.red===S.red,"red works only with red numbers")},O.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):(y(R,R.umod(this.m)._forceRed(this)),R)},O.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},O.prototype.add=function(R,S){this._verify2(R,S);var C=R.add(S);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},O.prototype.iadd=function(R,S){this._verify2(R,S);var C=R.iadd(S);return C.cmp(this.m)>=0&&C.isub(this.m),C},O.prototype.sub=function(R,S){this._verify2(R,S);var C=R.sub(S);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},O.prototype.isub=function(R,S){this._verify2(R,S);var C=R.isub(S);return C.cmpn(0)<0&&C.iadd(this.m),C},O.prototype.shl=function(R,S){return this._verify1(R),this.imod(R.ushln(S))},O.prototype.imul=function(R,S){return this._verify2(R,S),this.imod(R.imul(S))},O.prototype.mul=function(R,S){return this._verify2(R,S),this.imod(R.mul(S))},O.prototype.isqr=function(R){return this.imul(R,R.clone())},O.prototype.sqr=function(R){return this.mul(R,R)},O.prototype.sqrt=function(R){if(R.isZero())return R.clone();var S=this.m.andln(3);if(d(S%2==1),S===3){var C=this.m.add(new a(1)).iushrn(2);return this.pow(R,C)}for(var k=this.m.subn(1),E=0;!k.isZero()&&k.andln(1)===0;)E++,k.iushrn(1);d(!k.isZero());var M=new a(1).toRed(this),L=M.redNeg(),z=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new a(2*K*K).toRed(this);this.pow(K,z).cmp(L)!==0;)K.redIAdd(L);for(var Z=this.pow(K,k),te=this.pow(R,k.addn(1).iushrn(1)),H=this.pow(R,k),ee=E;H.cmp(M)!==0;){for(var U=H,F=0;U.cmp(M)!==0;F++)U=U.redSqr();d(F<ee);var J=this.pow(Z,new a(1).iushln(ee-F-1));te=te.redMul(J),Z=J.redSqr(),H=H.redMul(Z),ee=F}return te},O.prototype.invm=function(R){var S=R._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},O.prototype.pow=function(R,S){if(S.isZero())return new a(1).toRed(this);if(S.cmpn(1)===0)return R.clone();var C=new Array(16);C[0]=new a(1).toRed(this),C[1]=R;for(var k=2;k<C.length;k++)C[k]=this.mul(C[k-1],R);var E=C[0],M=0,L=0,z=S.bitLength()%26;for(z===0&&(z=26),k=S.length-1;k>=0;k--){for(var K=S.words[k],Z=z-1;Z>=0;Z--){var te=K>>Z&1;E!==C[0]&&(E=this.sqr(E)),te!==0||M!==0?(M<<=1,M|=te,(++L===4||k===0&&Z===0)&&(E=this.mul(E,C[M]),L=0,M=0)):L=0}z=26}return E},O.prototype.convertTo=function(R){var S=R.umod(this.m);return S===R?S.clone():S},O.prototype.convertFrom=function(R){var S=R.clone();return S.red=null,S},a.mont=function(R){return new I(R)},c(I,O),I.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},I.prototype.convertFrom=function(R){var S=this.imod(R.mul(this.rinv));return S.red=null,S},I.prototype.imul=function(R,S){if(R.isZero()||S.isZero())return R.words[0]=0,R.length=1,R;var C=R.imul(S),k=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=C.isub(k).iushrn(this.shift),M=E;return E.cmp(this.m)>=0?M=E.isub(this.m):E.cmpn(0)<0&&(M=E.iadd(this.m)),M._forceRed(this)},I.prototype.mul=function(R,S){if(R.isZero()||S.isZero())return new a(0)._forceRed(this);var C=R.mul(S),k=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=C.isub(k).iushrn(this.shift),M=E;return E.cmp(this.m)>=0?M=E.isub(this.m):E.cmpn(0)<0&&(M=E.iadd(this.m)),M._forceRed(this)},I.prototype.invm=function(R){return this.imod(R._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],187:[function(e,s,l){var o;function i(c){this.rand=c}if(s.exports=function(c){return o||(o=new i(null)),o.generate(c)},s.exports.Rand=i,i.prototype.generate=function(c){return this._rand(c)},i.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var a=new Uint8Array(c),u=0;u<a.length;u++)a[u]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(c){var a=new Uint8Array(c);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(c){var a=new Uint8Array(c);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var d=e("crypto");if(typeof d.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(c){return d.randomBytes(c)}}catch{}},{crypto:188}],188:[function(e,s,l){},{}],189:[function(e,s,l){var o=e("safe-buffer").Buffer;function i(h){o.isBuffer(h)||(h=o.from(h));for(var p=h.length/4|0,y=new Array(p),x=0;x<p;x++)y[x]=h.readUInt32BE(4*x);return y}function d(h){for(;0<h.length;h++)h[0]=0}function c(h,p,y,x,g){for(var w,v,j,N,T=y[0],D=y[1],V=y[2],P=y[3],$=h[0]^p[0],G=h[1]^p[1],Y=h[2]^p[2],W=h[3]^p[3],O=4,I=1;I<g;I++)w=T[$>>>24]^D[G>>>16&255]^V[Y>>>8&255]^P[255&W]^p[O++],v=T[G>>>24]^D[Y>>>16&255]^V[W>>>8&255]^P[255&$]^p[O++],j=T[Y>>>24]^D[W>>>16&255]^V[$>>>8&255]^P[255&G]^p[O++],N=T[W>>>24]^D[$>>>16&255]^V[G>>>8&255]^P[255&Y]^p[O++],$=w,G=v,Y=j,W=N;return w=(x[$>>>24]<<24|x[G>>>16&255]<<16|x[Y>>>8&255]<<8|x[255&W])^p[O++],v=(x[G>>>24]<<24|x[Y>>>16&255]<<16|x[W>>>8&255]<<8|x[255&$])^p[O++],j=(x[Y>>>24]<<24|x[W>>>16&255]<<16|x[$>>>8&255]<<8|x[255&G])^p[O++],N=(x[W>>>24]<<24|x[$>>>16&255]<<16|x[G>>>8&255]<<8|x[255&Y])^p[O++],[w>>>=0,v>>>=0,j>>>=0,N>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var h=new Array(256),p=0;p<256;p++)h[p]=p<128?p<<1:p<<1^283;for(var y=[],x=[],g=[[],[],[],[]],w=[[],[],[],[]],v=0,j=0,N=0;N<256;++N){var T=j^j<<1^j<<2^j<<3^j<<4;T=T>>>8^255&T^99,y[v]=T,x[T]=v;var D=h[v],V=h[D],P=h[V],$=257*h[T]^16843008*T;g[0][v]=$<<24|$>>>8,g[1][v]=$<<16|$>>>16,g[2][v]=$<<8|$>>>24,g[3][v]=$,$=16843009*P^65537*V^257*D^16843008*v,w[0][T]=$<<24|$>>>8,w[1][T]=$<<16|$>>>16,w[2][T]=$<<8|$>>>24,w[3][T]=$,v===0?v=j=1:(v=D^h[h[h[P^D]]],j^=h[h[j]])}return{SBOX:y,INV_SBOX:x,SUB_MIX:g,INV_SUB_MIX:w}})();function m(h){this._key=i(h),this._reset()}m.blockSize=16,m.keySize=32,m.prototype.blockSize=m.blockSize,m.prototype.keySize=m.keySize,m.prototype._reset=function(){for(var h=this._key,p=h.length,y=p+6,x=4*(y+1),g=[],w=0;w<p;w++)g[w]=h[w];for(w=p;w<x;w++){var v=g[w-1];w%p==0?(v=v<<8|v>>>24,v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v],v^=a[w/p|0]<<24):p>6&&w%p==4&&(v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v]),g[w]=g[w-p]^v}for(var j=[],N=0;N<x;N++){var T=x-N,D=g[T-(N%4?0:4)];j[N]=N<4||T<=4?D:u.INV_SUB_MIX[0][u.SBOX[D>>>24]]^u.INV_SUB_MIX[1][u.SBOX[D>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[D>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&D]]}this._nRounds=y,this._keySchedule=g,this._invKeySchedule=j},m.prototype.encryptBlockRaw=function(h){return c(h=i(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},m.prototype.encryptBlock=function(h){var p=this.encryptBlockRaw(h),y=o.allocUnsafe(16);return y.writeUInt32BE(p[0],0),y.writeUInt32BE(p[1],4),y.writeUInt32BE(p[2],8),y.writeUInt32BE(p[3],12),y},m.prototype.decryptBlock=function(h){var p=(h=i(h))[1];h[1]=h[3],h[3]=p;var y=c(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),x=o.allocUnsafe(16);return x.writeUInt32BE(y[0],0),x.writeUInt32BE(y[3],4),x.writeUInt32BE(y[2],8),x.writeUInt32BE(y[1],12),x},m.prototype.scrub=function(){d(this._keySchedule),d(this._invKeySchedule),d(this._key)},s.exports.AES=m},{"safe-buffer":494}],190:[function(e,s,l){var o=e("./aes"),i=e("safe-buffer").Buffer,d=e("cipher-base"),c=e("inherits"),a=e("./ghash"),u=e("buffer-xor"),m=e("./incr32");function h(p,y,x,g){d.call(this);var w=i.alloc(4,0);this._cipher=new o.AES(y);var v=this._cipher.encryptBlock(w);this._ghash=new a(v),x=(function(j,N,T){if(N.length===12)return j._finID=i.concat([N,i.from([0,0,0,1])]),i.concat([N,i.from([0,0,0,2])]);var D=new a(T),V=N.length,P=V%16;D.update(N),P&&(P=16-P,D.update(i.alloc(P,0))),D.update(i.alloc(8,0));var $=8*V,G=i.alloc(8);G.writeUIntBE($,0,8),D.update(G),j._finID=D.state;var Y=i.from(j._finID);return m(Y),Y})(this,x,v),this._prev=i.from(x),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=p,this._authTag=null,this._called=!1}c(h,d),h.prototype._update=function(p){if(!this._called&&this._alen){var y=16-this._alen%16;y<16&&(y=i.alloc(y,0),this._ghash.update(y))}this._called=!0;var x=this._mode.encrypt(this,p);return this._decrypt?this._ghash.update(p):this._ghash.update(x),this._len+=p.length,x},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var p=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(y,x){var g=0;y.length!==x.length&&g++;for(var w=Math.min(y.length,x.length),v=0;v<w;++v)g+=y[v]^x[v];return g})(p,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=p,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(p){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=p},h.prototype.setAAD=function(p){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(p),this._alen+=p.length},s.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,s,l){var o=e("./encrypter"),i=e("./decrypter"),d=e("./modes/list.json");l.createCipher=l.Cipher=o.createCipher,l.createCipheriv=l.Cipheriv=o.createCipheriv,l.createDecipher=l.Decipher=i.createDecipher,l.createDecipheriv=l.Decipheriv=i.createDecipheriv,l.listCiphers=l.getCiphers=function(){return Object.keys(d)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,s,l){var o=e("./authCipher"),i=e("safe-buffer").Buffer,d=e("./modes"),c=e("./streamCipher"),a=e("cipher-base"),u=e("./aes"),m=e("evp_bytestokey");function h(x,g,w){a.call(this),this._cache=new p,this._last=void 0,this._cipher=new u.AES(g),this._prev=i.from(w),this._mode=x,this._autopadding=!0}function p(){this.cache=i.allocUnsafe(0)}function y(x,g,w){var v=d[x.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=i.from(w)),v.mode!=="GCM"&&w.length!==v.iv)throw new TypeError("invalid iv length "+w.length);if(typeof g=="string"&&(g=i.from(g)),g.length!==v.key/8)throw new TypeError("invalid key length "+g.length);return v.type==="stream"?new c(v.module,g,w,!0):v.type==="auth"?new o(v.module,g,w,!0):new h(v.module,g,w)}e("inherits")(h,a),h.prototype._update=function(x){var g,w;this._cache.add(x);for(var v=[];g=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,g),v.push(w);return i.concat(v)},h.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return(function(g){var w=g[15];if(w<1||w>16)throw new Error("unable to decrypt data");for(var v=-1;++v<w;)if(g[v+(16-w)]!==w)throw new Error("unable to decrypt data");if(w!==16)return g.slice(0,16-w)})(this._mode.decrypt(this,x));if(x)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this},p.prototype.add=function(x){this.cache=i.concat([this.cache,x])},p.prototype.get=function(x){var g;if(x){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},l.createDecipher=function(x,g){var w=d[x.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var v=m(g,!1,w.key,w.iv);return y(x,v.key,v.iv)},l.createDecipheriv=y},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,s,l){var o=e("./modes"),i=e("./authCipher"),d=e("safe-buffer").Buffer,c=e("./streamCipher"),a=e("cipher-base"),u=e("./aes"),m=e("evp_bytestokey");function h(g,w,v){a.call(this),this._cache=new y,this._cipher=new u.AES(w),this._prev=d.from(v),this._mode=g,this._autopadding=!0}e("inherits")(h,a),h.prototype._update=function(g){var w,v;this._cache.add(g);for(var j=[];w=this._cache.get();)v=this._mode.encrypt(this,w),j.push(v);return d.concat(j)};var p=d.alloc(16,16);function y(){this.cache=d.allocUnsafe(0)}function x(g,w,v){var j=o[g.toLowerCase()];if(!j)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=d.from(w)),w.length!==j.key/8)throw new TypeError("invalid key length "+w.length);if(typeof v=="string"&&(v=d.from(v)),j.mode!=="GCM"&&v.length!==j.iv)throw new TypeError("invalid iv length "+v.length);return j.type==="stream"?new c(j.module,w,v):j.type==="auth"?new i(j.module,w,v):new h(j.module,w,v)}h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},y.prototype.add=function(g){this.cache=d.concat([this.cache,g])},y.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},y.prototype.flush=function(){for(var g=16-this.cache.length,w=d.allocUnsafe(g),v=-1;++v<g;)w.writeUInt8(g,v);return d.concat([this.cache,w])},l.createCipheriv=x,l.createCipher=function(g,w){var v=o[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var j=m(w,!1,v.key,v.iv);return x(g,j.key,j.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,s,l){var o=e("safe-buffer").Buffer,i=o.alloc(16,0);function d(a){var u=o.allocUnsafe(16);return u.writeUInt32BE(a[0]>>>0,0),u.writeUInt32BE(a[1]>>>0,4),u.writeUInt32BE(a[2]>>>0,8),u.writeUInt32BE(a[3]>>>0,12),u}function c(a){this.h=a,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}c.prototype.ghash=function(a){for(var u=-1;++u<a.length;)this.state[u]^=a[u];this._multiply()},c.prototype._multiply=function(){for(var a,u,m,h=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],p=[0,0,0,0],y=-1;++y<128;){for((this.state[~~(y/8)]&1<<7-y%8)!=0&&(p[0]^=h[0],p[1]^=h[1],p[2]^=h[2],p[3]^=h[3]),m=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,m&&(h[0]=h[0]^225<<24)}this.state=d(p)},c.prototype.update=function(a){var u;for(this.cache=o.concat([this.cache,a]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},c.prototype.final=function(a,u){return this.cache.length&&this.ghash(o.concat([this.cache,i],16)),this.ghash(d([0,a,0,u])),this.state},s.exports=c},{"safe-buffer":494}],195:[function(e,s,l){s.exports=function(o){for(var i,d=o.length;d--;){if((i=o.readUInt8(d))!==255){i++,o.writeUInt8(i,d);break}o.writeUInt8(0,d)}}},{}],196:[function(e,s,l){var o=e("buffer-xor");l.encrypt=function(i,d){var c=o(d,i._prev);return i._prev=i._cipher.encryptBlock(c),i._prev},l.decrypt=function(i,d){var c=i._prev;i._prev=d;var a=i._cipher.decryptBlock(d);return o(a,c)}},{"buffer-xor":219}],197:[function(e,s,l){var o=e("safe-buffer").Buffer,i=e("buffer-xor");function d(c,a,u){var m=a.length,h=i(a,c._cache);return c._cache=c._cache.slice(m),c._prev=o.concat([c._prev,u?a:h]),h}l.encrypt=function(c,a,u){for(var m,h=o.allocUnsafe(0);a.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=o.allocUnsafe(0)),!(c._cache.length<=a.length)){h=o.concat([h,d(c,a,u)]);break}m=c._cache.length,h=o.concat([h,d(c,a.slice(0,m),u)]),a=a.slice(m)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,s,l){var o=e("safe-buffer").Buffer;function i(c,a,u){for(var m,h,p=-1,y=0;++p<8;)m=a&1<<7-p?128:0,y+=(128&(h=c._cipher.encryptBlock(c._prev)[0]^m))>>p%8,c._prev=d(c._prev,u?m:h);return y}function d(c,a){var u=c.length,m=-1,h=o.allocUnsafe(c.length);for(c=o.concat([c,o.from([a])]);++m<u;)h[m]=c[m]<<1|c[m+1]>>7;return h}l.encrypt=function(c,a,u){for(var m=a.length,h=o.allocUnsafe(m),p=-1;++p<m;)h[p]=i(c,a[p],u);return h}},{"safe-buffer":494}],199:[function(e,s,l){var o=e("safe-buffer").Buffer;function i(d,c,a){var u=d._cipher.encryptBlock(d._prev)[0]^c;return d._prev=o.concat([d._prev.slice(1),o.from([a?c:u])]),u}l.encrypt=function(d,c,a){for(var u=c.length,m=o.allocUnsafe(u),h=-1;++h<u;)m[h]=i(d,c[h],a);return m}},{"safe-buffer":494}],200:[function(e,s,l){var o=e("buffer-xor"),i=e("safe-buffer").Buffer,d=e("../incr32");function c(a){var u=a._cipher.encryptBlockRaw(a._prev);return d(a._prev),u}l.encrypt=function(a,u){var m=Math.ceil(u.length/16),h=a._cache.length;a._cache=i.concat([a._cache,i.allocUnsafe(16*m)]);for(var p=0;p<m;p++){var y=c(a),x=h+16*p;a._cache.writeUInt32BE(y[0],x+0),a._cache.writeUInt32BE(y[1],x+4),a._cache.writeUInt32BE(y[2],x+8),a._cache.writeUInt32BE(y[3],x+12)}var g=a._cache.slice(0,u.length);return a._cache=a._cache.slice(u.length),o(u,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,s,l){l.encrypt=function(o,i){return o._cipher.encryptBlock(i)},l.decrypt=function(o,i){return o._cipher.decryptBlock(i)}},{}],202:[function(e,s,l){var o={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var d in i)i[d].module=o[i[d].mode];s.exports=i},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,s,l){s.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,s,l){(function(o){(function(){var i=e("buffer-xor");function d(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}l.encrypt=function(c,a){for(;c._cache.length<a.length;)c._cache=o.concat([c._cache,d(c)]);var u=c._cache.slice(0,a.length);return c._cache=c._cache.slice(a.length),i(a,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,s,l){var o=e("./aes"),i=e("safe-buffer").Buffer,d=e("cipher-base");function c(a,u,m,h){d.call(this),this._cipher=new o.AES(u),this._prev=i.from(m),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=h,this._mode=a}e("inherits")(c,d),c.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},s.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,s,l){var o=e("browserify-des"),i=e("browserify-aes/browser"),d=e("browserify-aes/modes"),c=e("browserify-des/modes"),a=e("evp_bytestokey");function u(h,p,y){if(h=h.toLowerCase(),d[h])return i.createCipheriv(h,p,y);if(c[h])return new o({key:p,iv:y,mode:h});throw new TypeError("invalid suite type")}function m(h,p,y){if(h=h.toLowerCase(),d[h])return i.createDecipheriv(h,p,y);if(c[h])return new o({key:p,iv:y,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}l.createCipher=l.Cipher=function(h,p){var y,x;if(h=h.toLowerCase(),d[h])y=d[h].key,x=d[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");y=8*c[h].key,x=c[h].iv}var g=a(p,!1,y,x);return u(h,g.key,g.iv)},l.createCipheriv=l.Cipheriv=u,l.createDecipher=l.Decipher=function(h,p){var y,x;if(h=h.toLowerCase(),d[h])y=d[h].key,x=d[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");y=8*c[h].key,x=c[h].iv}var g=a(p,!1,y,x);return m(h,g.key,g.iv)},l.createDecipheriv=l.Decipheriv=m,l.listCiphers=l.getCiphers=function(){return Object.keys(c).concat(i.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,s,l){var o=e("cipher-base"),i=e("des.js"),d=e("inherits"),c=e("safe-buffer").Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(m){o.call(this);var h,p=m.mode.toLowerCase(),y=a[p];h=m.decrypt?"decrypt":"encrypt";var x=m.key;c.isBuffer(x)||(x=c.from(x)),p!=="des-ede"&&p!=="des-ede-cbc"||(x=c.concat([x,x.slice(0,8)]));var g=m.iv;c.isBuffer(g)||(g=c.from(g)),this._des=y.create({key:x,iv:g,type:h})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],s.exports=u,d(u,o),u.prototype._update=function(m){return c.from(this._des.update(m))},u.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,s,l){l["des-ecb"]={key:8,iv:0},l["des-cbc"]=l.des={key:8,iv:8},l["des-ede3-cbc"]=l.des3={key:24,iv:8},l["des-ede3"]={key:24,iv:0},l["des-ede-cbc"]={key:16,iv:8},l["des-ede"]={key:16,iv:0}},{}],209:[function(e,s,l){(function(o){(function(){var i=e("bn.js"),d=e("randombytes");function c(u){var m,h=u.modulus.byteLength();do m=new i(d(h));while(m.cmp(u.modulus)>=0||!m.umod(u.prime1)||!m.umod(u.prime2));return m}function a(u,m){var h=(function(V){var P=c(V);return{blinder:P.toRed(i.mont(V.modulus)).redPow(new i(V.publicExponent)).fromRed(),unblinder:P.invm(V.modulus)}})(m),p=m.modulus.byteLength(),y=new i(u).mul(h.blinder).umod(m.modulus),x=y.toRed(i.mont(m.prime1)),g=y.toRed(i.mont(m.prime2)),w=m.coefficient,v=m.prime1,j=m.prime2,N=x.redPow(m.exponent1).fromRed(),T=g.redPow(m.exponent2).fromRed(),D=N.isub(T).imul(w).umod(v).imul(j);return T.iadd(D).imul(h.unblinder).umod(m.modulus).toArrayLike(o,"be",p)}a.getr=c,s.exports=a}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,s,l){s.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,s,l){s.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,s,l){s.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,s,l){var o=e("safe-buffer").Buffer,i=e("create-hash"),d=e("readable-stream"),c=e("inherits"),a=e("./sign"),u=e("./verify"),m=e("./algorithms.json");function h(g){d.Writable.call(this);var w=m[g];if(!w)throw new Error("Unknown message digest");this._hashType=w.hash,this._hash=i(w.hash),this._tag=w.id,this._signType=w.sign}function p(g){d.Writable.call(this);var w=m[g];if(!w)throw new Error("Unknown message digest");this._hash=i(w.hash),this._tag=w.id,this._signType=w.sign}function y(g){return new h(g)}function x(g){return new p(g)}Object.keys(m).forEach((function(g){m[g].id=o.from(m[g].id,"hex"),m[g.toLowerCase()]=m[g]})),c(h,d.Writable),h.prototype._write=function(g,w,v){this._hash.update(g),v()},h.prototype.update=function(g,w){return typeof g=="string"&&(g=o.from(g,w)),this._hash.update(g),this},h.prototype.sign=function(g,w){this.end();var v=this._hash.digest(),j=a(v,g,this._hashType,this._signType,this._tag);return w?j.toString(w):j},c(p,d.Writable),p.prototype._write=function(g,w,v){this._hash.update(g),v()},p.prototype.update=function(g,w){return typeof g=="string"&&(g=o.from(g,w)),this._hash.update(g),this},p.prototype.verify=function(g,w,v){typeof w=="string"&&(w=o.from(w,v)),this.end();var j=this._hash.digest();return u(w,j,g,this._signType,this._tag)},s.exports={Sign:y,Verify:x,createSign:y,createVerify:x}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,s,l){var o=e("safe-buffer").Buffer,i=e("create-hmac"),d=e("browserify-rsa"),c=e("elliptic").ec,a=e("bn.js"),u=e("parse-asn1"),m=e("./curves.json");function h(g,w,v,j){if((g=o.from(g.toArray())).length<w.byteLength()){var N=o.alloc(w.byteLength()-g.length);g=o.concat([N,g])}var T=v.length,D=(function($,G){$=($=p($,G)).mod(G);var Y=o.from($.toArray());if(Y.length<G.byteLength()){var W=o.alloc(G.byteLength()-Y.length);Y=o.concat([W,Y])}return Y})(v,w),V=o.alloc(T);V.fill(1);var P=o.alloc(T);return P=i(j,P).update(V).update(o.from([0])).update(g).update(D).digest(),V=i(j,P).update(V).digest(),{k:P=i(j,P).update(V).update(o.from([1])).update(g).update(D).digest(),v:V=i(j,P).update(V).digest()}}function p(g,w){var v=new a(g),j=(g.length<<3)-w.bitLength();return j>0&&v.ishrn(j),v}function y(g,w,v){var j,N;do{for(j=o.alloc(0);8*j.length<g.bitLength();)w.v=i(v,w.k).update(w.v).digest(),j=o.concat([j,w.v]);N=p(j,g),w.k=i(v,w.k).update(w.v).update(o.from([0])).digest(),w.v=i(v,w.k).update(w.v).digest()}while(N.cmp(g)!==-1);return N}function x(g,w,v,j){return g.toRed(a.mont(v)).redPow(w).fromRed().mod(j)}s.exports=function(g,w,v,j,N){var T=u(w);if(T.curve){if(j!=="ecdsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");return(function($,G){var Y=m[G.curve.join(".")];if(!Y)throw new Error("unknown curve "+G.curve.join("."));var W=new c(Y).keyFromPrivate(G.privateKey).sign($);return o.from(W.toDER())})(g,T)}if(T.type==="dsa"){if(j!=="dsa")throw new Error("wrong private key type");return(function($,G,Y){for(var W,O=G.params.priv_key,I=G.params.p,R=G.params.q,S=G.params.g,C=new a(0),k=p($,R).mod(R),E=!1,M=h(O,R,$,Y);E===!1;)W=y(R,M,Y),C=x(S,W,I,R),(E=W.invm(R).imul(k.add(O.mul(C))).mod(R)).cmpn(0)===0&&(E=!1,C=new a(0));return(function(L,z){L=L.toArray(),z=z.toArray(),128&L[0]&&(L=[0].concat(L)),128&z[0]&&(z=[0].concat(z));var K=[48,L.length+z.length+4,2,L.length];return K=K.concat(L,[2,z.length],z),o.from(K)})(C,E)})(g,T,v)}if(j!=="rsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");g=o.concat([N,g]);for(var D=T.modulus.byteLength(),V=[0,1];g.length+V.length+1<D;)V.push(255);V.push(0);for(var P=-1;++P<g.length;)V.push(g[P]);return d(V,T)},s.exports.getKey=h,s.exports.makeKey=y},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,s,l){var o=e("safe-buffer").Buffer,i=e("bn.js"),d=e("elliptic").ec,c=e("parse-asn1"),a=e("./curves.json");function u(m,h){if(m.cmpn(0)<=0)throw new Error("invalid sig");if(m.cmp(h)>=h)throw new Error("invalid sig")}s.exports=function(m,h,p,y,x){var g=c(p);if(g.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(V,P,$){var G=a[$.data.algorithm.curve.join(".")];if(!G)throw new Error("unknown curve "+$.data.algorithm.curve.join("."));var Y=new d(G),W=$.data.subjectPrivateKey.data;return Y.verify(P,V,W)})(m,h,g)}if(g.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return(function(V,P,$){var G=$.data.p,Y=$.data.q,W=$.data.g,O=$.data.pub_key,I=c.signature.decode(V,"der"),R=I.s,S=I.r;u(R,Y),u(S,Y);var C=i.mont(G),k=R.invm(Y);return W.toRed(C).redPow(new i(P).mul(k).mod(Y)).fromRed().mul(O.toRed(C).redPow(S.mul(k).mod(Y)).fromRed()).mod(G).mod(Y).cmp(S)===0})(m,h,g)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");h=o.concat([x,h]);for(var w=g.modulus.byteLength(),v=[1],j=0;h.length+v.length+2<w;)v.push(255),j++;v.push(0);for(var N=-1;++N<h.length;)v.push(h[N]);v=o.from(v);var T=i.mont(g.modulus);m=(m=new i(m).toRed(T)).redPow(new i(g.publicExponent)),m=o.from(m.fromRed().toArray());var D=j<8?1:0;for(w=Math.min(m.length,v.length),m.length!==v.length&&(D=1),N=-1;++N<w;)D|=m[N]^v[N];return D===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,s,l){},{}],217:[function(e,s,l){var o=e("buffer"),i=o.Buffer;function d(a,u){for(var m in a)u[m]=a[m]}function c(a,u,m){return i(a,u,m)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?s.exports=o:(d(o,l),l.Buffer=c),d(i,c),c.from=function(a,u,m){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,u,m)},c.alloc=function(a,u,m){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=i(a);return u!==void 0?typeof m=="string"?h.fill(u,m):h.fill(u):h.fill(0),h},c.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},c.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(a)}},{buffer:220}],218:[function(e,s,l){var o=e("safe-buffer").Buffer,i=o.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(g){var w;switch(this.encoding=(function(v){var j=(function(N){if(!N)return"utf8";for(var T;;)switch(N){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return N;default:if(T)return;N=(""+N).toLowerCase(),T=!0}})(v);if(typeof j!="string"&&(o.isEncoding===i||!i(v)))throw new Error("Unknown encoding: "+v);return j||v})(g),this.encoding){case"utf16le":this.text=u,this.end=m,w=4;break;case"utf8":this.fillLast=a,w=4;break;case"base64":this.text=h,this.end=p,w=3;break;default:return this.write=y,void(this.end=x)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(w)}function c(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function a(g){var w=this.lastTotal-this.lastNeed,v=(function(j,N,T){if((192&N[0])!=128)return j.lastNeed=0,"";if(j.lastNeed>1&&N.length>1){if((192&N[1])!=128)return j.lastNeed=1,"";if(j.lastNeed>2&&N.length>2&&(192&N[2])!=128)return j.lastNeed=2,""}})(this,g);return v!==void 0?v:this.lastNeed<=g.length?(g.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,w,0,g.length),void(this.lastNeed-=g.length))}function u(g,w){if((g.length-w)%2==0){var v=g.toString("utf16le",w);if(v){var j=v.charCodeAt(v.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",w,g.length-1)}function m(g){var w=g&&g.length?this.write(g):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,v)}return w}function h(g,w){var v=(g.length-w)%3;return v===0?g.toString("base64",w):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",w,g.length-v))}function p(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function y(g){return g.toString(this.encoding)}function x(g){return g&&g.length?this.write(g):""}l.StringDecoder=d,d.prototype.write=function(g){if(g.length===0)return"";var w,v;if(this.lastNeed){if((w=this.fillLast(g))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<g.length?w?w+this.text(g,v):this.text(g,v):w||""},d.prototype.end=function(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+"":w},d.prototype.text=function(g,w){var v=(function(N,T,D){var V=T.length-1;if(V<D)return 0;var P=c(T[V]);return P>=0?(P>0&&(N.lastNeed=P-1),P):--V<D||P===-2?0:(P=c(T[V]))>=0?(P>0&&(N.lastNeed=P-2),P):--V<D||P===-2?0:(P=c(T[V]))>=0?(P>0&&(P===2?P=0:N.lastNeed=P-3),P):0})(this,g,w);if(!this.lastNeed)return g.toString("utf8",w);this.lastTotal=v;var j=g.length-(v-this.lastNeed);return g.copy(this.lastChar,0,j),g.toString("utf8",w,j)},d.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(e,s,l){(function(o){(function(){s.exports=function(i,d){for(var c=Math.min(i.length,d.length),a=new o(c),u=0;u<c;++u)a[u]=i[u]^d[u];return a}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,s,l){(function(o){(function(){var i=e("base64-js"),d=e("ieee754");l.Buffer=a,l.SlowBuffer=function(U){return+U!=U&&(U=0),a.alloc(+U)},l.INSPECT_MAX_BYTES=50;function c(U){if(U>2147483647)throw new RangeError('The value "'+U+'" is invalid for option "size"');var F=new Uint8Array(U);return F.__proto__=a.prototype,F}function a(U,F,J){if(typeof U=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(U)}return u(U,F,J)}function u(U,F,J){if(typeof U=="string")return(function(se,de){if(typeof de=="string"&&de!==""||(de="utf8"),!a.isEncoding(de))throw new TypeError("Unknown encoding: "+de);var we=0|x(se,de),ve=c(we),ie=ve.write(se,de);return ie!==we&&(ve=ve.slice(0,ie)),ve})(U,F);if(ArrayBuffer.isView(U))return p(U);if(U==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(H(U,ArrayBuffer)||U&&H(U.buffer,ArrayBuffer))return(function(se,de,we){if(de<0||se.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<de+(we||0))throw new RangeError('"length" is outside of buffer bounds');var ve;return ve=de===void 0&&we===void 0?new Uint8Array(se):we===void 0?new Uint8Array(se,de):new Uint8Array(se,de,we),ve.__proto__=a.prototype,ve})(U,F,J);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var re=U.valueOf&&U.valueOf();if(re!=null&&re!==U)return a.from(re,F,J);var ce=(function(se){if(a.isBuffer(se)){var de=0|y(se.length),we=c(de);return we.length===0||se.copy(we,0,0,de),we}if(se.length!==void 0)return typeof se.length!="number"||ee(se.length)?c(0):p(se);if(se.type==="Buffer"&&Array.isArray(se.data))return p(se.data)})(U);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return a.from(U[Symbol.toPrimitive]("string"),F,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function m(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function h(U){return m(U),c(U<0?0:0|y(U))}function p(U){for(var F=U.length<0?0:0|y(U.length),J=c(F),re=0;re<F;re+=1)J[re]=255&U[re];return J}function y(U){if(U>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|U}function x(U,F){if(a.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||H(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var J=U.length,re=arguments.length>2&&arguments[2]===!0;if(!re&&J===0)return 0;for(var ce=!1;;)switch(F){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return K(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*J;case"hex":return J>>>1;case"base64":return Z(U).length;default:if(ce)return re?-1:K(U).length;F=(""+F).toLowerCase(),ce=!0}}function g(U,F,J){var re=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0)<=(F>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return I(this,F,J);case"utf8":case"utf-8":return Y(this,F,J);case"ascii":return W(this,F,J);case"latin1":case"binary":return O(this,F,J);case"base64":return G(this,F,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,F,J);default:if(re)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),re=!0}}function w(U,F,J){var re=U[F];U[F]=U[J],U[J]=re}function v(U,F,J,re,ce){if(U.length===0)return-1;if(typeof J=="string"?(re=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),ee(J=+J)&&(J=ce?0:U.length-1),J<0&&(J=U.length+J),J>=U.length){if(ce)return-1;J=U.length-1}else if(J<0){if(!ce)return-1;J=0}if(typeof F=="string"&&(F=a.from(F,re)),a.isBuffer(F))return F.length===0?-1:j(U,F,J,re,ce);if(typeof F=="number")return F&=255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(U,F,J):Uint8Array.prototype.lastIndexOf.call(U,F,J):j(U,[F],J,re,ce);throw new TypeError("val must be string, number or Buffer")}function j(U,F,J,re,ce){var se,de=1,we=U.length,ve=F.length;if(re!==void 0&&((re=String(re).toLowerCase())==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(U.length<2||F.length<2)return-1;de=2,we/=2,ve/=2,J/=2}function ie(le,fe){return de===1?le[fe]:le.readUInt16BE(fe*de)}if(ce){var ge=-1;for(se=J;se<we;se++)if(ie(U,se)===ie(F,ge===-1?0:se-ge)){if(ge===-1&&(ge=se),se-ge+1===ve)return ge*de}else ge!==-1&&(se-=se-ge),ge=-1}else for(J+ve>we&&(J=we-ve),se=J;se>=0;se--){for(var me=!0,ae=0;ae<ve;ae++)if(ie(U,se+ae)!==ie(F,ae)){me=!1;break}if(me)return se}return-1}function N(U,F,J,re){J=Number(J)||0;var ce=U.length-J;re?(re=Number(re))>ce&&(re=ce):re=ce;var se=F.length;re>se/2&&(re=se/2);for(var de=0;de<re;++de){var we=parseInt(F.substr(2*de,2),16);if(ee(we))return de;U[J+de]=we}return de}function T(U,F,J,re){return te(K(F,U.length-J),U,J,re)}function D(U,F,J,re){return te((function(ce){for(var se=[],de=0;de<ce.length;++de)se.push(255&ce.charCodeAt(de));return se})(F),U,J,re)}function V(U,F,J,re){return D(U,F,J,re)}function P(U,F,J,re){return te(Z(F),U,J,re)}function $(U,F,J,re){return te((function(ce,se){for(var de,we,ve,ie=[],ge=0;ge<ce.length&&!((se-=2)<0);++ge)de=ce.charCodeAt(ge),we=de>>8,ve=de%256,ie.push(ve),ie.push(we);return ie})(F,U.length-J),U,J,re)}function G(U,F,J){return F===0&&J===U.length?i.fromByteArray(U):i.fromByteArray(U.slice(F,J))}function Y(U,F,J){J=Math.min(U.length,J);for(var re=[],ce=F;ce<J;){var se,de,we,ve,ie=U[ce],ge=null,me=ie>239?4:ie>223?3:ie>191?2:1;if(ce+me<=J)switch(me){case 1:ie<128&&(ge=ie);break;case 2:(192&(se=U[ce+1]))==128&&(ve=(31&ie)<<6|63&se)>127&&(ge=ve);break;case 3:se=U[ce+1],de=U[ce+2],(192&se)==128&&(192&de)==128&&(ve=(15&ie)<<12|(63&se)<<6|63&de)>2047&&(ve<55296||ve>57343)&&(ge=ve);break;case 4:se=U[ce+1],de=U[ce+2],we=U[ce+3],(192&se)==128&&(192&de)==128&&(192&we)==128&&(ve=(15&ie)<<18|(63&se)<<12|(63&de)<<6|63&we)>65535&&ve<1114112&&(ge=ve)}ge===null?(ge=65533,me=1):ge>65535&&(ge-=65536,re.push(ge>>>10&1023|55296),ge=56320|1023&ge),re.push(ge),ce+=me}return(function(ae){var le=ae.length;if(le<=4096)return String.fromCharCode.apply(String,ae);for(var fe="",xe=0;xe<le;)fe+=String.fromCharCode.apply(String,ae.slice(xe,xe+=4096));return fe})(re)}l.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=(function(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42}catch{return!1}})(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(U,F,J){return u(U,F,J)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(U,F,J){return(function(re,ce,se){return m(re),re<=0?c(re):ce!==void 0?typeof se=="string"?c(re).fill(ce,se):c(re).fill(ce):c(re)})(U,F,J)},a.allocUnsafe=function(U){return h(U)},a.allocUnsafeSlow=function(U){return h(U)},a.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==a.prototype},a.compare=function(U,F){if(H(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),H(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),!a.isBuffer(U)||!a.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===F)return 0;for(var J=U.length,re=F.length,ce=0,se=Math.min(J,re);ce<se;++ce)if(U[ce]!==F[ce]){J=U[ce],re=F[ce];break}return J<re?-1:re<J?1:0},a.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(U,F){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return a.alloc(0);var J;if(F===void 0)for(F=0,J=0;J<U.length;++J)F+=U[J].length;var re=a.allocUnsafe(F),ce=0;for(J=0;J<U.length;++J){var se=U[J];if(H(se,Uint8Array)&&(se=a.from(se)),!a.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(re,ce),ce+=se.length}return re},a.byteLength=x,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<U;F+=2)w(this,F,F+1);return this},a.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<U;F+=4)w(this,F,F+3),w(this,F+1,F+2);return this},a.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<U;F+=8)w(this,F,F+7),w(this,F+1,F+6),w(this,F+2,F+5),w(this,F+3,F+4);return this},a.prototype.toString=function(){var U=this.length;return U===0?"":arguments.length===0?Y(this,0,U):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(U){if(!a.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||a.compare(this,U)===0},a.prototype.inspect=function(){var U="",F=l.INSPECT_MAX_BYTES;return U=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(U+=" ... "),"<Buffer "+U+">"},a.prototype.compare=function(U,F,J,re,ce){if(H(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),!a.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(F===void 0&&(F=0),J===void 0&&(J=U?U.length:0),re===void 0&&(re=0),ce===void 0&&(ce=this.length),F<0||J>U.length||re<0||ce>this.length)throw new RangeError("out of range index");if(re>=ce&&F>=J)return 0;if(re>=ce)return-1;if(F>=J)return 1;if(this===U)return 0;for(var se=(ce>>>=0)-(re>>>=0),de=(J>>>=0)-(F>>>=0),we=Math.min(se,de),ve=this.slice(re,ce),ie=U.slice(F,J),ge=0;ge<we;++ge)if(ve[ge]!==ie[ge]){se=ve[ge],de=ie[ge];break}return se<de?-1:de<se?1:0},a.prototype.includes=function(U,F,J){return this.indexOf(U,F,J)!==-1},a.prototype.indexOf=function(U,F,J){return v(this,U,F,J,!0)},a.prototype.lastIndexOf=function(U,F,J){return v(this,U,F,J,!1)},a.prototype.write=function(U,F,J,re){if(F===void 0)re="utf8",J=this.length,F=0;else if(J===void 0&&typeof F=="string")re=F,J=this.length,F=0;else{if(!isFinite(F))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");F>>>=0,isFinite(J)?(J>>>=0,re===void 0&&(re="utf8")):(re=J,J=void 0)}var ce=this.length-F;if((J===void 0||J>ce)&&(J=ce),U.length>0&&(J<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var se=!1;;)switch(re){case"hex":return N(this,U,F,J);case"utf8":case"utf-8":return T(this,U,F,J);case"ascii":return D(this,U,F,J);case"latin1":case"binary":return V(this,U,F,J);case"base64":return P(this,U,F,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,U,F,J);default:if(se)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),se=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(U,F,J){var re="";J=Math.min(U.length,J);for(var ce=F;ce<J;++ce)re+=String.fromCharCode(127&U[ce]);return re}function O(U,F,J){var re="";J=Math.min(U.length,J);for(var ce=F;ce<J;++ce)re+=String.fromCharCode(U[ce]);return re}function I(U,F,J){var re=U.length;(!F||F<0)&&(F=0),(!J||J<0||J>re)&&(J=re);for(var ce="",se=F;se<J;++se)ce+=z(U[se]);return ce}function R(U,F,J){for(var re=U.slice(F,J),ce="",se=0;se<re.length;se+=2)ce+=String.fromCharCode(re[se]+256*re[se+1]);return ce}function S(U,F,J){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+F>J)throw new RangeError("Trying to access beyond buffer length")}function C(U,F,J,re,ce,se){if(!a.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>ce||F<se)throw new RangeError('"value" argument is out of bounds');if(J+re>U.length)throw new RangeError("Index out of range")}function k(U,F,J,re,ce,se){if(J+re>U.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function E(U,F,J,re,ce){return F=+F,J>>>=0,ce||k(U,0,J,4),d.write(U,F,J,re,23,4),J+4}function M(U,F,J,re,ce){return F=+F,J>>>=0,ce||k(U,0,J,8),d.write(U,F,J,re,52,8),J+8}a.prototype.slice=function(U,F){var J=this.length;(U=~~U)<0?(U+=J)<0&&(U=0):U>J&&(U=J),(F=F===void 0?J:~~F)<0?(F+=J)<0&&(F=0):F>J&&(F=J),F<U&&(F=U);var re=this.subarray(U,F);return re.__proto__=a.prototype,re},a.prototype.readUIntLE=function(U,F,J){U>>>=0,F>>>=0,J||S(U,F,this.length);for(var re=this[U],ce=1,se=0;++se<F&&(ce*=256);)re+=this[U+se]*ce;return re},a.prototype.readUIntBE=function(U,F,J){U>>>=0,F>>>=0,J||S(U,F,this.length);for(var re=this[U+--F],ce=1;F>0&&(ce*=256);)re+=this[U+--F]*ce;return re},a.prototype.readUInt8=function(U,F){return U>>>=0,F||S(U,1,this.length),this[U]},a.prototype.readUInt16LE=function(U,F){return U>>>=0,F||S(U,2,this.length),this[U]|this[U+1]<<8},a.prototype.readUInt16BE=function(U,F){return U>>>=0,F||S(U,2,this.length),this[U]<<8|this[U+1]},a.prototype.readUInt32LE=function(U,F){return U>>>=0,F||S(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},a.prototype.readUInt32BE=function(U,F){return U>>>=0,F||S(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},a.prototype.readIntLE=function(U,F,J){U>>>=0,F>>>=0,J||S(U,F,this.length);for(var re=this[U],ce=1,se=0;++se<F&&(ce*=256);)re+=this[U+se]*ce;return re>=(ce*=128)&&(re-=Math.pow(2,8*F)),re},a.prototype.readIntBE=function(U,F,J){U>>>=0,F>>>=0,J||S(U,F,this.length);for(var re=F,ce=1,se=this[U+--re];re>0&&(ce*=256);)se+=this[U+--re]*ce;return se>=(ce*=128)&&(se-=Math.pow(2,8*F)),se},a.prototype.readInt8=function(U,F){return U>>>=0,F||S(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},a.prototype.readInt16LE=function(U,F){U>>>=0,F||S(U,2,this.length);var J=this[U]|this[U+1]<<8;return 32768&J?4294901760|J:J},a.prototype.readInt16BE=function(U,F){U>>>=0,F||S(U,2,this.length);var J=this[U+1]|this[U]<<8;return 32768&J?4294901760|J:J},a.prototype.readInt32LE=function(U,F){return U>>>=0,F||S(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},a.prototype.readInt32BE=function(U,F){return U>>>=0,F||S(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},a.prototype.readFloatLE=function(U,F){return U>>>=0,F||S(U,4,this.length),d.read(this,U,!0,23,4)},a.prototype.readFloatBE=function(U,F){return U>>>=0,F||S(U,4,this.length),d.read(this,U,!1,23,4)},a.prototype.readDoubleLE=function(U,F){return U>>>=0,F||S(U,8,this.length),d.read(this,U,!0,52,8)},a.prototype.readDoubleBE=function(U,F){return U>>>=0,F||S(U,8,this.length),d.read(this,U,!1,52,8)},a.prototype.writeUIntLE=function(U,F,J,re){U=+U,F>>>=0,J>>>=0,re||C(this,U,F,J,Math.pow(2,8*J)-1,0);var ce=1,se=0;for(this[F]=255&U;++se<J&&(ce*=256);)this[F+se]=U/ce&255;return F+J},a.prototype.writeUIntBE=function(U,F,J,re){U=+U,F>>>=0,J>>>=0,re||C(this,U,F,J,Math.pow(2,8*J)-1,0);var ce=J-1,se=1;for(this[F+ce]=255&U;--ce>=0&&(se*=256);)this[F+ce]=U/se&255;return F+J},a.prototype.writeUInt8=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,1,255,0),this[F]=255&U,F+1},a.prototype.writeUInt16LE=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,2,65535,0),this[F]=255&U,this[F+1]=U>>>8,F+2},a.prototype.writeUInt16BE=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,2,65535,0),this[F]=U>>>8,this[F+1]=255&U,F+2},a.prototype.writeUInt32LE=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,4,4294967295,0),this[F+3]=U>>>24,this[F+2]=U>>>16,this[F+1]=U>>>8,this[F]=255&U,F+4},a.prototype.writeUInt32BE=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,4,4294967295,0),this[F]=U>>>24,this[F+1]=U>>>16,this[F+2]=U>>>8,this[F+3]=255&U,F+4},a.prototype.writeIntLE=function(U,F,J,re){if(U=+U,F>>>=0,!re){var ce=Math.pow(2,8*J-1);C(this,U,F,J,ce-1,-ce)}var se=0,de=1,we=0;for(this[F]=255&U;++se<J&&(de*=256);)U<0&&we===0&&this[F+se-1]!==0&&(we=1),this[F+se]=(U/de>>0)-we&255;return F+J},a.prototype.writeIntBE=function(U,F,J,re){if(U=+U,F>>>=0,!re){var ce=Math.pow(2,8*J-1);C(this,U,F,J,ce-1,-ce)}var se=J-1,de=1,we=0;for(this[F+se]=255&U;--se>=0&&(de*=256);)U<0&&we===0&&this[F+se+1]!==0&&(we=1),this[F+se]=(U/de>>0)-we&255;return F+J},a.prototype.writeInt8=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,1,127,-128),U<0&&(U=255+U+1),this[F]=255&U,F+1},a.prototype.writeInt16LE=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,2,32767,-32768),this[F]=255&U,this[F+1]=U>>>8,F+2},a.prototype.writeInt16BE=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,2,32767,-32768),this[F]=U>>>8,this[F+1]=255&U,F+2},a.prototype.writeInt32LE=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,4,2147483647,-2147483648),this[F]=255&U,this[F+1]=U>>>8,this[F+2]=U>>>16,this[F+3]=U>>>24,F+4},a.prototype.writeInt32BE=function(U,F,J){return U=+U,F>>>=0,J||C(this,U,F,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[F]=U>>>24,this[F+1]=U>>>16,this[F+2]=U>>>8,this[F+3]=255&U,F+4},a.prototype.writeFloatLE=function(U,F,J){return E(this,U,F,!0,J)},a.prototype.writeFloatBE=function(U,F,J){return E(this,U,F,!1,J)},a.prototype.writeDoubleLE=function(U,F,J){return M(this,U,F,!0,J)},a.prototype.writeDoubleBE=function(U,F,J){return M(this,U,F,!1,J)},a.prototype.copy=function(U,F,J,re){if(!a.isBuffer(U))throw new TypeError("argument should be a Buffer");if(J||(J=0),re||re===0||(re=this.length),F>=U.length&&(F=U.length),F||(F=0),re>0&&re<J&&(re=J),re===J||U.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),U.length-F<re-J&&(re=U.length-F+J);var ce=re-J;if(this===U&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(F,J,re);else if(this===U&&J<F&&F<re)for(var se=ce-1;se>=0;--se)U[se+F]=this[se+J];else Uint8Array.prototype.set.call(U,this.subarray(J,re),F);return ce},a.prototype.fill=function(U,F,J,re){if(typeof U=="string"){if(typeof F=="string"?(re=F,F=0,J=this.length):typeof J=="string"&&(re=J,J=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!a.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(U.length===1){var ce=U.charCodeAt(0);(re==="utf8"&&ce<128||re==="latin1")&&(U=ce)}}else typeof U=="number"&&(U&=255);if(F<0||this.length<F||this.length<J)throw new RangeError("Out of range index");if(J<=F)return this;var se;if(F>>>=0,J=J===void 0?this.length:J>>>0,U||(U=0),typeof U=="number")for(se=F;se<J;++se)this[se]=U;else{var de=a.isBuffer(U)?U:a.from(U,re),we=de.length;if(we===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(se=0;se<J-F;++se)this[se+F]=de[se%we]}return this};var L=/[^+/0-9A-Za-z-_]/g;function z(U){return U<16?"0"+U.toString(16):U.toString(16)}function K(U,F){var J;F=F||1/0;for(var re=U.length,ce=null,se=[],de=0;de<re;++de){if((J=U.charCodeAt(de))>55295&&J<57344){if(!ce){if(J>56319){(F-=3)>-1&&se.push(239,191,189);continue}if(de+1===re){(F-=3)>-1&&se.push(239,191,189);continue}ce=J;continue}if(J<56320){(F-=3)>-1&&se.push(239,191,189),ce=J;continue}J=65536+(ce-55296<<10|J-56320)}else ce&&(F-=3)>-1&&se.push(239,191,189);if(ce=null,J<128){if((F-=1)<0)break;se.push(J)}else if(J<2048){if((F-=2)<0)break;se.push(J>>6|192,63&J|128)}else if(J<65536){if((F-=3)<0)break;se.push(J>>12|224,J>>6&63|128,63&J|128)}else{if(!(J<1114112))throw new Error("Invalid code point");if((F-=4)<0)break;se.push(J>>18|240,J>>12&63|128,J>>6&63|128,63&J|128)}}return se}function Z(U){return i.toByteArray((function(F){if((F=(F=F.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F})(U))}function te(U,F,J,re){for(var ce=0;ce<re&&!(ce+J>=F.length||ce>=U.length);++ce)F[ce+J]=U[ce];return ce}function H(U,F){return U instanceof F||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===F.name}function ee(U){return U!=U}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,s,l){var o=e("safe-buffer").Buffer,i=e("stream").Transform,d=e("string_decoder").StringDecoder;function c(a){i.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(c,i),c.prototype.update=function(a,u,m){typeof a=="string"&&(a=o.from(a,u));var h=this._update(a);return this.hashMode?this:(m&&(h=this._toString(h,m)),h)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(a,u,m){var h;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(p){h=p}finally{m(h)}},c.prototype._flush=function(a){var u;try{this.push(this.__final())}catch(m){u=m}a(u)},c.prototype._finalOrDigest=function(a){var u=this.__final()||o.alloc(0);return a&&(u=this._toString(u,a,!0)),u},c.prototype._toString=function(a,u,m){if(this._decoder||(this._decoder=new d(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(a);return m&&(h+=this._decoder.end()),h},s.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,s,l){var o=e("../internals/is-callable"),i=e("../internals/try-to-string"),d=TypeError;s.exports=function(c){if(o(c))return c;throw new d(i(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,s,l){var o=e("../internals/is-constructor"),i=e("../internals/try-to-string"),d=TypeError;s.exports=function(c){if(o(c))return c;throw new d(i(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,s,l){var o=e("../internals/is-callable"),i=String,d=TypeError;s.exports=function(c){if(typeof c=="object"||o(c))return c;throw new d("Can't set "+i(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,s,l){var o=e("../internals/well-known-symbol"),i=e("../internals/object-create"),d=e("../internals/object-define-property").f,c=o("unscopables"),a=Array.prototype;a[c]===void 0&&d(a,c,{configurable:!0,value:i(null)}),s.exports=function(u){a[c][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,s,l){var o=e("../internals/object-is-prototype-of"),i=TypeError;s.exports=function(d,c){if(o(c,d))return d;throw new i("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,s,l){var o=e("../internals/is-object"),i=String,d=TypeError;s.exports=function(c){if(o(c))return c;throw new d(i(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,s,l){var o=e("../internals/to-indexed-object"),i=e("../internals/to-absolute-index"),d=e("../internals/length-of-array-like"),c=function(a){return function(u,m,h){var p,y=o(u),x=d(y),g=i(h,x);if(a&&m!=m){for(;x>g;)if((p=y[g++])!=p)return!0}else for(;x>g;g++)if((a||g in y)&&y[g]===m)return a||g||0;return!a&&-1}};s.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,s,l){var o=e("../internals/function-bind-context"),i=e("../internals/function-uncurry-this"),d=e("../internals/indexed-object"),c=e("../internals/to-object"),a=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),m=i([].push),h=function(p){var y=p===1,x=p===2,g=p===3,w=p===4,v=p===6,j=p===7,N=p===5||v;return function(T,D,V,P){for(var $,G,Y=c(T),W=d(Y),O=o(D,V),I=a(W),R=0,S=P||u,C=y?S(T,I):x||j?S(T,0):void 0;I>R;R++)if((N||R in W)&&(G=O($=W[R],R,Y),p))if(y)C[R]=G;else if(G)switch(p){case 3:return!0;case 5:return $;case 6:return R;case 2:m(C,$)}else switch(p){case 4:return!1;case 7:m(C,$)}return v?-1:g||w?w:C}};s.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,s,l){var o=e("../internals/to-absolute-index"),i=e("../internals/length-of-array-like"),d=e("../internals/create-property"),c=Array,a=Math.max;s.exports=function(u,m,h){for(var p=i(u),y=o(m,p),x=o(h===void 0?p:h,p),g=c(a(x-y,0)),w=0;y<x;y++,w++)d(g,w,u[y]);return g.length=w,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,s,l){var o=e("../internals/function-uncurry-this");s.exports=o([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,s,l){var o=e("../internals/is-array"),i=e("../internals/is-constructor"),d=e("../internals/is-object"),c=e("../internals/well-known-symbol")("species"),a=Array;s.exports=function(u){var m;return o(u)&&(m=u.constructor,(i(m)&&(m===a||o(m.prototype))||d(m)&&(m=m[c])===null)&&(m=void 0)),m===void 0?a:m}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,s,l){var o=e("../internals/array-species-constructor");s.exports=function(i,d){return new(o(i))(d===0?0:d)}},{"../internals/array-species-constructor":232}],234:[function(e,s,l){var o=e("../internals/well-known-symbol")("iterator"),i=!1;try{var d=0,c={next:function(){return{done:!!d++}},return:function(){i=!0}};c[o]=function(){return this},Array.from(c,(function(){throw 2}))}catch{}s.exports=function(a,u){try{if(!u&&!i)return!1}catch{return!1}var m=!1;try{var h={};h[o]=function(){return{next:function(){return{done:m=!0}}}},a(h)}catch{}return m}},{"../internals/well-known-symbol":357}],235:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=o({}.toString),d=o("".slice);s.exports=function(c){return d(i(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,s,l){var o=e("../internals/to-string-tag-support"),i=e("../internals/is-callable"),d=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),a=Object,u=d((function(){return arguments})())==="Arguments";s.exports=o?d:function(m){var h,p,y;return m===void 0?"Undefined":m===null?"Null":typeof(p=(function(x,g){try{return x[g]}catch{}})(h=a(m),c))=="string"?p:u?d(h):(y=d(h))==="Object"&&i(h.callee)?"Arguments":y}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,s,l){var o=e("../internals/has-own-property"),i=e("../internals/own-keys"),d=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");s.exports=function(a,u,m){for(var h=i(u),p=c.f,y=d.f,x=0;x<h.length;x++){var g=h[x];o(a,g)||m&&o(m,g)||p(a,g,y(u,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,s,l){var o=e("../internals/well-known-symbol")("match");s.exports=function(i){var d=/./;try{"/./"[i](d)}catch{try{return d[o]=!1,"/./"[i](d)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,s,l){var o=e("../internals/fails");s.exports=!o((function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype}))},{"../internals/fails":260}],240:[function(e,s,l){s.exports=function(o,i){return{value:o,done:i}}},{}],241:[function(e,s,l){var o=e("../internals/descriptors"),i=e("../internals/object-define-property"),d=e("../internals/create-property-descriptor");s.exports=o?function(c,a,u){return i.f(c,a,d(1,u))}:function(c,a,u){return c[a]=u,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,s,l){s.exports=function(o,i){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:i}}},{}],243:[function(e,s,l){var o=e("../internals/to-property-key"),i=e("../internals/object-define-property"),d=e("../internals/create-property-descriptor");s.exports=function(c,a,u){var m=o(a);m in c?i.f(c,m,d(0,u)):c[m]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,s,l){var o=e("../internals/make-built-in"),i=e("../internals/object-define-property");s.exports=function(d,c,a){return a.get&&o(a.get,c,{getter:!0}),a.set&&o(a.set,c,{setter:!0}),i.f(d,c,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,s,l){var o=e("../internals/is-callable"),i=e("../internals/object-define-property"),d=e("../internals/make-built-in"),c=e("../internals/define-global-property");s.exports=function(a,u,m,h){h||(h={});var p=h.enumerable,y=h.name!==void 0?h.name:u;if(o(m)&&d(m,y,h),h.global)p?a[u]=m:c(u,m);else{try{h.unsafe?a[u]&&(p=!0):delete a[u]}catch{}p?a[u]=m:i.f(a,u,{value:m,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,s,l){var o=e("../internals/global"),i=Object.defineProperty;s.exports=function(d,c){try{i(o,d,{value:c,configurable:!0,writable:!0})}catch{o[d]=c}return c}},{"../internals/global":274}],247:[function(e,s,l){var o=e("../internals/fails");s.exports=!o((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(e,s,l){var o=typeof document=="object"&&document.all,i=o===void 0&&o!==void 0;s.exports={all:o,IS_HTMLDDA:i}},{}],249:[function(e,s,l){var o=e("../internals/global"),i=e("../internals/is-object"),d=o.document,c=i(d)&&i(d.createElement);s.exports=function(a){return c?d.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,s,l){var o=e("../internals/engine-is-deno"),i=e("../internals/engine-is-node");s.exports=!o&&!i&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,s,l){s.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,s,l){var o=e("../internals/engine-user-agent");s.exports=/ipad|iphone|ipod/i.test(o)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,s,l){var o=e("../internals/engine-user-agent");s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},{"../internals/engine-user-agent":256}],254:[function(e,s,l){var o=e("../internals/global"),i=e("../internals/classof-raw");s.exports=i(o.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,s,l){var o=e("../internals/engine-user-agent");s.exports=/web0s(?!.*chrome)/i.test(o)},{"../internals/engine-user-agent":256}],256:[function(e,s,l){s.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,s,l){var o,i,d=e("../internals/global"),c=e("../internals/engine-user-agent"),a=d.process,u=d.Deno,m=a&&a.versions||u&&u.version,h=m&&m.v8;h&&(i=(o=h.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&c&&(!(o=c.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=c.match(/Chrome\/(\d+)/))&&(i=+o[1]),s.exports=i},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,s,l){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,s,l){var o=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/create-non-enumerable-property"),c=e("../internals/define-built-in"),a=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),m=e("../internals/is-forced");s.exports=function(h,p){var y,x,g,w,v,j=h.target,N=h.global,T=h.stat;if(y=N?o:T?o[j]||a(j,{}):(o[j]||{}).prototype)for(x in p){if(w=p[x],g=h.dontCallGetSet?(v=i(y,x))&&v.value:y[x],!m(N?x:j+(T?".":"#")+x,h.forced)&&g!==void 0){if(typeof w==typeof g)continue;u(w,g)}(h.sham||g&&g.sham)&&d(w,"sham",!0),c(y,x,w,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,s,l){s.exports=function(o){try{return!!o()}catch{return!0}}},{}],261:[function(e,s,l){var o=e("../internals/function-bind-native"),i=Function.prototype,d=i.apply,c=i.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(o?c.bind(d):function(){return c.apply(d,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,s,l){var o=e("../internals/function-uncurry-this-clause"),i=e("../internals/a-callable"),d=e("../internals/function-bind-native"),c=o(o.bind);s.exports=function(a,u){return i(a),u===void 0?a:d?c(a,u):function(){return a.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,s,l){var o=e("../internals/fails");s.exports=!o((function(){var i=(function(){}).bind();return typeof i!="function"||i.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(e,s,l){var o=e("../internals/function-bind-native"),i=Function.prototype.call;s.exports=o?i.bind(i):function(){return i.apply(i,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,s,l){var o=e("../internals/descriptors"),i=e("../internals/has-own-property"),d=Function.prototype,c=o&&Object.getOwnPropertyDescriptor,a=i(d,"name"),u=a&&(function(){}).name==="something",m=a&&(!o||o&&c(d,"name").configurable);s.exports={EXISTS:a,PROPER:u,CONFIGURABLE:m}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=e("../internals/a-callable");s.exports=function(d,c,a){try{return o(i(Object.getOwnPropertyDescriptor(d,c)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,s,l){var o=e("../internals/classof-raw"),i=e("../internals/function-uncurry-this");s.exports=function(d){if(o(d)==="Function")return i(d)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,s,l){var o=e("../internals/function-bind-native"),i=Function.prototype,d=i.call,c=o&&i.bind.bind(d,d);s.exports=o?c:function(a){return function(){return d.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,s,l){var o=e("../internals/global"),i=e("../internals/is-callable"),d=function(c){return i(c)?c:void 0};s.exports=function(c,a){return arguments.length<2?d(o[c]):o[c]&&o[c][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,s,l){var o=e("../internals/classof"),i=e("../internals/get-method"),d=e("../internals/is-null-or-undefined"),c=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");s.exports=function(u){if(!d(u))return i(u,a)||i(u,"@@iterator")||c[o(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,s,l){var o=e("../internals/function-call"),i=e("../internals/a-callable"),d=e("../internals/an-object"),c=e("../internals/try-to-string"),a=e("../internals/get-iterator-method"),u=TypeError;s.exports=function(m,h){var p=arguments.length<2?a(m):h;if(i(p))return d(o(p,m));throw new u(c(m)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=e("../internals/is-array"),d=e("../internals/is-callable"),c=e("../internals/classof-raw"),a=e("../internals/to-string"),u=o([].push);s.exports=function(m){if(d(m))return m;if(i(m)){for(var h=m.length,p=[],y=0;y<h;y++){var x=m[y];typeof x=="string"?u(p,x):typeof x!="number"&&c(x)!=="Number"&&c(x)!=="String"||u(p,a(x))}var g=p.length,w=!0;return function(v,j){if(w)return w=!1,j;if(i(this))return j;for(var N=0;N<g;N++)if(p[N]===v)return j}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,s,l){var o=e("../internals/a-callable"),i=e("../internals/is-null-or-undefined");s.exports=function(d,c){var a=d[c];return i(a)?void 0:o(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,s,l){(function(o){(function(){var i=function(d){return d&&d.Math===Math&&d};s.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof o=="object"&&o)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=e("../internals/to-object"),d=o({}.hasOwnProperty);s.exports=Object.hasOwn||function(c,a){return d(i(c),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,s,l){s.exports={}},{}],277:[function(e,s,l){s.exports=function(o,i){try{arguments.length===1?console.error(o):console.error(o,i)}catch{}}},{}],278:[function(e,s,l){var o=e("../internals/get-built-in");s.exports=o("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,s,l){var o=e("../internals/descriptors"),i=e("../internals/fails"),d=e("../internals/document-create-element");s.exports=!o&&!i((function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=e("../internals/fails"),d=e("../internals/classof-raw"),c=Object,a=o("".split);s.exports=i((function(){return!c("z").propertyIsEnumerable(0)}))?function(u){return d(u)==="String"?a(u,""):c(u)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=e("../internals/is-callable"),d=e("../internals/shared-store"),c=o(Function.toString);i(d.inspectSource)||(d.inspectSource=function(a){return c(a)}),s.exports=d.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,s,l){var o,i,d,c=e("../internals/weak-map-basic-detection"),a=e("../internals/global"),u=e("../internals/is-object"),m=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),p=e("../internals/shared-store"),y=e("../internals/shared-key"),x=e("../internals/hidden-keys"),g=a.TypeError,w=a.WeakMap;if(c||p.state){var v=p.state||(p.state=new w);v.get=v.get,v.has=v.has,v.set=v.set,o=function(N,T){if(v.has(N))throw new g("Object already initialized");return T.facade=N,v.set(N,T),T},i=function(N){return v.get(N)||{}},d=function(N){return v.has(N)}}else{var j=y("state");x[j]=!0,o=function(N,T){if(h(N,j))throw new g("Object already initialized");return T.facade=N,m(N,j,T),T},i=function(N){return h(N,j)?N[j]:{}},d=function(N){return h(N,j)}}s.exports={set:o,get:i,has:d,enforce:function(N){return d(N)?i(N):o(N,{})},getterFor:function(N){return function(T){var D;if(!u(T)||(D=i(T)).type!==N)throw new g("Incompatible receiver, "+N+" required");return D}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,s,l){var o=e("../internals/well-known-symbol"),i=e("../internals/iterators"),d=o("iterator"),c=Array.prototype;s.exports=function(a){return a!==void 0&&(i.Array===a||c[d]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,s,l){var o=e("../internals/classof-raw");s.exports=Array.isArray||function(i){return o(i)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,s,l){var o=e("../internals/document-all"),i=o.all;s.exports=o.IS_HTMLDDA?function(d){return typeof d=="function"||d===i}:function(d){return typeof d=="function"}},{"../internals/document-all":248}],286:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=e("../internals/fails"),d=e("../internals/is-callable"),c=e("../internals/classof"),a=e("../internals/get-built-in"),u=e("../internals/inspect-source"),m=function(){},h=[],p=a("Reflect","construct"),y=/^\s*(?:class|function)\b/,x=o(y.exec),g=!y.test(m),w=function(j){if(!d(j))return!1;try{return p(m,h,j),!0}catch{return!1}},v=function(j){if(!d(j))return!1;switch(c(j)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!x(y,u(j))}catch{return!0}};v.sham=!0,s.exports=!p||i((function(){var j;return w(w.call)||!w(Object)||!w((function(){j=!0}))||j}))?v:w},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,s,l){var o=e("../internals/fails"),i=e("../internals/is-callable"),d=/#|\.prototype\./,c=function(p,y){var x=u[a(p)];return x===h||x!==m&&(i(y)?o(y):!!y)},a=c.normalize=function(p){return String(p).replace(d,".").toLowerCase()},u=c.data={},m=c.NATIVE="N",h=c.POLYFILL="P";s.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,s,l){s.exports=function(o){return o==null}},{}],289:[function(e,s,l){var o=e("../internals/is-callable"),i=e("../internals/document-all"),d=i.all;s.exports=i.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:o(c)||c===d}:function(c){return typeof c=="object"?c!==null:o(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,s,l){s.exports=!1},{}],291:[function(e,s,l){var o=e("../internals/is-object"),i=e("../internals/classof-raw"),d=e("../internals/well-known-symbol")("match");s.exports=function(c){var a;return o(c)&&((a=c[d])!==void 0?!!a:i(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,s,l){var o=e("../internals/get-built-in"),i=e("../internals/is-callable"),d=e("../internals/object-is-prototype-of"),c=e("../internals/use-symbol-as-uid"),a=Object;s.exports=c?function(u){return typeof u=="symbol"}:function(u){var m=o("Symbol");return i(m)&&d(m.prototype,a(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,s,l){var o=e("../internals/function-bind-context"),i=e("../internals/function-call"),d=e("../internals/an-object"),c=e("../internals/try-to-string"),a=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),m=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),p=e("../internals/get-iterator-method"),y=e("../internals/iterator-close"),x=TypeError,g=function(v,j){this.stopped=v,this.result=j},w=g.prototype;s.exports=function(v,j,N){var T,D,V,P,$,G,Y,W=N&&N.that,O=!(!N||!N.AS_ENTRIES),I=!(!N||!N.IS_RECORD),R=!(!N||!N.IS_ITERATOR),S=!(!N||!N.INTERRUPTED),C=o(j,W),k=function(M){return T&&y(T,"normal",M),new g(!0,M)},E=function(M){return O?(d(M),S?C(M[0],M[1],k):C(M[0],M[1])):S?C(M,k):C(M)};if(I)T=v.iterator;else if(R)T=v;else{if(!(D=p(v)))throw new x(c(v)+" is not iterable");if(a(D)){for(V=0,P=u(v);P>V;V++)if(($=E(v[V]))&&m(w,$))return $;return new g(!1)}T=h(v,D)}for(G=I?v.next:T.next;!(Y=i(G,T)).done;){try{$=E(Y.value)}catch(M){y(T,"throw",M)}if(typeof $=="object"&&$&&m(w,$))return $}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,s,l){var o=e("../internals/function-call"),i=e("../internals/an-object"),d=e("../internals/get-method");s.exports=function(c,a,u){var m,h;i(c);try{if(!(m=d(c,"return"))){if(a==="throw")throw u;return u}m=o(m,c)}catch(p){h=!0,m=p}if(a==="throw")throw u;if(h)throw m;return i(m),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,s,l){var o=e("../internals/iterators-core").IteratorPrototype,i=e("../internals/object-create"),d=e("../internals/create-property-descriptor"),c=e("../internals/set-to-string-tag"),a=e("../internals/iterators"),u=function(){return this};s.exports=function(m,h,p,y){var x=h+" Iterator";return m.prototype=i(o,{next:d(+!y,p)}),c(m,x,!1,!0),a[x]=u,m}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/function-call"),d=e("../internals/is-pure"),c=e("../internals/function-name"),a=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),m=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),p=e("../internals/set-to-string-tag"),y=e("../internals/create-non-enumerable-property"),x=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),w=e("../internals/iterators"),v=e("../internals/iterators-core"),j=c.PROPER,N=c.CONFIGURABLE,T=v.IteratorPrototype,D=v.BUGGY_SAFARI_ITERATORS,V=g("iterator"),P=function(){return this};s.exports=function($,G,Y,W,O,I,R){u(Y,G,W);var S,C,k,E=function(H){if(H===O&&Z)return Z;if(!D&&H&&H in z)return z[H];switch(H){case"keys":case"values":case"entries":return function(){return new Y(this,H)}}return function(){return new Y(this)}},M=G+" Iterator",L=!1,z=$.prototype,K=z[V]||z["@@iterator"]||O&&z[O],Z=!D&&K||E(O),te=G==="Array"&&z.entries||K;if(te&&(S=m(te.call(new $)))!==Object.prototype&&S.next&&(d||m(S)===T||(h?h(S,T):a(S[V])||x(S,V,P)),p(S,M,!0,!0),d&&(w[M]=P)),j&&O==="values"&&K&&K.name!=="values"&&(!d&&N?y(z,"name","values"):(L=!0,Z=function(){return i(K,this)})),O)if(C={values:E("values"),keys:I?Z:E("keys"),entries:E("entries")},R)for(k in C)(D||L||!(k in z))&&x(z,k,C[k]);else o({target:G,proto:!0,forced:D||L},C);return d&&!R||z[V]===Z||x(z,V,Z,{name:O}),w[G]=Z,C}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,s,l){var o,i,d,c=e("../internals/fails"),a=e("../internals/is-callable"),u=e("../internals/is-object"),m=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),p=e("../internals/define-built-in"),y=e("../internals/well-known-symbol"),x=e("../internals/is-pure"),g=y("iterator"),w=!1;[].keys&&("next"in(d=[].keys())?(i=h(h(d)))!==Object.prototype&&(o=i):w=!0),!u(o)||c((function(){var v={};return o[g].call(v)!==v}))?o={}:x&&(o=m(o)),a(o[g])||p(o,g,(function(){return this})),s.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:w}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,s,l){arguments[4][276][0].apply(l,arguments)},{dup:276}],299:[function(e,s,l){var o=e("../internals/to-length");s.exports=function(i){return o(i.length)}},{"../internals/to-length":343}],300:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=e("../internals/fails"),d=e("../internals/is-callable"),c=e("../internals/has-own-property"),a=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,m=e("../internals/inspect-source"),h=e("../internals/internal-state"),p=h.enforce,y=h.get,x=String,g=Object.defineProperty,w=o("".slice),v=o("".replace),j=o([].join),N=a&&!i((function(){return g((function(){}),"length",{value:8}).length!==8})),T=String(String).split("String"),D=s.exports=function(V,P,$){w(x(P),0,7)==="Symbol("&&(P="["+v(x(P),/^Symbol\(([^)]*)\)/,"$1")+"]"),$&&$.getter&&(P="get "+P),$&&$.setter&&(P="set "+P),(!c(V,"name")||u&&V.name!==P)&&(a?g(V,"name",{value:P,configurable:!0}):V.name=P),N&&$&&c($,"arity")&&V.length!==$.arity&&g(V,"length",{value:$.arity});try{$&&c($,"constructor")&&$.constructor?a&&g(V,"prototype",{writable:!1}):V.prototype&&(V.prototype=void 0)}catch{}var G=p(V);return c(G,"source")||(G.source=j(T,typeof P=="string"?P:"")),V};Function.prototype.toString=D((function(){return d(this)&&y(this).source||m(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,s,l){var o=Math.ceil,i=Math.floor;s.exports=Math.trunc||function(d){var c=+d;return(c>0?i:o)(c)}},{}],302:[function(e,s,l){var o,i,d,c,a,u=e("../internals/global"),m=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,p=e("../internals/task").set,y=e("../internals/queue"),x=e("../internals/engine-is-ios"),g=e("../internals/engine-is-ios-pebble"),w=e("../internals/engine-is-webos-webkit"),v=e("../internals/engine-is-node"),j=u.MutationObserver||u.WebKitMutationObserver,N=u.document,T=u.process,D=u.Promise,V=h(u,"queueMicrotask"),P=V&&V.value;if(!P){var $=new y,G=function(){var Y,W;for(v&&(Y=T.domain)&&Y.exit();W=$.get();)try{W()}catch(O){throw $.head&&o(),O}Y&&Y.enter()};x||v||w||!j||!N?!g&&D&&D.resolve?((c=D.resolve(void 0)).constructor=D,a=m(c.then,c),o=function(){a(G)}):v?o=function(){T.nextTick(G)}:(p=m(p,u),o=function(){p(G)}):(i=!0,d=N.createTextNode(""),new j(G).observe(d,{characterData:!0}),o=function(){d.data=i=!i}),P=function(Y){$.head||o(),$.add(Y)}}s.exports=P},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,s,l){var o=e("../internals/a-callable"),i=TypeError,d=function(c){var a,u;this.promise=new c((function(m,h){if(a!==void 0||u!==void 0)throw new i("Bad Promise constructor");a=m,u=h})),this.resolve=o(a),this.reject=o(u)};s.exports.f=function(c){return new d(c)}},{"../internals/a-callable":222}],304:[function(e,s,l){var o=e("../internals/is-regexp"),i=TypeError;s.exports=function(d){if(o(d))throw new i("The method doesn't accept regular expressions");return d}},{"../internals/is-regexp":291}],305:[function(e,s,l){var o=e("../internals/descriptors"),i=e("../internals/function-uncurry-this"),d=e("../internals/function-call"),c=e("../internals/fails"),a=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),m=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),p=e("../internals/indexed-object"),y=Object.assign,x=Object.defineProperty,g=i([].concat);s.exports=!y||c((function(){if(o&&y({b:1},y(x({},"a",{enumerable:!0,get:function(){x(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},v={},j=Symbol("assign detection");return w[j]=7,"abcdefghijklmnopqrst".split("").forEach((function(N){v[N]=N})),y({},w)[j]!==7||a(y({},v)).join("")!=="abcdefghijklmnopqrst"}))?function(w,v){for(var j=h(w),N=arguments.length,T=1,D=u.f,V=m.f;N>T;)for(var P,$=p(arguments[T++]),G=D?g(a($),D($)):a($),Y=G.length,W=0;Y>W;)P=G[W++],o&&!d(V,$,P)||(j[P]=$[P]);return j}:y},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,s,l){var o,i=e("../internals/an-object"),d=e("../internals/object-define-properties"),c=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),u=e("../internals/html"),m=e("../internals/document-create-element"),h=e("../internals/shared-key"),p=h("IE_PROTO"),y=function(){},x=function(v){return"<script>"+v+"<\/script>"},g=function(v){v.write(x("")),v.close();var j=v.parentWindow.Object;return v=null,j},w=function(){try{o=new ActiveXObject("htmlfile")}catch{}var v,j;w=typeof document<"u"?document.domain&&o?g(o):((j=m("iframe")).style.display="none",u.appendChild(j),j.src="javascript:",(v=j.contentWindow.document).open(),v.write(x("document.F=Object")),v.close(),v.F):g(o);for(var N=c.length;N--;)delete w.prototype[c[N]];return w()};a[p]=!0,s.exports=Object.create||function(v,j){var N;return v!==null?(y.prototype=i(v),N=new y,y.prototype=null,N[p]=v):N=w(),j===void 0?N:d.f(N,j)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,s,l){var o=e("../internals/descriptors"),i=e("../internals/v8-prototype-define-bug"),d=e("../internals/object-define-property"),c=e("../internals/an-object"),a=e("../internals/to-indexed-object"),u=e("../internals/object-keys");l.f=o&&!i?Object.defineProperties:function(m,h){c(m);for(var p,y=a(h),x=u(h),g=x.length,w=0;g>w;)d.f(m,p=x[w++],y[p]);return m}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,s,l){var o=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),d=e("../internals/v8-prototype-define-bug"),c=e("../internals/an-object"),a=e("../internals/to-property-key"),u=TypeError,m=Object.defineProperty,h=Object.getOwnPropertyDescriptor;l.f=o?d?function(p,y,x){if(c(p),y=a(y),c(x),typeof p=="function"&&y==="prototype"&&"value"in x&&"writable"in x&&!x.writable){var g=h(p,y);g&&g.writable&&(p[y]=x.value,x={configurable:"configurable"in x?x.configurable:g.configurable,enumerable:"enumerable"in x?x.enumerable:g.enumerable,writable:!1})}return m(p,y,x)}:m:function(p,y,x){if(c(p),y=a(y),c(x),i)try{return m(p,y,x)}catch{}if("get"in x||"set"in x)throw new u("Accessors not supported");return"value"in x&&(p[y]=x.value),p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,s,l){var o=e("../internals/descriptors"),i=e("../internals/function-call"),d=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),m=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;l.f=o?p:function(y,x){if(y=a(y),x=u(x),h)try{return p(y,x)}catch{}if(m(y,x))return c(!i(d.f,y,x),y[x])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,s,l){var o=e("../internals/classof-raw"),i=e("../internals/to-indexed-object"),d=e("../internals/object-get-own-property-names").f,c=e("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(u){return a&&o(u)==="Window"?(function(m){try{return d(m)}catch{return c(a)}})(u):d(i(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,s,l){var o=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(d){return o(d,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,s,l){l.f=Object.getOwnPropertySymbols},{}],313:[function(e,s,l){var o=e("../internals/has-own-property"),i=e("../internals/is-callable"),d=e("../internals/to-object"),c=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),u=c("IE_PROTO"),m=Object,h=m.prototype;s.exports=a?m.getPrototypeOf:function(p){var y=d(p);if(o(y,u))return y[u];var x=y.constructor;return i(x)&&y instanceof x?x.prototype:y instanceof m?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,s,l){var o=e("../internals/function-uncurry-this");s.exports=o({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=e("../internals/has-own-property"),d=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys"),u=o([].push);s.exports=function(m,h){var p,y=d(m),x=0,g=[];for(p in y)!i(a,p)&&i(y,p)&&u(g,p);for(;h.length>x;)i(y,p=h[x++])&&(~c(g,p)||u(g,p));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,s,l){var o=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");s.exports=Object.keys||function(d){return o(d,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,s,l){var o={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,d=i&&!o.call({1:2},1);l.f=d?function(c){var a=i(this,c);return!!a&&a.enumerable}:o},{}],318:[function(e,s,l){var o=e("../internals/function-uncurry-this-accessor"),i=e("../internals/an-object"),d=e("../internals/a-possible-prototype");s.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c,a=!1,u={};try{(c=o(Object.prototype,"__proto__","set"))(u,[]),a=u instanceof Array}catch{}return function(m,h){return i(m),d(h),a?c(m,h):m.__proto__=h,m}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,s,l){var o=e("../internals/descriptors"),i=e("../internals/fails"),d=e("../internals/function-uncurry-this"),c=e("../internals/object-get-prototype-of"),a=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),m=d(e("../internals/object-property-is-enumerable").f),h=d([].push),p=o&&i((function(){var x=Object.create(null);return x[2]=2,!m(x,2)})),y=function(x){return function(g){for(var w,v=u(g),j=a(v),N=p&&c(v)===null,T=j.length,D=0,V=[];T>D;)w=j[D++],o&&!(N?w in v:m(v,w))||h(V,x?[w,v[w]]:v[w]);return V}};s.exports={entries:y(!0),values:y(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,s,l){var o=e("../internals/function-call"),i=e("../internals/is-callable"),d=e("../internals/is-object"),c=TypeError;s.exports=function(a,u){var m,h;if(u==="string"&&i(m=a.toString)&&!d(h=o(m,a))||i(m=a.valueOf)&&!d(h=o(m,a))||u!=="string"&&i(m=a.toString)&&!d(h=o(m,a)))return h;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,s,l){var o=e("../internals/get-built-in"),i=e("../internals/function-uncurry-this"),d=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object"),u=i([].concat);s.exports=o("Reflect","ownKeys")||function(m){var h=d.f(a(m)),p=c.f;return p?u(h,p(m)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,s,l){var o=e("../internals/global");s.exports=o},{"../internals/global":274}],323:[function(e,s,l){s.exports=function(o){try{return{error:!1,value:o()}}catch(i){return{error:!0,value:i}}}},{}],324:[function(e,s,l){var o=e("../internals/global"),i=e("../internals/promise-native-constructor"),d=e("../internals/is-callable"),c=e("../internals/is-forced"),a=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),m=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),p=e("../internals/is-pure"),y=e("../internals/engine-v8-version"),x=i&&i.prototype,g=u("species"),w=!1,v=d(o.PromiseRejectionEvent),j=c("Promise",(function(){var N=a(i),T=N!==String(i);if(!T&&y===66||p&&(!x.catch||!x.finally))return!0;if(!y||y<51||!/native code/.test(N)){var D=new i((function(P){P(1)})),V=function(P){P((function(){}),(function(){}))};if((D.constructor={})[g]=V,!(w=D.then((function(){}))instanceof V))return!0}return!T&&(m||h)&&!v}));s.exports={CONSTRUCTOR:j,REJECTION_EVENT:v,SUBCLASSING:w}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,s,l){var o=e("../internals/global");s.exports=o.Promise},{"../internals/global":274}],326:[function(e,s,l){var o=e("../internals/an-object"),i=e("../internals/is-object"),d=e("../internals/new-promise-capability");s.exports=function(c,a){if(o(c),i(a)&&a.constructor===c)return a;var u=d.f(c);return(0,u.resolve)(a),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,s,l){var o=e("../internals/promise-native-constructor"),i=e("../internals/check-correctness-of-iteration"),d=e("../internals/promise-constructor-detection").CONSTRUCTOR;s.exports=d||!i((function(c){o.all(c).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,s,l){var o=function(){this.head=null,this.tail=null};o.prototype={add:function(i){var d={item:i,next:null},c=this.tail;c?c.next=d:this.head=d,this.tail=d},get:function(){var i=this.head;if(i)return(this.head=i.next)===null&&(this.tail=null),i.item}},s.exports=o},{}],329:[function(e,s,l){var o=e("../internals/is-null-or-undefined"),i=TypeError;s.exports=function(d){if(o(d))throw new i("Can't call method on "+d);return d}},{"../internals/is-null-or-undefined":288}],330:[function(e,s,l){var o=e("../internals/get-built-in"),i=e("../internals/define-built-in-accessor"),d=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),a=d("species");s.exports=function(u){var m=o(u);c&&m&&!m[a]&&i(m,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,s,l){var o=e("../internals/object-define-property").f,i=e("../internals/has-own-property"),d=e("../internals/well-known-symbol")("toStringTag");s.exports=function(c,a,u){c&&!u&&(c=c.prototype),c&&!i(c,d)&&o(c,d,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,s,l){var o=e("../internals/shared"),i=e("../internals/uid"),d=o("keys");s.exports=function(c){return d[c]||(d[c]=i(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,s,l){var o=e("../internals/global"),i=e("../internals/define-global-property"),d=o["__core-js_shared__"]||i("__core-js_shared__",{});s.exports=d},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,s,l){var o=e("../internals/is-pure"),i=e("../internals/shared-store");(s.exports=function(d,c){return i[d]||(i[d]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:o?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,s,l){var o=e("../internals/an-object"),i=e("../internals/a-constructor"),d=e("../internals/is-null-or-undefined"),c=e("../internals/well-known-symbol")("species");s.exports=function(a,u){var m,h=o(a).constructor;return h===void 0||d(m=o(h)[c])?u:i(m)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,s,l){var o=e("../internals/engine-v8-version"),i=e("../internals/fails"),d=e("../internals/global").String;s.exports=!!Object.getOwnPropertySymbols&&!i((function(){var c=Symbol("symbol detection");return!d(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,s,l){var o=e("../internals/function-call"),i=e("../internals/get-built-in"),d=e("../internals/well-known-symbol"),c=e("../internals/define-built-in");s.exports=function(){var a=i("Symbol"),u=a&&a.prototype,m=u&&u.valueOf,h=d("toPrimitive");u&&!u[h]&&c(u,h,(function(p){return o(m,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,s,l){var o=e("../internals/symbol-constructor-detection");s.exports=o&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,s,l){var o,i,d,c,a=e("../internals/global"),u=e("../internals/function-apply"),m=e("../internals/function-bind-context"),h=e("../internals/is-callable"),p=e("../internals/has-own-property"),y=e("../internals/fails"),x=e("../internals/html"),g=e("../internals/array-slice"),w=e("../internals/document-create-element"),v=e("../internals/validate-arguments-length"),j=e("../internals/engine-is-ios"),N=e("../internals/engine-is-node"),T=a.setImmediate,D=a.clearImmediate,V=a.process,P=a.Dispatch,$=a.Function,G=a.MessageChannel,Y=a.String,W=0,O={};y((function(){o=a.location}));var I=function(k){if(p(O,k)){var E=O[k];delete O[k],E()}},R=function(k){return function(){I(k)}},S=function(k){I(k.data)},C=function(k){a.postMessage(Y(k),o.protocol+"//"+o.host)};T&&D||(T=function(k){v(arguments.length,1);var E=h(k)?k:$(k),M=g(arguments,1);return O[++W]=function(){u(E,void 0,M)},i(W),W},D=function(k){delete O[k]},N?i=function(k){V.nextTick(R(k))}:P&&P.now?i=function(k){P.now(R(k))}:G&&!j?(c=(d=new G).port2,d.port1.onmessage=S,i=m(c.postMessage,c)):a.addEventListener&&h(a.postMessage)&&!a.importScripts&&o&&o.protocol!=="file:"&&!y(C)?(i=C,a.addEventListener("message",S,!1)):i="onreadystatechange"in w("script")?function(k){x.appendChild(w("script")).onreadystatechange=function(){x.removeChild(this),I(k)}}:function(k){setTimeout(R(k),0)}),s.exports={set:T,clear:D}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,s,l){var o=e("../internals/to-integer-or-infinity"),i=Math.max,d=Math.min;s.exports=function(c,a){var u=o(c);return u<0?i(u+a,0):d(u,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,s,l){var o=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");s.exports=function(d){return o(i(d))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,s,l){var o=e("../internals/math-trunc");s.exports=function(i){var d=+i;return d!=d||d===0?0:o(d)}},{"../internals/math-trunc":301}],343:[function(e,s,l){var o=e("../internals/to-integer-or-infinity"),i=Math.min;s.exports=function(d){return d>0?i(o(d),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,s,l){var o=e("../internals/require-object-coercible"),i=Object;s.exports=function(d){return i(o(d))}},{"../internals/require-object-coercible":329}],345:[function(e,s,l){var o=e("../internals/function-call"),i=e("../internals/is-object"),d=e("../internals/is-symbol"),c=e("../internals/get-method"),a=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),m=TypeError,h=u("toPrimitive");s.exports=function(p,y){if(!i(p)||d(p))return p;var x,g=c(p,h);if(g){if(y===void 0&&(y="default"),x=o(g,p,y),!i(x)||d(x))return x;throw new m("Can't convert object to primitive value")}return y===void 0&&(y="number"),a(p,y)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,s,l){var o=e("../internals/to-primitive"),i=e("../internals/is-symbol");s.exports=function(d){var c=o(d,"string");return i(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,s,l){var o={};o[e("../internals/well-known-symbol")("toStringTag")]="z",s.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,s,l){var o=e("../internals/classof"),i=String;s.exports=function(d){if(o(d)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(d)}},{"../internals/classof":236}],349:[function(e,s,l){var o=String;s.exports=function(i){try{return o(i)}catch{return"Object"}}},{}],350:[function(e,s,l){var o=e("../internals/function-uncurry-this"),i=0,d=Math.random(),c=o(1 .toString);s.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+c(++i+d,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,s,l){var o=e("../internals/symbol-constructor-detection");s.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,s,l){var o=e("../internals/descriptors"),i=e("../internals/fails");s.exports=o&&i((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,s,l){var o=TypeError;s.exports=function(i,d){if(i<d)throw new o("Not enough arguments");return i}},{}],354:[function(e,s,l){var o=e("../internals/global"),i=e("../internals/is-callable"),d=o.WeakMap;s.exports=i(d)&&/native code/.test(String(d))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,s,l){var o=e("../internals/path"),i=e("../internals/has-own-property"),d=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;s.exports=function(a){var u=o.Symbol||(o.Symbol={});i(u,a)||c(u,a,{value:d.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,s,l){var o=e("../internals/well-known-symbol");l.f=o},{"../internals/well-known-symbol":357}],357:[function(e,s,l){var o=e("../internals/global"),i=e("../internals/shared"),d=e("../internals/has-own-property"),c=e("../internals/uid"),a=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),m=o.Symbol,h=i("wks"),p=u?m.for||m:m&&m.withoutSetter||c;s.exports=function(y){return d(h,y)||(h[y]=a&&d(m,y)?m[y]:p("Symbol."+y)),h[y]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/array-iteration").findIndex,d=e("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex((function(){c=!1})),o({target:"Array",proto:!0,forced:c},{findIndex:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),d("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/array-iteration").find,d=e("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),o({target:"Array",proto:!0,forced:c},{find:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),d("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/array-includes").includes,d=e("../internals/fails"),c=e("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:d((function(){return!Array(1).includes()}))},{includes:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,s,l){var o=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),d=e("../internals/iterators"),c=e("../internals/internal-state"),a=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),m=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),p=e("../internals/descriptors"),y=c.set,x=c.getterFor("Array Iterator");s.exports=u(Array,"Array",(function(w,v){y(this,{type:"Array Iterator",target:o(w),index:0,kind:v})}),(function(){var w=x(this),v=w.target,j=w.kind,N=w.index++;if(!v||N>=v.length)return w.target=void 0,m(void 0,!0);switch(j){case"keys":return m(N,!1);case"values":return m(v[N],!1)}return m([N,v[N]],!1)}),"values");var g=d.Arguments=d.Array;if(i("keys"),i("values"),i("entries"),!h&&p&&g.name!=="values")try{a(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/get-built-in"),d=e("../internals/function-apply"),c=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),u=e("../internals/fails"),m=e("../internals/is-callable"),h=e("../internals/is-symbol"),p=e("../internals/array-slice"),y=e("../internals/get-json-replacer-function"),x=e("../internals/symbol-constructor-detection"),g=String,w=i("JSON","stringify"),v=a(/./.exec),j=a("".charAt),N=a("".charCodeAt),T=a("".replace),D=a(1 .toString),V=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,$=/^[\uDC00-\uDFFF]$/,G=!x||u((function(){var I=i("Symbol")("stringify detection");return w([I])!=="[null]"||w({a:I})!=="{}"||w(Object(I))!=="{}"})),Y=u((function(){return w("\uDF06\uD834")!=='"\\udf06\\ud834"'||w("\uDEAD")!=='"\\udead"'})),W=function(I,R){var S=p(arguments),C=y(R);if(m(C)||I!==void 0&&!h(I))return S[1]=function(k,E){if(m(C)&&(E=c(C,this,g(k),E)),!h(E))return E},d(w,null,S)},O=function(I,R,S){var C=j(S,R-1),k=j(S,R+1);return v(P,I)&&!v($,k)||v($,I)&&!v(P,C)?"\\u"+D(N(I,0),16):I};w&&o({target:"JSON",stat:!0,arity:3,forced:G||Y},{stringify:function(I,R,S){var C=p(arguments),k=d(G?W:w,null,C);return Y&&typeof k=="string"?T(k,V,O):k}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,s,l){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(o){return o!=o}})},{"../internals/export":259}],364:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/object-assign");o({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/symbol-constructor-detection"),d=e("../internals/fails"),c=e("../internals/object-get-own-property-symbols"),a=e("../internals/to-object");o({target:"Object",stat:!0,forced:!i||d((function(){c.f(1)}))},{getOwnPropertySymbols:function(u){var m=c.f;return m?m(a(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/to-object"),d=e("../internals/object-keys");o({target:"Object",stat:!0,forced:e("../internals/fails")((function(){d(1)}))},{keys:function(c){return d(i(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/object-to-array").values;o({target:"Object",stat:!0},{values:function(d){return i(d)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/function-call"),d=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),a=e("../internals/perform"),u=e("../internals/iterate");o({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(m){var h=this,p=c.f(h),y=p.resolve,x=p.reject,g=a((function(){var w=d(h.resolve),v=[],j=0,N=1;u(m,(function(T){var D=j++,V=!1;N++,i(w,h,T).then((function(P){V||(V=!0,v[D]=P,--N||y(v))}),x)})),--N||y(v)}));return g.error&&x(g.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/is-pure"),d=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-native-constructor"),a=e("../internals/get-built-in"),u=e("../internals/is-callable"),m=e("../internals/define-built-in"),h=c&&c.prototype;if(o({target:"Promise",proto:!0,forced:d,real:!0},{catch:function(y){return this.then(void 0,y)}}),!i&&u(c)){var p=a("Promise").prototype.catch;h.catch!==p&&m(h,"catch",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,s,l){var o,i,d,c=e("../internals/export"),a=e("../internals/is-pure"),u=e("../internals/engine-is-node"),m=e("../internals/global"),h=e("../internals/function-call"),p=e("../internals/define-built-in"),y=e("../internals/object-set-prototype-of"),x=e("../internals/set-to-string-tag"),g=e("../internals/set-species"),w=e("../internals/a-callable"),v=e("../internals/is-callable"),j=e("../internals/is-object"),N=e("../internals/an-instance"),T=e("../internals/species-constructor"),D=e("../internals/task").set,V=e("../internals/microtask"),P=e("../internals/host-report-errors"),$=e("../internals/perform"),G=e("../internals/queue"),Y=e("../internals/internal-state"),W=e("../internals/promise-native-constructor"),O=e("../internals/promise-constructor-detection"),I=e("../internals/new-promise-capability"),R=O.CONSTRUCTOR,S=O.REJECTION_EVENT,C=O.SUBCLASSING,k=Y.getterFor("Promise"),E=Y.set,M=W&&W.prototype,L=W,z=M,K=m.TypeError,Z=m.document,te=m.process,H=I.f,ee=H,U=!!(Z&&Z.createEvent&&m.dispatchEvent),F=function(me){var ae;return!(!j(me)||!v(ae=me.then))&&ae},J=function(me,ae){var le,fe,xe,je=ae.value,_e=ae.state===1,De=_e?me.ok:me.fail,Fe=me.resolve,Ue=me.reject,Je=me.domain;try{De?(_e||(ae.rejection===2&&we(ae),ae.rejection=1),De===!0?le=je:(Je&&Je.enter(),le=De(je),Je&&(Je.exit(),xe=!0)),le===me.promise?Ue(new K("Promise-chain cycle")):(fe=F(le))?h(fe,le,Fe,Ue):Fe(le)):Ue(je)}catch(dt){Je&&!xe&&Je.exit(),Ue(dt)}},re=function(me,ae){me.notified||(me.notified=!0,V((function(){for(var le,fe=me.reactions;le=fe.get();)J(le,me);me.notified=!1,ae&&!me.rejection&&se(me)})))},ce=function(me,ae,le){var fe,xe;U?((fe=Z.createEvent("Event")).promise=ae,fe.reason=le,fe.initEvent(me,!1,!0),m.dispatchEvent(fe)):fe={promise:ae,reason:le},!S&&(xe=m["on"+me])?xe(fe):me==="unhandledrejection"&&P("Unhandled promise rejection",le)},se=function(me){h(D,m,(function(){var ae,le=me.facade,fe=me.value;if(de(me)&&(ae=$((function(){u?te.emit("unhandledRejection",fe,le):ce("unhandledrejection",le,fe)})),me.rejection=u||de(me)?2:1,ae.error))throw ae.value}))},de=function(me){return me.rejection!==1&&!me.parent},we=function(me){h(D,m,(function(){var ae=me.facade;u?te.emit("rejectionHandled",ae):ce("rejectionhandled",ae,me.value)}))},ve=function(me,ae,le){return function(fe){me(ae,fe,le)}},ie=function(me,ae,le){me.done||(me.done=!0,le&&(me=le),me.value=ae,me.state=2,re(me,!0))},ge=function(me,ae,le){if(!me.done){me.done=!0,le&&(me=le);try{if(me.facade===ae)throw new K("Promise can't be resolved itself");var fe=F(ae);fe?V((function(){var xe={done:!1};try{h(fe,ae,ve(ge,xe,me),ve(ie,xe,me))}catch(je){ie(xe,je,me)}})):(me.value=ae,me.state=1,re(me,!1))}catch(xe){ie({done:!1},xe,me)}}};if(R&&(z=(L=function(me){N(this,z),w(me),h(o,this);var ae=k(this);try{me(ve(ge,ae),ve(ie,ae))}catch(le){ie(ae,le)}}).prototype,(o=function(me){E(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new G,rejection:!1,state:0,value:void 0})}).prototype=p(z,"then",(function(me,ae){var le=k(this),fe=H(T(this,L));return le.parent=!0,fe.ok=!v(me)||me,fe.fail=v(ae)&&ae,fe.domain=u?te.domain:void 0,le.state===0?le.reactions.add(fe):V((function(){J(fe,le)})),fe.promise})),i=function(){var me=new o,ae=k(me);this.promise=me,this.resolve=ve(ge,ae),this.reject=ve(ie,ae)},I.f=H=function(me){return me===L||me===void 0?new i(me):ee(me)},!a&&v(W)&&M!==Object.prototype)){d=M.then,C||p(M,"then",(function(me,ae){var le=this;return new L((function(fe,xe){h(d,le,fe,xe)})).then(me,ae)}),{unsafe:!0});try{delete M.constructor}catch{}y&&y(M,z)}c({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:L}),x(L,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/is-pure"),d=e("../internals/promise-native-constructor"),c=e("../internals/fails"),a=e("../internals/get-built-in"),u=e("../internals/is-callable"),m=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),p=e("../internals/define-built-in"),y=d&&d.prototype;if(o({target:"Promise",proto:!0,real:!0,forced:!!d&&c((function(){y.finally.call({then:function(){}},(function(){}))}))},{finally:function(g){var w=m(this,a("Promise")),v=u(g);return this.then(v?function(j){return h(w,g()).then((function(){return j}))}:g,v?function(j){return h(w,g()).then((function(){throw j}))}:g)}}),!i&&u(d)){var x=a("Promise").prototype.finally;y.finally!==x&&p(y,"finally",x,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,s,l){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/function-call"),d=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),a=e("../internals/perform"),u=e("../internals/iterate");o({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(m){var h=this,p=c.f(h),y=p.reject,x=a((function(){var g=d(h.resolve);u(m,(function(w){i(g,h,w).then(p.resolve,y)}))}));return x.error&&y(x.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/function-call"),d=e("../internals/new-promise-capability");o({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var a=d.f(this);return i(a.reject,void 0,c),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/get-built-in"),d=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),a=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),m=i("Promise"),h=d&&!a;o({target:"Promise",stat:!0,forced:d||a},{resolve:function(p){return u(h&&this===m?c:this,p)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/function-uncurry-this"),d=e("../internals/to-absolute-index"),c=RangeError,a=String.fromCharCode,u=String.fromCodePoint,m=i([].join);o({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var p,y=[],x=arguments.length,g=0;x>g;){if(p=+arguments[g++],d(p,1114111)!==p)throw new c(p+" is not a valid code point");y[g]=p<65536?a(p):a(55296+((p-=65536)>>10),p%1024+56320)}return m(y,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/function-uncurry-this"),d=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible"),a=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),m=i("".indexOf);o({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~m(a(c(this)),a(d(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,s,l){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/global"),d=e("../internals/function-call"),c=e("../internals/function-uncurry-this"),a=e("../internals/is-pure"),u=e("../internals/descriptors"),m=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),p=e("../internals/has-own-property"),y=e("../internals/object-is-prototype-of"),x=e("../internals/an-object"),g=e("../internals/to-indexed-object"),w=e("../internals/to-property-key"),v=e("../internals/to-string"),j=e("../internals/create-property-descriptor"),N=e("../internals/object-create"),T=e("../internals/object-keys"),D=e("../internals/object-get-own-property-names"),V=e("../internals/object-get-own-property-names-external"),P=e("../internals/object-get-own-property-symbols"),$=e("../internals/object-get-own-property-descriptor"),G=e("../internals/object-define-property"),Y=e("../internals/object-define-properties"),W=e("../internals/object-property-is-enumerable"),O=e("../internals/define-built-in"),I=e("../internals/define-built-in-accessor"),R=e("../internals/shared"),S=e("../internals/shared-key"),C=e("../internals/hidden-keys"),k=e("../internals/uid"),E=e("../internals/well-known-symbol"),M=e("../internals/well-known-symbol-wrapped"),L=e("../internals/well-known-symbol-define"),z=e("../internals/symbol-define-to-primitive"),K=e("../internals/set-to-string-tag"),Z=e("../internals/internal-state"),te=e("../internals/array-iteration").forEach,H=S("hidden"),ee=Z.set,U=Z.getterFor("Symbol"),F=Object.prototype,J=i.Symbol,re=J&&J.prototype,ce=i.RangeError,se=i.TypeError,de=i.QObject,we=$.f,ve=G.f,ie=V.f,ge=W.f,me=c([].push),ae=R("symbols"),le=R("op-symbols"),fe=R("wks"),xe=!de||!de.prototype||!de.prototype.findChild,je=function(et,Ke,rt){var pt=we(F,Ke);pt&&delete F[Ke],ve(et,Ke,rt),pt&&et!==F&&ve(F,Ke,pt)},_e=u&&h((function(){return N(ve({},"a",{get:function(){return ve(this,"a",{value:7}).a}})).a!==7}))?je:ve,De=function(et,Ke){var rt=ae[et]=N(re);return ee(rt,{type:"Symbol",tag:et,description:Ke}),u||(rt.description=Ke),rt},Fe=function(et,Ke,rt){et===F&&Fe(le,Ke,rt),x(et);var pt=w(Ke);return x(rt),p(ae,pt)?(rt.enumerable?(p(et,H)&&et[H][pt]&&(et[H][pt]=!1),rt=N(rt,{enumerable:j(0,!1)})):(p(et,H)||ve(et,H,j(1,{})),et[H][pt]=!0),_e(et,pt,rt)):ve(et,pt,rt)},Ue=function(et,Ke){x(et);var rt=g(Ke),pt=T(rt).concat(yt(rt));return te(pt,(function(it){u&&!d(Je,rt,it)||Fe(et,it,rt[it])})),et},Je=function(et){var Ke=w(et),rt=d(ge,this,Ke);return!(this===F&&p(ae,Ke)&&!p(le,Ke))&&(!(rt||!p(this,Ke)||!p(ae,Ke)||p(this,H)&&this[H][Ke])||rt)},dt=function(et,Ke){var rt=g(et),pt=w(Ke);if(rt!==F||!p(ae,pt)||p(le,pt)){var it=we(rt,pt);return!it||!p(ae,pt)||p(rt,H)&&rt[H][pt]||(it.enumerable=!0),it}},ft=function(et){var Ke=ie(g(et)),rt=[];return te(Ke,(function(pt){p(ae,pt)||p(C,pt)||me(rt,pt)})),rt},yt=function(et){var Ke=et===F,rt=ie(Ke?le:g(et)),pt=[];return te(rt,(function(it){!p(ae,it)||Ke&&!p(F,it)||me(pt,ae[it])})),pt};m||(O(re=(J=function(){if(y(re,this))throw new se("Symbol is not a constructor");var et=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,Ke=k(et),rt=function(pt){this===F&&d(rt,le,pt),p(this,H)&&p(this[H],Ke)&&(this[H][Ke]=!1);var it=j(1,pt);try{_e(this,Ke,it)}catch(Kt){if(!(Kt instanceof ce))throw Kt;je(this,Ke,it)}};return u&&xe&&_e(F,Ke,{configurable:!0,set:rt}),De(Ke,et)}).prototype,"toString",(function(){return U(this).tag})),O(J,"withoutSetter",(function(et){return De(k(et),et)})),W.f=Je,G.f=Fe,Y.f=Ue,$.f=dt,D.f=V.f=ft,P.f=yt,M.f=function(et){return De(E(et),et)},u&&(I(re,"description",{configurable:!0,get:function(){return U(this).description}}),a||O(F,"propertyIsEnumerable",Je,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!m,sham:!m},{Symbol:J}),te(T(fe),(function(et){L(et)})),o({target:"Symbol",stat:!0,forced:!m},{useSetter:function(){xe=!0},useSimple:function(){xe=!1}}),o({target:"Object",stat:!0,forced:!m,sham:!u},{create:function(et,Ke){return Ke===void 0?N(et):Ue(N(et),Ke)},defineProperty:Fe,defineProperties:Ue,getOwnPropertyDescriptor:dt}),o({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:ft}),z(),K(J,"Symbol"),C[H]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/get-built-in"),d=e("../internals/has-own-property"),c=e("../internals/to-string"),a=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),m=a("string-to-symbol-registry"),h=a("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!u},{for:function(p){var y=c(p);if(d(m,y))return m[y];var x=i("Symbol")(y);return m[y]=x,h[x]=y,x}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,s,l){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,s,l){var o=e("../internals/export"),i=e("../internals/has-own-property"),d=e("../internals/is-symbol"),c=e("../internals/try-to-string"),a=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),m=a("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!d(h))throw new TypeError(c(h)+" is not a symbol");if(i(m,h))return m[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,s,l){function o(i){return Object.prototype.toString.call(i)}l.isArray=function(i){return Array.isArray?Array.isArray(i):o(i)==="[object Array]"},l.isBoolean=function(i){return typeof i=="boolean"},l.isNull=function(i){return i===null},l.isNullOrUndefined=function(i){return i==null},l.isNumber=function(i){return typeof i=="number"},l.isString=function(i){return typeof i=="string"},l.isSymbol=function(i){return typeof i=="symbol"},l.isUndefined=function(i){return i===void 0},l.isRegExp=function(i){return o(i)==="[object RegExp]"},l.isObject=function(i){return typeof i=="object"&&i!==null},l.isDate=function(i){return o(i)==="[object Date]"},l.isError=function(i){return o(i)==="[object Error]"||i instanceof Error},l.isFunction=function(i){return typeof i=="function"},l.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},l.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,s,l){(function(o){(function(){var i=e("elliptic"),d=e("bn.js");s.exports=function(m){return new a(m)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(m){this.curveType=c[m],this.curveType||(this.curveType={name:m}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function u(m,h,p){Array.isArray(m)||(m=m.toArray());var y=new o(m);if(p&&y.length<p){var x=new o(p-y.length);x.fill(0),y=o.concat([x,y])}return h?y.toString(h):y}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,a.prototype.generateKeys=function(m,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(m,h)},a.prototype.computeSecret=function(m,h,p){return h=h||"utf8",o.isBuffer(m)||(m=new o(m,h)),u(this.curve.keyFromPublic(m).getPublic().mul(this.keys.getPrivate()).getX(),p,this.curveType.byteLength)},a.prototype.getPublicKey=function(m,h){var p=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(p[p.length-1]%2?p[0]=7:p[0]=6),u(p,m)},a.prototype.getPrivateKey=function(m){return u(this.keys.getPrivate(),m)},a.prototype.setPublicKey=function(m,h){return h=h||"utf8",o.isBuffer(m)||(m=new o(m,h)),this.keys._importPublic(m),this},a.prototype.setPrivateKey=function(m,h){h=h||"utf8",o.isBuffer(m)||(m=new o(m,h));var p=new d(m);return p=p.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(p),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],386:[function(e,s,l){var o=e("inherits"),i=e("md5.js"),d=e("ripemd160"),c=e("sha.js"),a=e("cipher-base");function u(m){a.call(this,"digest"),this._hash=m}o(u,a),u.prototype._update=function(m){this._hash.update(m)},u.prototype._final=function(){return this._hash.digest()},s.exports=function(m){return(m=m.toLowerCase())==="md5"?new i:m==="rmd160"||m==="ripemd160"?new d:new u(c(m))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,s,l){var o=e("md5.js");s.exports=function(i){return new o().update(i).digest()}},{"md5.js":450}],388:[function(e,s,l){var o=e("inherits"),i=e("./legacy"),d=e("cipher-base"),c=e("safe-buffer").Buffer,a=e("create-hash/md5"),u=e("ripemd160"),m=e("sha.js"),h=c.alloc(128);function p(y,x){d.call(this,"digest"),typeof x=="string"&&(x=c.from(x));var g=y==="sha512"||y==="sha384"?128:64;this._alg=y,this._key=x,x.length>g?x=(y==="rmd160"?new u:m(y)).update(x).digest():x.length<g&&(x=c.concat([x,h],g));for(var w=this._ipad=c.allocUnsafe(g),v=this._opad=c.allocUnsafe(g),j=0;j<g;j++)w[j]=54^x[j],v[j]=92^x[j];this._hash=y==="rmd160"?new u:m(y),this._hash.update(w)}o(p,d),p.prototype._update=function(y){this._hash.update(y)},p.prototype._final=function(){var y=this._hash.digest();return(this._alg==="rmd160"?new u:m(this._alg)).update(this._opad).update(y).digest()},s.exports=function(y,x){return(y=y.toLowerCase())==="rmd160"||y==="ripemd160"?new p("rmd160",x):y==="md5"?new i(a,x):new p(y,x)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,s,l){var o=e("inherits"),i=e("safe-buffer").Buffer,d=e("cipher-base"),c=i.alloc(128);function a(u,m){d.call(this,"digest"),typeof m=="string"&&(m=i.from(m)),this._alg=u,this._key=m,m.length>64?m=u(m):m.length<64&&(m=i.concat([m,c],64));for(var h=this._ipad=i.allocUnsafe(64),p=this._opad=i.allocUnsafe(64),y=0;y<64;y++)h[y]=54^m[y],p[y]=92^m[y];this._hash=[h]}o(a,d),a.prototype._update=function(u){this._hash.push(u)},a.prototype._final=function(){var u=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,u]))},s.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,s,l){l.randomBytes=l.rng=l.pseudoRandomBytes=l.prng=e("randombytes"),l.createHash=l.Hash=e("create-hash"),l.createHmac=l.Hmac=e("create-hmac");var o=e("browserify-sign/algos"),i=Object.keys(o),d=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);l.getHashes=function(){return d};var c=e("pbkdf2");l.pbkdf2=c.pbkdf2,l.pbkdf2Sync=c.pbkdf2Sync;var a=e("browserify-cipher");l.Cipher=a.Cipher,l.createCipher=a.createCipher,l.Cipheriv=a.Cipheriv,l.createCipheriv=a.createCipheriv,l.Decipher=a.Decipher,l.createDecipher=a.createDecipher,l.Decipheriv=a.Decipheriv,l.createDecipheriv=a.createDecipheriv,l.getCiphers=a.getCiphers,l.listCiphers=a.listCiphers;var u=e("diffie-hellman");l.DiffieHellmanGroup=u.DiffieHellmanGroup,l.createDiffieHellmanGroup=u.createDiffieHellmanGroup,l.getDiffieHellman=u.getDiffieHellman,l.createDiffieHellman=u.createDiffieHellman,l.DiffieHellman=u.DiffieHellman;var m=e("browserify-sign");l.createSign=m.createSign,l.Sign=m.Sign,l.createVerify=m.createVerify,l.Verify=m.Verify,l.createECDH=e("create-ecdh");var h=e("public-encrypt");l.publicEncrypt=h.publicEncrypt,l.privateEncrypt=h.privateEncrypt,l.publicDecrypt=h.publicDecrypt,l.privateDecrypt=h.privateDecrypt;var p=e("randomfill");l.randomFill=p.randomFill,l.randomFillSync=p.randomFillSync,l.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},l.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,s,l){(function(o,i){typeof l=="object"&&s!==void 0?s.exports=i():(o=typeof globalThis<"u"?globalThis:o||self).dayjs=i()})(void 0,(function(){var o=6e4,i=36e5,d="millisecond",c="second",a="minute",u="hour",m="day",h="week",p="month",y="quarter",x="year",g="date",w="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var C=["th","st","nd","rd"],k=S%100;return"["+S+(C[(k-20)%10]||C[k]||C[0])+"]"}},T=function(S,C,k){var E=String(S);return!E||E.length>=C?S:""+Array(C+1-E.length).join(k)+S},D={s:T,z:function(S){var C=-S.utcOffset(),k=Math.abs(C),E=Math.floor(k/60),M=k%60;return(C<=0?"+":"-")+T(E,2,"0")+":"+T(M,2,"0")},m:function S(C,k){if(C.date()<k.date())return-S(k,C);var E=12*(k.year()-C.year())+(k.month()-C.month()),M=C.clone().add(E,p),L=k-M<0,z=C.clone().add(E+(L?-1:1),p);return+(-(E+(k-M)/(L?M-z:z-M))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:p,y:x,w:h,d:m,D:g,h:u,m:a,s:c,ms:d,Q:y}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},V="en",P={};P[V]=N;var $="$isDayjsObject",G=function(S){return S instanceof I||!(!S||!S[$])},Y=function S(C,k,E){var M;if(!C)return V;if(typeof C=="string"){var L=C.toLowerCase();P[L]&&(M=L),k&&(P[L]=k,M=L);var z=C.split("-");if(!M&&z.length>1)return S(z[0])}else{var K=C.name;P[K]=C,M=K}return!E&&M&&(V=M),M||!E&&V},W=function(S,C){if(G(S))return S.clone();var k=typeof C=="object"?C:{};return k.date=S,k.args=arguments,new I(k)},O=D;O.l=Y,O.i=G,O.w=function(S,C){return W(S,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var I=(function(){function S(k){this.$L=Y(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[$]=!0}var C=S.prototype;return C.parse=function(k){this.$d=(function(E){var M=E.date,L=E.utc;if(M===null)return new Date(NaN);if(O.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var z=M.match(v);if(z){var K=z[2]-1||0,Z=(z[7]||"0").substring(0,3);return L?new Date(Date.UTC(z[1],K,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Z)):new Date(z[1],K,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Z)}}return new Date(M)})(k),this.init()},C.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},C.$utils=function(){return O},C.isValid=function(){return this.$d.toString()!==w},C.isSame=function(k,E){var M=W(k);return this.startOf(E)<=M&&M<=this.endOf(E)},C.isAfter=function(k,E){return W(k)<this.startOf(E)},C.isBefore=function(k,E){return this.endOf(E)<W(k)},C.$g=function(k,E,M){return O.u(k)?this[E]:this.set(M,k)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(k,E){var M=this,L=!!O.u(E)||E,z=O.p(k),K=function(re,ce){var se=O.w(M.$u?Date.UTC(M.$y,ce,re):new Date(M.$y,ce,re),M);return L?se:se.endOf(m)},Z=function(re,ce){return O.w(M.toDate()[re].apply(M.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(ce)),M)},te=this.$W,H=this.$M,ee=this.$D,U="set"+(this.$u?"UTC":"");switch(z){case x:return L?K(1,0):K(31,11);case p:return L?K(1,H):K(0,H+1);case h:var F=this.$locale().weekStart||0,J=(te<F?te+7:te)-F;return K(L?ee-J:ee+(6-J),H);case m:case g:return Z(U+"Hours",0);case u:return Z(U+"Minutes",1);case a:return Z(U+"Seconds",2);case c:return Z(U+"Milliseconds",3);default:return this.clone()}},C.endOf=function(k){return this.startOf(k,!1)},C.$set=function(k,E){var M,L=O.p(k),z="set"+(this.$u?"UTC":""),K=(M={},M[m]=z+"Date",M[g]=z+"Date",M[p]=z+"Month",M[x]=z+"FullYear",M[u]=z+"Hours",M[a]=z+"Minutes",M[c]=z+"Seconds",M[d]=z+"Milliseconds",M)[L],Z=L===m?this.$D+(E-this.$W):E;if(L===p||L===x){var te=this.clone().set(g,1);te.$d[K](Z),te.init(),this.$d=te.set(g,Math.min(this.$D,te.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},C.set=function(k,E){return this.clone().$set(k,E)},C.get=function(k){return this[O.p(k)]()},C.add=function(k,E){var M,L=this;k=Number(k);var z=O.p(E),K=function(H){var ee=W(L);return O.w(ee.date(ee.date()+Math.round(H*k)),L)};if(z===p)return this.set(p,this.$M+k);if(z===x)return this.set(x,this.$y+k);if(z===m)return K(1);if(z===h)return K(7);var Z=(M={},M[a]=o,M[u]=i,M[c]=1e3,M)[z]||1,te=this.$d.getTime()+k*Z;return O.w(te,this)},C.subtract=function(k,E){return this.add(-1*k,E)},C.format=function(k){var E=this,M=this.$locale();if(!this.isValid())return M.invalidDate||w;var L=k||"YYYY-MM-DDTHH:mm:ssZ",z=O.z(this),K=this.$H,Z=this.$m,te=this.$M,H=M.weekdays,ee=M.months,U=M.meridiem,F=function(ce,se,de,we){return ce&&(ce[se]||ce(E,L))||de[se].slice(0,we)},J=function(ce){return O.s(K%12||12,ce,"0")},re=U||function(ce,se,de){var we=ce<12?"AM":"PM";return de?we.toLowerCase():we};return L.replace(j,(function(ce,se){return se||(function(de){switch(de){case"YY":return String(E.$y).slice(-2);case"YYYY":return O.s(E.$y,4,"0");case"M":return te+1;case"MM":return O.s(te+1,2,"0");case"MMM":return F(M.monthsShort,te,ee,3);case"MMMM":return F(ee,te);case"D":return E.$D;case"DD":return O.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return F(M.weekdaysMin,E.$W,H,2);case"ddd":return F(M.weekdaysShort,E.$W,H,3);case"dddd":return H[E.$W];case"H":return String(K);case"HH":return O.s(K,2,"0");case"h":return J(1);case"hh":return J(2);case"a":return re(K,Z,!0);case"A":return re(K,Z,!1);case"m":return String(Z);case"mm":return O.s(Z,2,"0");case"s":return String(E.$s);case"ss":return O.s(E.$s,2,"0");case"SSS":return O.s(E.$ms,3,"0");case"Z":return z}return null})(ce)||z.replace(":","")}))},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(k,E,M){var L,z=this,K=O.p(E),Z=W(k),te=(Z.utcOffset()-this.utcOffset())*o,H=this-Z,ee=function(){return O.m(z,Z)};switch(K){case x:L=ee()/12;break;case p:L=ee();break;case y:L=ee()/3;break;case h:L=(H-te)/6048e5;break;case m:L=(H-te)/864e5;break;case u:L=H/i;break;case a:L=H/o;break;case c:L=H/1e3;break;default:L=H}return M?L:O.a(L)},C.daysInMonth=function(){return this.endOf(p).$D},C.$locale=function(){return P[this.$L]},C.locale=function(k,E){if(!k)return this.$L;var M=this.clone(),L=Y(k,E,!0);return L&&(M.$L=L),M},C.clone=function(){return O.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},S})(),R=I.prototype;return W.prototype=R,[["$ms",d],["$s",c],["$m",a],["$H",u],["$W",m],["$M",p],["$y",x],["$D",g]].forEach((function(S){R[S[1]]=function(C){return this.$g(C,S[0],S[1])}})),W.extend=function(S,C){return S.$i||(S(C,I,W),S.$i=!0),W},W.locale=Y,W.isDayjs=G,W.unix=function(S){return W(1e3*S)},W.en=P[V],W.Ls=P,W.p={},W}))},{}],392:[function(e,s,l){(function(o,i){typeof l=="object"&&s!==void 0?s.exports=i():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_customParseFormat=i()})(void 0,(function(){var o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,d=/\d\d/,c=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,u={},m=function(v){return(v=+v)+(v>68?1900:2e3)},h=function(v){return function(j){this[v]=+j}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=(function(j){if(!j||j==="Z")return 0;var N=j.match(/([+-]|\d\d)/g),T=60*N[1]+(+N[2]||0);return T===0?0:N[0]==="+"?-T:T})(v)}],y=function(v){var j=u[v];return j&&(j.indexOf?j:j.s.concat(j.f))},x=function(v,j){var N,T=u.meridiem;if(T){for(var D=1;D<=24;D+=1)if(v.indexOf(T(D,0,j))>-1){N=D>12;break}}else N=v===(j?"pm":"PM");return N},g={A:[a,function(v){this.afternoon=x(v,!1)}],a:[a,function(v){this.afternoon=x(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[d,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[c,h("seconds")],ss:[c,h("seconds")],m:[c,h("minutes")],mm:[c,h("minutes")],H:[c,h("hours")],h:[c,h("hours")],HH:[c,h("hours")],hh:[c,h("hours")],D:[c,h("day")],DD:[d,h("day")],Do:[a,function(v){var j=u.ordinal,N=v.match(/\d+/);if(this.day=N[0],j)for(var T=1;T<=31;T+=1)j(T).replace(/\[|\]/g,"")===v&&(this.day=T)}],M:[c,h("month")],MM:[d,h("month")],MMM:[a,function(v){var j=y("months"),N=(y("monthsShort")||j.map((function(T){return T.slice(0,3)}))).indexOf(v)+1;if(N<1)throw new Error;this.month=N%12||N}],MMMM:[a,function(v){var j=y("months").indexOf(v)+1;if(j<1)throw new Error;this.month=j%12||j}],Y:[/[+-]?\d+/,h("year")],YY:[d,function(v){this.year=m(v)}],YYYY:[/\d{4}/,h("year")],Z:p,ZZ:p};function w(v){var j,N;j=v,N=u&&u.formats;for(var T=(v=j.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(W,O,I){var R=I&&I.toUpperCase();return O||N[I]||o[I]||N[R].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,C,k){return C||k.slice(1)}))}))).match(i),D=T.length,V=0;V<D;V+=1){var P=T[V],$=g[P],G=$&&$[0],Y=$&&$[1];T[V]=Y?{regex:G,parser:Y}:P.replace(/^\[|\]$/g,"")}return function(W){for(var O={},I=0,R=0;I<D;I+=1){var S=T[I];if(typeof S=="string")R+=S.length;else{var C=S.regex,k=S.parser,E=W.slice(R),M=C.exec(E)[0];k.call(O,M),W=W.replace(M,"")}}return(function(L){var z=L.afternoon;if(z!==void 0){var K=L.hours;z?K<12&&(L.hours+=12):K===12&&(L.hours=0),delete L.afternoon}})(O),O}}return function(v,j,N){N.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(m=v.parseTwoDigitYear);var T=j.prototype,D=T.parse;T.parse=function(V){var P=V.date,$=V.utc,G=V.args;this.$u=$;var Y=G[1];if(typeof Y=="string"){var W=G[2]===!0,O=G[3]===!0,I=W||O,R=G[2];O&&(R=G[2]),u=this.$locale(),!W&&R&&(u=N.Ls[R]),this.$d=(function(E,M,L){try{if(["x","X"].indexOf(M)>-1)return new Date((M==="X"?1e3:1)*E);var z=w(M)(E),K=z.year,Z=z.month,te=z.day,H=z.hours,ee=z.minutes,U=z.seconds,F=z.milliseconds,J=z.zone,re=new Date,ce=te||(K||Z?1:re.getDate()),se=K||re.getFullYear(),de=0;K&&!Z||(de=Z>0?Z-1:re.getMonth());var we=H||0,ve=ee||0,ie=U||0,ge=F||0;return J?new Date(Date.UTC(se,de,ce,we,ve,ie,ge+60*J.offset*1e3)):L?new Date(Date.UTC(se,de,ce,we,ve,ie,ge)):new Date(se,de,ce,we,ve,ie,ge)}catch{return new Date("")}})(P,Y,$),this.init(),R&&R!==!0&&(this.$L=this.locale(R).$L),I&&P!=this.format(Y)&&(this.$d=new Date("")),u={}}else if(Y instanceof Array)for(var S=Y.length,C=1;C<=S;C+=1){G[1]=Y[C-1];var k=N.apply(this,G);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}C===S&&(this.$d=new Date(""))}else D.call(this,V)}}}))},{}],393:[function(e,s,l){(function(o,i){typeof l=="object"&&s!==void 0?s.exports=i():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_utc=i()})(void 0,(function(){var o="minute",i=/[+-]\d\d(?::?\d\d)?/g,d=/([+-]|\d\d)/g;return function(c,a,u){var m=a.prototype;u.utc=function(v){var j={date:v,utc:!0,args:arguments};return new a(j)},m.utc=function(v){var j=u(this.toDate(),{locale:this.$L,utc:!0});return v?j.add(this.utcOffset(),o):j},m.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=m.parse;m.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),h.call(this,v)};var p=m.init;m.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else p.call(this)};var y=m.utcOffset;m.utcOffset=function(v,j){var N=this.$utils().u;if(N(v))return this.$u?0:N(this.$offset)?y.call(this):this.$offset;if(typeof v=="string"&&(v=(function(P){P===void 0&&(P="");var $=P.match(i);if(!$)return null;var G=(""+$[0]).match(d)||["-",0,0],Y=G[0],W=60*+G[1]+ +G[2];return W===0?0:Y==="+"?W:-W})(v))===null)return this;var T=Math.abs(v)<=16?60*v:v,D=this;if(j)return D.$offset=T,D.$u=v===0,D;if(v!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(T+V,o)).$offset=T,D.$x.$localOffset=V}else D=this.utc();return D};var x=m.format;m.format=function(v){var j=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return x.call(this,j)},m.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},m.isUTC=function(){return!!this.$u},m.toISOString=function(){return this.toDate().toISOString()},m.toString=function(){return this.toDate().toUTCString()};var g=m.toDate;m.toDate=function(v){return v==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var w=m.diff;m.diff=function(v,j,N){if(v&&this.$u===v.$u)return w.call(this,v,j,N);var T=this.local(),D=u(v).local();return w.call(T,D,j,N)}}}))},{}],394:[function(e,s,l){l.utils=e("./des/utils"),l.Cipher=e("./des/cipher"),l.DES=e("./des/des"),l.CBC=e("./des/cbc"),l.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,s,l){var o=e("minimalistic-assert"),i=e("inherits"),d={};function c(a){o.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=a[u]}l.instantiate=function(a){function u(y){a.call(this,y),this._cbcInit()}i(u,a);for(var m=Object.keys(d),h=0;h<m.length;h++){var p=m[h];u.prototype[p]=d[p]}return u.create=function(y){return new u(y)},u},d._cbcInit=function(){var a=new c(this.options.iv);this._cbcState=a},d._update=function(a,u,m,h){var p=this._cbcState,y=this.constructor.super_.prototype,x=p.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)x[g]^=a[u+g];for(y._update.call(this,x,0,m,h),g=0;g<this.blockSize;g++)x[g]=m[h+g]}else{for(y._update.call(this,a,u,m,h),g=0;g<this.blockSize;g++)m[h+g]^=x[g];for(g=0;g<this.blockSize;g++)x[g]=a[u+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,s,l){var o=e("minimalistic-assert");function i(d){this.options=d,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=d.padding!==!1}s.exports=i,i.prototype._init=function(){},i.prototype.update=function(d){return d.length===0?[]:this.type==="decrypt"?this._updateDecrypt(d):this._updateEncrypt(d)},i.prototype._buffer=function(d,c){for(var a=Math.min(this.buffer.length-this.bufferOff,d.length-c),u=0;u<a;u++)this.buffer[this.bufferOff+u]=d[c+u];return this.bufferOff+=a,a},i.prototype._flushBuffer=function(d,c){return this._update(this.buffer,0,d,c),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(d){var c=0,a=0,u=(this.bufferOff+d.length)/this.blockSize|0,m=new Array(u*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(d,c),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(m,a)));for(var h=d.length-(d.length-c)%this.blockSize;c<h;c+=this.blockSize)this._update(d,c,m,a),a+=this.blockSize;for(;c<d.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=d[c];return m},i.prototype._updateDecrypt=function(d){for(var c=0,a=0,u=Math.ceil((this.bufferOff+d.length)/this.blockSize)-1,m=new Array(u*this.blockSize);u>0;u--)c+=this._buffer(d,c),a+=this._flushBuffer(m,a);return c+=this._buffer(d,c),m},i.prototype.final=function(d){var c,a;return d&&(c=this.update(d)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(a):a},i.prototype._pad=function(d,c){if(c===0)return!1;for(;c<d.length;)d[c++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var d=new Array(this.blockSize);return this._update(this.buffer,0,d,0),d},i.prototype._unpad=function(d){return d},i.prototype._finalDecrypt=function(){o.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var d=new Array(this.blockSize);return this._flushBuffer(d,0),this._unpad(d)}},{"minimalistic-assert":453}],397:[function(e,s,l){var o=e("minimalistic-assert"),i=e("inherits"),d=e("./utils"),c=e("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function u(h){c.call(this,h);var p=new a;this._desState=p,this.deriveKeys(p,h.key)}i(u,c),s.exports=u,u.create=function(h){return new u(h)};var m=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,p){h.keys=new Array(32),o.equal(p.length,this.blockSize,"Invalid key length");var y=d.readUInt32BE(p,0),x=d.readUInt32BE(p,4);d.pc1(y,x,h.tmp,0),y=h.tmp[0],x=h.tmp[1];for(var g=0;g<h.keys.length;g+=2){var w=m[g>>>1];y=d.r28shl(y,w),x=d.r28shl(x,w),d.pc2(y,x,h.keys,g)}},u.prototype._update=function(h,p,y,x){var g=this._desState,w=d.readUInt32BE(h,p),v=d.readUInt32BE(h,p+4);d.ip(w,v,g.tmp,0),w=g.tmp[0],v=g.tmp[1],this.type==="encrypt"?this._encrypt(g,w,v,g.tmp,0):this._decrypt(g,w,v,g.tmp,0),w=g.tmp[0],v=g.tmp[1],d.writeUInt32BE(y,w,x),d.writeUInt32BE(y,v,x+4)},u.prototype._pad=function(h,p){if(this.padding===!1)return!1;for(var y=h.length-p,x=p;x<h.length;x++)h[x]=y;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var p=h[h.length-1],y=h.length-p;y<h.length;y++)o.equal(h[y],p);return h.slice(0,h.length-p)},u.prototype._encrypt=function(h,p,y,x,g){for(var w=p,v=y,j=0;j<h.keys.length;j+=2){var N=h.keys[j],T=h.keys[j+1];d.expand(v,h.tmp,0),N^=h.tmp[0],T^=h.tmp[1];var D=d.substitute(N,T),V=v;v=(w^d.permute(D))>>>0,w=V}d.rip(v,w,x,g)},u.prototype._decrypt=function(h,p,y,x,g){for(var w=y,v=p,j=h.keys.length-2;j>=0;j-=2){var N=h.keys[j],T=h.keys[j+1];d.expand(w,h.tmp,0),N^=h.tmp[0],T^=h.tmp[1];var D=d.substitute(N,T),V=w;w=(v^d.permute(D))>>>0,v=V}d.rip(w,v,x,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,s,l){var o=e("minimalistic-assert"),i=e("inherits"),d=e("./cipher"),c=e("./des");function a(m,h){o.equal(h.length,24,"Invalid key length");var p=h.slice(0,8),y=h.slice(8,16),x=h.slice(16,24);this.ciphers=m==="encrypt"?[c.create({type:"encrypt",key:p}),c.create({type:"decrypt",key:y}),c.create({type:"encrypt",key:x})]:[c.create({type:"decrypt",key:x}),c.create({type:"encrypt",key:y}),c.create({type:"decrypt",key:p})]}function u(m){d.call(this,m);var h=new a(this.type,this.options.key);this._edeState=h}i(u,d),s.exports=u,u.create=function(m){return new u(m)},u.prototype._update=function(m,h,p,y){var x=this._edeState;x.ciphers[0]._update(m,h,p,y),x.ciphers[1]._update(p,y,p,y),x.ciphers[2]._update(p,y,p,y)},u.prototype._pad=c.prototype._pad,u.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,s,l){l.readUInt32BE=function(c,a){return(c[0+a]<<24|c[1+a]<<16|c[2+a]<<8|c[3+a])>>>0},l.writeUInt32BE=function(c,a,u){c[0+u]=a>>>24,c[1+u]=a>>>16&255,c[2+u]=a>>>8&255,c[3+u]=255&a},l.ip=function(c,a,u,m){for(var h=0,p=0,y=6;y>=0;y-=2){for(var x=0;x<=24;x+=8)h<<=1,h|=a>>>x+y&1;for(x=0;x<=24;x+=8)h<<=1,h|=c>>>x+y&1}for(y=6;y>=0;y-=2){for(x=1;x<=25;x+=8)p<<=1,p|=a>>>x+y&1;for(x=1;x<=25;x+=8)p<<=1,p|=c>>>x+y&1}u[m+0]=h>>>0,u[m+1]=p>>>0},l.rip=function(c,a,u,m){for(var h=0,p=0,y=0;y<4;y++)for(var x=24;x>=0;x-=8)h<<=1,h|=a>>>x+y&1,h<<=1,h|=c>>>x+y&1;for(y=4;y<8;y++)for(x=24;x>=0;x-=8)p<<=1,p|=a>>>x+y&1,p<<=1,p|=c>>>x+y&1;u[m+0]=h>>>0,u[m+1]=p>>>0},l.pc1=function(c,a,u,m){for(var h=0,p=0,y=7;y>=5;y--){for(var x=0;x<=24;x+=8)h<<=1,h|=a>>x+y&1;for(x=0;x<=24;x+=8)h<<=1,h|=c>>x+y&1}for(x=0;x<=24;x+=8)h<<=1,h|=a>>x+y&1;for(y=1;y<=3;y++){for(x=0;x<=24;x+=8)p<<=1,p|=a>>x+y&1;for(x=0;x<=24;x+=8)p<<=1,p|=c>>x+y&1}for(x=0;x<=24;x+=8)p<<=1,p|=c>>x+y&1;u[m+0]=h>>>0,u[m+1]=p>>>0},l.r28shl=function(c,a){return c<<a&268435455|c>>>28-a};var o=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l.pc2=function(c,a,u,m){for(var h=0,p=0,y=o.length>>>1,x=0;x<y;x++)h<<=1,h|=c>>>o[x]&1;for(x=y;x<o.length;x++)p<<=1,p|=a>>>o[x]&1;u[m+0]=h>>>0,u[m+1]=p>>>0},l.expand=function(c,a,u){var m=0,h=0;m=(1&c)<<5|c>>>27;for(var p=23;p>=15;p-=4)m<<=6,m|=c>>>p&63;for(p=11;p>=3;p-=4)h|=c>>>p&63,h<<=6;h|=(31&c)<<1|c>>>31,a[u+0]=m>>>0,a[u+1]=h>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l.substitute=function(c,a){for(var u=0,m=0;m<4;m++)u<<=4,u|=i[64*m+(c>>>18-6*m&63)];for(m=0;m<4;m++)u<<=4,u|=i[256+64*m+(a>>>18-6*m&63)];return u>>>0};var d=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];l.permute=function(c){for(var a=0,u=0;u<d.length;u++)a<<=1,a|=c>>>d[u]&1;return a>>>0},l.padSplit=function(c,a,u){for(var m=c.toString(2);m.length<a;)m="0"+m;for(var h=[],p=0;p<a;p+=u)h.push(m.slice(p,p+u));return h.join(" ")}},{}],400:[function(e,s,l){(function(o){(function(){var i=e("./lib/generatePrime"),d=e("./lib/primes.json"),c=e("./lib/dh"),a={binary:!0,hex:!0,base64:!0};l.DiffieHellmanGroup=l.createDiffieHellmanGroup=l.getDiffieHellman=function(u){var m=new o(d[u].prime,"hex"),h=new o(d[u].gen,"hex");return new c(m,h)},l.createDiffieHellman=l.DiffieHellman=function u(m,h,p,y){return o.isBuffer(h)||a[h]===void 0?u(m,"binary",h,p):(h=h||"binary",y=y||"binary",p=p||new o([2]),o.isBuffer(p)||(p=new o(p,y)),typeof m=="number"?new c(i(m,p),p,!0):(o.isBuffer(m)||(m=new o(m,h)),new c(m,p,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,s,l){(function(o){(function(){var i=e("bn.js"),d=new(e("miller-rabin")),c=new i(24),a=new i(11),u=new i(10),m=new i(3),h=new i(7),p=e("./generatePrime"),y=e("randombytes");function x(N,T){return T=T||"utf8",o.isBuffer(N)||(N=new o(N,T)),this._pub=new i(N),this}function g(N,T){return T=T||"utf8",o.isBuffer(N)||(N=new o(N,T)),this._priv=new i(N),this}s.exports=v;var w={};function v(N,T,D){this.setGenerator(T),this.__prime=new i(N),this._prime=i.mont(this.__prime),this._primeLen=N.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,D?(this.setPublicKey=x,this.setPrivateKey=g):this._primeCode=8}function j(N,T){var D=new o(N.toArray());return T?D.toString(T):D}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(N,T){var D=T.toString("hex"),V=[D,N.toString(16)].join("_");if(V in w)return w[V];var P,$=0;if(N.isEven()||!p.simpleSieve||!p.fermatTest(N)||!d.test(N))return $+=1,$+=D==="02"||D==="05"?8:4,w[V]=$,$;switch(d.test(N.shrn(1))||($+=2),D){case"02":N.mod(c).cmp(a)&&($+=8);break;case"05":(P=N.mod(u)).cmp(m)&&P.cmp(h)&&($+=8);break;default:$+=4}return w[V]=$,$})(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new i(y(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(N){var T=(N=(N=new i(N)).toRed(this._prime)).redPow(this._priv).fromRed(),D=new o(T.toArray()),V=this.getPrime();if(D.length<V.length){var P=new o(V.length-D.length);P.fill(0),D=o.concat([P,D])}return D},v.prototype.getPublicKey=function(N){return j(this._pub,N)},v.prototype.getPrivateKey=function(N){return j(this._priv,N)},v.prototype.getPrime=function(N){return j(this.__prime,N)},v.prototype.getGenerator=function(N){return j(this._gen,N)},v.prototype.setGenerator=function(N,T){return T=T||"utf8",o.isBuffer(N)||(N=new o(N,T)),this.__gen=N,this._gen=new i(N),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,s,l){var o=e("randombytes");s.exports=N,N.simpleSieve=v,N.fermatTest=j;var i=e("bn.js"),d=new i(24),c=new(e("miller-rabin")),a=new i(1),u=new i(2),m=new i(5),h=(new i(16),new i(8),new i(10)),p=new i(3),y=(new i(7),new i(11)),x=new i(4),g=(new i(12),null);function w(){if(g!==null)return g;var T=[];T[0]=2;for(var D=1,V=3;V<1048576;V+=2){for(var P=Math.ceil(Math.sqrt(V)),$=0;$<D&&T[$]<=P&&V%T[$]!=0;$++);D!==$&&T[$]<=P||(T[D++]=V)}return g=T,T}function v(T){for(var D=w(),V=0;V<D.length;V++)if(T.modn(D[V])===0)return T.cmpn(D[V])===0;return!0}function j(T){var D=i.mont(T);return u.toRed(D).redPow(T.subn(1)).fromRed().cmpn(1)===0}function N(T,D){if(T<16)return new i(D===2||D===5?[140,123]:[140,39]);var V,P;for(D=new i(D);;){for(V=new i(o(Math.ceil(T/8)));V.bitLength()>T;)V.ishrn(1);if(V.isEven()&&V.iadd(a),V.testn(1)||V.iadd(u),D.cmp(u)){if(!D.cmp(m))for(;V.mod(h).cmp(p);)V.iadd(x)}else for(;V.mod(d).cmp(y);)V.iadd(x);if(v(P=V.shrn(1))&&v(V)&&j(P)&&j(V)&&c.test(P)&&c.test(V))return V}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,s,l){s.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],405:[function(e,s,l){var o=l;o.version=e("../package.json").version,o.utils=e("./elliptic/utils"),o.rand=e("brorand"),o.curve=e("./elliptic/curve"),o.curves=e("./elliptic/curves"),o.ec=e("./elliptic/ec"),o.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,s,l){var o=e("bn.js"),i=e("../utils"),d=i.getNAF,c=i.getJSF,a=i.assert;function u(h,p){this.type=h,this.p=new o(p.p,16),this.red=p.prime?o.red(p.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=p.n&&new o(p.n,16),this.g=p.g&&this.pointFromJSON(p.g,p.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var y=this.n&&this.p.div(this.n);!y||y.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function m(h,p){this.curve=h,this.type=p,this.precomputed=null}s.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,p){a(h.precomputed);var y=h._getDoubles(),x=d(p,1,this._bitLength),g=(1<<y.step+1)-(y.step%2==0?2:1);g/=3;var w,v,j=[];for(w=0;w<x.length;w+=y.step){v=0;for(var N=w+y.step-1;N>=w;N--)v=(v<<1)+x[N];j.push(v)}for(var T=this.jpoint(null,null,null),D=this.jpoint(null,null,null),V=g;V>0;V--){for(w=0;w<j.length;w++)(v=j[w])===V?D=D.mixedAdd(y.points[w]):v===-V&&(D=D.mixedAdd(y.points[w].neg()));T=T.add(D)}return T.toP()},u.prototype._wnafMul=function(h,p){var y=4,x=h._getNAFPoints(y);y=x.wnd;for(var g=x.points,w=d(p,y,this._bitLength),v=this.jpoint(null,null,null),j=w.length-1;j>=0;j--){for(var N=0;j>=0&&w[j]===0;j--)N++;if(j>=0&&N++,v=v.dblp(N),j<0)break;var T=w[j];a(T!==0),v=h.type==="affine"?T>0?v.mixedAdd(g[T-1>>1]):v.mixedAdd(g[-T-1>>1].neg()):T>0?v.add(g[T-1>>1]):v.add(g[-T-1>>1].neg())}return h.type==="affine"?v.toP():v},u.prototype._wnafMulAdd=function(h,p,y,x,g){var w,v,j,N=this._wnafT1,T=this._wnafT2,D=this._wnafT3,V=0;for(w=0;w<x;w++){var P=(j=p[w])._getNAFPoints(h);N[w]=P.wnd,T[w]=P.points}for(w=x-1;w>=1;w-=2){var $=w-1,G=w;if(N[$]===1&&N[G]===1){var Y=[p[$],null,null,p[G]];p[$].y.cmp(p[G].y)===0?(Y[1]=p[$].add(p[G]),Y[2]=p[$].toJ().mixedAdd(p[G].neg())):p[$].y.cmp(p[G].y.redNeg())===0?(Y[1]=p[$].toJ().mixedAdd(p[G]),Y[2]=p[$].add(p[G].neg())):(Y[1]=p[$].toJ().mixedAdd(p[G]),Y[2]=p[$].toJ().mixedAdd(p[G].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],O=c(y[$],y[G]);for(V=Math.max(O[0].length,V),D[$]=new Array(V),D[G]=new Array(V),v=0;v<V;v++){var I=0|O[0][v],R=0|O[1][v];D[$][v]=W[3*(I+1)+(R+1)],D[G][v]=0,T[$]=Y}}else D[$]=d(y[$],N[$],this._bitLength),D[G]=d(y[G],N[G],this._bitLength),V=Math.max(D[$].length,V),V=Math.max(D[G].length,V)}var S=this.jpoint(null,null,null),C=this._wnafT4;for(w=V;w>=0;w--){for(var k=0;w>=0;){var E=!0;for(v=0;v<x;v++)C[v]=0|D[v][w],C[v]!==0&&(E=!1);if(!E)break;k++,w--}if(w>=0&&k++,S=S.dblp(k),w<0)break;for(v=0;v<x;v++){var M=C[v];M!==0&&(M>0?j=T[v][M-1>>1]:M<0&&(j=T[v][-M-1>>1].neg()),S=j.type==="affine"?S.mixedAdd(j):S.add(j))}}for(w=0;w<x;w++)T[w]=null;return g?S:S.toP()},u.BasePoint=m,m.prototype.eq=function(){throw new Error("Not implemented")},m.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,p){h=i.toArray(h,p);var y=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*y)return h[0]===6?a(h[h.length-1]%2==0):h[0]===7&&a(h[h.length-1]%2==1),this.point(h.slice(1,1+y),h.slice(1+y,1+2*y));if((h[0]===2||h[0]===3)&&h.length-1===y)return this.pointFromX(h.slice(1,1+y),h[0]===3);throw new Error("Unknown point format")},m.prototype.encodeCompressed=function(h){return this.encode(h,!0)},m.prototype._encode=function(h){var p=this.curve.p.byteLength(),y=this.getX().toArray("be",p);return h?[this.getY().isEven()?2:3].concat(y):[4].concat(y,this.getY().toArray("be",p))},m.prototype.encode=function(h,p){return i.encode(this._encode(p),h)},m.prototype.precompute=function(h){if(this.precomputed)return this;var p={doubles:null,naf:null,beta:null};return p.naf=this._getNAFPoints(8),p.doubles=this._getDoubles(4,h),p.beta=this._getBeta(),this.precomputed=p,this},m.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var p=this.precomputed.doubles;return!!p&&p.points.length>=Math.ceil((h.bitLength()+1)/p.step)},m.prototype._getDoubles=function(h,p){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var y=[this],x=this,g=0;g<p;g+=h){for(var w=0;w<h;w++)x=x.dbl();y.push(x)}return{step:h,points:y}},m.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var p=[this],y=(1<<h)-1,x=y===1?null:this.dbl(),g=1;g<y;g++)p[g]=p[g-1].add(x);return{wnd:h,points:p}},m.prototype._getBeta=function(){return null},m.prototype.dblp=function(h){for(var p=this,y=0;y<h;y++)p=p.dbl();return p}},{"../utils":419,"bn.js":420}],407:[function(e,s,l){var o=e("../utils"),i=e("bn.js"),d=e("inherits"),c=e("./base"),a=o.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",h),this.a=new i(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function m(h,p,y,x,g){c.BasePoint.call(this,h,"projective"),p===null&&y===null&&x===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(p,16),this.y=new i(y,16),this.z=x?new i(x,16):this.curve.one,this.t=g&&new i(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}d(u,c),s.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,p,y,x){return this.point(h,p,y,x)},u.prototype.pointFromX=function(h,p){(h=new i(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr(),x=this.c2.redSub(this.a.redMul(y)),g=this.one.redSub(this.c2.redMul(this.d).redMul(y)),w=x.redMul(g.redInvm()),v=w.redSqrt();if(v.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");var j=v.fromRed().isOdd();return(p&&!j||!p&&j)&&(v=v.redNeg()),this.point(h,v)},u.prototype.pointFromY=function(h,p){(h=new i(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr(),x=y.redSub(this.c2),g=y.redMul(this.d).redMul(this.c2).redSub(this.a),w=x.redMul(g.redInvm());if(w.cmp(this.zero)===0){if(p)throw new Error("invalid point");return this.point(this.zero,h)}var v=w.redSqrt();if(v.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==p&&(v=v.redNeg()),this.point(v,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var p=h.x.redSqr(),y=h.y.redSqr(),x=p.redMul(this.a).redAdd(y),g=this.c2.redMul(this.one.redAdd(this.d.redMul(p).redMul(y)));return x.cmp(g)===0},d(m,c.BasePoint),u.prototype.pointFromJSON=function(h){return m.fromJSON(this,h)},u.prototype.point=function(h,p,y,x){return new m(this,h,p,y,x)},m.fromJSON=function(h,p){return new m(h,p[0],p[1],p[2])},m.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},m.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},m.prototype._extDbl=function(){var h=this.x.redSqr(),p=this.y.redSqr(),y=this.z.redSqr();y=y.redIAdd(y);var x=this.curve._mulA(h),g=this.x.redAdd(this.y).redSqr().redISub(h).redISub(p),w=x.redAdd(p),v=w.redSub(y),j=x.redSub(p),N=g.redMul(v),T=w.redMul(j),D=g.redMul(j),V=v.redMul(w);return this.curve.point(N,T,V,D)},m.prototype._projDbl=function(){var h,p,y,x,g,w,v=this.x.redAdd(this.y).redSqr(),j=this.x.redSqr(),N=this.y.redSqr();if(this.curve.twisted){var T=(x=this.curve._mulA(j)).redAdd(N);this.zOne?(h=v.redSub(j).redSub(N).redMul(T.redSub(this.curve.two)),p=T.redMul(x.redSub(N)),y=T.redSqr().redSub(T).redSub(T)):(g=this.z.redSqr(),w=T.redSub(g).redISub(g),h=v.redSub(j).redISub(N).redMul(w),p=T.redMul(x.redSub(N)),y=T.redMul(w))}else x=j.redAdd(N),g=this.curve._mulC(this.z).redSqr(),w=x.redSub(g).redSub(g),h=this.curve._mulC(v.redISub(x)).redMul(w),p=this.curve._mulC(x).redMul(j.redISub(N)),y=x.redMul(w);return this.curve.point(h,p,y)},m.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},m.prototype._extAdd=function(h){var p=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),y=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),x=this.t.redMul(this.curve.dd).redMul(h.t),g=this.z.redMul(h.z.redAdd(h.z)),w=y.redSub(p),v=g.redSub(x),j=g.redAdd(x),N=y.redAdd(p),T=w.redMul(v),D=j.redMul(N),V=w.redMul(N),P=v.redMul(j);return this.curve.point(T,D,P,V)},m.prototype._projAdd=function(h){var p,y,x=this.z.redMul(h.z),g=x.redSqr(),w=this.x.redMul(h.x),v=this.y.redMul(h.y),j=this.curve.d.redMul(w).redMul(v),N=g.redSub(j),T=g.redAdd(j),D=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(w).redISub(v),V=x.redMul(N).redMul(D);return this.curve.twisted?(p=x.redMul(T).redMul(v.redSub(this.curve._mulA(w))),y=N.redMul(T)):(p=x.redMul(T).redMul(v.redSub(w)),y=this.curve._mulC(N).redMul(T)),this.curve.point(V,p,y)},m.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},m.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},m.prototype.mulAdd=function(h,p,y){return this.curve._wnafMulAdd(1,[this,p],[h,y],2,!1)},m.prototype.jmulAdd=function(h,p,y){return this.curve._wnafMulAdd(1,[this,p],[h,y],2,!0)},m.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},m.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},m.prototype.getX=function(){return this.normalize(),this.x.fromRed()},m.prototype.getY=function(){return this.normalize(),this.y.fromRed()},m.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},m.prototype.eqXToP=function(h){var p=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(p)===0)return!0;for(var y=h.clone(),x=this.curve.redN.redMul(this.z);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(x),this.x.cmp(p)===0)return!0}},m.prototype.toP=m.prototype.normalize,m.prototype.mixedAdd=m.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,s,l){var o=l;o.base=e("./base"),o.short=e("./short"),o.mont=e("./mont"),o.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,s,l){var o=e("bn.js"),i=e("inherits"),d=e("./base"),c=e("../utils");function a(m){d.call(this,"mont",m),this.a=new o(m.a,16).toRed(this.red),this.b=new o(m.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(m,h,p){d.BasePoint.call(this,m,"projective"),h===null&&p===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(h,16),this.z=new o(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,d),s.exports=a,a.prototype.validate=function(m){var h=m.normalize().x,p=h.redSqr(),y=p.redMul(h).redAdd(p.redMul(this.a)).redAdd(h);return y.redSqrt().redSqr().cmp(y)===0},i(u,d.BasePoint),a.prototype.decodePoint=function(m,h){return this.point(c.toArray(m,h),1)},a.prototype.point=function(m,h){return new u(this,m,h)},a.prototype.pointFromJSON=function(m){return u.fromJSON(this,m)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(m,h){return new u(m,h[0],h[1]||m.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var m=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),p=m.redSub(h),y=m.redMul(h),x=p.redMul(h.redAdd(this.curve.a24.redMul(p)));return this.curve.point(y,x)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(m,h){var p=this.x.redAdd(this.z),y=this.x.redSub(this.z),x=m.x.redAdd(m.z),g=m.x.redSub(m.z).redMul(p),w=x.redMul(y),v=h.z.redMul(g.redAdd(w).redSqr()),j=h.x.redMul(g.redISub(w).redSqr());return this.curve.point(v,j)},u.prototype.mul=function(m){for(var h=m.clone(),p=this,y=this.curve.point(null,null),x=[];h.cmpn(0)!==0;h.iushrn(1))x.push(h.andln(1));for(var g=x.length-1;g>=0;g--)x[g]===0?(p=p.diffAdd(y,this),y=y.dbl()):(y=p.diffAdd(y,this),p=p.dbl());return y},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(m){return this.getX().cmp(m.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,s,l){var o=e("../utils"),i=e("bn.js"),d=e("inherits"),c=e("./base"),a=o.assert;function u(p){c.call(this,"short",p),this.a=new i(p.a,16).toRed(this.red),this.b=new i(p.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(p),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function m(p,y,x,g){c.BasePoint.call(this,p,"affine"),y===null&&x===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(y,16),this.y=new i(x,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(p,y,x,g){c.BasePoint.call(this,p,"jacobian"),y===null&&x===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(y,16),this.y=new i(x,16),this.z=new i(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}d(u,c),s.exports=u,u.prototype._getEndomorphism=function(p){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var y,x;if(p.beta)y=new i(p.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);y=(y=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(p.lambda)x=new i(p.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(y))===0?x=w[0]:(x=w[1],a(this.g.mul(x).x.cmp(this.g.x.redMul(y))===0))}return{beta:y,lambda:x,basis:p.basis?p.basis.map((function(v){return{a:new i(v.a,16),b:new i(v.b,16)}})):this._getEndoBasis(x)}}},u.prototype._getEndoRoots=function(p){var y=p===this.p?this.red:i.mont(p),x=new i(2).toRed(y).redInvm(),g=x.redNeg(),w=new i(3).toRed(y).redNeg().redSqrt().redMul(x);return[g.redAdd(w).fromRed(),g.redSub(w).fromRed()]},u.prototype._getEndoBasis=function(p){for(var y,x,g,w,v,j,N,T,D,V=this.n.ushrn(Math.floor(this.n.bitLength()/2)),P=p,$=this.n.clone(),G=new i(1),Y=new i(0),W=new i(0),O=new i(1),I=0;P.cmpn(0)!==0;){var R=$.div(P);T=$.sub(R.mul(P)),D=W.sub(R.mul(G));var S=O.sub(R.mul(Y));if(!g&&T.cmp(V)<0)y=N.neg(),x=G,g=T.neg(),w=D;else if(g&&++I==2)break;N=T,$=P,P=T,W=G,G=D,O=Y,Y=S}v=T.neg(),j=D;var C=g.sqr().add(w.sqr());return v.sqr().add(j.sqr()).cmp(C)>=0&&(v=y,j=x),g.negative&&(g=g.neg(),w=w.neg()),v.negative&&(v=v.neg(),j=j.neg()),[{a:g,b:w},{a:v,b:j}]},u.prototype._endoSplit=function(p){var y=this.endo.basis,x=y[0],g=y[1],w=g.b.mul(p).divRound(this.n),v=x.b.neg().mul(p).divRound(this.n),j=w.mul(x.a),N=v.mul(g.a),T=w.mul(x.b),D=v.mul(g.b);return{k1:p.sub(j).sub(N),k2:T.add(D).neg()}},u.prototype.pointFromX=function(p,y){(p=new i(p,16)).red||(p=p.toRed(this.red));var x=p.redSqr().redMul(p).redIAdd(p.redMul(this.a)).redIAdd(this.b),g=x.redSqrt();if(g.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var w=g.fromRed().isOdd();return(y&&!w||!y&&w)&&(g=g.redNeg()),this.point(p,g)},u.prototype.validate=function(p){if(p.inf)return!0;var y=p.x,x=p.y,g=this.a.redMul(y),w=y.redSqr().redMul(y).redIAdd(g).redIAdd(this.b);return x.redSqr().redISub(w).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(p,y,x){for(var g=this._endoWnafT1,w=this._endoWnafT2,v=0;v<p.length;v++){var j=this._endoSplit(y[v]),N=p[v],T=N._getBeta();j.k1.negative&&(j.k1.ineg(),N=N.neg(!0)),j.k2.negative&&(j.k2.ineg(),T=T.neg(!0)),g[2*v]=N,g[2*v+1]=T,w[2*v]=j.k1,w[2*v+1]=j.k2}for(var D=this._wnafMulAdd(1,g,w,2*v,x),V=0;V<2*v;V++)g[V]=null,w[V]=null;return D},d(m,c.BasePoint),u.prototype.point=function(p,y,x){return new m(this,p,y,x)},u.prototype.pointFromJSON=function(p,y){return m.fromJSON(this,p,y)},m.prototype._getBeta=function(){if(this.curve.endo){var p=this.precomputed;if(p&&p.beta)return p.beta;var y=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(p){var x=this.curve,g=function(w){return x.point(w.x.redMul(x.endo.beta),w.y)};p.beta=y,y.precomputed={beta:null,naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(g)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(g)}}}return y}},m.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},m.fromJSON=function(p,y,x){typeof y=="string"&&(y=JSON.parse(y));var g=p.point(y[0],y[1],x);if(!y[2])return g;function w(j){return p.point(j[0],j[1],x)}var v=y[2];return g.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[g].concat(v.doubles.points.map(w))},naf:v.naf&&{wnd:v.naf.wnd,points:[g].concat(v.naf.points.map(w))}},g},m.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},m.prototype.isInfinity=function(){return this.inf},m.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var y=this.y.redSub(p.y);y.cmpn(0)!==0&&(y=y.redMul(this.x.redSub(p.x).redInvm()));var x=y.redSqr().redISub(this.x).redISub(p.x),g=y.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,g)},m.prototype.dbl=function(){if(this.inf)return this;var p=this.y.redAdd(this.y);if(p.cmpn(0)===0)return this.curve.point(null,null);var y=this.curve.a,x=this.x.redSqr(),g=p.redInvm(),w=x.redAdd(x).redIAdd(x).redIAdd(y).redMul(g),v=w.redSqr().redISub(this.x.redAdd(this.x)),j=w.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,j)},m.prototype.getX=function(){return this.x.fromRed()},m.prototype.getY=function(){return this.y.fromRed()},m.prototype.mul=function(p){return p=new i(p,16),this.isInfinity()?this:this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve.endo?this.curve._endoWnafMulAdd([this],[p]):this.curve._wnafMul(this,p)},m.prototype.mulAdd=function(p,y,x){var g=[this,y],w=[p,x];return this.curve.endo?this.curve._endoWnafMulAdd(g,w):this.curve._wnafMulAdd(1,g,w,2)},m.prototype.jmulAdd=function(p,y,x){var g=[this,y],w=[p,x];return this.curve.endo?this.curve._endoWnafMulAdd(g,w,!0):this.curve._wnafMulAdd(1,g,w,2,!0)},m.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)},m.prototype.neg=function(p){if(this.inf)return this;var y=this.curve.point(this.x,this.y.redNeg());if(p&&this.precomputed){var x=this.precomputed,g=function(w){return w.neg()};y.precomputed={naf:x.naf&&{wnd:x.naf.wnd,points:x.naf.points.map(g)},doubles:x.doubles&&{step:x.doubles.step,points:x.doubles.points.map(g)}}}return y},m.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},d(h,c.BasePoint),u.prototype.jpoint=function(p,y,x){return new h(this,p,y,x)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var p=this.z.redInvm(),y=p.redSqr(),x=this.x.redMul(y),g=this.y.redMul(y).redMul(p);return this.curve.point(x,g)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var y=p.z.redSqr(),x=this.z.redSqr(),g=this.x.redMul(y),w=p.x.redMul(x),v=this.y.redMul(y.redMul(p.z)),j=p.y.redMul(x.redMul(this.z)),N=g.redSub(w),T=v.redSub(j);if(N.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=N.redSqr(),V=D.redMul(N),P=g.redMul(D),$=T.redSqr().redIAdd(V).redISub(P).redISub(P),G=T.redMul(P.redISub($)).redISub(v.redMul(V)),Y=this.z.redMul(p.z).redMul(N);return this.curve.jpoint($,G,Y)},h.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var y=this.z.redSqr(),x=this.x,g=p.x.redMul(y),w=this.y,v=p.y.redMul(y).redMul(this.z),j=x.redSub(g),N=w.redSub(v);if(j.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=j.redSqr(),D=T.redMul(j),V=x.redMul(T),P=N.redSqr().redIAdd(D).redISub(V).redISub(V),$=N.redMul(V.redISub(P)).redISub(w.redMul(D)),G=this.z.redMul(j);return this.curve.jpoint(P,$,G)},h.prototype.dblp=function(p){if(p===0)return this;if(this.isInfinity())return this;if(!p)return this.dbl();var y;if(this.curve.zeroA||this.curve.threeA){var x=this;for(y=0;y<p;y++)x=x.dbl();return x}var g=this.curve.a,w=this.curve.tinv,v=this.x,j=this.y,N=this.z,T=N.redSqr().redSqr(),D=j.redAdd(j);for(y=0;y<p;y++){var V=v.redSqr(),P=D.redSqr(),$=P.redSqr(),G=V.redAdd(V).redIAdd(V).redIAdd(g.redMul(T)),Y=v.redMul(P),W=G.redSqr().redISub(Y.redAdd(Y)),O=Y.redISub(W),I=G.redMul(O);I=I.redIAdd(I).redISub($);var R=D.redMul(N);y+1<p&&(T=T.redMul($)),v=W,N=R,D=I}return this.curve.jpoint(v,D.redMul(w),N)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var p,y,x;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),v=w.redSqr(),j=this.x.redAdd(w).redSqr().redISub(g).redISub(v);j=j.redIAdd(j);var N=g.redAdd(g).redIAdd(g),T=N.redSqr().redISub(j).redISub(j),D=v.redIAdd(v);D=(D=D.redIAdd(D)).redIAdd(D),p=T,y=N.redMul(j.redISub(T)).redISub(D),x=this.y.redAdd(this.y)}else{var V=this.x.redSqr(),P=this.y.redSqr(),$=P.redSqr(),G=this.x.redAdd(P).redSqr().redISub(V).redISub($);G=G.redIAdd(G);var Y=V.redAdd(V).redIAdd(V),W=Y.redSqr(),O=$.redIAdd($);O=(O=O.redIAdd(O)).redIAdd(O),p=W.redISub(G).redISub(G),y=Y.redMul(G.redISub(p)).redISub(O),x=(x=this.y.redMul(this.z)).redIAdd(x)}return this.curve.jpoint(p,y,x)},h.prototype._threeDbl=function(){var p,y,x;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),v=w.redSqr(),j=this.x.redAdd(w).redSqr().redISub(g).redISub(v);j=j.redIAdd(j);var N=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),T=N.redSqr().redISub(j).redISub(j);p=T;var D=v.redIAdd(v);D=(D=D.redIAdd(D)).redIAdd(D),y=N.redMul(j.redISub(T)).redISub(D),x=this.y.redAdd(this.y)}else{var V=this.z.redSqr(),P=this.y.redSqr(),$=this.x.redMul(P),G=this.x.redSub(V).redMul(this.x.redAdd(V));G=G.redAdd(G).redIAdd(G);var Y=$.redIAdd($),W=(Y=Y.redIAdd(Y)).redAdd(Y);p=G.redSqr().redISub(W),x=this.y.redAdd(this.z).redSqr().redISub(P).redISub(V);var O=P.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O),y=G.redMul(Y.redISub(p)).redISub(O)}return this.curve.jpoint(p,y,x)},h.prototype._dbl=function(){var p=this.curve.a,y=this.x,x=this.y,g=this.z,w=g.redSqr().redSqr(),v=y.redSqr(),j=x.redSqr(),N=v.redAdd(v).redIAdd(v).redIAdd(p.redMul(w)),T=y.redAdd(y),D=(T=T.redIAdd(T)).redMul(j),V=N.redSqr().redISub(D.redAdd(D)),P=D.redISub(V),$=j.redSqr();$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var G=N.redMul(P).redISub($),Y=x.redAdd(x).redMul(g);return this.curve.jpoint(V,G,Y)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var p=this.x.redSqr(),y=this.y.redSqr(),x=this.z.redSqr(),g=y.redSqr(),w=p.redAdd(p).redIAdd(p),v=w.redSqr(),j=this.x.redAdd(y).redSqr().redISub(p).redISub(g),N=(j=(j=(j=j.redIAdd(j)).redAdd(j).redIAdd(j)).redISub(v)).redSqr(),T=g.redIAdd(g);T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T);var D=w.redIAdd(j).redSqr().redISub(v).redISub(N).redISub(T),V=y.redMul(D);V=(V=V.redIAdd(V)).redIAdd(V);var P=this.x.redMul(N).redISub(V);P=(P=P.redIAdd(P)).redIAdd(P);var $=this.y.redMul(D.redMul(T.redISub(D)).redISub(j.redMul(N)));$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var G=this.z.redAdd(j).redSqr().redISub(x).redISub(N);return this.curve.jpoint(P,$,G)},h.prototype.mul=function(p,y){return p=new i(p,y),this.curve._wnafMul(this,p)},h.prototype.eq=function(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return!0;var y=this.z.redSqr(),x=p.z.redSqr();if(this.x.redMul(x).redISub(p.x.redMul(y)).cmpn(0)!==0)return!1;var g=y.redMul(this.z),w=x.redMul(p.z);return this.y.redMul(w).redISub(p.y.redMul(g)).cmpn(0)===0},h.prototype.eqXToP=function(p){var y=this.z.redSqr(),x=p.toRed(this.curve.red).redMul(y);if(this.x.cmp(x)===0)return!0;for(var g=p.clone(),w=this.curve.redN.redMul(y);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(x.redIAdd(w),this.x.cmp(x)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,s,l){var o,i=l,d=e("hash.js"),c=e("./curve"),a=e("./utils").assert;function u(h){h.type==="short"?this.curve=new c.short(h):h.type==="edwards"?this.curve=new c.edwards(h):this.curve=new c.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function m(h,p){Object.defineProperty(i,h,{configurable:!0,enumerable:!0,get:function(){var y=new u(p);return Object.defineProperty(i,h,{configurable:!0,enumerable:!0,value:y}),y}})}i.PresetCurve=u,m("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:d.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),m("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:d.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),m("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:d.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),m("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:d.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),m("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:d.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),m("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["9"]}),m("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{o=e("./precomputed/secp256k1")}catch{o=void 0}m("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:d.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,s,l){var o=e("bn.js"),i=e("hmac-drbg"),d=e("../utils"),c=e("../curves"),a=e("brorand"),u=d.assert,m=e("./key"),h=e("./signature");function p(y){if(!(this instanceof p))return new p(y);typeof y=="string"&&(u(Object.prototype.hasOwnProperty.call(c,y),"Unknown curve "+y),y=c[y]),y instanceof c.PresetCurve&&(y={curve:y}),this.curve=y.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=y.curve.g,this.g.precompute(y.curve.n.bitLength()+1),this.hash=y.hash||y.curve.hash}s.exports=p,p.prototype.keyPair=function(y){return new m(this,y)},p.prototype.keyFromPrivate=function(y,x){return m.fromPrivate(this,y,x)},p.prototype.keyFromPublic=function(y,x){return m.fromPublic(this,y,x)},p.prototype.genKeyPair=function(y){y||(y={});for(var x=new i({hash:this.hash,pers:y.pers,persEnc:y.persEnc||"utf8",entropy:y.entropy||a(this.hash.hmacStrength),entropyEnc:y.entropy&&y.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),w=this.n.sub(new o(2));;){var v=new o(x.generate(g));if(!(v.cmp(w)>0))return v.iaddn(1),this.keyFromPrivate(v)}},p.prototype._truncateToN=function(y,x){var g=8*y.byteLength()-this.n.bitLength();return g>0&&(y=y.ushrn(g)),!x&&y.cmp(this.n)>=0?y.sub(this.n):y},p.prototype.sign=function(y,x,g,w){typeof g=="object"&&(w=g,g=null),w||(w={}),x=this.keyFromPrivate(x,g),y=this._truncateToN(new o(y,16));for(var v=this.n.byteLength(),j=x.getPrivate().toArray("be",v),N=y.toArray("be",v),T=new i({hash:this.hash,entropy:j,nonce:N,pers:w.pers,persEnc:w.persEnc||"utf8"}),D=this.n.sub(new o(1)),V=0;;V++){var P=w.k?w.k(V):new o(T.generate(this.n.byteLength()));if(!((P=this._truncateToN(P,!0)).cmpn(1)<=0||P.cmp(D)>=0)){var $=this.g.mul(P);if(!$.isInfinity()){var G=$.getX(),Y=G.umod(this.n);if(Y.cmpn(0)!==0){var W=P.invm(this.n).mul(Y.mul(x.getPrivate()).iadd(y));if((W=W.umod(this.n)).cmpn(0)!==0){var O=($.getY().isOdd()?1:0)|(G.cmp(Y)!==0?2:0);return w.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),O^=1),new h({r:Y,s:W,recoveryParam:O})}}}}}},p.prototype.verify=function(y,x,g,w){y=this._truncateToN(new o(y,16)),g=this.keyFromPublic(g,w);var v=(x=new h(x,"hex")).r,j=x.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||j.cmpn(1)<0||j.cmp(this.n)>=0)return!1;var N,T=j.invm(this.n),D=T.mul(y).umod(this.n),V=T.mul(v).umod(this.n);return this.curve._maxwellTrick?!(N=this.g.jmulAdd(D,g.getPublic(),V)).isInfinity()&&N.eqXToP(v):!(N=this.g.mulAdd(D,g.getPublic(),V)).isInfinity()&&N.getX().umod(this.n).cmp(v)===0},p.prototype.recoverPubKey=function(y,x,g,w){u((3&g)===g,"The recovery param is more than two bits"),x=new h(x,w);var v=this.n,j=new o(y),N=x.r,T=x.s,D=1&g,V=g>>1;if(N.cmp(this.curve.p.umod(this.curve.n))>=0&&V)throw new Error("Unable to find sencond key candinate");N=V?this.curve.pointFromX(N.add(this.curve.n),D):this.curve.pointFromX(N,D);var P=x.r.invm(v),$=v.sub(j).mul(P).umod(v),G=T.mul(P).umod(v);return this.g.mulAdd($,N,G)},p.prototype.getKeyRecoveryParam=function(y,x,g,w){if((x=new h(x,w)).recoveryParam!==null)return x.recoveryParam;for(var v=0;v<4;v++){var j;try{j=this.recoverPubKey(y,x,v)}catch{continue}if(j.eq(g))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,s,l){var o=e("bn.js"),i=e("../utils").assert;function d(c,a){this.ec=c,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}s.exports=d,d.fromPublic=function(c,a,u){return a instanceof d?a:new d(c,{pub:a,pubEnc:u})},d.fromPrivate=function(c,a,u){return a instanceof d?a:new d(c,{priv:a,privEnc:u})},d.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},d.prototype.getPublic=function(c,a){return typeof c=="string"&&(a=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,c):this.pub},d.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},d.prototype._importPrivate=function(c,a){this.priv=new o(c,a||16),this.priv=this.priv.umod(this.ec.curve.n)},d.prototype._importPublic=function(c,a){if(c.x||c.y)return this.ec.curve.type==="mont"?i(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||i(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,a)},d.prototype.derive=function(c){return c.validate()||i(c.validate(),"public point not validated"),c.mul(this.priv).getX()},d.prototype.sign=function(c,a,u){return this.ec.sign(c,this,a,u)},d.prototype.verify=function(c,a){return this.ec.verify(c,a,this)},d.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,s,l){var o=e("bn.js"),i=e("../utils"),d=i.assert;function c(p,y){if(p instanceof c)return p;this._importDER(p,y)||(d(p.r&&p.s,"Signature without r or s"),this.r=new o(p.r,16),this.s=new o(p.s,16),p.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=p.recoveryParam)}function a(){this.place=0}function u(p,y){var x=p[y.place++];if(!(128&x))return x;var g=15&x;if(g===0||g>4)return!1;for(var w=0,v=0,j=y.place;v<g;v++,j++)w<<=8,w|=p[j],w>>>=0;return!(w<=127)&&(y.place=j,w)}function m(p){for(var y=0,x=p.length-1;!p[y]&&!(128&p[y+1])&&y<x;)y++;return y===0?p:p.slice(y)}function h(p,y){if(y<128)p.push(y);else{var x=1+(Math.log(y)/Math.LN2>>>3);for(p.push(128|x);--x;)p.push(y>>>(x<<3)&255);p.push(y)}}s.exports=c,c.prototype._importDER=function(p,y){p=i.toArray(p,y);var x=new a;if(p[x.place++]!==48)return!1;var g=u(p,x);if(g===!1||g+x.place!==p.length||p[x.place++]!==2)return!1;var w=u(p,x);if(w===!1)return!1;var v=p.slice(x.place,w+x.place);if(x.place+=w,p[x.place++]!==2)return!1;var j=u(p,x);if(j===!1||p.length!==j+x.place)return!1;var N=p.slice(x.place,j+x.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(N[0]===0){if(!(128&N[1]))return!1;N=N.slice(1)}return this.r=new o(v),this.s=new o(N),this.recoveryParam=null,!0},c.prototype.toDER=function(p){var y=this.r.toArray(),x=this.s.toArray();for(128&y[0]&&(y=[0].concat(y)),128&x[0]&&(x=[0].concat(x)),y=m(y),x=m(x);!(x[0]||128&x[1]);)x=x.slice(1);var g=[2];h(g,y.length),(g=g.concat(y)).push(2),h(g,x.length);var w=g.concat(x),v=[48];return h(v,w.length),v=v.concat(w),i.encode(v,p)}},{"../utils":419,"bn.js":420}],415:[function(e,s,l){var o=e("hash.js"),i=e("../curves"),d=e("../utils"),c=d.assert,a=d.parseBytes,u=e("./key"),m=e("./signature");function h(p){if(c(p==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(p);p=i[p].curve,this.curve=p,this.g=p.g,this.g.precompute(p.n.bitLength()+1),this.pointClass=p.point().constructor,this.encodingLength=Math.ceil(p.n.bitLength()/8),this.hash=o.sha512}s.exports=h,h.prototype.sign=function(p,y){p=a(p);var x=this.keyFromSecret(y),g=this.hashInt(x.messagePrefix(),p),w=this.g.mul(g),v=this.encodePoint(w),j=this.hashInt(v,x.pubBytes(),p).mul(x.priv()),N=g.add(j).umod(this.curve.n);return this.makeSignature({R:w,S:N,Rencoded:v})},h.prototype.verify=function(p,y,x){p=a(p),y=this.makeSignature(y);var g=this.keyFromPublic(x),w=this.hashInt(y.Rencoded(),g.pubBytes(),p),v=this.g.mul(y.S());return y.R().add(g.pub().mul(w)).eq(v)},h.prototype.hashInt=function(){for(var p=this.hash(),y=0;y<arguments.length;y++)p.update(arguments[y]);return d.intFromLE(p.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(p){return u.fromPublic(this,p)},h.prototype.keyFromSecret=function(p){return u.fromSecret(this,p)},h.prototype.makeSignature=function(p){return p instanceof m?p:new m(this,p)},h.prototype.encodePoint=function(p){var y=p.getY().toArray("le",this.encodingLength);return y[this.encodingLength-1]|=p.getX().isOdd()?128:0,y},h.prototype.decodePoint=function(p){var y=(p=d.parseBytes(p)).length-1,x=p.slice(0,y).concat(-129&p[y]),g=(128&p[y])!=0,w=d.intFromLE(x);return this.curve.pointFromY(w,g)},h.prototype.encodeInt=function(p){return p.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(p){return d.intFromLE(p)},h.prototype.isPoint=function(p){return p instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,s,l){var o=e("../utils"),i=o.assert,d=o.parseBytes,c=o.cachedProperty;function a(u,m){this.eddsa=u,this._secret=d(m.secret),u.isPoint(m.pub)?this._pub=m.pub:this._pubBytes=d(m.pub)}a.fromPublic=function(u,m){return m instanceof a?m:new a(u,{pub:m})},a.fromSecret=function(u,m){return m instanceof a?m:new a(u,{secret:m})},a.prototype.secret=function(){return this._secret},c(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),c(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),c(a,"privBytes",(function(){var u=this.eddsa,m=this.hash(),h=u.encodingLength-1,p=m.slice(0,u.encodingLength);return p[0]&=248,p[h]&=127,p[h]|=64,p})),c(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),c(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),c(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(u){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},a.prototype.verify=function(u,m){return this.eddsa.verify(u,m,this)},a.prototype.getSecret=function(u){return i(this._secret,"KeyPair is public only"),o.encode(this.secret(),u)},a.prototype.getPublic=function(u){return o.encode(this.pubBytes(),u)},s.exports=a},{"../utils":419}],417:[function(e,s,l){var o=e("bn.js"),i=e("../utils"),d=i.assert,c=i.cachedProperty,a=i.parseBytes;function u(m,h){this.eddsa=m,typeof h!="object"&&(h=a(h)),Array.isArray(h)&&(h={R:h.slice(0,m.encodingLength),S:h.slice(m.encodingLength)}),d(h.R&&h.S,"Signature without R or S"),m.isPoint(h.R)&&(this._R=h.R),h.S instanceof o&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}c(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),c(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),c(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),c(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},s.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,s,l){s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,s,l){var o=l,i=e("bn.js"),d=e("minimalistic-assert"),c=e("minimalistic-crypto-utils");o.assert=d,o.toArray=c.toArray,o.zero2=c.zero2,o.toHex=c.toHex,o.encode=c.encode,o.getNAF=function(a,u,m){var h=new Array(Math.max(a.bitLength(),m)+1);h.fill(0);for(var p=1<<u+1,y=a.clone(),x=0;x<h.length;x++){var g,w=y.andln(p-1);y.isOdd()?(g=w>(p>>1)-1?(p>>1)-w:w,y.isubn(g)):g=0,h[x]=g,y.iushrn(1)}return h},o.getJSF=function(a,u){var m=[[],[]];a=a.clone(),u=u.clone();for(var h,p=0,y=0;a.cmpn(-p)>0||u.cmpn(-y)>0;){var x,g,w=a.andln(3)+p&3,v=u.andln(3)+y&3;w===3&&(w=-1),v===3&&(v=-1),x=(1&w)==0?0:(h=a.andln(7)+p&7)!==3&&h!==5||v!==2?w:-w,m[0].push(x),g=(1&v)==0?0:(h=u.andln(7)+y&7)!==3&&h!==5||w!==2?v:-v,m[1].push(g),2*p===x+1&&(p=1-p),2*y===g+1&&(y=1-y),a.iushrn(1),u.iushrn(1)}return m},o.cachedProperty=function(a,u,m){var h="_"+u;a.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=m.call(this)}},o.parseBytes=function(a){return typeof a=="string"?o.toArray(a,"hex"):a},o.intFromLE=function(a){return new i(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],421:[function(e,s,l){s.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,s,l){var o=Object.create||function(P){var $=function(){};return $.prototype=P,new $},i=Object.keys||function(P){var $=[];for(var G in P)Object.prototype.hasOwnProperty.call(P,G)&&$.push(G);return G},d=Function.prototype.bind||function(P){var $=this;return function(){return $.apply(P,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}s.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var a,u=10;try{var m={};Object.defineProperty&&Object.defineProperty(m,"x",{value:0}),a=m.x===0}catch{a=!1}function h(P){return P._maxListeners===void 0?c.defaultMaxListeners:P._maxListeners}function p(P,$,G){if($)P.call(G);else for(var Y=P.length,W=V(P,Y),O=0;O<Y;++O)W[O].call(G)}function y(P,$,G,Y){if($)P.call(G,Y);else for(var W=P.length,O=V(P,W),I=0;I<W;++I)O[I].call(G,Y)}function x(P,$,G,Y,W){if($)P.call(G,Y,W);else for(var O=P.length,I=V(P,O),R=0;R<O;++R)I[R].call(G,Y,W)}function g(P,$,G,Y,W,O){if($)P.call(G,Y,W,O);else for(var I=P.length,R=V(P,I),S=0;S<I;++S)R[S].call(G,Y,W,O)}function w(P,$,G,Y){if($)P.apply(G,Y);else for(var W=P.length,O=V(P,W),I=0;I<W;++I)O[I].apply(G,Y)}function v(P,$,G,Y){var W,O,I;if(typeof G!="function")throw new TypeError('"listener" argument must be a function');if((O=P._events)?(O.newListener&&(P.emit("newListener",$,G.listener?G.listener:G),O=P._events),I=O[$]):(O=P._events=o(null),P._eventsCount=0),I){if(typeof I=="function"?I=O[$]=Y?[G,I]:[I,G]:Y?I.unshift(G):I.push(G),!I.warned&&(W=h(P))&&W>0&&I.length>W){I.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+I.length+' "'+String($)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');R.name="MaxListenersExceededWarning",R.emitter=P,R.type=$,R.count=I.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",R.name,R.message)}}else I=O[$]=G,++P._eventsCount;return P}function j(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var P=new Array(arguments.length),$=0;$<P.length;++$)P[$]=arguments[$];this.listener.apply(this.target,P)}}function N(P,$,G){var Y={fired:!1,wrapFn:void 0,target:P,type:$,listener:G},W=d.call(j,Y);return W.listener=G,Y.wrapFn=W,W}function T(P,$,G){var Y=P._events;if(!Y)return[];var W=Y[$];return W?typeof W=="function"?G?[W.listener||W]:[W]:G?(function(O){for(var I=new Array(O.length),R=0;R<I.length;++R)I[R]=O[R].listener||O[R];return I})(W):V(W,W.length):[]}function D(P){var $=this._events;if($){var G=$[P];if(typeof G=="function")return 1;if(G)return G.length}return 0}function V(P,$){for(var G=new Array($),Y=0;Y<$;++Y)G[Y]=P[Y];return G}a?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(P){if(typeof P!="number"||P<0||P!=P)throw new TypeError('"defaultMaxListeners" must be a positive number');u=P}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||isNaN(P))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=P,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(P){var $,G,Y,W,O,I,R=P==="error";if(I=this._events)R=R&&I.error==null;else if(!R)return!1;if(R){if(arguments.length>1&&($=arguments[1]),$ instanceof Error)throw $;var S=new Error('Unhandled "error" event. ('+$+")");throw S.context=$,S}if(!(G=I[P]))return!1;var C=typeof G=="function";switch(Y=arguments.length){case 1:p(G,C,this);break;case 2:y(G,C,this,arguments[1]);break;case 3:x(G,C,this,arguments[1],arguments[2]);break;case 4:g(G,C,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(Y-1),O=1;O<Y;O++)W[O-1]=arguments[O];w(G,C,this,W)}return!0},c.prototype.addListener=function(P,$){return v(this,P,$,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(P,$){return v(this,P,$,!0)},c.prototype.once=function(P,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.on(P,N(this,P,$)),this},c.prototype.prependOnceListener=function(P,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(P,N(this,P,$)),this},c.prototype.removeListener=function(P,$){var G,Y,W,O,I;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if(!(Y=this._events))return this;if(!(G=Y[P]))return this;if(G===$||G.listener===$)--this._eventsCount==0?this._events=o(null):(delete Y[P],Y.removeListener&&this.emit("removeListener",P,G.listener||$));else if(typeof G!="function"){for(W=-1,O=G.length-1;O>=0;O--)if(G[O]===$||G[O].listener===$){I=G[O].listener,W=O;break}if(W<0)return this;W===0?G.shift():(function(R,S){for(var C=S,k=C+1,E=R.length;k<E;C+=1,k+=1)R[C]=R[k];R.pop()})(G,W),G.length===1&&(Y[P]=G[0]),Y.removeListener&&this.emit("removeListener",P,I||$)}return this},c.prototype.removeAllListeners=function(P){var $,G,Y;if(!(G=this._events))return this;if(!G.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):G[P]&&(--this._eventsCount==0?this._events=o(null):delete G[P]),this;if(arguments.length===0){var W,O=i(G);for(Y=0;Y<O.length;++Y)(W=O[Y])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(typeof($=G[P])=="function")this.removeListener(P,$);else if($)for(Y=$.length-1;Y>=0;Y--)this.removeListener(P,$[Y]);return this},c.prototype.listeners=function(P){return T(this,P,!0)},c.prototype.rawListeners=function(P){return T(this,P,!1)},c.listenerCount=function(P,$){return typeof P.listenerCount=="function"?P.listenerCount($):D.call(P,$)},c.prototype.listenerCount=D,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,s,l){var o=e("safe-buffer").Buffer,i=e("md5.js");s.exports=function(d,c,a,u){if(o.isBuffer(d)||(d=o.from(d,"binary")),c&&(o.isBuffer(c)||(c=o.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var m=a/8,h=o.alloc(m),p=o.alloc(u||0),y=o.alloc(0);m>0||u>0;){var x=new i;x.update(y),x.update(d),c&&x.update(c),y=x.digest();var g=0;if(m>0){var w=h.length-m;g=Math.min(m,y.length),y.copy(h,w,0,g),m-=g}if(g<y.length&&u>0){var v=p.length-u,j=Math.min(u,y.length-g);y.copy(p,v,g,g+j),u-=j}}return y.fill(0),{key:h,iv:p}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=l.ParserOptions=l.parseFile=l.parseStream=l.parseString=l.parse=l.FormatterOptions=l.CsvFormatterStream=l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=void 0;var o=e("@fast-csv/format");Object.defineProperty(l,"format",{enumerable:!0,get:function(){return o.format}}),Object.defineProperty(l,"write",{enumerable:!0,get:function(){return o.write}}),Object.defineProperty(l,"writeToStream",{enumerable:!0,get:function(){return o.writeToStream}}),Object.defineProperty(l,"writeToBuffer",{enumerable:!0,get:function(){return o.writeToBuffer}}),Object.defineProperty(l,"writeToString",{enumerable:!0,get:function(){return o.writeToString}}),Object.defineProperty(l,"writeToPath",{enumerable:!0,get:function(){return o.writeToPath}}),Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return o.CsvFormatterStream}}),Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return o.FormatterOptions}});var i=e("@fast-csv/parse");Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(l,"parseString",{enumerable:!0,get:function(){return i.parseString}}),Object.defineProperty(l,"parseStream",{enumerable:!0,get:function(){return i.parseStream}}),Object.defineProperty(l,"parseFile",{enumerable:!0,get:function(){return i.parseFile}}),Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return i.ParserOptions}}),Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return i.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,s,l){var o=e("safe-buffer").Buffer,i=e("readable-stream").Transform;function d(c){i.call(this),this._block=o.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(d,i),d.prototype._transform=function(c,a,u){var m=null;try{this.update(c,a)}catch(h){m=h}u(m)},d.prototype._flush=function(c){var a=null;try{this.push(this.digest())}catch(u){a=u}c(a)},d.prototype.update=function(c,a){if((function(x,g){if(!o.isBuffer(x)&&typeof x!="string")throw new TypeError(g+" must be a string or a buffer")})(c,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(c)||(c=o.from(c,a));for(var u=this._block,m=0;this._blockOffset+c.length-m>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=c[m++];this._update(),this._blockOffset=0}for(;m<c.length;)u[this._blockOffset++]=c[m++];for(var p=0,y=8*c.length;y>0;++p)this._length[p]+=y,(y=this._length[p]/4294967296|0)>0&&(this._length[p]-=4294967296*y);return this},d.prototype._update=function(){throw new Error("_update is not implemented")},d.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();c!==void 0&&(a=a.toString(c)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return a},d.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=d},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,s,l){var o=l;o.utils=e("./hash/utils"),o.common=e("./hash/common"),o.sha=e("./hash/sha"),o.ripemd=e("./hash/ripemd"),o.hmac=e("./hash/hmac"),o.sha1=o.sha.sha1,o.sha256=o.sha.sha256,o.sha224=o.sha.sha224,o.sha384=o.sha.sha384,o.sha512=o.sha.sha512,o.ripemd160=o.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,s,l){var o=e("./utils"),i=e("minimalistic-assert");function d(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l.BlockHash=d,d.prototype.update=function(c,a){if(c=o.toArray(c,a),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var u=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-u,c.length),this.pending.length===0&&(this.pending=null),c=o.join32(c,0,c.length-u,this.endian);for(var m=0;m<c.length;m+=this._delta32)this._update(c,m,m+this._delta32)}return this},d.prototype.digest=function(c){return this.update(this._pad()),i(this.pending===null),this._digest(c)},d.prototype._pad=function(){var c=this.pendingTotal,a=this._delta8,u=a-(c+this.padLength)%a,m=new Array(u+this.padLength);m[0]=128;for(var h=1;h<u;h++)m[h]=0;if(c<<=3,this.endian==="big"){for(var p=8;p<this.padLength;p++)m[h++]=0;m[h++]=0,m[h++]=0,m[h++]=0,m[h++]=0,m[h++]=c>>>24&255,m[h++]=c>>>16&255,m[h++]=c>>>8&255,m[h++]=255&c}else for(m[h++]=255&c,m[h++]=c>>>8&255,m[h++]=c>>>16&255,m[h++]=c>>>24&255,m[h++]=0,m[h++]=0,m[h++]=0,m[h++]=0,p=8;p<this.padLength;p++)m[h++]=0;return m}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,s,l){var o=e("./utils"),i=e("minimalistic-assert");function d(c,a,u){if(!(this instanceof d))return new d(c,a,u);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(o.toArray(a,u))}s.exports=d,d.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),i(c.length<=this.blockSize);for(var a=c.length;a<this.blockSize;a++)c.push(0);for(a=0;a<c.length;a++)c[a]^=54;for(this.inner=new this.Hash().update(c),a=0;a<c.length;a++)c[a]^=106;this.outer=new this.Hash().update(c)},d.prototype.update=function(c,a){return this.inner.update(c,a),this},d.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,s,l){var o=e("./utils"),i=e("./common"),d=o.rotl32,c=o.sum32,a=o.sum32_3,u=o.sum32_4,m=i.BlockHash;function h(){if(!(this instanceof h))return new h;m.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function p(N,T,D,V){return N<=15?T^D^V:N<=31?T&D|~T&V:N<=47?(T|~D)^V:N<=63?T&V|D&~V:T^(D|~V)}function y(N){return N<=15?0:N<=31?1518500249:N<=47?1859775393:N<=63?2400959708:2840853838}function x(N){return N<=15?1352829926:N<=31?1548603684:N<=47?1836072691:N<=63?2053994217:0}o.inherits(h,m),l.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(N,T){for(var D=this.h[0],V=this.h[1],P=this.h[2],$=this.h[3],G=this.h[4],Y=D,W=V,O=P,I=$,R=G,S=0;S<80;S++){var C=c(d(u(D,p(S,V,P,$),N[g[S]+T],y(S)),v[S]),G);D=G,G=$,$=d(P,10),P=V,V=C,C=c(d(u(Y,p(79-S,W,O,I),N[w[S]+T],x(S)),j[S]),R),Y=R,R=I,I=d(O,10),O=W,W=C}C=a(this.h[1],P,I),this.h[1]=a(this.h[2],$,R),this.h[2]=a(this.h[3],G,Y),this.h[3]=a(this.h[4],D,W),this.h[4]=a(this.h[0],V,O),this.h[0]=C},h.prototype._digest=function(N){return N==="hex"?o.toHex32(this.h,"little"):o.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,s,l){l.sha1=e("./sha/1"),l.sha224=e("./sha/224"),l.sha256=e("./sha/256"),l.sha384=e("./sha/384"),l.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,s,l){var o=e("../utils"),i=e("../common"),d=e("./common"),c=o.rotl32,a=o.sum32,u=o.sum32_5,m=d.ft_1,h=i.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function y(){if(!(this instanceof y))return new y;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o.inherits(y,h),s.exports=y,y.blockSize=512,y.outSize=160,y.hmacStrength=80,y.padLength=64,y.prototype._update=function(x,g){for(var w=this.W,v=0;v<16;v++)w[v]=x[g+v];for(;v<w.length;v++)w[v]=c(w[v-3]^w[v-8]^w[v-14]^w[v-16],1);var j=this.h[0],N=this.h[1],T=this.h[2],D=this.h[3],V=this.h[4];for(v=0;v<w.length;v++){var P=~~(v/20),$=u(c(j,5),m(P,N,T,D),V,w[v],p[P]);V=D,D=T,T=c(N,30),N=j,j=$}this.h[0]=a(this.h[0],j),this.h[1]=a(this.h[1],N),this.h[2]=a(this.h[2],T),this.h[3]=a(this.h[3],D),this.h[4]=a(this.h[4],V)},y.prototype._digest=function(x){return x==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,s,l){var o=e("../utils"),i=e("./256");function d(){if(!(this instanceof d))return new d;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o.inherits(d,i),s.exports=d,d.blockSize=512,d.outSize=224,d.hmacStrength=192,d.padLength=64,d.prototype._digest=function(c){return c==="hex"?o.toHex32(this.h.slice(0,7),"big"):o.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,s,l){var o=e("../utils"),i=e("../common"),d=e("./common"),c=e("minimalistic-assert"),a=o.sum32,u=o.sum32_4,m=o.sum32_5,h=d.ch32,p=d.maj32,y=d.s0_256,x=d.s1_256,g=d.g0_256,w=d.g1_256,v=i.BlockHash,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function N(){if(!(this instanceof N))return new N;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=j,this.W=new Array(64)}o.inherits(N,v),s.exports=N,N.blockSize=512,N.outSize=256,N.hmacStrength=192,N.padLength=64,N.prototype._update=function(T,D){for(var V=this.W,P=0;P<16;P++)V[P]=T[D+P];for(;P<V.length;P++)V[P]=u(w(V[P-2]),V[P-7],g(V[P-15]),V[P-16]);var $=this.h[0],G=this.h[1],Y=this.h[2],W=this.h[3],O=this.h[4],I=this.h[5],R=this.h[6],S=this.h[7];for(c(this.k.length===V.length),P=0;P<V.length;P++){var C=m(S,x(O),h(O,I,R),this.k[P],V[P]),k=a(y($),p($,G,Y));S=R,R=I,I=O,O=a(W,C),W=Y,Y=G,G=$,$=a(C,k)}this.h[0]=a(this.h[0],$),this.h[1]=a(this.h[1],G),this.h[2]=a(this.h[2],Y),this.h[3]=a(this.h[3],W),this.h[4]=a(this.h[4],O),this.h[5]=a(this.h[5],I),this.h[6]=a(this.h[6],R),this.h[7]=a(this.h[7],S)},N.prototype._digest=function(T){return T==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,s,l){var o=e("../utils"),i=e("./512");function d(){if(!(this instanceof d))return new d;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o.inherits(d,i),s.exports=d,d.blockSize=1024,d.outSize=384,d.hmacStrength=192,d.padLength=128,d.prototype._digest=function(c){return c==="hex"?o.toHex32(this.h.slice(0,12),"big"):o.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,s,l){var o=e("../utils"),i=e("../common"),d=e("minimalistic-assert"),c=o.rotr64_hi,a=o.rotr64_lo,u=o.shr64_hi,m=o.shr64_lo,h=o.sum64,p=o.sum64_hi,y=o.sum64_lo,x=o.sum64_4_hi,g=o.sum64_4_lo,w=o.sum64_5_hi,v=o.sum64_5_lo,j=i.BlockHash,N=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;j.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=N,this.W=new Array(160)}function D(k,E,M,L,z){var K=k&M^~k&z;return K<0&&(K+=4294967296),K}function V(k,E,M,L,z,K){var Z=E&L^~E&K;return Z<0&&(Z+=4294967296),Z}function P(k,E,M,L,z){var K=k&M^k&z^M&z;return K<0&&(K+=4294967296),K}function $(k,E,M,L,z,K){var Z=E&L^E&K^L&K;return Z<0&&(Z+=4294967296),Z}function G(k,E){var M=c(k,E,28)^c(E,k,2)^c(E,k,7);return M<0&&(M+=4294967296),M}function Y(k,E){var M=a(k,E,28)^a(E,k,2)^a(E,k,7);return M<0&&(M+=4294967296),M}function W(k,E){var M=c(k,E,14)^c(k,E,18)^c(E,k,9);return M<0&&(M+=4294967296),M}function O(k,E){var M=a(k,E,14)^a(k,E,18)^a(E,k,9);return M<0&&(M+=4294967296),M}function I(k,E){var M=c(k,E,1)^c(k,E,8)^u(k,E,7);return M<0&&(M+=4294967296),M}function R(k,E){var M=a(k,E,1)^a(k,E,8)^m(k,E,7);return M<0&&(M+=4294967296),M}function S(k,E){var M=c(k,E,19)^c(E,k,29)^u(k,E,6);return M<0&&(M+=4294967296),M}function C(k,E){var M=a(k,E,19)^a(E,k,29)^m(k,E,6);return M<0&&(M+=4294967296),M}o.inherits(T,j),s.exports=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(k,E){for(var M=this.W,L=0;L<32;L++)M[L]=k[E+L];for(;L<M.length;L+=2){var z=S(M[L-4],M[L-3]),K=C(M[L-4],M[L-3]),Z=M[L-14],te=M[L-13],H=I(M[L-30],M[L-29]),ee=R(M[L-30],M[L-29]),U=M[L-32],F=M[L-31];M[L]=x(z,K,Z,te,H,ee,U,F),M[L+1]=g(z,K,Z,te,H,ee,U,F)}},T.prototype._update=function(k,E){this._prepareBlock(k,E);var M=this.W,L=this.h[0],z=this.h[1],K=this.h[2],Z=this.h[3],te=this.h[4],H=this.h[5],ee=this.h[6],U=this.h[7],F=this.h[8],J=this.h[9],re=this.h[10],ce=this.h[11],se=this.h[12],de=this.h[13],we=this.h[14],ve=this.h[15];d(this.k.length===M.length);for(var ie=0;ie<M.length;ie+=2){var ge=we,me=ve,ae=W(F,J),le=O(F,J),fe=D(F,J,re,ce,se),xe=V(F,J,re,ce,se,de),je=this.k[ie],_e=this.k[ie+1],De=M[ie],Fe=M[ie+1],Ue=w(ge,me,ae,le,fe,xe,je,_e,De,Fe),Je=v(ge,me,ae,le,fe,xe,je,_e,De,Fe);ge=G(L,z),me=Y(L,z),ae=P(L,z,K,Z,te),le=$(L,z,K,Z,te,H);var dt=p(ge,me,ae,le),ft=y(ge,me,ae,le);we=se,ve=de,se=re,de=ce,re=F,ce=J,F=p(ee,U,Ue,Je),J=y(U,U,Ue,Je),ee=te,U=H,te=K,H=Z,K=L,Z=z,L=p(Ue,Je,dt,ft),z=y(Ue,Je,dt,ft)}h(this.h,0,L,z),h(this.h,2,K,Z),h(this.h,4,te,H),h(this.h,6,ee,U),h(this.h,8,F,J),h(this.h,10,re,ce),h(this.h,12,se,de),h(this.h,14,we,ve)},T.prototype._digest=function(k){return k==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,s,l){var o=e("../utils").rotr32;function i(a,u,m){return a&u^~a&m}function d(a,u,m){return a&u^a&m^u&m}function c(a,u,m){return a^u^m}l.ft_1=function(a,u,m,h){return a===0?i(u,m,h):a===1||a===3?c(u,m,h):a===2?d(u,m,h):void 0},l.ch32=i,l.maj32=d,l.p32=c,l.s0_256=function(a){return o(a,2)^o(a,13)^o(a,22)},l.s1_256=function(a){return o(a,6)^o(a,11)^o(a,25)},l.g0_256=function(a){return o(a,7)^o(a,18)^a>>>3},l.g1_256=function(a){return o(a,17)^o(a,19)^a>>>10}},{"../utils":437}],437:[function(e,s,l){var o=e("minimalistic-assert"),i=e("inherits");function d(m,h){return(64512&m.charCodeAt(h))==55296&&!(h<0||h+1>=m.length)&&(64512&m.charCodeAt(h+1))==56320}function c(m){return(m>>>24|m>>>8&65280|m<<8&16711680|(255&m)<<24)>>>0}function a(m){return m.length===1?"0"+m:m}function u(m){return m.length===7?"0"+m:m.length===6?"00"+m:m.length===5?"000"+m:m.length===4?"0000"+m:m.length===3?"00000"+m:m.length===2?"000000"+m:m.length===1?"0000000"+m:m}l.inherits=i,l.toArray=function(m,h){if(Array.isArray(m))return m.slice();if(!m)return[];var p=[];if(typeof m=="string")if(h){if(h==="hex")for((m=m.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(m="0"+m),x=0;x<m.length;x+=2)p.push(parseInt(m[x]+m[x+1],16))}else for(var y=0,x=0;x<m.length;x++){var g=m.charCodeAt(x);g<128?p[y++]=g:g<2048?(p[y++]=g>>6|192,p[y++]=63&g|128):d(m,x)?(g=65536+((1023&g)<<10)+(1023&m.charCodeAt(++x)),p[y++]=g>>18|240,p[y++]=g>>12&63|128,p[y++]=g>>6&63|128,p[y++]=63&g|128):(p[y++]=g>>12|224,p[y++]=g>>6&63|128,p[y++]=63&g|128)}else for(x=0;x<m.length;x++)p[x]=0|m[x];return p},l.toHex=function(m){for(var h="",p=0;p<m.length;p++)h+=a(m[p].toString(16));return h},l.htonl=c,l.toHex32=function(m,h){for(var p="",y=0;y<m.length;y++){var x=m[y];h==="little"&&(x=c(x)),p+=u(x.toString(16))}return p},l.zero2=a,l.zero8=u,l.join32=function(m,h,p,y){var x=p-h;o(x%4==0);for(var g=new Array(x/4),w=0,v=h;w<g.length;w++,v+=4){var j;j=y==="big"?m[v]<<24|m[v+1]<<16|m[v+2]<<8|m[v+3]:m[v+3]<<24|m[v+2]<<16|m[v+1]<<8|m[v],g[w]=j>>>0}return g},l.split32=function(m,h){for(var p=new Array(4*m.length),y=0,x=0;y<m.length;y++,x+=4){var g=m[y];h==="big"?(p[x]=g>>>24,p[x+1]=g>>>16&255,p[x+2]=g>>>8&255,p[x+3]=255&g):(p[x+3]=g>>>24,p[x+2]=g>>>16&255,p[x+1]=g>>>8&255,p[x]=255&g)}return p},l.rotr32=function(m,h){return m>>>h|m<<32-h},l.rotl32=function(m,h){return m<<h|m>>>32-h},l.sum32=function(m,h){return m+h>>>0},l.sum32_3=function(m,h,p){return m+h+p>>>0},l.sum32_4=function(m,h,p,y){return m+h+p+y>>>0},l.sum32_5=function(m,h,p,y,x){return m+h+p+y+x>>>0},l.sum64=function(m,h,p,y){var x=m[h],g=y+m[h+1]>>>0,w=(g<y?1:0)+p+x;m[h]=w>>>0,m[h+1]=g},l.sum64_hi=function(m,h,p,y){return(h+y>>>0<h?1:0)+m+p>>>0},l.sum64_lo=function(m,h,p,y){return h+y>>>0},l.sum64_4_hi=function(m,h,p,y,x,g,w,v){var j=0,N=h;return j+=(N=N+y>>>0)<h?1:0,j+=(N=N+g>>>0)<g?1:0,m+p+x+w+(j+=(N=N+v>>>0)<v?1:0)>>>0},l.sum64_4_lo=function(m,h,p,y,x,g,w,v){return h+y+g+v>>>0},l.sum64_5_hi=function(m,h,p,y,x,g,w,v,j,N){var T=0,D=h;return T+=(D=D+y>>>0)<h?1:0,T+=(D=D+g>>>0)<g?1:0,T+=(D=D+v>>>0)<v?1:0,m+p+x+w+j+(T+=(D=D+N>>>0)<N?1:0)>>>0},l.sum64_5_lo=function(m,h,p,y,x,g,w,v,j,N){return h+y+g+v+N>>>0},l.rotr64_hi=function(m,h,p){return(h<<32-p|m>>>p)>>>0},l.rotr64_lo=function(m,h,p){return(m<<32-p|h>>>p)>>>0},l.shr64_hi=function(m,h,p){return m>>>p},l.shr64_lo=function(m,h,p){return(m<<32-p|h>>>p)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,s,l){var o=e("hash.js"),i=e("minimalistic-crypto-utils"),d=e("minimalistic-assert");function c(a){if(!(this instanceof c))return new c(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=i.toArray(a.entropy,a.entropyEnc||"hex"),m=i.toArray(a.nonce,a.nonceEnc||"hex"),h=i.toArray(a.pers,a.persEnc||"hex");d(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,m,h)}s.exports=c,c.prototype._init=function(a,u,m){var h=a.concat(u).concat(m);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var p=0;p<this.V.length;p++)this.K[p]=0,this.V[p]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new o.hmac(this.hash,this.K)},c.prototype._update=function(a){var u=this._hmac().update(this.V).update([0]);a&&(u=u.update(a)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(a,u,m,h){typeof u!="string"&&(h=m,m=u,u=null),a=i.toArray(a,u),m=i.toArray(m,h),d(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(m||[])),this._reseed=1},c.prototype.generate=function(a,u,m,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=m,m=u,u=null),m&&(m=i.toArray(m,h||"hex"),this._update(m));for(var p=[];p.length<a;)this.V=this._hmac().update(this.V).digest(),p=p.concat(this.V);var y=p.slice(0,a);return this._update(m),this._reseed++,i.encode(y,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,s,l){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(o,i,d,c,a){var u,m,h=8*a-c-1,p=(1<<h)-1,y=p>>1,x=-7,g=d?a-1:0,w=d?-1:1,v=o[i+g];for(g+=w,u=v&(1<<-x)-1,v>>=-x,x+=h;x>0;u=256*u+o[i+g],g+=w,x-=8);for(m=u&(1<<-x)-1,u>>=-x,x+=c;x>0;m=256*m+o[i+g],g+=w,x-=8);if(u===0)u=1-y;else{if(u===p)return m?NaN:1/0*(v?-1:1);m+=Math.pow(2,c),u-=y}return(v?-1:1)*m*Math.pow(2,u-c)},l.write=function(o,i,d,c,a,u){var m,h,p,y=8*u-a-1,x=(1<<y)-1,g=x>>1,w=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=c?0:u-1,j=c?1:-1,N=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(h=isNaN(i)?1:0,m=x):(m=Math.floor(Math.log(i)/Math.LN2),i*(p=Math.pow(2,-m))<1&&(m--,p*=2),(i+=m+g>=1?w/p:w*Math.pow(2,1-g))*p>=2&&(m++,p/=2),m+g>=x?(h=0,m=x):m+g>=1?(h=(i*p-1)*Math.pow(2,a),m+=g):(h=i*Math.pow(2,g-1)*Math.pow(2,a),m=0));a>=8;o[d+v]=255&h,v+=j,h/=256,a-=8);for(m=m<<a|h,y+=a;y>0;o[d+v]=255&m,v+=j,m/=256,y-=8);o[d+v-j]|=128*N}},{}],440:[function(e,s,l){typeof Object.create=="function"?s.exports=function(o,i){i&&(o.super_=i,o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(o,i){if(i){o.super_=i;var d=function(){};d.prototype=i.prototype,o.prototype=new d,o.prototype.constructor=o}}},{}],441:[function(e,s,l){(function(o,i,d,c,a,u,m,h){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(p){typeof l=="object"&&s!==void 0?s.exports=p():(typeof window<"u"?window:i!==void 0?i:typeof self<"u"?self:this).JSZip=p()})((function(){return(function p(y,x,g){function w(N,T){if(!x[N]){if(!y[N]){var D=typeof e=="function"&&e;if(!T&&D)return D(N,!0);if(v)return v(N,!0);var V=new Error("Cannot find module '"+N+"'");throw V.code="MODULE_NOT_FOUND",V}var P=x[N]={exports:{}};y[N][0].call(P.exports,(function($){return w(y[N][1][$]||$)}),P,P.exports,p,y,x,g)}return x[N].exports}for(var v=typeof e=="function"&&e,j=0;j<g.length;j++)w(g[j]);return w})({1:[function(p,y,x){var g=p("./utils"),w=p("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";x.encode=function(j){for(var N,T,D,V,P,$,G,Y=[],W=0,O=j.length,I=O,R=g.getTypeOf(j)!=="string";W<j.length;)I=O-W,D=R?(N=j[W++],T=W<O?j[W++]:0,W<O?j[W++]:0):(N=j.charCodeAt(W++),T=W<O?j.charCodeAt(W++):0,W<O?j.charCodeAt(W++):0),V=N>>2,P=(3&N)<<4|T>>4,$=1<I?(15&T)<<2|D>>6:64,G=2<I?63&D:64,Y.push(v.charAt(V)+v.charAt(P)+v.charAt($)+v.charAt(G));return Y.join("")},x.decode=function(j){var N,T,D,V,P,$,G=0,Y=0,W="data:";if(j.substr(0,W.length)===W)throw new Error("Invalid base64 input, it looks like a data url.");var O,I=3*(j=j.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(j.charAt(j.length-1)===v.charAt(64)&&I--,j.charAt(j.length-2)===v.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(O=w.uint8array?new Uint8Array(0|I):new Array(0|I);G<j.length;)N=v.indexOf(j.charAt(G++))<<2|(V=v.indexOf(j.charAt(G++)))>>4,T=(15&V)<<4|(P=v.indexOf(j.charAt(G++)))>>2,D=(3&P)<<6|($=v.indexOf(j.charAt(G++))),O[Y++]=N,P!==64&&(O[Y++]=T),$!==64&&(O[Y++]=D);return O}},{"./support":30,"./utils":32}],2:[function(p,y,x){var g=p("./external"),w=p("./stream/DataWorker"),v=p("./stream/Crc32Probe"),j=p("./stream/DataLengthProbe");function N(T,D,V,P,$){this.compressedSize=T,this.uncompressedSize=D,this.crc32=V,this.compression=P,this.compressedContent=$}N.prototype={getContentWorker:function(){var T=new w(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new j("data_length")),D=this;return T.on("end",(function(){if(this.streamInfo.data_length!==D.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),T},getCompressedWorker:function(){return new w(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},N.createWorkerFrom=function(T,D,V){return T.pipe(new v).pipe(new j("uncompressedSize")).pipe(D.compressWorker(V)).pipe(new j("compressedSize")).withStreamInfo("compression",D)},y.exports=N},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(p,y,x){var g=p("./stream/GenericWorker");x.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},x.DEFLATE=p("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(p,y,x){var g=p("./utils"),w=(function(){for(var v,j=[],N=0;N<256;N++){v=N;for(var T=0;T<8;T++)v=1&v?3988292384^v>>>1:v>>>1;j[N]=v}return j})();y.exports=function(v,j){return v!==void 0&&v.length?g.getTypeOf(v)!=="string"?(function(N,T,D,V){var P=w,$=0+D;N^=-1;for(var G=0;G<$;G++)N=N>>>8^P[255&(N^T[G])];return-1^N})(0|j,v,v.length):(function(N,T,D,V){var P=w,$=0+D;N^=-1;for(var G=0;G<$;G++)N=N>>>8^P[255&(N^T.charCodeAt(G))];return-1^N})(0|j,v,v.length):0}},{"./utils":32}],5:[function(p,y,x){x.base64=!1,x.binary=!1,x.dir=!1,x.createFolders=!0,x.date=null,x.compression=null,x.compressionOptions=null,x.comment=null,x.unixPermissions=null,x.dosPermissions=null},{}],6:[function(p,y,x){var g;g=typeof Promise<"u"?Promise:p("lie"),y.exports={Promise:g}},{lie:37}],7:[function(p,y,x){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",w=p("pako"),v=p("./utils"),j=p("./stream/GenericWorker"),N=g?"uint8array":"array";function T(D,V){j.call(this,"FlateWorker/"+D),this._pako=null,this._pakoAction=D,this._pakoOptions=V,this.meta={}}x.magic="\b\0",v.inherits(T,j),T.prototype.processChunk=function(D){this.meta=D.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(N,D.data),!1)},T.prototype.flush=function(){j.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},T.prototype.cleanUp=function(){j.prototype.cleanUp.call(this),this._pako=null},T.prototype._createPako=function(){this._pako=new w[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var D=this;this._pako.onData=function(V){D.push({data:V,meta:D.meta})}},x.compressWorker=function(D){return new T("Deflate",D)},x.uncompressWorker=function(){return new T("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(p,y,x){function g(P,$){var G,Y="";for(G=0;G<$;G++)Y+=String.fromCharCode(255&P),P>>>=8;return Y}function w(P,$,G,Y,W,O){var I,R,S=P.file,C=P.compression,k=O!==N.utf8encode,E=v.transformTo("string",O(S.name)),M=v.transformTo("string",N.utf8encode(S.name)),L=S.comment,z=v.transformTo("string",O(L)),K=v.transformTo("string",N.utf8encode(L)),Z=M.length!==S.name.length,te=K.length!==L.length,H="",ee="",U="",F=S.dir,J=S.date,re={crc32:0,compressedSize:0,uncompressedSize:0};$&&!G||(re.crc32=P.crc32,re.compressedSize=P.compressedSize,re.uncompressedSize=P.uncompressedSize);var ce=0;$&&(ce|=8),k||!Z&&!te||(ce|=2048);var se=0,de=0;F&&(se|=16),W==="UNIX"?(de=798,se|=(function(ve,ie){var ge=ve;return ve||(ge=ie?16893:33204),(65535&ge)<<16})(S.unixPermissions,F)):(de=20,se|=(function(ve){return 63&(ve||0)})(S.dosPermissions)),I=J.getUTCHours(),I<<=6,I|=J.getUTCMinutes(),I<<=5,I|=J.getUTCSeconds()/2,R=J.getUTCFullYear()-1980,R<<=4,R|=J.getUTCMonth()+1,R<<=5,R|=J.getUTCDate(),Z&&(ee=g(1,1)+g(T(E),4)+M,H+="up"+g(ee.length,2)+ee),te&&(U=g(1,1)+g(T(z),4)+K,H+="uc"+g(U.length,2)+U);var we="";return we+=`
\0`,we+=g(ce,2),we+=C.magic,we+=g(I,2),we+=g(R,2),we+=g(re.crc32,4),we+=g(re.compressedSize,4),we+=g(re.uncompressedSize,4),we+=g(E.length,2),we+=g(H.length,2),{fileRecord:D.LOCAL_FILE_HEADER+we+E+H,dirRecord:D.CENTRAL_FILE_HEADER+g(de,2)+we+g(z.length,2)+"\0\0\0\0"+g(se,4)+g(Y,4)+E+H+z}}var v=p("../utils"),j=p("../stream/GenericWorker"),N=p("../utf8"),T=p("../crc32"),D=p("../signature");function V(P,$,G,Y){j.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=$,this.zipPlatform=G,this.encodeFileName=Y,this.streamFiles=P,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits(V,j),V.prototype.push=function(P){var $=P.meta.percent||0,G=this.entriesCount,Y=this._sources.length;this.accumulate?this.contentBuffer.push(P):(this.bytesWritten+=P.data.length,j.prototype.push.call(this,{data:P.data,meta:{currentFile:this.currentFile,percent:G?($+100*(G-Y-1))/G:100}}))},V.prototype.openedSource=function(P){this.currentSourceOffset=this.bytesWritten,this.currentFile=P.file.name;var $=this.streamFiles&&!P.file.dir;if($){var G=w(P,$,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:G.fileRecord,meta:{percent:0}})}else this.accumulate=!0},V.prototype.closedSource=function(P){this.accumulate=!1;var $=this.streamFiles&&!P.file.dir,G=w(P,$,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(G.dirRecord),$)this.push({data:(function(Y){return D.DATA_DESCRIPTOR+g(Y.crc32,4)+g(Y.compressedSize,4)+g(Y.uncompressedSize,4)})(P),meta:{percent:100}});else for(this.push({data:G.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},V.prototype.flush=function(){for(var P=this.bytesWritten,$=0;$<this.dirRecords.length;$++)this.push({data:this.dirRecords[$],meta:{percent:100}});var G=this.bytesWritten-P,Y=(function(W,O,I,R,S){var C=v.transformTo("string",S(R));return D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(W,2)+g(W,2)+g(O,4)+g(I,4)+g(C.length,2)+C})(this.dirRecords.length,G,P,this.zipComment,this.encodeFileName);this.push({data:Y,meta:{percent:100}})},V.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},V.prototype.registerPrevious=function(P){this._sources.push(P);var $=this;return P.on("data",(function(G){$.processChunk(G)})),P.on("end",(function(){$.closedSource($.previous.streamInfo),$._sources.length?$.prepareNextSource():$.end()})),P.on("error",(function(G){$.error(G)})),this},V.prototype.resume=function(){return!!j.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},V.prototype.error=function(P){var $=this._sources;if(!j.prototype.error.call(this,P))return!1;for(var G=0;G<$.length;G++)try{$[G].error(P)}catch{}return!0},V.prototype.lock=function(){j.prototype.lock.call(this);for(var P=this._sources,$=0;$<P.length;$++)P[$].lock()},y.exports=V},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(p,y,x){var g=p("../compressions"),w=p("./ZipFileWorker");x.generateWorker=function(v,j,N){var T=new w(j.streamFiles,N,j.platform,j.encodeFileName),D=0;try{v.forEach((function(V,P){D++;var $=(function(O,I){var R=O||I,S=g[R];if(!S)throw new Error(R+" is not a valid compression method !");return S})(P.options.compression,j.compression),G=P.options.compressionOptions||j.compressionOptions||{},Y=P.dir,W=P.date;P._compressWorker($,G).withStreamInfo("file",{name:V,dir:Y,date:W,comment:P.comment||"",unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions}).pipe(T)})),T.entriesCount=D}catch(V){T.error(V)}return T}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(p,y,x){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var w=new g;for(var v in this)typeof this[v]!="function"&&(w[v]=this[v]);return w}}(g.prototype=p("./object")).loadAsync=p("./load"),g.support=p("./support"),g.defaults=p("./defaults"),g.version="3.10.1",g.loadAsync=function(w,v){return new g().loadAsync(w,v)},g.external=p("./external"),y.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(p,y,x){var g=p("./utils"),w=p("./external"),v=p("./utf8"),j=p("./zipEntries"),N=p("./stream/Crc32Probe"),T=p("./nodejsUtils");function D(V){return new w.Promise((function(P,$){var G=V.decompressed.getContentWorker().pipe(new N);G.on("error",(function(Y){$(Y)})).on("end",(function(){G.streamInfo.crc32!==V.decompressed.crc32?$(new Error("Corrupted zip : CRC32 mismatch")):P()})).resume()}))}y.exports=function(V,P){var $=this;return P=g.extend(P||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),T.isNode&&T.isStream(V)?w.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",V,!0,P.optimizedBinaryString,P.base64).then((function(G){var Y=new j(P);return Y.load(G),Y})).then((function(G){var Y=[w.Promise.resolve(G)],W=G.files;if(P.checkCRC32)for(var O=0;O<W.length;O++)Y.push(D(W[O]));return w.Promise.all(Y)})).then((function(G){for(var Y=G.shift(),W=Y.files,O=0;O<W.length;O++){var I=W[O],R=I.fileNameStr,S=g.resolve(I.fileNameStr);$.file(S,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:P.createFolders}),I.dir||($.file(S).unsafeOriginalName=R)}return Y.zipComment.length&&($.comment=Y.zipComment),$}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(p,y,x){var g=p("../utils"),w=p("../stream/GenericWorker");function v(j,N){w.call(this,"Nodejs stream input adapter for "+j),this._upstreamEnded=!1,this._bindStream(N)}g.inherits(v,w),v.prototype._bindStream=function(j){var N=this;(this._stream=j).pause(),j.on("data",(function(T){N.push({data:T,meta:{percent:0}})})).on("error",(function(T){N.isPaused?this.generatedError=T:N.error(T)})).on("end",(function(){N.isPaused?N._upstreamEnded=!0:N.end()}))},v.prototype.pause=function(){return!!w.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},y.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(p,y,x){var g=p("readable-stream").Readable;function w(v,j,N){g.call(this,j),this._helper=v;var T=this;v.on("data",(function(D,V){T.push(D)||T._helper.pause(),N&&N(V)})).on("error",(function(D){T.emit("error",D)})).on("end",(function(){T.push(null)}))}p("../utils").inherits(w,g),w.prototype._read=function(){this._helper.resume()},y.exports=w},{"../utils":32,"readable-stream":16}],14:[function(p,y,x){y.exports={isNode:d!==void 0,newBufferFrom:function(g,w){if(d.from&&d.from!==Uint8Array.from)return d.from(g,w);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new d(g,w)},allocBuffer:function(g){if(d.alloc)return d.alloc(g);var w=new d(g);return w.fill(0),w},isBuffer:function(g){return d.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(p,y,x){function g(S,C,k){var E,M=v.getTypeOf(C),L=v.extend(k||{},T);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(S=W(S)),L.createFolders&&(E=Y(S))&&O.call(this,E,!0);var z=M==="string"&&L.binary===!1&&L.base64===!1;k&&k.binary!==void 0||(L.binary=!z),(C instanceof D&&C.uncompressedSize===0||L.dir||!C||C.length===0)&&(L.base64=!1,L.binary=!0,C="",L.compression="STORE",M="string");var K;K=C instanceof D||C instanceof j?C:$.isNode&&$.isStream(C)?new G(S,C):v.prepareContent(S,C,L.binary,L.optimizedBinaryString,L.base64);var Z=new V(S,K,L);this.files[S]=Z}var w=p("./utf8"),v=p("./utils"),j=p("./stream/GenericWorker"),N=p("./stream/StreamHelper"),T=p("./defaults"),D=p("./compressedObject"),V=p("./zipObject"),P=p("./generate"),$=p("./nodejsUtils"),G=p("./nodejs/NodejsStreamInputAdapter"),Y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var C=S.lastIndexOf("/");return 0<C?S.substring(0,C):""},W=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},O=function(S,C){return C=C!==void 0?C:T.createFolders,S=W(S),this.files[S]||g.call(this,S,null,{dir:!0,createFolders:C}),this.files[S]};function I(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var C,k,E;for(C in this.files)E=this.files[C],(k=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&S(k,E)},filter:function(S){var C=[];return this.forEach((function(k,E){S(k,E)&&C.push(E)})),C},file:function(S,C,k){if(arguments.length!==1)return S=this.root+S,g.call(this,S,C,k),this;if(I(S)){var E=S;return this.filter((function(L,z){return!z.dir&&E.test(L)}))}var M=this.files[this.root+S];return M&&!M.dir?M:null},folder:function(S){if(!S)return this;if(I(S))return this.filter((function(M,L){return L.dir&&S.test(M)}));var C=this.root+S,k=O.call(this,C),E=this.clone();return E.root=k.name,E},remove:function(S){S=this.root+S;var C=this.files[S];if(C||(S.slice(-1)!=="/"&&(S+="/"),C=this.files[S]),C&&!C.dir)delete this.files[S];else for(var k=this.filter((function(M,L){return L.name.slice(0,S.length)===S})),E=0;E<k.length;E++)delete this.files[k[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var C,k={};try{if((k=v.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");v.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var E=k.comment||this.comment||"";C=P.generateWorker(this,k,E)}catch(M){(C=new j("error")).error(M)}return new N(C,k.type||"string",k.mimeType)},generateAsync:function(S,C){return this.generateInternalStream(S).accumulate(C)},generateNodeStream:function(S,C){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(C)}};y.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(p,y,x){y.exports=p("stream")},{stream:void 0}],17:[function(p,y,x){var g=p("./DataReader");function w(v){g.call(this,v);for(var j=0;j<this.data.length;j++)v[j]=255&v[j]}p("../utils").inherits(w,g),w.prototype.byteAt=function(v){return this.data[this.zero+v]},w.prototype.lastIndexOfSignature=function(v){for(var j=v.charCodeAt(0),N=v.charCodeAt(1),T=v.charCodeAt(2),D=v.charCodeAt(3),V=this.length-4;0<=V;--V)if(this.data[V]===j&&this.data[V+1]===N&&this.data[V+2]===T&&this.data[V+3]===D)return V-this.zero;return-1},w.prototype.readAndCheckSignature=function(v){var j=v.charCodeAt(0),N=v.charCodeAt(1),T=v.charCodeAt(2),D=v.charCodeAt(3),V=this.readData(4);return j===V[0]&&N===V[1]&&T===V[2]&&D===V[3]},w.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var j=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,j},y.exports=w},{"../utils":32,"./DataReader":18}],18:[function(p,y,x){var g=p("../utils");function w(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}w.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var j,N=0;for(this.checkOffset(v),j=this.index+v-1;j>=this.index;j--)N=(N<<8)+this.byteAt(j);return this.index+=v,N},readString:function(v){return g.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},y.exports=w},{"../utils":32}],19:[function(p,y,x){var g=p("./Uint8ArrayReader");function w(v){g.call(this,v)}p("../utils").inherits(w,g),w.prototype.readData=function(v){this.checkOffset(v);var j=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,j},y.exports=w},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(p,y,x){var g=p("./DataReader");function w(v){g.call(this,v)}p("../utils").inherits(w,g),w.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},w.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},w.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},w.prototype.readData=function(v){this.checkOffset(v);var j=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,j},y.exports=w},{"../utils":32,"./DataReader":18}],21:[function(p,y,x){var g=p("./ArrayReader");function w(v){g.call(this,v)}p("../utils").inherits(w,g),w.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var j=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,j},y.exports=w},{"../utils":32,"./ArrayReader":17}],22:[function(p,y,x){var g=p("../utils"),w=p("../support"),v=p("./ArrayReader"),j=p("./StringReader"),N=p("./NodeBufferReader"),T=p("./Uint8ArrayReader");y.exports=function(D){var V=g.getTypeOf(D);return g.checkSupport(V),V!=="string"||w.uint8array?V==="nodebuffer"?new N(D):w.uint8array?new T(g.transformTo("uint8array",D)):new v(g.transformTo("array",D)):new j(D)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(p,y,x){x.LOCAL_FILE_HEADER="PK",x.CENTRAL_FILE_HEADER="PK",x.CENTRAL_DIRECTORY_END="PK",x.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",x.ZIP64_CENTRAL_DIRECTORY_END="PK",x.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(p,y,x){var g=p("./GenericWorker"),w=p("../utils");function v(j){g.call(this,"ConvertWorker to "+j),this.destType=j}w.inherits(v,g),v.prototype.processChunk=function(j){this.push({data:w.transformTo(this.destType,j.data),meta:j.meta})},y.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(p,y,x){var g=p("./GenericWorker"),w=p("../crc32");function v(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}p("../utils").inherits(v,g),v.prototype.processChunk=function(j){this.streamInfo.crc32=w(j.data,this.streamInfo.crc32||0),this.push(j)},y.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(p,y,x){var g=p("../utils"),w=p("./GenericWorker");function v(j){w.call(this,"DataLengthProbe for "+j),this.propName=j,this.withStreamInfo(j,0)}g.inherits(v,w),v.prototype.processChunk=function(j){if(j){var N=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=N+j.data.length}w.prototype.processChunk.call(this,j)},y.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(p,y,x){var g=p("../utils"),w=p("./GenericWorker");function v(j){w.call(this,"DataWorker");var N=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,j.then((function(T){N.dataIsReady=!0,N.data=T,N.max=T&&T.length||0,N.type=g.getTypeOf(T),N.isPaused||N._tickAndRepeat()}),(function(T){N.error(T)}))}g.inherits(v,w),v.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var j=null,N=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":j=this.data.substring(this.index,N);break;case"uint8array":j=this.data.subarray(this.index,N);break;case"array":case"nodebuffer":j=this.data.slice(this.index,N)}return this.index=N,this.push({data:j,meta:{percent:this.max?this.index/this.max*100:0}})},y.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(p,y,x){function g(w){this.name=w||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(w){this.emit("data",w)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(w){this.emit("error",w)}return!0},error:function(w){return!this.isFinished&&(this.isPaused?this.generatedError=w:(this.isFinished=!0,this.emit("error",w),this.previous&&this.previous.error(w),this.cleanUp()),!0)},on:function(w,v){return this._listeners[w].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(w,v){if(this._listeners[w])for(var j=0;j<this._listeners[w].length;j++)this._listeners[w][j].call(this,v)},pipe:function(w){return w.registerPrevious(this)},registerPrevious:function(w){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=w.streamInfo,this.mergeStreamInfo(),this.previous=w;var v=this;return w.on("data",(function(j){v.processChunk(j)})),w.on("end",(function(){v.end()})),w.on("error",(function(j){v.error(j)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var w=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),w=!0),this.previous&&this.previous.resume(),!w},flush:function(){},processChunk:function(w){this.push(w)},withStreamInfo:function(w,v){return this.extraStreamInfo[w]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var w in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,w)&&(this.streamInfo[w]=this.extraStreamInfo[w])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var w="Worker "+this.name;return this.previous?this.previous+" -> "+w:w}},y.exports=g},{}],29:[function(p,y,x){var g=p("../utils"),w=p("./ConvertWorker"),v=p("./GenericWorker"),j=p("../base64"),N=p("../support"),T=p("../external"),D=null;if(N.nodestream)try{D=p("../nodejs/NodejsStreamOutputAdapter")}catch{}function V(P,$,G){var Y=$;switch($){case"blob":case"arraybuffer":Y="uint8array";break;case"base64":Y="string"}try{this._internalType=Y,this._outputType=$,this._mimeType=G,g.checkSupport(Y),this._worker=P.pipe(new w(Y)),P.lock()}catch(W){this._worker=new v("error"),this._worker.error(W)}}V.prototype={accumulate:function(P){return(function($,G){return new T.Promise((function(Y,W){var O=[],I=$._internalType,R=$._outputType,S=$._mimeType;$.on("data",(function(C,k){O.push(C),G&&G(k)})).on("error",(function(C){O=[],W(C)})).on("end",(function(){try{var C=(function(k,E,M){switch(k){case"blob":return g.newBlob(g.transformTo("arraybuffer",E),M);case"base64":return j.encode(E);default:return g.transformTo(k,E)}})(R,(function(k,E){var M,L=0,z=null,K=0;for(M=0;M<E.length;M++)K+=E[M].length;switch(k){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(z=new Uint8Array(K),M=0;M<E.length;M++)z.set(E[M],L),L+=E[M].length;return z;case"nodebuffer":return d.concat(E);default:throw new Error("concat : unsupported type '"+k+"'")}})(I,O),S);Y(C)}catch(k){W(k)}O=[]})).resume()}))})(this,P)},on:function(P,$){var G=this;return P==="data"?this._worker.on(P,(function(Y){$.call(G,Y.data,Y.meta)})):this._worker.on(P,(function(){g.delay($,arguments,G)})),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(P){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new D(this,{objectMode:this._outputType!=="nodebuffer"},P)}},y.exports=V},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(p,y,x){if(x.base64=!0,x.array=!0,x.string=!0,x.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",x.nodebuffer=d!==void 0,x.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")x.blob=!1;else{var g=new ArrayBuffer(0);try{x.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);w.append(g),x.blob=w.getBlob("application/zip").size===0}catch{x.blob=!1}}}try{x.nodestream=!!p("readable-stream").Readable}catch{x.nodestream=!1}},{"readable-stream":16}],31:[function(p,y,x){for(var g=p("./utils"),w=p("./support"),v=p("./nodejsUtils"),j=p("./stream/GenericWorker"),N=new Array(256),T=0;T<256;T++)N[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function D(){j.call(this,"utf-8 decode"),this.leftOver=null}function V(){j.call(this,"utf-8 encode")}N[254]=N[254]=1,x.utf8encode=function(P){return w.nodebuffer?v.newBufferFrom(P,"utf-8"):(function($){var G,Y,W,O,I,R=$.length,S=0;for(O=0;O<R;O++)(64512&(Y=$.charCodeAt(O)))==55296&&O+1<R&&(64512&(W=$.charCodeAt(O+1)))==56320&&(Y=65536+(Y-55296<<10)+(W-56320),O++),S+=Y<128?1:Y<2048?2:Y<65536?3:4;for(G=w.uint8array?new Uint8Array(S):new Array(S),O=I=0;I<S;O++)(64512&(Y=$.charCodeAt(O)))==55296&&O+1<R&&(64512&(W=$.charCodeAt(O+1)))==56320&&(Y=65536+(Y-55296<<10)+(W-56320),O++),Y<128?G[I++]=Y:(Y<2048?G[I++]=192|Y>>>6:(Y<65536?G[I++]=224|Y>>>12:(G[I++]=240|Y>>>18,G[I++]=128|Y>>>12&63),G[I++]=128|Y>>>6&63),G[I++]=128|63&Y);return G})(P)},x.utf8decode=function(P){return w.nodebuffer?g.transformTo("nodebuffer",P).toString("utf-8"):(function($){var G,Y,W,O,I=$.length,R=new Array(2*I);for(G=Y=0;G<I;)if((W=$[G++])<128)R[Y++]=W;else if(4<(O=N[W]))R[Y++]=65533,G+=O-1;else{for(W&=O===2?31:O===3?15:7;1<O&&G<I;)W=W<<6|63&$[G++],O--;1<O?R[Y++]=65533:W<65536?R[Y++]=W:(W-=65536,R[Y++]=55296|W>>10&1023,R[Y++]=56320|1023&W)}return R.length!==Y&&(R.subarray?R=R.subarray(0,Y):R.length=Y),g.applyFromCharCode(R)})(P=g.transformTo(w.uint8array?"uint8array":"array",P))},g.inherits(D,j),D.prototype.processChunk=function(P){var $=g.transformTo(w.uint8array?"uint8array":"array",P.data);if(this.leftOver&&this.leftOver.length){if(w.uint8array){var G=$;($=new Uint8Array(G.length+this.leftOver.length)).set(this.leftOver,0),$.set(G,this.leftOver.length)}else $=this.leftOver.concat($);this.leftOver=null}var Y=(function(O,I){var R;for((I=I||O.length)>O.length&&(I=O.length),R=I-1;0<=R&&(192&O[R])==128;)R--;return R<0||R===0?I:R+N[O[R]]>I?R:I})($),W=$;Y!==$.length&&(w.uint8array?(W=$.subarray(0,Y),this.leftOver=$.subarray(Y,$.length)):(W=$.slice(0,Y),this.leftOver=$.slice(Y,$.length))),this.push({data:x.utf8decode(W),meta:P.meta})},D.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:x.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},x.Utf8DecodeWorker=D,g.inherits(V,j),V.prototype.processChunk=function(P){this.push({data:x.utf8encode(P.data),meta:P.meta})},x.Utf8EncodeWorker=V},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(p,y,x){var g=p("./support"),w=p("./base64"),v=p("./nodejsUtils"),j=p("./external");function N(G){return G}function T(G,Y){for(var W=0;W<G.length;++W)Y[W]=255&G.charCodeAt(W);return Y}p("setimmediate"),x.newBlob=function(G,Y){x.checkSupport("blob");try{return new Blob([G],{type:Y})}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return W.append(G),W.getBlob(Y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(G,Y,W){var O=[],I=0,R=G.length;if(R<=W)return String.fromCharCode.apply(null,G);for(;I<R;)Y==="array"||Y==="nodebuffer"?O.push(String.fromCharCode.apply(null,G.slice(I,Math.min(I+W,R)))):O.push(String.fromCharCode.apply(null,G.subarray(I,Math.min(I+W,R)))),I+=W;return O.join("")},stringifyByChar:function(G){for(var Y="",W=0;W<G.length;W++)Y+=String.fromCharCode(G[W]);return Y},applyCanBeUsed:{uint8array:(function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}})()}};function V(G){var Y=65536,W=x.getTypeOf(G),O=!0;if(W==="uint8array"?O=D.applyCanBeUsed.uint8array:W==="nodebuffer"&&(O=D.applyCanBeUsed.nodebuffer),O)for(;1<Y;)try{return D.stringifyByChunk(G,W,Y)}catch{Y=Math.floor(Y/2)}return D.stringifyByChar(G)}function P(G,Y){for(var W=0;W<G.length;W++)Y[W]=G[W];return Y}x.applyFromCharCode=V;var $={};$.string={string:N,array:function(G){return T(G,new Array(G.length))},arraybuffer:function(G){return $.string.uint8array(G).buffer},uint8array:function(G){return T(G,new Uint8Array(G.length))},nodebuffer:function(G){return T(G,v.allocBuffer(G.length))}},$.array={string:V,array:N,arraybuffer:function(G){return new Uint8Array(G).buffer},uint8array:function(G){return new Uint8Array(G)},nodebuffer:function(G){return v.newBufferFrom(G)}},$.arraybuffer={string:function(G){return V(new Uint8Array(G))},array:function(G){return P(new Uint8Array(G),new Array(G.byteLength))},arraybuffer:N,uint8array:function(G){return new Uint8Array(G)},nodebuffer:function(G){return v.newBufferFrom(new Uint8Array(G))}},$.uint8array={string:V,array:function(G){return P(G,new Array(G.length))},arraybuffer:function(G){return G.buffer},uint8array:N,nodebuffer:function(G){return v.newBufferFrom(G)}},$.nodebuffer={string:V,array:function(G){return P(G,new Array(G.length))},arraybuffer:function(G){return $.nodebuffer.uint8array(G).buffer},uint8array:function(G){return P(G,new Uint8Array(G.length))},nodebuffer:N},x.transformTo=function(G,Y){if(Y=Y||"",!G)return Y;x.checkSupport(G);var W=x.getTypeOf(Y);return $[W][G](Y)},x.resolve=function(G){for(var Y=G.split("/"),W=[],O=0;O<Y.length;O++){var I=Y[O];I==="."||I===""&&O!==0&&O!==Y.length-1||(I===".."?W.pop():W.push(I))}return W.join("/")},x.getTypeOf=function(G){return typeof G=="string"?"string":Object.prototype.toString.call(G)==="[object Array]"?"array":g.nodebuffer&&v.isBuffer(G)?"nodebuffer":g.uint8array&&G instanceof Uint8Array?"uint8array":g.arraybuffer&&G instanceof ArrayBuffer?"arraybuffer":void 0},x.checkSupport=function(G){if(!g[G.toLowerCase()])throw new Error(G+" is not supported by this platform")},x.MAX_VALUE_16BITS=65535,x.MAX_VALUE_32BITS=-1,x.pretty=function(G){var Y,W,O="";for(W=0;W<(G||"").length;W++)O+="\\x"+((Y=G.charCodeAt(W))<16?"0":"")+Y.toString(16).toUpperCase();return O},x.delay=function(G,Y,W){h((function(){G.apply(W||null,Y||[])}))},x.inherits=function(G,Y){function W(){}W.prototype=Y.prototype,G.prototype=new W},x.extend=function(){var G,Y,W={};for(G=0;G<arguments.length;G++)for(Y in arguments[G])Object.prototype.hasOwnProperty.call(arguments[G],Y)&&W[Y]===void 0&&(W[Y]=arguments[G][Y]);return W},x.prepareContent=function(G,Y,W,O,I){return j.Promise.resolve(Y).then((function(R){return g.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1)&&typeof FileReader<"u"?new j.Promise((function(S,C){var k=new FileReader;k.onload=function(E){S(E.target.result)},k.onerror=function(E){C(E.target.error)},k.readAsArrayBuffer(R)})):R})).then((function(R){var S=x.getTypeOf(R);return S?(S==="arraybuffer"?R=x.transformTo("uint8array",R):S==="string"&&(I?R=w.decode(R):W&&O!==!0&&(R=(function(C){return T(C,g.uint8array?new Uint8Array(C.length):new Array(C.length))})(R))),R):j.Promise.reject(new Error("Can't read the data of '"+G+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(p,y,x){var g=p("./reader/readerFor"),w=p("./utils"),v=p("./signature"),j=p("./zipEntry"),N=p("./support");function T(D){this.files=[],this.loadOptions=D}T.prototype={checkSignature:function(D){if(!this.reader.readAndCheckSignature(D)){this.reader.index-=4;var V=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+w.pretty(V)+", expected "+w.pretty(D)+")")}},isSignature:function(D,V){var P=this.reader.index;this.reader.setIndex(D);var $=this.reader.readString(4)===V;return this.reader.setIndex(P),$},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var D=this.reader.readData(this.zipCommentLength),V=N.uint8array?"uint8array":"array",P=w.transformTo(V,D);this.zipComment=this.loadOptions.decodeFileName(P)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,V,P,$=this.zip64EndOfCentralSize-44;0<$;)D=this.reader.readInt(2),V=this.reader.readInt(4),P=this.reader.readData(V),this.zip64ExtensibleData[D]={id:D,length:V,value:P}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var D,V;for(D=0;D<this.files.length;D++)V=this.files[D],this.reader.setIndex(V.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),V.readLocalPart(this.reader),V.handleUTF8(),V.processAttributes()},readCentralDir:function(){var D;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(D=new j({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(D);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var D=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(D<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(D);var V=D;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===w.MAX_VALUE_16BITS||this.diskWithCentralDirStart===w.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===w.MAX_VALUE_16BITS||this.centralDirRecords===w.MAX_VALUE_16BITS||this.centralDirSize===w.MAX_VALUE_32BITS||this.centralDirOffset===w.MAX_VALUE_32BITS){if(this.zip64=!0,(D=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(D),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var P=this.centralDirOffset+this.centralDirSize;this.zip64&&(P+=20,P+=12+this.zip64EndOfCentralSize);var $=V-P;if(0<$)this.isSignature(V,v.CENTRAL_FILE_HEADER)||(this.reader.zero=$);else if($<0)throw new Error("Corrupted zip: missing "+Math.abs($)+" bytes.")},prepareReader:function(D){this.reader=g(D)},load:function(D){this.prepareReader(D),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},y.exports=T},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(p,y,x){var g=p("./reader/readerFor"),w=p("./utils"),v=p("./compressedObject"),j=p("./crc32"),N=p("./utf8"),T=p("./compressions"),D=p("./support");function V(P,$){this.options=P,this.loadOptions=$}V.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(P){var $,G;if(P.skip(22),this.fileNameLength=P.readInt(2),G=P.readInt(2),this.fileName=P.readData(this.fileNameLength),P.skip(G),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(($=(function(Y){for(var W in T)if(Object.prototype.hasOwnProperty.call(T,W)&&T[W].magic===Y)return T[W];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+w.pretty(this.compressionMethod)+" unknown (inner file : "+w.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,$,P.readData(this.compressedSize))},readCentralPart:function(P){this.versionMadeBy=P.readInt(2),P.skip(2),this.bitFlag=P.readInt(2),this.compressionMethod=P.readString(2),this.date=P.readDate(),this.crc32=P.readInt(4),this.compressedSize=P.readInt(4),this.uncompressedSize=P.readInt(4);var $=P.readInt(2);if(this.extraFieldsLength=P.readInt(2),this.fileCommentLength=P.readInt(2),this.diskNumberStart=P.readInt(2),this.internalFileAttributes=P.readInt(2),this.externalFileAttributes=P.readInt(4),this.localHeaderOffset=P.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");P.skip($),this.readExtraFields(P),this.parseZIP64ExtraField(P),this.fileComment=P.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var P=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),P==0&&(this.dosPermissions=63&this.externalFileAttributes),P==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var P=g(this.extraFields[1].value);this.uncompressedSize===w.MAX_VALUE_32BITS&&(this.uncompressedSize=P.readInt(8)),this.compressedSize===w.MAX_VALUE_32BITS&&(this.compressedSize=P.readInt(8)),this.localHeaderOffset===w.MAX_VALUE_32BITS&&(this.localHeaderOffset=P.readInt(8)),this.diskNumberStart===w.MAX_VALUE_32BITS&&(this.diskNumberStart=P.readInt(4))}},readExtraFields:function(P){var $,G,Y,W=P.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});P.index+4<W;)$=P.readInt(2),G=P.readInt(2),Y=P.readData(G),this.extraFields[$]={id:$,length:G,value:Y};P.setIndex(W)},handleUTF8:function(){var P=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=N.utf8decode(this.fileName),this.fileCommentStr=N.utf8decode(this.fileComment);else{var $=this.findExtraFieldUnicodePath();if($!==null)this.fileNameStr=$;else{var G=w.transformTo(P,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(G)}var Y=this.findExtraFieldUnicodeComment();if(Y!==null)this.fileCommentStr=Y;else{var W=w.transformTo(P,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var P=this.extraFields[28789];if(P){var $=g(P.value);return $.readInt(1)!==1||j(this.fileName)!==$.readInt(4)?null:N.utf8decode($.readData(P.length-5))}return null},findExtraFieldUnicodeComment:function(){var P=this.extraFields[25461];if(P){var $=g(P.value);return $.readInt(1)!==1||j(this.fileComment)!==$.readInt(4)?null:N.utf8decode($.readData(P.length-5))}return null}},y.exports=V},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(p,y,x){function g($,G,Y){this.name=$,this.dir=Y.dir,this.date=Y.date,this.comment=Y.comment,this.unixPermissions=Y.unixPermissions,this.dosPermissions=Y.dosPermissions,this._data=G,this._dataBinary=Y.binary,this.options={compression:Y.compression,compressionOptions:Y.compressionOptions}}var w=p("./stream/StreamHelper"),v=p("./stream/DataWorker"),j=p("./utf8"),N=p("./compressedObject"),T=p("./stream/GenericWorker");g.prototype={internalStream:function($){var G=null,Y="string";try{if(!$)throw new Error("No output type specified.");var W=(Y=$.toLowerCase())==="string"||Y==="text";Y!=="binarystring"&&Y!=="text"||(Y="string"),G=this._decompressWorker();var O=!this._dataBinary;O&&!W&&(G=G.pipe(new j.Utf8EncodeWorker)),!O&&W&&(G=G.pipe(new j.Utf8DecodeWorker))}catch(I){(G=new T("error")).error(I)}return new w(G,Y,"")},async:function($,G){return this.internalStream($).accumulate(G)},nodeStream:function($,G){return this.internalStream($||"nodebuffer").toNodejsStream(G)},_compressWorker:function($,G){if(this._data instanceof N&&this._data.compression.magic===$.magic)return this._data.getCompressedWorker();var Y=this._decompressWorker();return this._dataBinary||(Y=Y.pipe(new j.Utf8EncodeWorker)),N.createWorkerFrom(Y,$,G)},_decompressWorker:function(){return this._data instanceof N?this._data.getContentWorker():this._data instanceof T?this._data:new v(this._data)}};for(var D=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],V=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},P=0;P<D.length;P++)g.prototype[D[P]]=V;y.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(p,y,x){(function(g){var w,v,j=g.MutationObserver||g.WebKitMutationObserver;if(j){var N=0,T=new j($),D=g.document.createTextNode("");T.observe(D,{characterData:!0}),w=function(){D.data=N=++N%2}}else if(g.setImmediate||g.MessageChannel===void 0)w="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var G=g.document.createElement("script");G.onreadystatechange=function(){$(),G.onreadystatechange=null,G.parentNode.removeChild(G),G=null},g.document.documentElement.appendChild(G)}:function(){setTimeout($,0)};else{var V=new g.MessageChannel;V.port1.onmessage=$,w=function(){V.port2.postMessage(0)}}var P=[];function $(){var G,Y;v=!0;for(var W=P.length;W;){for(Y=P,P=[],G=-1;++G<W;)Y[G]();W=P.length}v=!1}y.exports=function(G){P.push(G)!==1||v||w()}}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(p,y,x){var g=p("immediate");function w(){}var v={},j=["REJECTED"],N=["FULFILLED"],T=["PENDING"];function D(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,W!==w&&G(this,W)}function V(W,O,I){this.promise=W,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function P(W,O,I){g((function(){var R;try{R=O(I)}catch(S){return v.reject(W,S)}R===W?v.reject(W,new TypeError("Cannot resolve promise with itself")):v.resolve(W,R)}))}function $(W){var O=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof O=="function")return function(){O.apply(W,arguments)}}function G(W,O){var I=!1;function R(k){I||(I=!0,v.reject(W,k))}function S(k){I||(I=!0,v.resolve(W,k))}var C=Y((function(){O(S,R)}));C.status==="error"&&R(C.value)}function Y(W,O){var I={};try{I.value=W(O),I.status="success"}catch(R){I.status="error",I.value=R}return I}(y.exports=D).prototype.finally=function(W){if(typeof W!="function")return this;var O=this.constructor;return this.then((function(I){return O.resolve(W()).then((function(){return I}))}),(function(I){return O.resolve(W()).then((function(){throw I}))}))},D.prototype.catch=function(W){return this.then(null,W)},D.prototype.then=function(W,O){if(typeof W!="function"&&this.state===N||typeof O!="function"&&this.state===j)return this;var I=new this.constructor(w);return this.state!==T?P(I,this.state===N?W:O,this.outcome):this.queue.push(new V(I,W,O)),I},V.prototype.callFulfilled=function(W){v.resolve(this.promise,W)},V.prototype.otherCallFulfilled=function(W){P(this.promise,this.onFulfilled,W)},V.prototype.callRejected=function(W){v.reject(this.promise,W)},V.prototype.otherCallRejected=function(W){P(this.promise,this.onRejected,W)},v.resolve=function(W,O){var I=Y($,O);if(I.status==="error")return v.reject(W,I.value);var R=I.value;if(R)G(W,R);else{W.state=N,W.outcome=O;for(var S=-1,C=W.queue.length;++S<C;)W.queue[S].callFulfilled(O)}return W},v.reject=function(W,O){W.state=j,W.outcome=O;for(var I=-1,R=W.queue.length;++I<R;)W.queue[I].callRejected(O);return W},D.resolve=function(W){return W instanceof this?W:v.resolve(new this(w),W)},D.reject=function(W){var O=new this(w);return v.reject(O,W)},D.all=function(W){var O=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=W.length,R=!1;if(!I)return this.resolve([]);for(var S=new Array(I),C=0,k=-1,E=new this(w);++k<I;)M(W[k],k);return E;function M(L,z){O.resolve(L).then((function(K){S[z]=K,++C!==I||R||(R=!0,v.resolve(E,S))}),(function(K){R||(R=!0,v.reject(E,K))}))}},D.race=function(W){if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=W.length,I=!1;if(!O)return this.resolve([]);for(var R,S=-1,C=new this(w);++S<O;)R=W[S],this.resolve(R).then((function(k){I||(I=!0,v.resolve(C,k))}),(function(k){I||(I=!0,v.reject(C,k))}));return C}},{immediate:36}],38:[function(p,y,x){var g={};(0,p("./lib/utils/common").assign)(g,p("./lib/deflate"),p("./lib/inflate"),p("./lib/zlib/constants")),y.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(p,y,x){var g=p("./zlib/deflate"),w=p("./utils/common"),v=p("./utils/strings"),j=p("./zlib/messages"),N=p("./zlib/zstream"),T=Object.prototype.toString;function D(P){if(!(this instanceof D))return new D(P);this.options=w.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},P||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var G=g.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(G!==0)throw new Error(j[G]);if($.header&&g.deflateSetHeader(this.strm,$.header),$.dictionary){var Y;if(Y=typeof $.dictionary=="string"?v.string2buf($.dictionary):T.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(G=g.deflateSetDictionary(this.strm,Y))!==0)throw new Error(j[G]);this._dict_set=!0}}function V(P,$){var G=new D($);if(G.push(P,!0),G.err)throw G.msg||j[G.err];return G.result}D.prototype.push=function(P,$){var G,Y,W=this.strm,O=this.options.chunkSize;if(this.ended)return!1;Y=$===~~$?$:$===!0?4:0,typeof P=="string"?W.input=v.string2buf(P):T.call(P)==="[object ArrayBuffer]"?W.input=new Uint8Array(P):W.input=P,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new w.Buf8(O),W.next_out=0,W.avail_out=O),(G=g.deflate(W,Y))!==1&&G!==0)return this.onEnd(G),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||Y!==4&&Y!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(w.shrinkBuf(W.output,W.next_out))):this.onData(w.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&G!==1);return Y===4?(G=g.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===0):Y!==2||(this.onEnd(0),!(W.avail_out=0))},D.prototype.onData=function(P){this.chunks.push(P)},D.prototype.onEnd=function(P){P===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg},x.Deflate=D,x.deflate=V,x.deflateRaw=function(P,$){return($=$||{}).raw=!0,V(P,$)},x.gzip=function(P,$){return($=$||{}).gzip=!0,V(P,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(p,y,x){var g=p("./zlib/inflate"),w=p("./utils/common"),v=p("./utils/strings"),j=p("./zlib/constants"),N=p("./zlib/messages"),T=p("./zlib/zstream"),D=p("./zlib/gzheader"),V=Object.prototype.toString;function P(G){if(!(this instanceof P))return new P(G);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},G||{});var Y=this.options;Y.raw&&0<=Y.windowBits&&Y.windowBits<16&&(Y.windowBits=-Y.windowBits,Y.windowBits===0&&(Y.windowBits=-15)),!(0<=Y.windowBits&&Y.windowBits<16)||G&&G.windowBits||(Y.windowBits+=32),15<Y.windowBits&&Y.windowBits<48&&(15&Y.windowBits)==0&&(Y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var W=g.inflateInit2(this.strm,Y.windowBits);if(W!==j.Z_OK)throw new Error(N[W]);this.header=new D,g.inflateGetHeader(this.strm,this.header)}function $(G,Y){var W=new P(Y);if(W.push(G,!0),W.err)throw W.msg||N[W.err];return W.result}P.prototype.push=function(G,Y){var W,O,I,R,S,C,k=this.strm,E=this.options.chunkSize,M=this.options.dictionary,L=!1;if(this.ended)return!1;O=Y===~~Y?Y:Y===!0?j.Z_FINISH:j.Z_NO_FLUSH,typeof G=="string"?k.input=v.binstring2buf(G):V.call(G)==="[object ArrayBuffer]"?k.input=new Uint8Array(G):k.input=G,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new w.Buf8(E),k.next_out=0,k.avail_out=E),(W=g.inflate(k,j.Z_NO_FLUSH))===j.Z_NEED_DICT&&M&&(C=typeof M=="string"?v.string2buf(M):V.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,W=g.inflateSetDictionary(this.strm,C)),W===j.Z_BUF_ERROR&&L===!0&&(W=j.Z_OK,L=!1),W!==j.Z_STREAM_END&&W!==j.Z_OK)return this.onEnd(W),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&W!==j.Z_STREAM_END&&(k.avail_in!==0||O!==j.Z_FINISH&&O!==j.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=v.utf8border(k.output,k.next_out),R=k.next_out-I,S=v.buf2string(k.output,I),k.next_out=R,k.avail_out=E-R,R&&w.arraySet(k.output,k.output,I,R,0),this.onData(S)):this.onData(w.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(L=!0)}while((0<k.avail_in||k.avail_out===0)&&W!==j.Z_STREAM_END);return W===j.Z_STREAM_END&&(O=j.Z_FINISH),O===j.Z_FINISH?(W=g.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===j.Z_OK):O!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),!(k.avail_out=0))},P.prototype.onData=function(G){this.chunks.push(G)},P.prototype.onEnd=function(G){G===j.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=G,this.msg=this.strm.msg},x.Inflate=P,x.inflate=$,x.inflateRaw=function(G,Y){return(Y=Y||{}).raw=!0,$(G,Y)},x.ungzip=$},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(p,y,x){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";x.assign=function(j){for(var N=Array.prototype.slice.call(arguments,1);N.length;){var T=N.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var D in T)T.hasOwnProperty(D)&&(j[D]=T[D])}}return j},x.shrinkBuf=function(j,N){return j.length===N?j:j.subarray?j.subarray(0,N):(j.length=N,j)};var w={arraySet:function(j,N,T,D,V){if(N.subarray&&j.subarray)j.set(N.subarray(T,T+D),V);else for(var P=0;P<D;P++)j[V+P]=N[T+P]},flattenChunks:function(j){var N,T,D,V,P,$;for(N=D=0,T=j.length;N<T;N++)D+=j[N].length;for($=new Uint8Array(D),N=V=0,T=j.length;N<T;N++)P=j[N],$.set(P,V),V+=P.length;return $}},v={arraySet:function(j,N,T,D,V){for(var P=0;P<D;P++)j[V+P]=N[T+P]},flattenChunks:function(j){return[].concat.apply([],j)}};x.setTyped=function(j){j?(x.Buf8=Uint8Array,x.Buf16=Uint16Array,x.Buf32=Int32Array,x.assign(x,w)):(x.Buf8=Array,x.Buf16=Array,x.Buf32=Array,x.assign(x,v))},x.setTyped(g)},{}],42:[function(p,y,x){var g=p("./common"),w=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var j=new g.Buf8(256),N=0;N<256;N++)j[N]=252<=N?6:248<=N?5:240<=N?4:224<=N?3:192<=N?2:1;function T(D,V){if(V<65537&&(D.subarray&&v||!D.subarray&&w))return String.fromCharCode.apply(null,g.shrinkBuf(D,V));for(var P="",$=0;$<V;$++)P+=String.fromCharCode(D[$]);return P}j[254]=j[254]=1,x.string2buf=function(D){var V,P,$,G,Y,W=D.length,O=0;for(G=0;G<W;G++)(64512&(P=D.charCodeAt(G)))==55296&&G+1<W&&(64512&($=D.charCodeAt(G+1)))==56320&&(P=65536+(P-55296<<10)+($-56320),G++),O+=P<128?1:P<2048?2:P<65536?3:4;for(V=new g.Buf8(O),G=Y=0;Y<O;G++)(64512&(P=D.charCodeAt(G)))==55296&&G+1<W&&(64512&($=D.charCodeAt(G+1)))==56320&&(P=65536+(P-55296<<10)+($-56320),G++),P<128?V[Y++]=P:(P<2048?V[Y++]=192|P>>>6:(P<65536?V[Y++]=224|P>>>12:(V[Y++]=240|P>>>18,V[Y++]=128|P>>>12&63),V[Y++]=128|P>>>6&63),V[Y++]=128|63&P);return V},x.buf2binstring=function(D){return T(D,D.length)},x.binstring2buf=function(D){for(var V=new g.Buf8(D.length),P=0,$=V.length;P<$;P++)V[P]=D.charCodeAt(P);return V},x.buf2string=function(D,V){var P,$,G,Y,W=V||D.length,O=new Array(2*W);for(P=$=0;P<W;)if((G=D[P++])<128)O[$++]=G;else if(4<(Y=j[G]))O[$++]=65533,P+=Y-1;else{for(G&=Y===2?31:Y===3?15:7;1<Y&&P<W;)G=G<<6|63&D[P++],Y--;1<Y?O[$++]=65533:G<65536?O[$++]=G:(G-=65536,O[$++]=55296|G>>10&1023,O[$++]=56320|1023&G)}return T(O,$)},x.utf8border=function(D,V){var P;for((V=V||D.length)>D.length&&(V=D.length),P=V-1;0<=P&&(192&D[P])==128;)P--;return P<0||P===0?V:P+j[D[P]]>V?P:V}},{"./common":41}],43:[function(p,y,x){y.exports=function(g,w,v,j){for(var N=65535&g|0,T=g>>>16&65535|0,D=0;v!==0;){for(v-=D=2e3<v?2e3:v;T=T+(N=N+w[j++]|0)|0,--D;);N%=65521,T%=65521}return N|T<<16|0}},{}],44:[function(p,y,x){y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(p,y,x){var g=(function(){for(var w,v=[],j=0;j<256;j++){w=j;for(var N=0;N<8;N++)w=1&w?3988292384^w>>>1:w>>>1;v[j]=w}return v})();y.exports=function(w,v,j,N){var T=g,D=N+j;w^=-1;for(var V=N;V<D;V++)w=w>>>8^T[255&(w^v[V])];return-1^w}},{}],46:[function(p,y,x){var g,w=p("../utils/common"),v=p("./trees"),j=p("./adler32"),N=p("./crc32"),T=p("./messages"),D=-2,V=258,P=262,$=113;function G(H,ee){return H.msg=T[ee],ee}function Y(H){return(H<<1)-(4<H?9:0)}function W(H){for(var ee=H.length;0<=--ee;)H[ee]=0}function O(H){var ee=H.state,U=ee.pending;U>H.avail_out&&(U=H.avail_out),U!==0&&(w.arraySet(H.output,ee.pending_buf,ee.pending_out,U,H.next_out),H.next_out+=U,ee.pending_out+=U,H.total_out+=U,H.avail_out-=U,ee.pending-=U,ee.pending===0&&(ee.pending_out=0))}function I(H,ee){v._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,ee),H.block_start=H.strstart,O(H.strm)}function R(H,ee){H.pending_buf[H.pending++]=ee}function S(H,ee){H.pending_buf[H.pending++]=ee>>>8&255,H.pending_buf[H.pending++]=255&ee}function C(H,ee){var U,F,J=H.max_chain_length,re=H.strstart,ce=H.prev_length,se=H.nice_match,de=H.strstart>H.w_size-P?H.strstart-(H.w_size-P):0,we=H.window,ve=H.w_mask,ie=H.prev,ge=H.strstart+V,me=we[re+ce-1],ae=we[re+ce];H.prev_length>=H.good_match&&(J>>=2),se>H.lookahead&&(se=H.lookahead);do if(we[(U=ee)+ce]===ae&&we[U+ce-1]===me&&we[U]===we[re]&&we[++U]===we[re+1]){re+=2,U++;do;while(we[++re]===we[++U]&&we[++re]===we[++U]&&we[++re]===we[++U]&&we[++re]===we[++U]&&we[++re]===we[++U]&&we[++re]===we[++U]&&we[++re]===we[++U]&&we[++re]===we[++U]&&re<ge);if(F=V-(ge-re),re=ge-V,ce<F){if(H.match_start=ee,se<=(ce=F))break;me=we[re+ce-1],ae=we[re+ce]}}while((ee=ie[ee&ve])>de&&--J!=0);return ce<=H.lookahead?ce:H.lookahead}function k(H){var ee,U,F,J,re,ce,se,de,we,ve,ie=H.w_size;do{if(J=H.window_size-H.lookahead-H.strstart,H.strstart>=ie+(ie-P)){for(w.arraySet(H.window,H.window,ie,ie,0),H.match_start-=ie,H.strstart-=ie,H.block_start-=ie,ee=U=H.hash_size;F=H.head[--ee],H.head[ee]=ie<=F?F-ie:0,--U;);for(ee=U=ie;F=H.prev[--ee],H.prev[ee]=ie<=F?F-ie:0,--U;);J+=ie}if(H.strm.avail_in===0)break;if(ce=H.strm,se=H.window,de=H.strstart+H.lookahead,ve=void 0,(we=J)<(ve=ce.avail_in)&&(ve=we),U=ve===0?0:(ce.avail_in-=ve,w.arraySet(se,ce.input,ce.next_in,ve,de),ce.state.wrap===1?ce.adler=j(ce.adler,se,ve,de):ce.state.wrap===2&&(ce.adler=N(ce.adler,se,ve,de)),ce.next_in+=ve,ce.total_in+=ve,ve),H.lookahead+=U,H.lookahead+H.insert>=3)for(re=H.strstart-H.insert,H.ins_h=H.window[re],H.ins_h=(H.ins_h<<H.hash_shift^H.window[re+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[re+3-1])&H.hash_mask,H.prev[re&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=re,re++,H.insert--,!(H.lookahead+H.insert<3)););}while(H.lookahead<P&&H.strm.avail_in!==0)}function E(H,ee){for(var U,F;;){if(H.lookahead<P){if(k(H),H.lookahead<P&&ee===0)return 1;if(H.lookahead===0)break}if(U=0,H.lookahead>=3&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,U=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),U!==0&&H.strstart-U<=H.w_size-P&&(H.match_length=C(H,U)),H.match_length>=3)if(F=v._tr_tally(H,H.strstart-H.match_start,H.match_length-3),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=3){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,U=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else F=v._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(F&&(I(H,!1),H.strm.avail_out===0))return 1}return H.insert=H.strstart<2?H.strstart:2,ee===4?(I(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(I(H,!1),H.strm.avail_out===0)?1:2}function M(H,ee){for(var U,F,J;;){if(H.lookahead<P){if(k(H),H.lookahead<P&&ee===0)return 1;if(H.lookahead===0)break}if(U=0,H.lookahead>=3&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,U=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=2,U!==0&&H.prev_length<H.max_lazy_match&&H.strstart-U<=H.w_size-P&&(H.match_length=C(H,U),H.match_length<=5&&(H.strategy===1||H.match_length===3&&4096<H.strstart-H.match_start)&&(H.match_length=2)),H.prev_length>=3&&H.match_length<=H.prev_length){for(J=H.strstart+H.lookahead-3,F=v._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-3),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=J&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,U=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=2,H.strstart++,F&&(I(H,!1),H.strm.avail_out===0))return 1}else if(H.match_available){if((F=v._tr_tally(H,0,H.window[H.strstart-1]))&&I(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return 1}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(F=v._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<2?H.strstart:2,ee===4?(I(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(I(H,!1),H.strm.avail_out===0)?1:2}function L(H,ee,U,F,J){this.good_length=H,this.max_lazy=ee,this.nice_length=U,this.max_chain=F,this.func=J}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(1146),this.dyn_dtree=new w.Buf16(122),this.bl_tree=new w.Buf16(78),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(16),this.heap=new w.Buf16(573),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(573),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(H){var ee;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=2,(ee=H.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?42:$,H.adler=ee.wrap===2?0:1,ee.last_flush=0,v._tr_init(ee),0):G(H,D)}function Z(H){var ee=K(H);return ee===0&&(function(U){U.window_size=2*U.w_size,W(U.head),U.max_lazy_match=g[U.level].max_lazy,U.good_match=g[U.level].good_length,U.nice_match=g[U.level].nice_length,U.max_chain_length=g[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=2,U.match_available=0,U.ins_h=0})(H.state),ee}function te(H,ee,U,F,J,re){if(!H)return D;var ce=1;if(ee===-1&&(ee=6),F<0?(ce=0,F=-F):15<F&&(ce=2,F-=16),J<1||9<J||U!==8||F<8||15<F||ee<0||9<ee||re<0||4<re)return G(H,D);F===8&&(F=9);var se=new z;return(H.state=se).strm=H,se.wrap=ce,se.gzhead=null,se.w_bits=F,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=J+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+3-1)/3),se.window=new w.Buf8(2*se.w_size),se.head=new w.Buf16(se.hash_size),se.prev=new w.Buf16(se.w_size),se.lit_bufsize=1<<J+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new w.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=ee,se.strategy=re,se.method=U,Z(H)}g=[new L(0,0,0,0,(function(H,ee){var U=65535;for(U>H.pending_buf_size-5&&(U=H.pending_buf_size-5);;){if(H.lookahead<=1){if(k(H),H.lookahead===0&&ee===0)return 1;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var F=H.block_start+U;if((H.strstart===0||H.strstart>=F)&&(H.lookahead=H.strstart-F,H.strstart=F,I(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-P&&(I(H,!1),H.strm.avail_out===0))return 1}return H.insert=0,ee===4?(I(H,!0),H.strm.avail_out===0?3:4):(H.strstart>H.block_start&&(I(H,!1),H.strm.avail_out),1)})),new L(4,4,8,4,E),new L(4,5,16,8,E),new L(4,6,32,32,E),new L(4,4,16,16,M),new L(8,16,32,32,M),new L(8,16,128,128,M),new L(8,32,128,256,M),new L(32,128,258,1024,M),new L(32,258,258,4096,M)],x.deflateInit=function(H,ee){return te(H,ee,8,15,8,0)},x.deflateInit2=te,x.deflateReset=Z,x.deflateResetKeep=K,x.deflateSetHeader=function(H,ee){return H&&H.state?H.state.wrap!==2?D:(H.state.gzhead=ee,0):D},x.deflate=function(H,ee){var U,F,J,re;if(!H||!H.state||5<ee||ee<0)return H?G(H,D):D;if(F=H.state,!H.output||!H.input&&H.avail_in!==0||F.status===666&&ee!==4)return G(H,H.avail_out===0?-5:D);if(F.strm=H,U=F.last_flush,F.last_flush=ee,F.status===42)if(F.wrap===2)H.adler=0,R(F,31),R(F,139),R(F,8),F.gzhead?(R(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),R(F,255&F.gzhead.time),R(F,F.gzhead.time>>8&255),R(F,F.gzhead.time>>16&255),R(F,F.gzhead.time>>24&255),R(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),R(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(R(F,255&F.gzhead.extra.length),R(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(H.adler=N(H.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(R(F,0),R(F,0),R(F,0),R(F,0),R(F,0),R(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),R(F,3),F.status=$);else{var ce=8+(F.w_bits-8<<4)<<8;ce|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(ce|=32),ce+=31-ce%31,F.status=$,S(F,ce),F.strstart!==0&&(S(F,H.adler>>>16),S(F,65535&H.adler)),H.adler=1}if(F.status===69)if(F.gzhead.extra){for(J=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>J&&(H.adler=N(H.adler,F.pending_buf,F.pending-J,J)),O(H),J=F.pending,F.pending!==F.pending_buf_size));)R(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>J&&(H.adler=N(H.adler,F.pending_buf,F.pending-J,J)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){J=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>J&&(H.adler=N(H.adler,F.pending_buf,F.pending-J,J)),O(H),J=F.pending,F.pending===F.pending_buf_size)){re=1;break}re=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,R(F,re)}while(re!==0);F.gzhead.hcrc&&F.pending>J&&(H.adler=N(H.adler,F.pending_buf,F.pending-J,J)),re===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){J=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>J&&(H.adler=N(H.adler,F.pending_buf,F.pending-J,J)),O(H),J=F.pending,F.pending===F.pending_buf_size)){re=1;break}re=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,R(F,re)}while(re!==0);F.gzhead.hcrc&&F.pending>J&&(H.adler=N(H.adler,F.pending_buf,F.pending-J,J)),re===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&O(H),F.pending+2<=F.pending_buf_size&&(R(F,255&H.adler),R(F,H.adler>>8&255),H.adler=0,F.status=$)):F.status=$),F.pending!==0){if(O(H),H.avail_out===0)return F.last_flush=-1,0}else if(H.avail_in===0&&Y(ee)<=Y(U)&&ee!==4)return G(H,-5);if(F.status===666&&H.avail_in!==0)return G(H,-5);if(H.avail_in!==0||F.lookahead!==0||ee!==0&&F.status!==666){var se=F.strategy===2?(function(de,we){for(var ve;;){if(de.lookahead===0&&(k(de),de.lookahead===0)){if(we===0)return 1;break}if(de.match_length=0,ve=v._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,ve&&(I(de,!1),de.strm.avail_out===0))return 1}return de.insert=0,we===4?(I(de,!0),de.strm.avail_out===0?3:4):de.last_lit&&(I(de,!1),de.strm.avail_out===0)?1:2})(F,ee):F.strategy===3?(function(de,we){for(var ve,ie,ge,me,ae=de.window;;){if(de.lookahead<=V){if(k(de),de.lookahead<=V&&we===0)return 1;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=3&&0<de.strstart&&(ie=ae[ge=de.strstart-1])===ae[++ge]&&ie===ae[++ge]&&ie===ae[++ge]){me=de.strstart+V;do;while(ie===ae[++ge]&&ie===ae[++ge]&&ie===ae[++ge]&&ie===ae[++ge]&&ie===ae[++ge]&&ie===ae[++ge]&&ie===ae[++ge]&&ie===ae[++ge]&&ge<me);de.match_length=V-(me-ge),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=3?(ve=v._tr_tally(de,1,de.match_length-3),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(ve=v._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),ve&&(I(de,!1),de.strm.avail_out===0))return 1}return de.insert=0,we===4?(I(de,!0),de.strm.avail_out===0?3:4):de.last_lit&&(I(de,!1),de.strm.avail_out===0)?1:2})(F,ee):g[F.level].func(F,ee);if(se!==3&&se!==4||(F.status=666),se===1||se===3)return H.avail_out===0&&(F.last_flush=-1),0;if(se===2&&(ee===1?v._tr_align(F):ee!==5&&(v._tr_stored_block(F,0,0,!1),ee===3&&(W(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),O(H),H.avail_out===0))return F.last_flush=-1,0}return ee!==4?0:F.wrap<=0?1:(F.wrap===2?(R(F,255&H.adler),R(F,H.adler>>8&255),R(F,H.adler>>16&255),R(F,H.adler>>24&255),R(F,255&H.total_in),R(F,H.total_in>>8&255),R(F,H.total_in>>16&255),R(F,H.total_in>>24&255)):(S(F,H.adler>>>16),S(F,65535&H.adler)),O(H),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?0:1)},x.deflateEnd=function(H){var ee;return H&&H.state?(ee=H.state.status)!==42&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==$&&ee!==666?G(H,D):(H.state=null,ee===$?G(H,-3):0):D},x.deflateSetDictionary=function(H,ee){var U,F,J,re,ce,se,de,we,ve=ee.length;if(!H||!H.state||(re=(U=H.state).wrap)===2||re===1&&U.status!==42||U.lookahead)return D;for(re===1&&(H.adler=j(H.adler,ee,ve,0)),U.wrap=0,ve>=U.w_size&&(re===0&&(W(U.head),U.strstart=0,U.block_start=0,U.insert=0),we=new w.Buf8(U.w_size),w.arraySet(we,ee,ve-U.w_size,U.w_size,0),ee=we,ve=U.w_size),ce=H.avail_in,se=H.next_in,de=H.input,H.avail_in=ve,H.next_in=0,H.input=ee,k(U);U.lookahead>=3;){for(F=U.strstart,J=U.lookahead-2;U.ins_h=(U.ins_h<<U.hash_shift^U.window[F+3-1])&U.hash_mask,U.prev[F&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=F,F++,--J;);U.strstart=F,U.lookahead=2,k(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=2,U.match_available=0,H.next_in=se,H.input=de,H.avail_in=ce,U.wrap=re,0},x.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(p,y,x){y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(p,y,x){y.exports=function(g,w){var v,j,N,T,D,V,P,$,G,Y,W,O,I,R,S,C,k,E,M,L,z,K,Z,te,H;v=g.state,j=g.next_in,te=g.input,N=j+(g.avail_in-5),T=g.next_out,H=g.output,D=T-(w-g.avail_out),V=T+(g.avail_out-257),P=v.dmax,$=v.wsize,G=v.whave,Y=v.wnext,W=v.window,O=v.hold,I=v.bits,R=v.lencode,S=v.distcode,C=(1<<v.lenbits)-1,k=(1<<v.distbits)-1;e:do{I<15&&(O+=te[j++]<<I,I+=8,O+=te[j++]<<I,I+=8),E=R[O&C];t:for(;;){if(O>>>=M=E>>>24,I-=M,(M=E>>>16&255)==0)H[T++]=65535&E;else{if(!(16&M)){if((64&M)==0){E=R[(65535&E)+(O&(1<<M)-1)];continue t}if(32&M){v.mode=12;break e}g.msg="invalid literal/length code",v.mode=30;break e}L=65535&E,(M&=15)&&(I<M&&(O+=te[j++]<<I,I+=8),L+=O&(1<<M)-1,O>>>=M,I-=M),I<15&&(O+=te[j++]<<I,I+=8,O+=te[j++]<<I,I+=8),E=S[O&k];n:for(;;){if(O>>>=M=E>>>24,I-=M,!(16&(M=E>>>16&255))){if((64&M)==0){E=S[(65535&E)+(O&(1<<M)-1)];continue n}g.msg="invalid distance code",v.mode=30;break e}if(z=65535&E,I<(M&=15)&&(O+=te[j++]<<I,(I+=8)<M&&(O+=te[j++]<<I,I+=8)),P<(z+=O&(1<<M)-1)){g.msg="invalid distance too far back",v.mode=30;break e}if(O>>>=M,I-=M,(M=T-D)<z){if(G<(M=z-M)&&v.sane){g.msg="invalid distance too far back",v.mode=30;break e}if(Z=W,(K=0)===Y){if(K+=$-M,M<L){for(L-=M;H[T++]=W[K++],--M;);K=T-z,Z=H}}else if(Y<M){if(K+=$+Y-M,(M-=Y)<L){for(L-=M;H[T++]=W[K++],--M;);if(K=0,Y<L){for(L-=M=Y;H[T++]=W[K++],--M;);K=T-z,Z=H}}}else if(K+=Y-M,M<L){for(L-=M;H[T++]=W[K++],--M;);K=T-z,Z=H}for(;2<L;)H[T++]=Z[K++],H[T++]=Z[K++],H[T++]=Z[K++],L-=3;L&&(H[T++]=Z[K++],1<L&&(H[T++]=Z[K++]))}else{for(K=T-z;H[T++]=H[K++],H[T++]=H[K++],H[T++]=H[K++],2<(L-=3););L&&(H[T++]=H[K++],1<L&&(H[T++]=H[K++]))}break}}break}}while(j<N&&T<V);j-=L=I>>3,O&=(1<<(I-=L<<3))-1,g.next_in=j,g.next_out=T,g.avail_in=j<N?N-j+5:5-(j-N),g.avail_out=T<V?V-T+257:257-(T-V),v.hold=O,v.bits=I}},{}],49:[function(p,y,x){var g=p("../utils/common"),w=p("./adler32"),v=p("./crc32"),j=p("./inffast"),N=p("./inftrees"),T=-2;function D(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function V(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(C){var k;return C&&C.state?(k=C.state,C.total_in=C.total_out=k.total=0,C.msg="",k.wrap&&(C.adler=1&k.wrap),k.mode=1,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new g.Buf32(852),k.distcode=k.distdyn=new g.Buf32(592),k.sane=1,k.back=-1,0):T}function $(C){var k;return C&&C.state?((k=C.state).wsize=0,k.whave=0,k.wnext=0,P(C)):T}function G(C,k){var E,M;return C&&C.state?(M=C.state,k<0?(E=0,k=-k):(E=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?T:(M.window!==null&&M.wbits!==k&&(M.window=null),M.wrap=E,M.wbits=k,$(C))):T}function Y(C,k){var E,M;return C?(M=new V,(C.state=M).window=null,(E=G(C,k))!==0&&(C.state=null),E):T}var W,O,I=!0;function R(C){if(I){var k;for(W=new g.Buf32(512),O=new g.Buf32(32),k=0;k<144;)C.lens[k++]=8;for(;k<256;)C.lens[k++]=9;for(;k<280;)C.lens[k++]=7;for(;k<288;)C.lens[k++]=8;for(N(1,C.lens,0,288,W,0,C.work,{bits:9}),k=0;k<32;)C.lens[k++]=5;N(2,C.lens,0,32,O,0,C.work,{bits:5}),I=!1}C.lencode=W,C.lenbits=9,C.distcode=O,C.distbits=5}function S(C,k,E,M){var L,z=C.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new g.Buf8(z.wsize)),M>=z.wsize?(g.arraySet(z.window,k,E-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(M<(L=z.wsize-z.wnext)&&(L=M),g.arraySet(z.window,k,E-M,L,z.wnext),(M-=L)?(g.arraySet(z.window,k,E-M,M,0),z.wnext=M,z.whave=z.wsize):(z.wnext+=L,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=L))),0}x.inflateReset=$,x.inflateReset2=G,x.inflateResetKeep=P,x.inflateInit=function(C){return Y(C,15)},x.inflateInit2=Y,x.inflate=function(C,k){var E,M,L,z,K,Z,te,H,ee,U,F,J,re,ce,se,de,we,ve,ie,ge,me,ae,le,fe,xe=0,je=new g.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return T;(E=C.state).mode===12&&(E.mode=13),K=C.next_out,L=C.output,te=C.avail_out,z=C.next_in,M=C.input,Z=C.avail_in,H=E.hold,ee=E.bits,U=Z,F=te,ae=0;e:for(;;)switch(E.mode){case 1:if(E.wrap===0){E.mode=13;break}for(;ee<16;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if(2&E.wrap&&H===35615){je[E.check=0]=255&H,je[1]=H>>>8&255,E.check=v(E.check,je,2,0),ee=H=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&H)<<8)+(H>>8))%31){C.msg="incorrect header check",E.mode=30;break}if((15&H)!=8){C.msg="unknown compression method",E.mode=30;break}if(ee-=4,me=8+(15&(H>>>=4)),E.wbits===0)E.wbits=me;else if(me>E.wbits){C.msg="invalid window size",E.mode=30;break}E.dmax=1<<me,C.adler=E.check=1,E.mode=512&H?10:12,ee=H=0;break;case 2:for(;ee<16;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if(E.flags=H,(255&E.flags)!=8){C.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){C.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=H>>8&1),512&E.flags&&(je[0]=255&H,je[1]=H>>>8&255,E.check=v(E.check,je,2,0)),ee=H=0,E.mode=3;case 3:for(;ee<32;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}E.head&&(E.head.time=H),512&E.flags&&(je[0]=255&H,je[1]=H>>>8&255,je[2]=H>>>16&255,je[3]=H>>>24&255,E.check=v(E.check,je,4,0)),ee=H=0,E.mode=4;case 4:for(;ee<16;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}E.head&&(E.head.xflags=255&H,E.head.os=H>>8),512&E.flags&&(je[0]=255&H,je[1]=H>>>8&255,E.check=v(E.check,je,2,0)),ee=H=0,E.mode=5;case 5:if(1024&E.flags){for(;ee<16;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}E.length=H,E.head&&(E.head.extra_len=H),512&E.flags&&(je[0]=255&H,je[1]=H>>>8&255,E.check=v(E.check,je,2,0)),ee=H=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Z<(J=E.length)&&(J=Z),J&&(E.head&&(me=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),g.arraySet(E.head.extra,M,z,J,me)),512&E.flags&&(E.check=v(E.check,M,J,z)),Z-=J,z+=J,E.length-=J),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Z===0)break e;for(J=0;me=M[z+J++],E.head&&me&&E.length<65536&&(E.head.name+=String.fromCharCode(me)),me&&J<Z;);if(512&E.flags&&(E.check=v(E.check,M,J,z)),Z-=J,z+=J,me)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Z===0)break e;for(J=0;me=M[z+J++],E.head&&me&&E.length<65536&&(E.head.comment+=String.fromCharCode(me)),me&&J<Z;);if(512&E.flags&&(E.check=v(E.check,M,J,z)),Z-=J,z+=J,me)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;ee<16;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if(H!==(65535&E.check)){C.msg="header crc mismatch",E.mode=30;break}ee=H=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),C.adler=E.check=0,E.mode=12;break;case 10:for(;ee<32;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}C.adler=E.check=D(H),ee=H=0,E.mode=11;case 11:if(E.havedict===0)return C.next_out=K,C.avail_out=te,C.next_in=z,C.avail_in=Z,E.hold=H,E.bits=ee,2;C.adler=E.check=1,E.mode=12;case 12:if(k===5||k===6)break e;case 13:if(E.last){H>>>=7&ee,ee-=7&ee,E.mode=27;break}for(;ee<3;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}switch(E.last=1&H,ee-=1,3&(H>>>=1)){case 0:E.mode=14;break;case 1:if(R(E),E.mode=20,k!==6)break;H>>>=2,ee-=2;break e;case 2:E.mode=17;break;case 3:C.msg="invalid block type",E.mode=30}H>>>=2,ee-=2;break;case 14:for(H>>>=7&ee,ee-=7&ee;ee<32;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if((65535&H)!=(H>>>16^65535)){C.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&H,ee=H=0,E.mode=15,k===6)break e;case 15:E.mode=16;case 16:if(J=E.length){if(Z<J&&(J=Z),te<J&&(J=te),J===0)break e;g.arraySet(L,M,z,J,K),Z-=J,z+=J,te-=J,K+=J,E.length-=J;break}E.mode=12;break;case 17:for(;ee<14;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if(E.nlen=257+(31&H),H>>>=5,ee-=5,E.ndist=1+(31&H),H>>>=5,ee-=5,E.ncode=4+(15&H),H>>>=4,ee-=4,286<E.nlen||30<E.ndist){C.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;ee<3;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}E.lens[_e[E.have++]]=7&H,H>>>=3,ee-=3}for(;E.have<19;)E.lens[_e[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,le={bits:E.lenbits},ae=N(0,E.lens,0,19,E.lencode,0,E.work,le),E.lenbits=le.bits,ae){C.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;de=(xe=E.lencode[H&(1<<E.lenbits)-1])>>>16&255,we=65535&xe,!((se=xe>>>24)<=ee);){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if(we<16)H>>>=se,ee-=se,E.lens[E.have++]=we;else{if(we===16){for(fe=se+2;ee<fe;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if(H>>>=se,ee-=se,E.have===0){C.msg="invalid bit length repeat",E.mode=30;break}me=E.lens[E.have-1],J=3+(3&H),H>>>=2,ee-=2}else if(we===17){for(fe=se+3;ee<fe;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}ee-=se,me=0,J=3+(7&(H>>>=se)),H>>>=3,ee-=3}else{for(fe=se+7;ee<fe;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}ee-=se,me=0,J=11+(127&(H>>>=se)),H>>>=7,ee-=7}if(E.have+J>E.nlen+E.ndist){C.msg="invalid bit length repeat",E.mode=30;break}for(;J--;)E.lens[E.have++]=me}}if(E.mode===30)break;if(E.lens[256]===0){C.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,le={bits:E.lenbits},ae=N(1,E.lens,0,E.nlen,E.lencode,0,E.work,le),E.lenbits=le.bits,ae){C.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,le={bits:E.distbits},ae=N(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,le),E.distbits=le.bits,ae){C.msg="invalid distances set",E.mode=30;break}if(E.mode=20,k===6)break e;case 20:E.mode=21;case 21:if(6<=Z&&258<=te){C.next_out=K,C.avail_out=te,C.next_in=z,C.avail_in=Z,E.hold=H,E.bits=ee,j(C,F),K=C.next_out,L=C.output,te=C.avail_out,z=C.next_in,M=C.input,Z=C.avail_in,H=E.hold,ee=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;de=(xe=E.lencode[H&(1<<E.lenbits)-1])>>>16&255,we=65535&xe,!((se=xe>>>24)<=ee);){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if(de&&(240&de)==0){for(ve=se,ie=de,ge=we;de=(xe=E.lencode[ge+((H&(1<<ve+ie)-1)>>ve)])>>>16&255,we=65535&xe,!(ve+(se=xe>>>24)<=ee);){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}H>>>=ve,ee-=ve,E.back+=ve}if(H>>>=se,ee-=se,E.back+=se,E.length=we,de===0){E.mode=26;break}if(32&de){E.back=-1,E.mode=12;break}if(64&de){C.msg="invalid literal/length code",E.mode=30;break}E.extra=15&de,E.mode=22;case 22:if(E.extra){for(fe=E.extra;ee<fe;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}E.length+=H&(1<<E.extra)-1,H>>>=E.extra,ee-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;de=(xe=E.distcode[H&(1<<E.distbits)-1])>>>16&255,we=65535&xe,!((se=xe>>>24)<=ee);){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if((240&de)==0){for(ve=se,ie=de,ge=we;de=(xe=E.distcode[ge+((H&(1<<ve+ie)-1)>>ve)])>>>16&255,we=65535&xe,!(ve+(se=xe>>>24)<=ee);){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}H>>>=ve,ee-=ve,E.back+=ve}if(H>>>=se,ee-=se,E.back+=se,64&de){C.msg="invalid distance code",E.mode=30;break}E.offset=we,E.extra=15&de,E.mode=24;case 24:if(E.extra){for(fe=E.extra;ee<fe;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}E.offset+=H&(1<<E.extra)-1,H>>>=E.extra,ee-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){C.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(te===0)break e;if(J=F-te,E.offset>J){if((J=E.offset-J)>E.whave&&E.sane){C.msg="invalid distance too far back",E.mode=30;break}re=J>E.wnext?(J-=E.wnext,E.wsize-J):E.wnext-J,J>E.length&&(J=E.length),ce=E.window}else ce=L,re=K-E.offset,J=E.length;for(te<J&&(J=te),te-=J,E.length-=J;L[K++]=ce[re++],--J;);E.length===0&&(E.mode=21);break;case 26:if(te===0)break e;L[K++]=E.length,te--,E.mode=21;break;case 27:if(E.wrap){for(;ee<32;){if(Z===0)break e;Z--,H|=M[z++]<<ee,ee+=8}if(F-=te,C.total_out+=F,E.total+=F,F&&(C.adler=E.check=E.flags?v(E.check,L,F,K-F):w(E.check,L,F,K-F)),F=te,(E.flags?H:D(H))!==E.check){C.msg="incorrect data check",E.mode=30;break}ee=H=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;ee<32;){if(Z===0)break e;Z--,H+=M[z++]<<ee,ee+=8}if(H!==(4294967295&E.total)){C.msg="incorrect length check",E.mode=30;break}ee=H=0}E.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return T}return C.next_out=K,C.avail_out=te,C.next_in=z,C.avail_in=Z,E.hold=H,E.bits=ee,(E.wsize||F!==C.avail_out&&E.mode<30&&(E.mode<27||k!==4))&&S(C,C.output,C.next_out,F-C.avail_out)?(E.mode=31,-4):(U-=C.avail_in,F-=C.avail_out,C.total_in+=U,C.total_out+=F,E.total+=F,E.wrap&&F&&(C.adler=E.check=E.flags?v(E.check,L,F,C.next_out-F):w(E.check,L,F,C.next_out-F)),C.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(U==0&&F===0||k===4)&&ae===0&&(ae=-5),ae)},x.inflateEnd=function(C){if(!C||!C.state)return T;var k=C.state;return k.window&&(k.window=null),C.state=null,0},x.inflateGetHeader=function(C,k){var E;return C&&C.state?(2&(E=C.state).wrap)==0?T:((E.head=k).done=!1,0):T},x.inflateSetDictionary=function(C,k){var E,M=k.length;return C&&C.state?(E=C.state).wrap!==0&&E.mode!==11?T:E.mode===11&&w(1,k,M,0)!==E.check?-3:S(C,k,M,M)?(E.mode=31,-4):(E.havedict=1,0):T},x.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(p,y,x){var g=p("../utils/common"),w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],N=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];y.exports=function(T,D,V,P,$,G,Y,W){var O,I,R,S,C,k,E,M,L,z=W.bits,K=0,Z=0,te=0,H=0,ee=0,U=0,F=0,J=0,re=0,ce=0,se=null,de=0,we=new g.Buf16(16),ve=new g.Buf16(16),ie=null,ge=0;for(K=0;K<=15;K++)we[K]=0;for(Z=0;Z<P;Z++)we[D[V+Z]]++;for(ee=z,H=15;1<=H&&we[H]===0;H--);if(H<ee&&(ee=H),H===0)return $[G++]=20971520,$[G++]=20971520,W.bits=1,0;for(te=1;te<H&&we[te]===0;te++);for(ee<te&&(ee=te),K=J=1;K<=15;K++)if(J<<=1,(J-=we[K])<0)return-1;if(0<J&&(T===0||H!==1))return-1;for(ve[1]=0,K=1;K<15;K++)ve[K+1]=ve[K]+we[K];for(Z=0;Z<P;Z++)D[V+Z]!==0&&(Y[ve[D[V+Z]]++]=Z);if(k=T===0?(se=ie=Y,19):T===1?(se=w,de-=257,ie=v,ge-=257,256):(se=j,ie=N,-1),K=te,C=G,F=Z=ce=0,R=-1,S=(re=1<<(U=ee))-1,T===1&&852<re||T===2&&592<re)return 1;for(;;){for(E=K-F,L=Y[Z]<k?(M=0,Y[Z]):Y[Z]>k?(M=ie[ge+Y[Z]],se[de+Y[Z]]):(M=96,0),O=1<<K-F,te=I=1<<U;$[C+(ce>>F)+(I-=O)]=E<<24|M<<16|L|0,I!==0;);for(O=1<<K-1;ce&O;)O>>=1;if(O!==0?(ce&=O-1,ce+=O):ce=0,Z++,--we[K]==0){if(K===H)break;K=D[V+Y[Z]]}if(ee<K&&(ce&S)!==R){for(F===0&&(F=ee),C+=te,J=1<<(U=K-F);U+F<H&&!((J-=we[U+F])<=0);)U++,J<<=1;if(re+=1<<U,T===1&&852<re||T===2&&592<re)return 1;$[R=ce&S]=ee<<24|U<<16|C-G|0}}return ce!==0&&($[C+ce]=K-F<<24|64<<16|0),W.bits=ee,0}},{"../utils/common":41}],51:[function(p,y,x){y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(p,y,x){var g=p("../utils/common");function w(ie){for(var ge=ie.length;0<=--ge;)ie[ge]=0}var v=256,j=286,N=30,T=15,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(576);w(G);var Y=new Array(60);w(Y);var W=new Array(512);w(W);var O=new Array(256);w(O);var I=new Array(29);w(I);var R,S,C,k=new Array(N);function E(ie,ge,me,ae,le){this.static_tree=ie,this.extra_bits=ge,this.extra_base=me,this.elems=ae,this.max_length=le,this.has_stree=ie&&ie.length}function M(ie,ge){this.dyn_tree=ie,this.max_code=0,this.stat_desc=ge}function L(ie){return ie<256?W[ie]:W[256+(ie>>>7)]}function z(ie,ge){ie.pending_buf[ie.pending++]=255&ge,ie.pending_buf[ie.pending++]=ge>>>8&255}function K(ie,ge,me){ie.bi_valid>16-me?(ie.bi_buf|=ge<<ie.bi_valid&65535,z(ie,ie.bi_buf),ie.bi_buf=ge>>16-ie.bi_valid,ie.bi_valid+=me-16):(ie.bi_buf|=ge<<ie.bi_valid&65535,ie.bi_valid+=me)}function Z(ie,ge,me){K(ie,me[2*ge],me[2*ge+1])}function te(ie,ge){for(var me=0;me|=1&ie,ie>>>=1,me<<=1,0<--ge;);return me>>>1}function H(ie,ge,me){var ae,le,fe=new Array(16),xe=0;for(ae=1;ae<=T;ae++)fe[ae]=xe=xe+me[ae-1]<<1;for(le=0;le<=ge;le++){var je=ie[2*le+1];je!==0&&(ie[2*le]=te(fe[je]++,je))}}function ee(ie){var ge;for(ge=0;ge<j;ge++)ie.dyn_ltree[2*ge]=0;for(ge=0;ge<N;ge++)ie.dyn_dtree[2*ge]=0;for(ge=0;ge<19;ge++)ie.bl_tree[2*ge]=0;ie.dyn_ltree[512]=1,ie.opt_len=ie.static_len=0,ie.last_lit=ie.matches=0}function U(ie){8<ie.bi_valid?z(ie,ie.bi_buf):0<ie.bi_valid&&(ie.pending_buf[ie.pending++]=ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0}function F(ie,ge,me,ae){var le=2*ge,fe=2*me;return ie[le]<ie[fe]||ie[le]===ie[fe]&&ae[ge]<=ae[me]}function J(ie,ge,me){for(var ae=ie.heap[me],le=me<<1;le<=ie.heap_len&&(le<ie.heap_len&&F(ge,ie.heap[le+1],ie.heap[le],ie.depth)&&le++,!F(ge,ae,ie.heap[le],ie.depth));)ie.heap[me]=ie.heap[le],me=le,le<<=1;ie.heap[me]=ae}function re(ie,ge,me){var ae,le,fe,xe,je=0;if(ie.last_lit!==0)for(;ae=ie.pending_buf[ie.d_buf+2*je]<<8|ie.pending_buf[ie.d_buf+2*je+1],le=ie.pending_buf[ie.l_buf+je],je++,ae===0?Z(ie,le,ge):(Z(ie,(fe=O[le])+v+1,ge),(xe=D[fe])!==0&&K(ie,le-=I[fe],xe),Z(ie,fe=L(--ae),me),(xe=V[fe])!==0&&K(ie,ae-=k[fe],xe)),je<ie.last_lit;);Z(ie,256,ge)}function ce(ie,ge){var me,ae,le,fe=ge.dyn_tree,xe=ge.stat_desc.static_tree,je=ge.stat_desc.has_stree,_e=ge.stat_desc.elems,De=-1;for(ie.heap_len=0,ie.heap_max=573,me=0;me<_e;me++)fe[2*me]!==0?(ie.heap[++ie.heap_len]=De=me,ie.depth[me]=0):fe[2*me+1]=0;for(;ie.heap_len<2;)fe[2*(le=ie.heap[++ie.heap_len]=De<2?++De:0)]=1,ie.depth[le]=0,ie.opt_len--,je&&(ie.static_len-=xe[2*le+1]);for(ge.max_code=De,me=ie.heap_len>>1;1<=me;me--)J(ie,fe,me);for(le=_e;me=ie.heap[1],ie.heap[1]=ie.heap[ie.heap_len--],J(ie,fe,1),ae=ie.heap[1],ie.heap[--ie.heap_max]=me,ie.heap[--ie.heap_max]=ae,fe[2*le]=fe[2*me]+fe[2*ae],ie.depth[le]=(ie.depth[me]>=ie.depth[ae]?ie.depth[me]:ie.depth[ae])+1,fe[2*me+1]=fe[2*ae+1]=le,ie.heap[1]=le++,J(ie,fe,1),2<=ie.heap_len;);ie.heap[--ie.heap_max]=ie.heap[1],(function(Fe,Ue){var Je,dt,ft,yt,et,Ke,rt=Ue.dyn_tree,pt=Ue.max_code,it=Ue.stat_desc.static_tree,Kt=Ue.stat_desc.has_stree,rn=Ue.stat_desc.extra_bits,Ct=Ue.stat_desc.extra_base,pn=Ue.stat_desc.max_length,Xt=0;for(yt=0;yt<=T;yt++)Fe.bl_count[yt]=0;for(rt[2*Fe.heap[Fe.heap_max]+1]=0,Je=Fe.heap_max+1;Je<573;Je++)pn<(yt=rt[2*rt[2*(dt=Fe.heap[Je])+1]+1]+1)&&(yt=pn,Xt++),rt[2*dt+1]=yt,pt<dt||(Fe.bl_count[yt]++,et=0,Ct<=dt&&(et=rn[dt-Ct]),Ke=rt[2*dt],Fe.opt_len+=Ke*(yt+et),Kt&&(Fe.static_len+=Ke*(it[2*dt+1]+et)));if(Xt!==0){do{for(yt=pn-1;Fe.bl_count[yt]===0;)yt--;Fe.bl_count[yt]--,Fe.bl_count[yt+1]+=2,Fe.bl_count[pn]--,Xt-=2}while(0<Xt);for(yt=pn;yt!==0;yt--)for(dt=Fe.bl_count[yt];dt!==0;)pt<(ft=Fe.heap[--Je])||(rt[2*ft+1]!==yt&&(Fe.opt_len+=(yt-rt[2*ft+1])*rt[2*ft],rt[2*ft+1]=yt),dt--)}})(ie,ge),H(fe,De,ie.bl_count)}function se(ie,ge,me){var ae,le,fe=-1,xe=ge[1],je=0,_e=7,De=4;for(xe===0&&(_e=138,De=3),ge[2*(me+1)+1]=65535,ae=0;ae<=me;ae++)le=xe,xe=ge[2*(ae+1)+1],++je<_e&&le===xe||(je<De?ie.bl_tree[2*le]+=je:le!==0?(le!==fe&&ie.bl_tree[2*le]++,ie.bl_tree[32]++):je<=10?ie.bl_tree[34]++:ie.bl_tree[36]++,fe=le,De=(je=0)===xe?(_e=138,3):le===xe?(_e=6,3):(_e=7,4))}function de(ie,ge,me){var ae,le,fe=-1,xe=ge[1],je=0,_e=7,De=4;for(xe===0&&(_e=138,De=3),ae=0;ae<=me;ae++)if(le=xe,xe=ge[2*(ae+1)+1],!(++je<_e&&le===xe)){if(je<De)for(;Z(ie,le,ie.bl_tree),--je!=0;);else le!==0?(le!==fe&&(Z(ie,le,ie.bl_tree),je--),Z(ie,16,ie.bl_tree),K(ie,je-3,2)):je<=10?(Z(ie,17,ie.bl_tree),K(ie,je-3,3)):(Z(ie,18,ie.bl_tree),K(ie,je-11,7));fe=le,De=(je=0)===xe?(_e=138,3):le===xe?(_e=6,3):(_e=7,4)}}w(k);var we=!1;function ve(ie,ge,me,ae){K(ie,0+(ae?1:0),3),(function(le,fe,xe,je){U(le),z(le,xe),z(le,~xe),g.arraySet(le.pending_buf,le.window,fe,xe,le.pending),le.pending+=xe})(ie,ge,me)}x._tr_init=function(ie){we||((function(){var ge,me,ae,le,fe,xe=new Array(16);for(le=ae=0;le<28;le++)for(I[le]=ae,ge=0;ge<1<<D[le];ge++)O[ae++]=le;for(O[ae-1]=le,le=fe=0;le<16;le++)for(k[le]=fe,ge=0;ge<1<<V[le];ge++)W[fe++]=le;for(fe>>=7;le<N;le++)for(k[le]=fe<<7,ge=0;ge<1<<V[le]-7;ge++)W[256+fe++]=le;for(me=0;me<=T;me++)xe[me]=0;for(ge=0;ge<=143;)G[2*ge+1]=8,ge++,xe[8]++;for(;ge<=255;)G[2*ge+1]=9,ge++,xe[9]++;for(;ge<=279;)G[2*ge+1]=7,ge++,xe[7]++;for(;ge<=287;)G[2*ge+1]=8,ge++,xe[8]++;for(H(G,287,xe),ge=0;ge<N;ge++)Y[2*ge+1]=5,Y[2*ge]=te(ge,5);R=new E(G,D,257,j,T),S=new E(Y,V,0,N,T),C=new E(new Array(0),P,0,19,7)})(),we=!0),ie.l_desc=new M(ie.dyn_ltree,R),ie.d_desc=new M(ie.dyn_dtree,S),ie.bl_desc=new M(ie.bl_tree,C),ie.bi_buf=0,ie.bi_valid=0,ee(ie)},x._tr_stored_block=ve,x._tr_flush_block=function(ie,ge,me,ae){var le,fe,xe=0;0<ie.level?(ie.strm.data_type===2&&(ie.strm.data_type=(function(je){var _e,De=4093624447;for(_e=0;_e<=31;_e++,De>>>=1)if(1&De&&je.dyn_ltree[2*_e]!==0)return 0;if(je.dyn_ltree[18]!==0||je.dyn_ltree[20]!==0||je.dyn_ltree[26]!==0)return 1;for(_e=32;_e<v;_e++)if(je.dyn_ltree[2*_e]!==0)return 1;return 0})(ie)),ce(ie,ie.l_desc),ce(ie,ie.d_desc),xe=(function(je){var _e;for(se(je,je.dyn_ltree,je.l_desc.max_code),se(je,je.dyn_dtree,je.d_desc.max_code),ce(je,je.bl_desc),_e=18;3<=_e&&je.bl_tree[2*$[_e]+1]===0;_e--);return je.opt_len+=3*(_e+1)+5+5+4,_e})(ie),le=ie.opt_len+3+7>>>3,(fe=ie.static_len+3+7>>>3)<=le&&(le=fe)):le=fe=me+5,me+4<=le&&ge!==-1?ve(ie,ge,me,ae):ie.strategy===4||fe===le?(K(ie,2+(ae?1:0),3),re(ie,G,Y)):(K(ie,4+(ae?1:0),3),(function(je,_e,De,Fe){var Ue;for(K(je,_e-257,5),K(je,De-1,5),K(je,Fe-4,4),Ue=0;Ue<Fe;Ue++)K(je,je.bl_tree[2*$[Ue]+1],3);de(je,je.dyn_ltree,_e-1),de(je,je.dyn_dtree,De-1)})(ie,ie.l_desc.max_code+1,ie.d_desc.max_code+1,xe+1),re(ie,ie.dyn_ltree,ie.dyn_dtree)),ee(ie),ae&&U(ie)},x._tr_tally=function(ie,ge,me){return ie.pending_buf[ie.d_buf+2*ie.last_lit]=ge>>>8&255,ie.pending_buf[ie.d_buf+2*ie.last_lit+1]=255&ge,ie.pending_buf[ie.l_buf+ie.last_lit]=255&me,ie.last_lit++,ge===0?ie.dyn_ltree[2*me]++:(ie.matches++,ge--,ie.dyn_ltree[2*(O[me]+v+1)]++,ie.dyn_dtree[2*L(ge)]++),ie.last_lit===ie.lit_bufsize-1},x._tr_align=function(ie){K(ie,2,3),Z(ie,256,G),(function(ge){ge.bi_valid===16?(z(ge,ge.bi_buf),ge.bi_buf=0,ge.bi_valid=0):8<=ge.bi_valid&&(ge.pending_buf[ge.pending++]=255&ge.bi_buf,ge.bi_buf>>=8,ge.bi_valid-=8)})(ie)}},{"../utils/common":41}],53:[function(p,y,x){y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(p,y,x){(function(g){(function(w,v){if(!w.setImmediate){var j,N,T,D,V=1,P={},$=!1,G=w.document,Y=Object.getPrototypeOf&&Object.getPrototypeOf(w);Y=Y&&Y.setTimeout?Y:w,j={}.toString.call(w.process)==="[object process]"?function(R){o.nextTick((function(){O(R)}))}:(function(){if(w.postMessage&&!w.importScripts){var R=!0,S=w.onmessage;return w.onmessage=function(){R=!1},w.postMessage("","*"),w.onmessage=S,R}})()?(D="setImmediate$"+Math.random()+"$",w.addEventListener?w.addEventListener("message",I,!1):w.attachEvent("onmessage",I),function(R){w.postMessage(D+R,"*")}):w.MessageChannel?((T=new MessageChannel).port1.onmessage=function(R){O(R.data)},function(R){T.port2.postMessage(R)}):G&&"onreadystatechange"in G.createElement("script")?(N=G.documentElement,function(R){var S=G.createElement("script");S.onreadystatechange=function(){O(R),S.onreadystatechange=null,N.removeChild(S),S=null},N.appendChild(S)}):function(R){setTimeout(O,0,R)},Y.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var S=new Array(arguments.length-1),C=0;C<S.length;C++)S[C]=arguments[C+1];var k={callback:R,args:S};return P[V]=k,j(V),V++},Y.clearImmediate=W}function W(R){delete P[R]}function O(R){if($)setTimeout(O,0,R);else{var S=P[R];if(S){$=!0;try{(function(C){var k=C.callback,E=C.args;switch(E.length){case 0:k();break;case 1:k(E[0]);break;case 2:k(E[0],E[1]);break;case 3:k(E[0],E[1],E[2]);break;default:k.apply(void 0,E)}})(S)}finally{W(R),$=!1}}}}function I(R){R.source===w&&typeof R.data=="string"&&R.data.indexOf(D)===0&&O(+R.data.slice(D.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,e("_process"),typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,s,l){(function(o){(function(){var i=/[\\^$.*+?()[\]{}|]/g,d=RegExp(i.source),c=typeof o=="object"&&o&&o.Object===Object&&o,a=typeof self=="object"&&self&&self.Object===Object&&self,u=c||a||Function("return this")(),m=Object.prototype.toString,h=u.Symbol,p=h?h.prototype:void 0,y=p?p.toString:void 0;function x(g){if(typeof g=="string")return g;if((function(v){return typeof v=="symbol"||(function(j){return!!j&&typeof j=="object"})(v)&&m.call(v)=="[object Symbol]"})(g))return y?y.call(g):"";var w=g+"";return w=="0"&&1/g==-1/0?"-0":w}s.exports=function(g){var w;return(g=(w=g)==null?"":x(w))&&d.test(g)?g.replace(i,"\\$&"):g}}).call(this)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,s,l){(function(o){(function(){var i="[object Arguments]",d="[object Map]",c="[object Object]",a="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/,h=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[i]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w[d]=w["[object Number]"]=w[c]=w["[object RegExp]"]=w[a]=w["[object String]"]=w["[object WeakMap]"]=!1;var v=typeof o=="object"&&o&&o.Object===Object&&o,j=typeof self=="object"&&self&&self.Object===Object&&self,N=v||j||Function("return this")(),T=typeof l=="object"&&l&&!l.nodeType&&l,D=T&&typeof s=="object"&&s&&!s.nodeType&&s,V=D&&D.exports===T&&v.process,P=(function(){try{return V&&V.binding("util")}catch{}})(),$=P&&P.isTypedArray;function G(pe,ke,He,Xe){for(var xt=-1,Qe=pe?pe.length:0;++xt<Qe;){var nt=pe[xt];ke(Xe,nt,He(nt),pe)}return Xe}function Y(pe,ke){for(var He=-1,Xe=pe?pe.length:0;++He<Xe;)if(ke(pe[He],He,pe))return!0;return!1}function W(pe){var ke=!1;if(pe!=null&&typeof pe.toString!="function")try{ke=!!(pe+"")}catch{}return ke}function O(pe){var ke=-1,He=Array(pe.size);return pe.forEach((function(Xe,xt){He[++ke]=[xt,Xe]})),He}function I(pe){var ke=-1,He=Array(pe.size);return pe.forEach((function(Xe){He[++ke]=Xe})),He}var R,S,C,k=Array.prototype,E=Function.prototype,M=Object.prototype,L=N["__core-js_shared__"],z=(R=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",K=E.toString,Z=M.hasOwnProperty,te=M.toString,H=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=N.Symbol,U=N.Uint8Array,F=M.propertyIsEnumerable,J=k.splice,re=(S=Object.keys,C=Object,function(pe){return S(C(pe))}),ce=ct(N,"DataView"),se=ct(N,"Map"),de=ct(N,"Promise"),we=ct(N,"Set"),ve=ct(N,"WeakMap"),ie=ct(Object,"create"),ge=Ne(ce),me=Ne(se),ae=Ne(de),le=Ne(we),fe=Ne(ve),xe=ee?ee.prototype:void 0,je=xe?xe.valueOf:void 0,_e=xe?xe.toString:void 0;function De(pe){var ke=-1,He=pe?pe.length:0;for(this.clear();++ke<He;){var Xe=pe[ke];this.set(Xe[0],Xe[1])}}function Fe(pe){var ke=-1,He=pe?pe.length:0;for(this.clear();++ke<He;){var Xe=pe[ke];this.set(Xe[0],Xe[1])}}function Ue(pe){var ke=-1,He=pe?pe.length:0;for(this.clear();++ke<He;){var Xe=pe[ke];this.set(Xe[0],Xe[1])}}function Je(pe){var ke=-1,He=pe?pe.length:0;for(this.__data__=new Ue;++ke<He;)this.add(pe[ke])}function dt(pe){this.__data__=new Fe(pe)}function ft(pe,ke){var He=Nt(pe)||Ft(pe)?(function(nt,mn){for(var Wt=-1,nn=Array(nt);++Wt<nt;)nn[Wt]=mn(Wt);return nn})(pe.length,String):[],Xe=He.length,xt=!!Xe;for(var Qe in pe)!Z.call(pe,Qe)||xt&&(Qe=="length"||jn(Qe,Xe))||He.push(Qe);return He}function yt(pe,ke){for(var He=pe.length;He--;)if(tt(pe[He][0],ke))return He;return-1}function et(pe,ke,He,Xe){return rt(pe,(function(xt,Qe,nt){ke(Xe,xt,He(xt),nt)})),Xe}De.prototype.clear=function(){this.__data__=ie?ie(null):{}},De.prototype.delete=function(pe){return this.has(pe)&&delete this.__data__[pe]},De.prototype.get=function(pe){var ke=this.__data__;if(ie){var He=ke[pe];return He==="__lodash_hash_undefined__"?void 0:He}return Z.call(ke,pe)?ke[pe]:void 0},De.prototype.has=function(pe){var ke=this.__data__;return ie?ke[pe]!==void 0:Z.call(ke,pe)},De.prototype.set=function(pe,ke){return this.__data__[pe]=ie&&ke===void 0?"__lodash_hash_undefined__":ke,this},Fe.prototype.clear=function(){this.__data__=[]},Fe.prototype.delete=function(pe){var ke=this.__data__,He=yt(ke,pe);return!(He<0)&&(He==ke.length-1?ke.pop():J.call(ke,He,1),!0)},Fe.prototype.get=function(pe){var ke=this.__data__,He=yt(ke,pe);return He<0?void 0:ke[He][1]},Fe.prototype.has=function(pe){return yt(this.__data__,pe)>-1},Fe.prototype.set=function(pe,ke){var He=this.__data__,Xe=yt(He,pe);return Xe<0?He.push([pe,ke]):He[Xe][1]=ke,this},Ue.prototype.clear=function(){this.__data__={hash:new De,map:new(se||Fe),string:new De}},Ue.prototype.delete=function(pe){return It(this,pe).delete(pe)},Ue.prototype.get=function(pe){return It(this,pe).get(pe)},Ue.prototype.has=function(pe){return It(this,pe).has(pe)},Ue.prototype.set=function(pe,ke){return It(this,pe).set(pe,ke),this},Je.prototype.add=Je.prototype.push=function(pe){return this.__data__.set(pe,"__lodash_hash_undefined__"),this},Je.prototype.has=function(pe){return this.__data__.has(pe)},dt.prototype.clear=function(){this.__data__=new Fe},dt.prototype.delete=function(pe){return this.__data__.delete(pe)},dt.prototype.get=function(pe){return this.__data__.get(pe)},dt.prototype.has=function(pe){return this.__data__.has(pe)},dt.prototype.set=function(pe,ke){var He=this.__data__;if(He instanceof Fe){var Xe=He.__data__;if(!se||Xe.length<199)return Xe.push([pe,ke]),this;He=this.__data__=new Ue(Xe)}return He.set(pe,ke),this};var Ke,rt=(Ke=function(pe,ke){return pe&&pt(pe,ke,Hn)},function(pe,ke){if(pe==null)return pe;if(!vt(pe))return Ke(pe,ke);for(var He=pe.length,Xe=-1,xt=Object(pe);++Xe<He&&ke(xt[Xe],Xe,xt)!==!1;);return pe}),pt=(function(pe){return function(ke,He,Xe){for(var xt=-1,Qe=Object(ke),nt=Xe(ke),mn=nt.length;mn--;){var Wt=nt[++xt];if(He(Qe[Wt],Wt,Qe)===!1)break}return ke}})();function it(pe,ke){for(var He=0,Xe=(ke=gt(ke,pe)?[ke]:Ut(ke)).length;pe!=null&&He<Xe;)pe=pe[ye(ke[He++])];return He&&He==Xe?pe:void 0}function Kt(pe,ke){return pe!=null&&ke in Object(pe)}function rn(pe,ke,He,Xe,xt){return pe===ke||(pe==null||ke==null||!Et(pe)&&!Xn(ke)?pe!=pe&&ke!=ke:(function(Qe,nt,mn,Wt,nn,Rt){var Rn=Nt(Qe),Nn=Nt(nt),ln="[object Array]",Wn="[object Array]";Rn||(ln=(ln=Bt(Qe))==i?c:ln),Nn||(Wn=(Wn=Bt(nt))==i?c:Wn);var yr=ln==c&&!W(Qe),xr=Wn==c&&!W(nt),ms=ln==Wn;if(ms&&!yr)return Rt||(Rt=new dt),Rn||qn(Qe)?lt(Qe,nt,mn,Wt,nn,Rt):(function(kn,vn,as,Ra,Co,vr,aa){switch(as){case"[object DataView]":if(kn.byteLength!=vn.byteLength||kn.byteOffset!=vn.byteOffset)return!1;kn=kn.buffer,vn=vn.buffer;case"[object ArrayBuffer]":return!(kn.byteLength!=vn.byteLength||!Ra(new U(kn),new U(vn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return tt(+kn,+vn);case"[object Error]":return kn.name==vn.name&&kn.message==vn.message;case"[object RegExp]":case"[object String]":return kn==vn+"";case d:var ia=O;case a:var Ai=2&vr;if(ia||(ia=I),kn.size!=vn.size&&!Ai)return!1;var Mi=aa.get(kn);if(Mi)return Mi==vn;vr|=1,aa.set(kn,vn);var Oi=lt(ia(kn),ia(vn),Ra,Co,vr,aa);return aa.delete(kn),Oi;case"[object Symbol]":if(je)return je.call(kn)==je.call(vn)}return!1})(Qe,nt,ln,mn,Wt,nn,Rt);if(!(2&nn)){var Vs=yr&&Z.call(Qe,"__wrapped__"),Ti=xr&&Z.call(nt,"__wrapped__");if(Vs||Ti){var Er=Vs?Qe.value():Qe,Ea=Ti?nt.value():nt;return Rt||(Rt=new dt),mn(Er,Ea,Wt,nn,Rt)}}return ms?(Rt||(Rt=new dt),(function(kn,vn,as,Ra,Co,vr){var aa=2&Co,ia=Hn(kn),Ai=ia.length,Mi=Hn(vn).length;if(Ai!=Mi&&!aa)return!1;for(var Oi=Ai;Oi--;){var Ta=ia[Oi];if(!(aa?Ta in vn:Z.call(vn,Ta)))return!1}var No=vr.get(kn);if(No&&vr.get(vn))return No==vn;var Di=!0;vr.set(kn,vn),vr.set(vn,kn);for(var ko=aa;++Oi<Ai;){Ta=ia[Oi];var oa=kn[Ta],la=vn[Ta];if(Ra)var Nc=aa?Ra(la,oa,Ta,vn,kn,vr):Ra(oa,la,Ta,kn,vn,vr);if(!(Nc===void 0?oa===la||as(oa,la,Ra,Co,vr):Nc)){Di=!1;break}ko||(ko=Ta=="constructor")}if(Di&&!ko){var Ii=kn.constructor,Eo=vn.constructor;Ii==Eo||!("constructor"in kn)||!("constructor"in vn)||typeof Ii=="function"&&Ii instanceof Ii&&typeof Eo=="function"&&Eo instanceof Eo||(Di=!1)}return vr.delete(kn),vr.delete(vn),Di})(Qe,nt,mn,Wt,nn,Rt)):!1})(pe,ke,rn,He,Xe,xt))}function Ct(pe){return!(!Et(pe)||(function(ke){return!!z&&z in ke})(pe))&&($t(pe)||W(pe)?H:x).test(Ne(pe))}function pn(pe){return typeof pe=="function"?pe:pe==null?Jr:typeof pe=="object"?Nt(pe)?(function(Xe,xt){return gt(Xe)&&Lt(xt)?zt(ye(Xe),xt):function(Qe){var nt=(function(mn,Wt,nn){var Rt=mn==null?void 0:it(mn,Wt);return Rt===void 0?nn:Rt})(Qe,Xe);return nt===void 0&&nt===xt?(function(mn,Wt){return mn!=null&&(function(nn,Rt,Rn){Rt=gt(Rt,nn)?[Rt]:Ut(Rt);for(var Nn,ln=-1,Wn=Rt.length;++ln<Wn;){var yr=ye(Rt[ln]);if(!(Nn=nn!=null&&Rn(nn,yr)))break;nn=nn[yr]}return Nn||!!(Wn=nn?nn.length:0)&&Pt(Wn)&&jn(yr,Wn)&&(Nt(nn)||Ft(nn))})(mn,Wt,Kt)})(Qe,Xe):rn(xt,nt,void 0,3)}})(pe[0],pe[1]):(function(Xe){var xt=(function(Qe){for(var nt=Hn(Qe),mn=nt.length;mn--;){var Wt=nt[mn],nn=Qe[Wt];nt[mn]=[Wt,nn,Lt(nn)]}return nt})(Xe);return xt.length==1&&xt[0][2]?zt(xt[0][0],xt[0][1]):function(Qe){return Qe===Xe||(function(nt,mn,Wt,nn){var Rt=Wt.length,Rn=Rt;if(nt==null)return!Rn;for(nt=Object(nt);Rt--;){var Nn=Wt[Rt];if(Nn[2]?Nn[1]!==nt[Nn[0]]:!(Nn[0]in nt))return!1}for(;++Rt<Rn;){var ln=(Nn=Wt[Rt])[0],Wn=nt[ln],yr=Nn[1];if(Nn[2]){if(Wn===void 0&&!(ln in nt))return!1}else{var xr=new dt,ms;if(!(ms===void 0?rn(yr,Wn,nn,3,xr):ms))return!1}}return!0})(Qe,Xe,xt)}})(pe):gt(ke=pe)?(He=ye(ke),function(Xe){return Xe?.[He]}):(function(Xe){return function(xt){return it(xt,Xe)}})(ke);var ke,He}function Xt(pe){if(He=(ke=pe)&&ke.constructor,Xe=typeof He=="function"&&He.prototype||M,ke!==Xe)return re(pe);var ke,He,Xe,xt=[];for(var Qe in Object(pe))Z.call(pe,Qe)&&Qe!="constructor"&&xt.push(Qe);return xt}function Ut(pe){return Nt(pe)?pe:ht(pe)}function lt(pe,ke,He,Xe,xt,Qe){var nt=2&xt,mn=pe.length,Wt=ke.length;if(mn!=Wt&&!(nt&&Wt>mn))return!1;var nn=Qe.get(pe);if(nn&&Qe.get(ke))return nn==ke;var Rt=-1,Rn=!0,Nn=1&xt?new Je:void 0;for(Qe.set(pe,ke),Qe.set(ke,pe);++Rt<mn;){var ln=pe[Rt],Wn=ke[Rt];if(Xe)var yr=nt?Xe(Wn,ln,Rt,ke,pe,Qe):Xe(ln,Wn,Rt,pe,ke,Qe);if(yr!==void 0){if(yr)continue;Rn=!1;break}if(Nn){if(!Y(ke,(function(xr,ms){if(!Nn.has(ms)&&(ln===xr||He(ln,xr,Xe,xt,Qe)))return Nn.add(ms)}))){Rn=!1;break}}else if(ln!==Wn&&!He(ln,Wn,Xe,xt,Qe)){Rn=!1;break}}return Qe.delete(pe),Qe.delete(ke),Rn}function It(pe,ke){var He,Xe,xt=pe.__data__;return((Xe=typeof(He=ke))=="string"||Xe=="number"||Xe=="symbol"||Xe=="boolean"?He!=="__proto__":He===null)?xt[typeof ke=="string"?"string":"hash"]:xt.map}function ct(pe,ke){var He=(function(Xe,xt){return Xe?.[xt]})(pe,ke);return Ct(He)?He:void 0}var Bt=function(pe){return te.call(pe)};function jn(pe,ke){return!!(ke=ke??9007199254740991)&&(typeof pe=="number"||g.test(pe))&&pe>-1&&pe%1==0&&pe<ke}function gt(pe,ke){if(Nt(pe))return!1;var He=typeof pe;return!(He!="number"&&He!="symbol"&&He!="boolean"&&pe!=null&&!On(pe))||m.test(pe)||!u.test(pe)||ke!=null&&pe in Object(ke)}function Lt(pe){return pe==pe&&!Et(pe)}function zt(pe,ke){return function(He){return He!=null&&He[pe]===ke&&(ke!==void 0||pe in Object(He))}}(ce&&Bt(new ce(new ArrayBuffer(1)))!="[object DataView]"||se&&Bt(new se)!=d||de&&Bt(de.resolve())!="[object Promise]"||we&&Bt(new we)!=a||ve&&Bt(new ve)!="[object WeakMap]")&&(Bt=function(pe){var ke=te.call(pe),He=ke==c?pe.constructor:void 0,Xe=He?Ne(He):void 0;if(Xe)switch(Xe){case ge:return"[object DataView]";case me:return d;case ae:return"[object Promise]";case le:return a;case fe:return"[object WeakMap]"}return ke});var ht=Ot((function(pe){var ke;pe=(ke=pe)==null?"":(function(Xe){if(typeof Xe=="string")return Xe;if(On(Xe))return _e?_e.call(Xe):"";var xt=Xe+"";return xt=="0"&&1/Xe==-1/0?"-0":xt})(ke);var He=[];return h.test(pe)&&He.push(""),pe.replace(p,(function(Xe,xt,Qe,nt){He.push(Qe?nt.replace(y,"$1"):xt||Xe)})),He}));function ye(pe){if(typeof pe=="string"||On(pe))return pe;var ke=pe+"";return ke=="0"&&1/pe==-1/0?"-0":ke}function Ne(pe){if(pe!=null){try{return K.call(pe)}catch{}try{return pe+""}catch{}}return""}var Pe,st=(Pe=function(pe,ke,He){Z.call(pe,He)?pe[He].push(ke):pe[He]=[ke]},function(pe,ke){var He=Nt(pe)?G:et,Xe={};return He(pe,Pe,pn(ke),Xe)});function Ot(pe,ke){if(typeof pe!="function"||ke&&typeof ke!="function")throw new TypeError("Expected a function");var He=function(){var Xe=arguments,xt=ke?ke.apply(this,Xe):Xe[0],Qe=He.cache;if(Qe.has(xt))return Qe.get(xt);var nt=pe.apply(this,Xe);return He.cache=Qe.set(xt,nt),nt};return He.cache=new(Ot.Cache||Ue),He}function tt(pe,ke){return pe===ke||pe!=pe&&ke!=ke}function Ft(pe){return(function(ke){return Xn(ke)&&vt(ke)})(pe)&&Z.call(pe,"callee")&&(!F.call(pe,"callee")||te.call(pe)==i)}Ot.Cache=Ue;var Nt=Array.isArray;function vt(pe){return pe!=null&&Pt(pe.length)&&!$t(pe)}function $t(pe){var ke=Et(pe)?te.call(pe):"";return ke=="[object Function]"||ke=="[object GeneratorFunction]"}function Pt(pe){return typeof pe=="number"&&pe>-1&&pe%1==0&&pe<=9007199254740991}function Et(pe){var ke=typeof pe;return!!pe&&(ke=="object"||ke=="function")}function Xn(pe){return!!pe&&typeof pe=="object"}function On(pe){return typeof pe=="symbol"||Xn(pe)&&te.call(pe)=="[object Symbol]"}var qn=$?(function(pe){return function(ke){return pe(ke)}})($):function(pe){return Xn(pe)&&Pt(pe.length)&&!!w[te.call(pe)]};function Hn(pe){return vt(pe)?ft(pe):Xt(pe)}function Jr(pe){return pe}s.exports=st}).call(this)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,s,l){var o=Object.prototype.toString;s.exports=function(i){return i===!0||i===!1||(function(d){return!!d&&typeof d=="object"})(i)&&o.call(i)=="[object Boolean]"}},{}],445:[function(e,s,l){(function(o){(function(){var i="[object Arguments]",d="[object Map]",c="[object Object]",a="[object Set]",u=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[i]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[d]=h["[object Number]"]=h[c]=h["[object RegExp]"]=h[a]=h["[object String]"]=h["[object WeakMap]"]=!1;var p=typeof o=="object"&&o&&o.Object===Object&&o,y=typeof self=="object"&&self&&self.Object===Object&&self,x=p||y||Function("return this")(),g=typeof l=="object"&&l&&!l.nodeType&&l,w=g&&typeof s=="object"&&s&&!s.nodeType&&s,v=w&&w.exports===g,j=v&&p.process,N=(function(){try{return j&&j.binding&&j.binding("util")}catch{}})(),T=N&&N.isTypedArray;function D(ye,Ne){for(var Pe=-1,st=ye==null?0:ye.length;++Pe<st;)if(Ne(ye[Pe],Pe,ye))return!0;return!1}function V(ye){var Ne=-1,Pe=Array(ye.size);return ye.forEach((function(st,Ot){Pe[++Ne]=[Ot,st]})),Pe}function P(ye){var Ne=-1,Pe=Array(ye.size);return ye.forEach((function(st){Pe[++Ne]=st})),Pe}var $,G,Y,W=Array.prototype,O=Function.prototype,I=Object.prototype,R=x["__core-js_shared__"],S=O.toString,C=I.hasOwnProperty,k=($=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",E=I.toString,M=RegExp("^"+S.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=v?x.Buffer:void 0,z=x.Symbol,K=x.Uint8Array,Z=I.propertyIsEnumerable,te=W.splice,H=z?z.toStringTag:void 0,ee=Object.getOwnPropertySymbols,U=L?L.isBuffer:void 0,F=(G=Object.keys,Y=Object,function(ye){return G(Y(ye))}),J=Kt(x,"DataView"),re=Kt(x,"Map"),ce=Kt(x,"Promise"),se=Kt(x,"Set"),de=Kt(x,"WeakMap"),we=Kt(Object,"create"),ve=Xt(J),ie=Xt(re),ge=Xt(ce),me=Xt(se),ae=Xt(de),le=z?z.prototype:void 0,fe=le?le.valueOf:void 0;function xe(ye){var Ne=-1,Pe=ye==null?0:ye.length;for(this.clear();++Ne<Pe;){var st=ye[Ne];this.set(st[0],st[1])}}function je(ye){var Ne=-1,Pe=ye==null?0:ye.length;for(this.clear();++Ne<Pe;){var st=ye[Ne];this.set(st[0],st[1])}}function _e(ye){var Ne=-1,Pe=ye==null?0:ye.length;for(this.clear();++Ne<Pe;){var st=ye[Ne];this.set(st[0],st[1])}}function De(ye){var Ne=-1,Pe=ye==null?0:ye.length;for(this.__data__=new _e;++Ne<Pe;)this.add(ye[Ne])}function Fe(ye){var Ne=this.__data__=new je(ye);this.size=Ne.size}function Ue(ye,Ne){var Pe=It(ye),st=!Pe&&lt(ye),Ot=!Pe&&!st&&ct(ye),tt=!Pe&&!st&&!Ot&&zt(ye),Ft=Pe||st||Ot||tt,Nt=Ft?(function(Pt,Et){for(var Xn=-1,On=Array(Pt);++Xn<Pt;)On[Xn]=Et(Xn);return On})(ye.length,String):[],vt=Nt.length;for(var $t in ye)!C.call(ye,$t)||Ft&&($t=="length"||Ot&&($t=="offset"||$t=="parent")||tt&&($t=="buffer"||$t=="byteLength"||$t=="byteOffset")||pn($t,vt))||Nt.push($t);return Nt}function Je(ye,Ne){for(var Pe=ye.length;Pe--;)if(Ut(ye[Pe][0],Ne))return Pe;return-1}function dt(ye){return ye==null?ye===void 0?"[object Undefined]":"[object Null]":H&&H in Object(ye)?(function(Ne){var Pe=C.call(Ne,H),st=Ne[H];try{Ne[H]=void 0;var Ot=!0}catch{}var tt=E.call(Ne);return Ot&&(Pe?Ne[H]=st:delete Ne[H]),tt})(ye):(function(Ne){return E.call(Ne)})(ye)}function ft(ye){return Lt(ye)&&dt(ye)==i}function yt(ye,Ne,Pe,st,Ot){return ye===Ne||(ye==null||Ne==null||!Lt(ye)&&!Lt(Ne)?ye!=ye&&Ne!=Ne:(function(tt,Ft,Nt,vt,$t,Pt){var Et=It(tt),Xn=It(Ft),On=Et?"[object Array]":Ct(tt),qn=Xn?"[object Array]":Ct(Ft),Hn=(On=On==i?c:On)==c,Jr=(qn=qn==i?c:qn)==c,pe=On==qn;if(pe&&ct(tt)){if(!ct(Ft))return!1;Et=!0,Hn=!1}if(pe&&!Hn)return Pt||(Pt=new Fe),Et||zt(tt)?rt(tt,Ft,Nt,vt,$t,Pt):(function(Qe,nt,mn,Wt,nn,Rt,Rn){switch(mn){case"[object DataView]":if(Qe.byteLength!=nt.byteLength||Qe.byteOffset!=nt.byteOffset)return!1;Qe=Qe.buffer,nt=nt.buffer;case"[object ArrayBuffer]":return!(Qe.byteLength!=nt.byteLength||!Rt(new K(Qe),new K(nt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ut(+Qe,+nt);case"[object Error]":return Qe.name==nt.name&&Qe.message==nt.message;case"[object RegExp]":case"[object String]":return Qe==nt+"";case d:var Nn=V;case a:var ln=1&Wt;if(Nn||(Nn=P),Qe.size!=nt.size&&!ln)return!1;var Wn=Rn.get(Qe);if(Wn)return Wn==nt;Wt|=2,Rn.set(Qe,nt);var yr=rt(Nn(Qe),Nn(nt),Wt,nn,Rt,Rn);return Rn.delete(Qe),yr;case"[object Symbol]":if(fe)return fe.call(Qe)==fe.call(nt)}return!1})(tt,Ft,On,Nt,vt,$t,Pt);if(!(1&Nt)){var ke=Hn&&C.call(tt,"__wrapped__"),He=Jr&&C.call(Ft,"__wrapped__");if(ke||He){var Xe=ke?tt.value():tt,xt=He?Ft.value():Ft;return Pt||(Pt=new Fe),$t(Xe,xt,Nt,vt,Pt)}}return pe?(Pt||(Pt=new Fe),(function(Qe,nt,mn,Wt,nn,Rt){var Rn=1&mn,Nn=pt(Qe),ln=Nn.length,Wn=pt(nt).length;if(ln!=Wn&&!Rn)return!1;for(var yr=ln;yr--;){var xr=Nn[yr];if(!(Rn?xr in nt:C.call(nt,xr)))return!1}var ms=Rt.get(Qe);if(ms&&Rt.get(nt))return ms==nt;var Vs=!0;Rt.set(Qe,nt),Rt.set(nt,Qe);for(var Ti=Rn;++yr<ln;){xr=Nn[yr];var Er=Qe[xr],Ea=nt[xr];if(Wt)var kn=Rn?Wt(Ea,Er,xr,nt,Qe,Rt):Wt(Er,Ea,xr,Qe,nt,Rt);if(!(kn===void 0?Er===Ea||nn(Er,Ea,mn,Wt,Rt):kn)){Vs=!1;break}Ti||(Ti=xr=="constructor")}if(Vs&&!Ti){var vn=Qe.constructor,as=nt.constructor;vn==as||!("constructor"in Qe)||!("constructor"in nt)||typeof vn=="function"&&vn instanceof vn&&typeof as=="function"&&as instanceof as||(Vs=!1)}return Rt.delete(Qe),Rt.delete(nt),Vs})(tt,Ft,Nt,vt,$t,Pt)):!1})(ye,Ne,Pe,st,yt,Ot))}function et(ye){return!(!gt(ye)||(function(Ne){return!!k&&k in Ne})(ye))&&(Bt(ye)?M:u).test(Xt(ye))}function Ke(ye){if(Pe=(Ne=ye)&&Ne.constructor,st=typeof Pe=="function"&&Pe.prototype||I,Ne!==st)return F(ye);var Ne,Pe,st,Ot=[];for(var tt in Object(ye))C.call(ye,tt)&&tt!="constructor"&&Ot.push(tt);return Ot}function rt(ye,Ne,Pe,st,Ot,tt){var Ft=1&Pe,Nt=ye.length,vt=Ne.length;if(Nt!=vt&&!(Ft&&vt>Nt))return!1;var $t=tt.get(ye);if($t&&tt.get(Ne))return $t==Ne;var Pt=-1,Et=!0,Xn=2&Pe?new De:void 0;for(tt.set(ye,Ne),tt.set(Ne,ye);++Pt<Nt;){var On=ye[Pt],qn=Ne[Pt];if(st)var Hn=Ft?st(qn,On,Pt,Ne,ye,tt):st(On,qn,Pt,ye,Ne,tt);if(Hn!==void 0){if(Hn)continue;Et=!1;break}if(Xn){if(!D(Ne,(function(Jr,pe){if(ke=pe,!Xn.has(ke)&&(On===Jr||Ot(On,Jr,Pe,st,tt)))return Xn.push(pe);var ke}))){Et=!1;break}}else if(On!==qn&&!Ot(On,qn,Pe,st,tt)){Et=!1;break}}return tt.delete(ye),tt.delete(Ne),Et}function pt(ye){return(function(Ne,Pe,st){var Ot=Pe(Ne);return It(Ne)?Ot:(function(tt,Ft){for(var Nt=-1,vt=Ft.length,$t=tt.length;++Nt<vt;)tt[$t+Nt]=Ft[Nt];return tt})(Ot,st(Ne))})(ye,ht,rn)}function it(ye,Ne){var Pe,st,Ot=ye.__data__;return((st=typeof(Pe=Ne))=="string"||st=="number"||st=="symbol"||st=="boolean"?Pe!=="__proto__":Pe===null)?Ot[typeof Ne=="string"?"string":"hash"]:Ot.map}function Kt(ye,Ne){var Pe=(function(st,Ot){return st?.[Ot]})(ye,Ne);return et(Pe)?Pe:void 0}xe.prototype.clear=function(){this.__data__=we?we(null):{},this.size=0},xe.prototype.delete=function(ye){var Ne=this.has(ye)&&delete this.__data__[ye];return this.size-=Ne?1:0,Ne},xe.prototype.get=function(ye){var Ne=this.__data__;if(we){var Pe=Ne[ye];return Pe==="__lodash_hash_undefined__"?void 0:Pe}return C.call(Ne,ye)?Ne[ye]:void 0},xe.prototype.has=function(ye){var Ne=this.__data__;return we?Ne[ye]!==void 0:C.call(Ne,ye)},xe.prototype.set=function(ye,Ne){var Pe=this.__data__;return this.size+=this.has(ye)?0:1,Pe[ye]=we&&Ne===void 0?"__lodash_hash_undefined__":Ne,this},je.prototype.clear=function(){this.__data__=[],this.size=0},je.prototype.delete=function(ye){var Ne=this.__data__,Pe=Je(Ne,ye);return!(Pe<0)&&(Pe==Ne.length-1?Ne.pop():te.call(Ne,Pe,1),--this.size,!0)},je.prototype.get=function(ye){var Ne=this.__data__,Pe=Je(Ne,ye);return Pe<0?void 0:Ne[Pe][1]},je.prototype.has=function(ye){return Je(this.__data__,ye)>-1},je.prototype.set=function(ye,Ne){var Pe=this.__data__,st=Je(Pe,ye);return st<0?(++this.size,Pe.push([ye,Ne])):Pe[st][1]=Ne,this},_e.prototype.clear=function(){this.size=0,this.__data__={hash:new xe,map:new(re||je),string:new xe}},_e.prototype.delete=function(ye){var Ne=it(this,ye).delete(ye);return this.size-=Ne?1:0,Ne},_e.prototype.get=function(ye){return it(this,ye).get(ye)},_e.prototype.has=function(ye){return it(this,ye).has(ye)},_e.prototype.set=function(ye,Ne){var Pe=it(this,ye),st=Pe.size;return Pe.set(ye,Ne),this.size+=Pe.size==st?0:1,this},De.prototype.add=De.prototype.push=function(ye){return this.__data__.set(ye,"__lodash_hash_undefined__"),this},De.prototype.has=function(ye){return this.__data__.has(ye)},Fe.prototype.clear=function(){this.__data__=new je,this.size=0},Fe.prototype.delete=function(ye){var Ne=this.__data__,Pe=Ne.delete(ye);return this.size=Ne.size,Pe},Fe.prototype.get=function(ye){return this.__data__.get(ye)},Fe.prototype.has=function(ye){return this.__data__.has(ye)},Fe.prototype.set=function(ye,Ne){var Pe=this.__data__;if(Pe instanceof je){var st=Pe.__data__;if(!re||st.length<199)return st.push([ye,Ne]),this.size=++Pe.size,this;Pe=this.__data__=new _e(st)}return Pe.set(ye,Ne),this.size=Pe.size,this};var rn=ee?function(ye){return ye==null?[]:(ye=Object(ye),(function(Ne,Pe){for(var st=-1,Ot=Ne==null?0:Ne.length,tt=0,Ft=[];++st<Ot;){var Nt=Ne[st];Pe(Nt,st,Ne)&&(Ft[tt++]=Nt)}return Ft})(ee(ye),(function(Ne){return Z.call(ye,Ne)})))}:function(){return[]},Ct=dt;function pn(ye,Ne){return!!(Ne=Ne??9007199254740991)&&(typeof ye=="number"||m.test(ye))&&ye>-1&&ye%1==0&&ye<Ne}function Xt(ye){if(ye!=null){try{return S.call(ye)}catch{}try{return ye+""}catch{}}return""}function Ut(ye,Ne){return ye===Ne||ye!=ye&&Ne!=Ne}(J&&Ct(new J(new ArrayBuffer(1)))!="[object DataView]"||re&&Ct(new re)!=d||ce&&Ct(ce.resolve())!="[object Promise]"||se&&Ct(new se)!=a||de&&Ct(new de)!="[object WeakMap]")&&(Ct=function(ye){var Ne=dt(ye),Pe=Ne==c?ye.constructor:void 0,st=Pe?Xt(Pe):"";if(st)switch(st){case ve:return"[object DataView]";case ie:return d;case ge:return"[object Promise]";case me:return a;case ae:return"[object WeakMap]"}return Ne});var lt=ft((function(){return arguments})())?ft:function(ye){return Lt(ye)&&C.call(ye,"callee")&&!Z.call(ye,"callee")},It=Array.isArray,ct=U||function(){return!1};function Bt(ye){if(!gt(ye))return!1;var Ne=dt(ye);return Ne=="[object Function]"||Ne=="[object GeneratorFunction]"||Ne=="[object AsyncFunction]"||Ne=="[object Proxy]"}function jn(ye){return typeof ye=="number"&&ye>-1&&ye%1==0&&ye<=9007199254740991}function gt(ye){var Ne=typeof ye;return ye!=null&&(Ne=="object"||Ne=="function")}function Lt(ye){return ye!=null&&typeof ye=="object"}var zt=T?(function(ye){return function(Ne){return ye(Ne)}})(T):function(ye){return Lt(ye)&&jn(ye.length)&&!!h[dt(ye)]};function ht(ye){return(Ne=ye)!=null&&jn(Ne.length)&&!Bt(Ne)?Ue(ye):Ke(ye);var Ne}s.exports=function(ye,Ne){return yt(ye,Ne)}}).call(this)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,s,l){(function(o){(function(){var i=typeof o=="object"&&o&&o.Object===Object&&o,d=typeof self=="object"&&self&&self.Object===Object&&self,c=i||d||Function("return this")(),a=Object.prototype,u=a.hasOwnProperty,m=a.toString,h=c.Symbol,p=h?h.toStringTag:void 0;function y(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":p&&p in Object(x)?(function(g){var w=u.call(g,p),v=g[p];try{g[p]=void 0;var j=!0}catch{}var N=m.call(g);return j&&(w?g[p]=v:delete g[p]),N})(x):(function(g){return m.call(g)})(x)}s.exports=function(x){if(!(function(w){var v=typeof w;return w!=null&&(v=="object"||v=="function")})(x))return!1;var g=y(x);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,s,l){s.exports=function(o){return o==null}},{}],448:[function(e,s,l){s.exports=function(o){return o===void 0}},{}],449:[function(e,s,l){(function(o){(function(){var i=/^\[object .+?Constructor\]$/,d=typeof o=="object"&&o&&o.Object===Object&&o,c=typeof self=="object"&&self&&self.Object===Object&&self,a=d||c||Function("return this")();function u(z,K){return!!(z&&z.length)&&(function(Z,te,H){if(te!=te)return(function(F,J,re,ce){for(var se=F.length,de=re+-1;++de<se;)if(J(F[de],de,F))return de;return-1})(Z,m,H);for(var ee=H-1,U=Z.length;++ee<U;)if(Z[ee]===te)return ee;return-1})(z,K,0)>-1}function m(z){return z!=z}function h(z,K){return z.has(K)}function p(z){var K=-1,Z=Array(z.size);return z.forEach((function(te){Z[++K]=te})),Z}var y,x=Array.prototype,g=Function.prototype,w=Object.prototype,v=a["__core-js_shared__"],j=(y=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",N=g.toString,T=w.hasOwnProperty,D=w.toString,V=RegExp("^"+N.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=x.splice,$=M(a,"Map"),G=M(a,"Set"),Y=M(Object,"create");function W(z){var K=-1,Z=z?z.length:0;for(this.clear();++K<Z;){var te=z[K];this.set(te[0],te[1])}}function O(z){var K=-1,Z=z?z.length:0;for(this.clear();++K<Z;){var te=z[K];this.set(te[0],te[1])}}function I(z){var K=-1,Z=z?z.length:0;for(this.clear();++K<Z;){var te=z[K];this.set(te[0],te[1])}}function R(z){var K=-1,Z=z?z.length:0;for(this.__data__=new I;++K<Z;)this.add(z[K])}function S(z,K){for(var Z,te,H=z.length;H--;)if((Z=z[H][0])===(te=K)||Z!=Z&&te!=te)return H;return-1}function C(z){return!(!L(z)||(K=z,j&&j in K))&&((function(Z){var te=L(Z)?D.call(Z):"";return te=="[object Function]"||te=="[object GeneratorFunction]"})(z)||(function(Z){var te=!1;if(Z!=null&&typeof Z.toString!="function")try{te=!!(Z+"")}catch{}return te})(z)?V:i).test((function(Z){if(Z!=null){try{return N.call(Z)}catch{}try{return Z+""}catch{}}return""})(z));var K}W.prototype.clear=function(){this.__data__=Y?Y(null):{}},W.prototype.delete=function(z){return this.has(z)&&delete this.__data__[z]},W.prototype.get=function(z){var K=this.__data__;if(Y){var Z=K[z];return Z==="__lodash_hash_undefined__"?void 0:Z}return T.call(K,z)?K[z]:void 0},W.prototype.has=function(z){var K=this.__data__;return Y?K[z]!==void 0:T.call(K,z)},W.prototype.set=function(z,K){return this.__data__[z]=Y&&K===void 0?"__lodash_hash_undefined__":K,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(z){var K=this.__data__,Z=S(K,z);return!(Z<0)&&(Z==K.length-1?K.pop():P.call(K,Z,1),!0)},O.prototype.get=function(z){var K=this.__data__,Z=S(K,z);return Z<0?void 0:K[Z][1]},O.prototype.has=function(z){return S(this.__data__,z)>-1},O.prototype.set=function(z,K){var Z=this.__data__,te=S(Z,z);return te<0?Z.push([z,K]):Z[te][1]=K,this},I.prototype.clear=function(){this.__data__={hash:new W,map:new($||O),string:new W}},I.prototype.delete=function(z){return E(this,z).delete(z)},I.prototype.get=function(z){return E(this,z).get(z)},I.prototype.has=function(z){return E(this,z).has(z)},I.prototype.set=function(z,K){return E(this,z).set(z,K),this},R.prototype.add=R.prototype.push=function(z){return this.__data__.set(z,"__lodash_hash_undefined__"),this},R.prototype.has=function(z){return this.__data__.has(z)};var k=G&&1/p(new G([,-0]))[1]==1/0?function(z){return new G(z)}:function(){};function E(z,K){var Z,te,H=z.__data__;return((te=typeof(Z=K))=="string"||te=="number"||te=="symbol"||te=="boolean"?Z!=="__proto__":Z===null)?H[typeof K=="string"?"string":"hash"]:H.map}function M(z,K){var Z=(function(te,H){return te?.[H]})(z,K);return C(Z)?Z:void 0}function L(z){var K=typeof z;return!!z&&(K=="object"||K=="function")}s.exports=function(z){return z&&z.length?(function(K,Z,te){var H=-1,ee=u,U=K.length,F=!0,J=[],re=J;if(U>=200){var ce=k(K);if(ce)return p(ce);F=!1,ee=h,re=new R}else re=J;e:for(;++H<U;){var se=K[H],de=se;if(se=se!==0?se:0,F&&de==de){for(var we=re.length;we--;)if(re[we]===de)continue e;J.push(se)}else ee(re,de,te)||(re!==J&&re.push(de),J.push(se))}return J})(z):[]}}).call(this)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,s,l){var o=e("inherits"),i=e("hash-base"),d=e("safe-buffer").Buffer,c=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(x,g){return x<<g|x>>>32-g}function m(x,g,w,v,j,N,T){return u(x+(g&w|~g&v)+j+N|0,T)+g|0}function h(x,g,w,v,j,N,T){return u(x+(g&v|w&~v)+j+N|0,T)+g|0}function p(x,g,w,v,j,N,T){return u(x+(g^w^v)+j+N|0,T)+g|0}function y(x,g,w,v,j,N,T){return u(x+(w^(g|~v))+j+N|0,T)+g|0}o(a,i),a.prototype._update=function(){for(var x=c,g=0;g<16;++g)x[g]=this._block.readInt32LE(4*g);var w=this._a,v=this._b,j=this._c,N=this._d;w=m(w,v,j,N,x[0],3614090360,7),N=m(N,w,v,j,x[1],3905402710,12),j=m(j,N,w,v,x[2],606105819,17),v=m(v,j,N,w,x[3],3250441966,22),w=m(w,v,j,N,x[4],4118548399,7),N=m(N,w,v,j,x[5],1200080426,12),j=m(j,N,w,v,x[6],2821735955,17),v=m(v,j,N,w,x[7],4249261313,22),w=m(w,v,j,N,x[8],1770035416,7),N=m(N,w,v,j,x[9],2336552879,12),j=m(j,N,w,v,x[10],4294925233,17),v=m(v,j,N,w,x[11],2304563134,22),w=m(w,v,j,N,x[12],1804603682,7),N=m(N,w,v,j,x[13],4254626195,12),j=m(j,N,w,v,x[14],2792965006,17),w=h(w,v=m(v,j,N,w,x[15],1236535329,22),j,N,x[1],4129170786,5),N=h(N,w,v,j,x[6],3225465664,9),j=h(j,N,w,v,x[11],643717713,14),v=h(v,j,N,w,x[0],3921069994,20),w=h(w,v,j,N,x[5],3593408605,5),N=h(N,w,v,j,x[10],38016083,9),j=h(j,N,w,v,x[15],3634488961,14),v=h(v,j,N,w,x[4],3889429448,20),w=h(w,v,j,N,x[9],568446438,5),N=h(N,w,v,j,x[14],3275163606,9),j=h(j,N,w,v,x[3],4107603335,14),v=h(v,j,N,w,x[8],1163531501,20),w=h(w,v,j,N,x[13],2850285829,5),N=h(N,w,v,j,x[2],4243563512,9),j=h(j,N,w,v,x[7],1735328473,14),w=p(w,v=h(v,j,N,w,x[12],2368359562,20),j,N,x[5],4294588738,4),N=p(N,w,v,j,x[8],2272392833,11),j=p(j,N,w,v,x[11],1839030562,16),v=p(v,j,N,w,x[14],4259657740,23),w=p(w,v,j,N,x[1],2763975236,4),N=p(N,w,v,j,x[4],1272893353,11),j=p(j,N,w,v,x[7],4139469664,16),v=p(v,j,N,w,x[10],3200236656,23),w=p(w,v,j,N,x[13],681279174,4),N=p(N,w,v,j,x[0],3936430074,11),j=p(j,N,w,v,x[3],3572445317,16),v=p(v,j,N,w,x[6],76029189,23),w=p(w,v,j,N,x[9],3654602809,4),N=p(N,w,v,j,x[12],3873151461,11),j=p(j,N,w,v,x[15],530742520,16),w=y(w,v=p(v,j,N,w,x[2],3299628645,23),j,N,x[0],4096336452,6),N=y(N,w,v,j,x[7],1126891415,10),j=y(j,N,w,v,x[14],2878612391,15),v=y(v,j,N,w,x[5],4237533241,21),w=y(w,v,j,N,x[12],1700485571,6),N=y(N,w,v,j,x[3],2399980690,10),j=y(j,N,w,v,x[10],4293915773,15),v=y(v,j,N,w,x[1],2240044497,21),w=y(w,v,j,N,x[8],1873313359,6),N=y(N,w,v,j,x[15],4264355552,10),j=y(j,N,w,v,x[6],2734768916,15),v=y(v,j,N,w,x[13],1309151649,21),w=y(w,v,j,N,x[4],4149444226,6),N=y(N,w,v,j,x[11],3174756917,10),j=y(j,N,w,v,x[2],718787259,15),v=y(v,j,N,w,x[9],3951481745,21),this._a=this._a+w|0,this._b=this._b+v|0,this._c=this._c+j|0,this._d=this._d+N|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var x=d.allocUnsafe(16);return x.writeInt32LE(this._a,0),x.writeInt32LE(this._b,4),x.writeInt32LE(this._c,8),x.writeInt32LE(this._d,12),x},s.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,s,l){var o=e("bn.js"),i=e("brorand");function d(c){this.rand=c||new i.Rand}s.exports=d,d.create=function(c){return new d(c)},d.prototype._randbelow=function(c){var a=c.bitLength(),u=Math.ceil(a/8);do var m=new o(this.rand.generate(u));while(m.cmp(c)>=0);return m},d.prototype._randrange=function(c,a){var u=a.sub(c);return c.add(this._randbelow(u))},d.prototype.test=function(c,a,u){var m=c.bitLength(),h=o.mont(c),p=new o(1).toRed(h);a||(a=Math.max(1,m/48|0));for(var y=c.subn(1),x=0;!y.testn(x);x++);for(var g=c.shrn(x),w=y.toRed(h);a>0;a--){var v=this._randrange(new o(2),y);u&&u(v);var j=v.toRed(h).redPow(g);if(j.cmp(p)!==0&&j.cmp(w)!==0){for(var N=1;N<x;N++){if((j=j.redSqr()).cmp(p)===0)return!1;if(j.cmp(w)===0)break}if(N===x)return!1}}return!0},d.prototype.getDivisor=function(c,a){var u=c.bitLength(),m=o.mont(c),h=new o(1).toRed(m);a||(a=Math.max(1,u/48|0));for(var p=c.subn(1),y=0;!p.testn(y);y++);for(var x=c.shrn(y),g=p.toRed(m);a>0;a--){var w=this._randrange(new o(2),p),v=c.gcd(w);if(v.cmpn(1)!==0)return v;var j=w.toRed(m).redPow(x);if(j.cmp(h)!==0&&j.cmp(g)!==0){for(var N=1;N<y;N++){if((j=j.redSqr()).cmp(h)===0)return j.fromRed().subn(1).gcd(c);if(j.cmp(g)===0)break}if(N===y)return(j=j.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],453:[function(e,s,l){function o(i,d){if(!i)throw new Error(d||"Assertion failed")}s.exports=o,o.equal=function(i,d,c){if(i!=d)throw new Error(c||"Assertion failed: "+i+" != "+d)}},{}],454:[function(e,s,l){var o=l;function i(c){return c.length===1?"0"+c:c}function d(c){for(var a="",u=0;u<c.length;u++)a+=i(c[u].toString(16));return a}o.toArray=function(c,a){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c!="string"){for(var m=0;m<c.length;m++)u[m]=0|c[m];return u}if(a==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),m=0;m<c.length;m+=2)u.push(parseInt(c[m]+c[m+1],16));else for(m=0;m<c.length;m++){var h=c.charCodeAt(m),p=h>>8,y=255&h;p?u.push(p,y):u.push(y)}return u},o.zero2=i,o.toHex=d,o.encode=function(c,a){return a==="hex"?d(c):c}},{}],455:[function(e,s,l){s.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,s,l){var o=e("asn1.js");l.certificate=e("./certificate");var i=o.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));l.RSAPrivateKey=i;var d=o.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));l.RSAPublicKey=d;var c=o.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));l.PublicKey=c;var a=o.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=o.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));l.PrivateKey=u;var m=o.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));l.EncryptedPrivateKey=m;var h=o.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));l.DSAPrivateKey=h,l.DSAparam=o.define("DSAparam",(function(){this.int()}));var p=o.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())}));l.ECPrivateKey=p;var y=o.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));l.signature=o.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(e,s,l){var o=e("asn1.js"),i=o.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),d=o.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),c=o.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=o.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),u=o.define("RelativeDistinguishedName",(function(){this.setof(d)})),m=o.define("RDNSequence",(function(){this.seqof(u)})),h=o.define("Name",(function(){this.choice({rdnSequence:this.use(m)})})),p=o.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),y=o.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),x=o.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(h),this.key("validity").use(p),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(y).optional())})),g=o.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(x),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())}));s.exports=g},{"asn1.js":170}],458:[function(e,s,l){var o=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,d=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=e("evp_bytestokey"),a=e("browserify-aes"),u=e("safe-buffer").Buffer;s.exports=function(m,h){var p,y=m.toString(),x=y.match(o);if(x){var g="aes"+x[1],w=u.from(x[2],"hex"),v=u.from(x[3].replace(/[\r\n]/g,""),"base64"),j=c(h,w.slice(0,8),parseInt(x[1],10)).key,N=[],T=a.createDecipheriv(g,j,w);N.push(T.update(v)),N.push(T.final()),p=u.concat(N)}else{var D=y.match(d);p=u.from(D[2].replace(/[\r\n]/g,""),"base64")}return{tag:y.match(i)[1],data:p}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,s,l){var o=e("./asn1"),i=e("./aesid.json"),d=e("./fixProc"),c=e("browserify-aes"),a=e("pbkdf2"),u=e("safe-buffer").Buffer;function m(h){var p;typeof h!="object"||u.isBuffer(h)||(p=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var y,x,g=d(h,p),w=g.tag,v=g.data;switch(w){case"CERTIFICATE":x=o.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(x||(x=o.PublicKey.decode(v,"der")),y=x.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(x.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return x.subjectPrivateKey=x.subjectPublicKey,{type:"ec",data:x};case"1.2.840.10040.4.1":return x.algorithm.params.pub_key=o.DSAparam.decode(x.subjectPublicKey.data,"der"),{type:"dsa",data:x.algorithm.params};default:throw new Error("unknown key id "+y)}case"ENCRYPTED PRIVATE KEY":v=(function(j,N){var T=j.algorithm.decrypt.kde.kdeparams.salt,D=parseInt(j.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=i[j.algorithm.decrypt.cipher.algo.join(".")],P=j.algorithm.decrypt.cipher.iv,$=j.subjectPrivateKey,G=parseInt(V.split("-")[1],10)/8,Y=a.pbkdf2Sync(N,T,D,G,"sha1"),W=c.createDecipheriv(V,Y,P),O=[];return O.push(W.update($)),O.push(W.final()),u.concat(O)})(v=o.EncryptedPrivateKey.decode(v,"der"),p);case"PRIVATE KEY":switch(y=(x=o.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(x.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:x.algorithm.curve,privateKey:o.ECPrivateKey.decode(x.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return x.algorithm.params.priv_key=o.DSAparam.decode(x.subjectPrivateKey,"der"),{type:"dsa",params:x.algorithm.params};default:throw new Error("unknown key id "+y)}case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=o.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+w)}}s.exports=m,m.signature=o.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,s,l){l.pbkdf2=e("./lib/async"),l.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,s,l){(function(o){(function(){var i,d,c=e("safe-buffer").Buffer,a=e("./precondition"),u=e("./default-encoding"),m=e("./sync"),h=e("./to-buffer"),p=o.crypto&&o.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},x=[];function g(){return d||(d=o.process&&o.process.nextTick?o.process.nextTick:o.queueMicrotask?o.queueMicrotask:o.setImmediate?o.setImmediate:o.setTimeout)}function w(v,j,N,T,D){return p.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then((function(V){return p.deriveBits({name:"PBKDF2",salt:j,iterations:N,hash:{name:D}},V,T<<3)})).then((function(V){return c.from(V)}))}s.exports=function(v,j,N,T,D,V){typeof D=="function"&&(V=D,D=void 0);var P=y[(D=D||"sha1").toLowerCase()];if(P&&typeof o.Promise=="function"){if(a(N,T),v=h(v,u,"Password"),j=h(j,u,"Salt"),typeof V!="function")throw new Error("No callback provided to pbkdf2");(function($,G){$.then((function(Y){g()((function(){G(null,Y)}))}),(function(Y){g()((function(){G(Y)}))}))})((function($){if(o.process&&!o.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(x[$]!==void 0)return x[$];var G=w(i=i||c.alloc(8),i,10,128,$).then((function(){return!0})).catch((function(){return!1}));return x[$]=G,G})(P).then((function($){return $?w(v,j,N,T,P):m(v,j,N,T,D)})),V)}else g()((function(){var $;try{$=m(v,j,N,T,D)}catch(G){return V(G)}V(null,$)}))}}).call(this)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,s,l){(function(o,i){(function(){var d;i.process&&i.process.browser?d="utf-8":i.process&&i.process.version?d=parseInt(o.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":d="utf-8",s.exports=d}).call(this)}).call(this,e("_process"),typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,s,l){var o=Math.pow(2,30)-1;s.exports=function(i,d){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof d!="number")throw new TypeError("Key length not a number");if(d<0||d>o||d!=d)throw new TypeError("Bad key length")}},{}],464:[function(e,s,l){var o=e("create-hash/md5"),i=e("ripemd160"),d=e("sha.js"),c=e("safe-buffer").Buffer,a=e("./precondition"),u=e("./default-encoding"),m=e("./to-buffer"),h=c.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function y(x,g,w){var v=(function(P){function $(G){return d(P).update(G).digest()}return P==="rmd160"||P==="ripemd160"?function(G){return new i().update(G).digest()}:P==="md5"?o:$})(x),j=x==="sha512"||x==="sha384"?128:64;g.length>j?g=v(g):g.length<j&&(g=c.concat([g,h],j));for(var N=c.allocUnsafe(j+p[x]),T=c.allocUnsafe(j+p[x]),D=0;D<j;D++)N[D]=54^g[D],T[D]=92^g[D];var V=c.allocUnsafe(j+w+4);N.copy(V,0,0,j),this.ipad1=V,this.ipad2=N,this.opad=T,this.alg=x,this.blocksize=j,this.hash=v,this.size=p[x]}y.prototype.run=function(x,g){return x.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},s.exports=function(x,g,w,v,j){a(w,v);var N=new y(j=j||"sha1",x=m(x,u,"Password"),(g=m(g,u,"Salt")).length),T=c.allocUnsafe(v),D=c.allocUnsafe(g.length+4);g.copy(D,0,0,g.length);for(var V=0,P=p[j],$=Math.ceil(v/P),G=1;G<=$;G++){D.writeUInt32BE(G,g.length);for(var Y=N.run(D,N.ipad1),W=Y,O=1;O<w;O++){W=N.run(W,N.ipad2);for(var I=0;I<P;I++)Y[I]^=W[I]}Y.copy(T,V),V+=P}return T}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,s,l){var o=e("safe-buffer").Buffer;s.exports=function(i,d,c){if(o.isBuffer(i))return i;if(typeof i=="string")return o.from(i,d);if(ArrayBuffer.isView(i))return o.from(i.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,s,l){(function(o){(function(){o===void 0||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?s.exports={nextTick:function(i,d,c,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var u,m,h=arguments.length;switch(h){case 0:case 1:return o.nextTick(i);case 2:return o.nextTick((function(){i.call(null,d)}));case 3:return o.nextTick((function(){i.call(null,d,c)}));case 4:return o.nextTick((function(){i.call(null,d,c,a)}));default:for(u=new Array(h-1),m=0;m<u.length;)u[m++]=arguments[m];return o.nextTick((function(){i.apply(null,u)}))}}}:s.exports=o}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,s,l){var o,i,d=s.exports={};function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(j){if(o===setTimeout)return setTimeout(j,0);if((o===c||!o)&&setTimeout)return o=setTimeout,setTimeout(j,0);try{return o(j,0)}catch{try{return o.call(null,j,0)}catch{return o.call(this,j,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:c}catch{o=c}try{i=typeof clearTimeout=="function"?clearTimeout:a}catch{i=a}})();var m,h=[],p=!1,y=-1;function x(){p&&m&&(p=!1,m.length?h=m.concat(h):y=-1,h.length&&g())}function g(){if(!p){var j=u(x);p=!0;for(var N=h.length;N;){for(m=h,h=[];++y<N;)m&&m[y].run();y=-1,N=h.length}m=null,p=!1,(function(T){if(i===clearTimeout)return clearTimeout(T);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(T);try{i(T)}catch{try{return i.call(null,T)}catch{return i.call(this,T)}}})(j)}}function w(j,N){this.fun=j,this.array=N}function v(){}d.nextTick=function(j){var N=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)N[T-1]=arguments[T];h.push(new w(j,N)),h.length!==1||p||u(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=v,d.addListener=v,d.once=v,d.off=v,d.removeListener=v,d.removeAllListeners=v,d.emit=v,d.prependListener=v,d.prependOnceListener=v,d.listeners=function(j){return[]},d.binding=function(j){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(j){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],468:[function(e,s,l){l.publicEncrypt=e("./publicEncrypt"),l.privateDecrypt=e("./privateDecrypt"),l.privateEncrypt=function(o,i){return l.publicEncrypt(o,i,!0)},l.publicDecrypt=function(o,i){return l.privateDecrypt(o,i,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,s,l){var o=e("create-hash"),i=e("safe-buffer").Buffer;function d(c){var a=i.allocUnsafe(4);return a.writeUInt32BE(c,0),a}s.exports=function(c,a){for(var u,m=i.alloc(0),h=0;m.length<a;)u=d(h++),m=i.concat([m,o("sha1").update(c).update(u).digest()]);return m.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],471:[function(e,s,l){var o=e("parse-asn1"),i=e("./mgf"),d=e("./xor"),c=e("bn.js"),a=e("browserify-rsa"),u=e("create-hash"),m=e("./withPublic"),h=e("safe-buffer").Buffer;s.exports=function(p,y,x){var g;g=p.padding?p.padding:x?1:4;var w,v=o(p),j=v.modulus.byteLength();if(y.length>j||new c(y).cmp(v.modulus)>=0)throw new Error("decryption error");w=x?m(new c(y),v):a(y,v);var N=h.alloc(j-w.length);if(w=h.concat([N,w],j),g===4)return(function(T,D){var V=T.modulus.byteLength(),P=u("sha1").update(h.alloc(0)).digest(),$=P.length;if(D[0]!==0)throw new Error("decryption error");var G=D.slice(1,$+1),Y=D.slice($+1),W=d(G,i(Y,$)),O=d(Y,i(W,V-$-1));if((function(R,S){R=h.from(R),S=h.from(S);var C=0,k=R.length;R.length!==S.length&&(C++,k=Math.min(R.length,S.length));for(var E=-1;++E<k;)C+=R[E]^S[E];return C})(P,O.slice(0,$)))throw new Error("decryption error");for(var I=$;O[I]===0;)I++;if(O[I++]!==1)throw new Error("decryption error");return O.slice(I)})(v,w);if(g===1)return(function(T,D,V){for(var P=D.slice(0,2),$=2,G=0;D[$++]!==0;)if($>=D.length){G++;break}var Y=D.slice(2,$-1);if((P.toString("hex")!=="0002"&&!V||P.toString("hex")!=="0001"&&V)&&G++,Y.length<8&&G++,G)throw new Error("decryption error");return D.slice($)})(0,w,x);if(g===3)return w;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,s,l){var o=e("parse-asn1"),i=e("randombytes"),d=e("create-hash"),c=e("./mgf"),a=e("./xor"),u=e("bn.js"),m=e("./withPublic"),h=e("browserify-rsa"),p=e("safe-buffer").Buffer;s.exports=function(y,x,g){var w;w=y.padding?y.padding:g?1:4;var v,j=o(y);if(w===4)v=(function(N,T){var D=N.modulus.byteLength(),V=T.length,P=d("sha1").update(p.alloc(0)).digest(),$=P.length,G=2*$;if(V>D-G-2)throw new Error("message too long");var Y=p.alloc(D-V-G-2),W=D-$-1,O=i($),I=a(p.concat([P,Y,p.alloc(1,1),T],W),c(O,W)),R=a(O,c(I,$));return new u(p.concat([p.alloc(1),R,I],D))})(j,x);else if(w===1)v=(function(N,T,D){var V,P=T.length,$=N.modulus.byteLength();if(P>$-11)throw new Error("message too long");return V=D?p.alloc($-P-3,255):(function(G){for(var Y,W=p.allocUnsafe(G),O=0,I=i(2*G),R=0;O<G;)R===I.length&&(I=i(2*G),R=0),(Y=I[R++])&&(W[O++]=Y);return W})($-P-3),new u(p.concat([p.from([0,D?1:2]),V,p.alloc(1),T],$))})(j,x,g);else{if(w!==3)throw new Error("unknown padding");if((v=new u(x)).cmp(j.modulus)>=0)throw new Error("data too long for modulus")}return g?h(v,j):m(v,j)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,s,l){var o=e("bn.js"),i=e("safe-buffer").Buffer;s.exports=function(d,c){return i.from(d.toRed(o.mont(c.modulus)).redPow(new o(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,s,l){s.exports=function(o,i){for(var d=o.length,c=-1;++c<d;)o[c]^=i[c];return o}},{}],475:[function(e,s,l){(function(o,i){(function(){var d=e("safe-buffer").Buffer,c=i.crypto||i.msCrypto;c&&c.getRandomValues?s.exports=function(a,u){if(a>4294967295)throw new RangeError("requested too many random bytes");var m=d.allocUnsafe(a);if(a>0)if(a>65536)for(var h=0;h<a;h+=65536)c.getRandomValues(m.slice(h,h+65536));else c.getRandomValues(m);return typeof u=="function"?o.nextTick((function(){u(null,m)})):m}:s.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,s,l){(function(o,i){(function(){function d(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=e("safe-buffer"),a=e("randombytes"),u=c.Buffer,m=c.kMaxLength,h=i.crypto||i.msCrypto,p=Math.pow(2,32)-1;function y(w,v){if(typeof w!="number"||w!=w)throw new TypeError("offset must be a number");if(w>p||w<0)throw new TypeError("offset must be a uint32");if(w>m||w>v)throw new RangeError("offset out of range")}function x(w,v,j){if(typeof w!="number"||w!=w)throw new TypeError("size must be a number");if(w>p||w<0)throw new TypeError("size must be a uint32");if(w+v>j||w>m)throw new RangeError("buffer too small")}function g(w,v,j,N){if(o.browser){var T=w.buffer,D=new Uint8Array(T,v,j);return h.getRandomValues(D),N?void o.nextTick((function(){N(null,w)})):w}if(!N)return a(j).copy(w,v),w;a(j,(function(V,P){if(V)return N(V);P.copy(w,v),N(null,w)}))}h&&h.getRandomValues||!o.browser?(l.randomFill=function(w,v,j,N){if(!(u.isBuffer(w)||w instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")N=v,v=0,j=w.length;else if(typeof j=="function")N=j,j=w.length-v;else if(typeof N!="function")throw new TypeError('"cb" argument must be a function');return y(v,w.length),x(j,v,w.length),g(w,v,j,N)},l.randomFillSync=function(w,v,j){if(v===void 0&&(v=0),!(u.isBuffer(w)||w instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return y(v,w.length),j===void 0&&(j=w.length-v),x(j,v,w.length),g(w,v,j)}):(l.randomFill=d,l.randomFillSync=d)}).call(this)}).call(this,e("_process"),typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,s,l){var o={};function i(c,a,u){u||(u=Error);var m=(function(h){var p,y;function x(g,w,v){return h.call(this,(function(j,N,T){return typeof a=="string"?a:a(j,N,T)})(g,w,v))||this}return y=h,(p=x).prototype=Object.create(y.prototype),p.prototype.constructor=p,p.__proto__=y,x})(u);m.prototype.name=u.name,m.prototype.code=c,o[c]=m}function d(c,a){if(Array.isArray(c)){var u=c.length;return c=c.map((function(m){return String(m)})),u>2?"one of ".concat(a," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(a," ").concat(c[0]," or ").concat(c[1]):"of ".concat(a," ").concat(c[0])}return"of ".concat(a," ").concat(String(c))}i("ERR_INVALID_OPT_VALUE",(function(c,a){return'The value "'+a+'" is invalid for option "'+c+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(c,a,u){var m,h,p;if(typeof a=="string"&&(h="not ",a.substr(0,h.length)===h)?(m="must not be",a=a.replace(/^not /,"")):m="must be",(function(x,g,w){return(w===void 0||w>x.length)&&(w=x.length),x.substring(w-g.length,w)===g})(c," argument"))p="The ".concat(c," ").concat(m," ").concat(d(a,"type"));else{var y=(function(x,g,w){return typeof w!="number"&&(w=0),!(w+g.length>x.length)&&x.indexOf(g,w)!==-1})(c,".")?"property":"argument";p='The "'.concat(c,'" ').concat(y," ").concat(m," ").concat(d(a,"type"))}return p+=". Received type ".concat(typeof u)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(c){return"The "+c+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(c){return"Cannot call "+c+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(c){return"Unknown encoding: "+c}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=o},{}],478:[function(e,s,l){(function(o){(function(){var i=Object.keys||function(x){var g=[];for(var w in x)g.push(w);return g};s.exports=h;var d=e("./_stream_readable"),c=e("./_stream_writable");e("inherits")(h,d);for(var a=i(c.prototype),u=0;u<a.length;u++){var m=a[u];h.prototype[m]||(h.prototype[m]=c.prototype[m])}function h(x){if(!(this instanceof h))return new h(x);d.call(this,x),c.call(this,x),this.allowHalfOpen=!0,x&&(x.readable===!1&&(this.readable=!1),x.writable===!1&&(this.writable=!1),x.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}function p(){this._writableState.ended||o.nextTick(y,this)}function y(x){x.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(x){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=x,this._writableState.destroyed=x)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,s,l){s.exports=i;var o=e("./_stream_transform");function i(d){if(!(this instanceof i))return new i(d);o.call(this,d)}e("inherits")(i,o),i.prototype._transform=function(d,c,a){a(null,d)}},{"./_stream_transform":481,inherits:440}],480:[function(e,s,l){(function(o,i){(function(){var d;s.exports=W,W.ReadableState=Y,e("events").EventEmitter;var c=function(U,F){return U.listeners(F).length},a=e("./internal/streams/stream"),u=e("buffer").Buffer,m=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,p=e("util");h=p&&p.debuglog?p.debuglog("stream"):function(){};var y,x,g,w=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),j=e("./internal/streams/state").getHighWaterMark,N=e("../errors").codes,T=N.ERR_INVALID_ARG_TYPE,D=N.ERR_STREAM_PUSH_AFTER_EOF,V=N.ERR_METHOD_NOT_IMPLEMENTED,P=N.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(W,a);var $=v.errorOrDestroy,G=["error","close","destroy","pause","resume"];function Y(U,F,J){d=d||e("./_stream_duplex"),U=U||{},typeof J!="boolean"&&(J=F instanceof d),this.objectMode=!!U.objectMode,J&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=j(this,U,"readableHighWaterMark",J),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(y||(y=e("string_decoder/").StringDecoder),this.decoder=new y(U.encoding),this.encoding=U.encoding)}function W(U){if(d=d||e("./_stream_duplex"),!(this instanceof W))return new W(U);var F=this instanceof d;this._readableState=new Y(U,this,F),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),a.call(this)}function O(U,F,J,re,ce){h("readableAddChunk",F);var se,de=U._readableState;if(F===null)de.reading=!1,(function(we,ve){if(h("onEofChunk"),!ve.ended){if(ve.decoder){var ie=ve.decoder.end();ie&&ie.length&&(ve.buffer.push(ie),ve.length+=ve.objectMode?1:ie.length)}ve.ended=!0,ve.sync?S(we):(ve.needReadable=!1,ve.emittedReadable||(ve.emittedReadable=!0,C(we)))}})(U,de);else if(ce||(se=(function(we,ve){var ie;ge=ve,u.isBuffer(ge)||ge instanceof m||typeof ve=="string"||ve===void 0||we.objectMode||(ie=new T("chunk",["string","Buffer","Uint8Array"],ve));var ge;return ie})(de,F)),se)$(U,se);else if(de.objectMode||F&&F.length>0)if(typeof F=="string"||de.objectMode||Object.getPrototypeOf(F)===u.prototype||(F=(function(we){return u.from(we)})(F)),re)de.endEmitted?$(U,new P):I(U,de,F,!0);else if(de.ended)$(U,new D);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!J?(F=de.decoder.write(F),de.objectMode||F.length!==0?I(U,de,F,!1):k(U,de)):I(U,de,F,!1)}else re||(de.reading=!1,k(U,de));return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function I(U,F,J,re){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,U.emit("data",J)):(F.length+=F.objectMode?1:J.length,re?F.buffer.unshift(J):F.buffer.push(J),F.needReadable&&S(U)),k(U,F)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),W.prototype.destroy=v.destroy,W.prototype._undestroy=v.undestroy,W.prototype._destroy=function(U,F){F(U)},W.prototype.push=function(U,F){var J,re=this._readableState;return re.objectMode?J=!0:typeof U=="string"&&((F=F||re.defaultEncoding)!==re.encoding&&(U=u.from(U,F),F=""),J=!0),O(this,U,F,!1,J)},W.prototype.unshift=function(U){return O(this,U,null,!0,!1)},W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(U){y||(y=e("string_decoder/").StringDecoder);var F=new y(U);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var J=this._readableState.buffer.head,re="";J!==null;)re+=F.write(J.data),J=J.next;return this._readableState.buffer.clear(),re!==""&&this._readableState.buffer.push(re),this._readableState.length=re.length,this};function R(U,F){return U<=0||F.length===0&&F.ended?0:F.objectMode?1:U!=U?F.flowing&&F.length?F.buffer.head.data.length:F.length:(U>F.highWaterMark&&(F.highWaterMark=(function(J){return J>=1073741824?J=1073741824:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J})(U)),U<=F.length?U:F.ended?F.length:(F.needReadable=!0,0))}function S(U){var F=U._readableState;h("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(h("emitReadable",F.flowing),F.emittedReadable=!0,o.nextTick(C,U))}function C(U){var F=U._readableState;h("emitReadable_",F.destroyed,F.length,F.ended),F.destroyed||!F.length&&!F.ended||(U.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,K(U)}function k(U,F){F.readingMore||(F.readingMore=!0,o.nextTick(E,U,F))}function E(U,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var J=F.length;if(h("maybeReadMore read 0"),U.read(0),J===F.length)break}F.readingMore=!1}function M(U){var F=U._readableState;F.readableListening=U.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:U.listenerCount("data")>0&&U.resume()}function L(U){h("readable nexttick read 0"),U.read(0)}function z(U,F){h("resume",F.reading),F.reading||U.read(0),F.resumeScheduled=!1,U.emit("resume"),K(U),F.flowing&&!F.reading&&U.read(0)}function K(U){var F=U._readableState;for(h("flow",F.flowing);F.flowing&&U.read()!==null;);}function Z(U,F){return F.length===0?null:(F.objectMode?J=F.buffer.shift():!U||U>=F.length?(J=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.first():F.buffer.concat(F.length),F.buffer.clear()):J=F.buffer.consume(U,F.decoder),J);var J}function te(U){var F=U._readableState;h("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,o.nextTick(H,F,U))}function H(U,F){if(h("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,F.readable=!1,F.emit("end"),U.autoDestroy)){var J=F._writableState;(!J||J.autoDestroy&&J.finished)&&F.destroy()}}function ee(U,F){for(var J=0,re=U.length;J<re;J++)if(U[J]===F)return J;return-1}W.prototype.read=function(U){h("read",U),U=parseInt(U,10);var F=this._readableState,J=U;if(U!==0&&(F.emittedReadable=!1),U===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return h("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?te(this):S(this),null;if((U=R(U,F))===0&&F.ended)return F.length===0&&te(this),null;var re,ce=F.needReadable;return h("need readable",ce),(F.length===0||F.length-U<F.highWaterMark)&&h("length less than watermark",ce=!0),F.ended||F.reading?h("reading or ended",ce=!1):ce&&(h("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(U=R(J,F))),(re=U>0?Z(U,F):null)===null?(F.needReadable=F.length<=F.highWaterMark,U=0):(F.length-=U,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),J!==U&&F.ended&&te(this)),re!==null&&this.emit("data",re),re},W.prototype._read=function(U){$(this,new V("_read()"))},W.prototype.pipe=function(U,F){var J=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=U;break;case 1:re.pipes=[re.pipes,U];break;default:re.pipes.push(U)}re.pipesCount+=1,h("pipe count=%d opts=%j",re.pipesCount,F);var ce=(!F||F.end!==!1)&&U!==o.stdout&&U!==o.stderr?de:le;function se(fe,xe){h("onunpipe"),fe===J&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,h("cleanup"),U.removeListener("close",me),U.removeListener("finish",ae),U.removeListener("drain",we),U.removeListener("error",ge),U.removeListener("unpipe",se),J.removeListener("end",de),J.removeListener("end",le),J.removeListener("data",ie),ve=!0,!re.awaitDrain||U._writableState&&!U._writableState.needDrain||we())}function de(){h("onend"),U.end()}re.endEmitted?o.nextTick(ce):J.once("end",ce),U.on("unpipe",se);var we=(function(fe){return function(){var xe=fe._readableState;h("pipeOnDrain",xe.awaitDrain),xe.awaitDrain&&xe.awaitDrain--,xe.awaitDrain===0&&c(fe,"data")&&(xe.flowing=!0,K(fe))}})(J);U.on("drain",we);var ve=!1;function ie(fe){h("ondata");var xe=U.write(fe);h("dest.write",xe),xe===!1&&((re.pipesCount===1&&re.pipes===U||re.pipesCount>1&&ee(re.pipes,U)!==-1)&&!ve&&(h("false write response, pause",re.awaitDrain),re.awaitDrain++),J.pause())}function ge(fe){h("onerror",fe),le(),U.removeListener("error",ge),c(U,"error")===0&&$(U,fe)}function me(){U.removeListener("finish",ae),le()}function ae(){h("onfinish"),U.removeListener("close",me),le()}function le(){h("unpipe"),J.unpipe(U)}return J.on("data",ie),(function(fe,xe,je){if(typeof fe.prependListener=="function")return fe.prependListener(xe,je);fe._events&&fe._events[xe]?Array.isArray(fe._events[xe])?fe._events[xe].unshift(je):fe._events[xe]=[je,fe._events[xe]]:fe.on(xe,je)})(U,"error",ge),U.once("close",me),U.once("finish",ae),U.emit("pipe",J),re.flowing||(h("pipe resume"),J.resume()),U},W.prototype.unpipe=function(U){var F=this._readableState,J={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return U&&U!==F.pipes||(U||(U=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,U&&U.emit("unpipe",this,J)),this;if(!U){var re=F.pipes,ce=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var se=0;se<ce;se++)re[se].emit("unpipe",this,{hasUnpiped:!1});return this}var de=ee(F.pipes,U);return de===-1||(F.pipes.splice(de,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),U.emit("unpipe",this,J)),this},W.prototype.on=function(U,F){var J=a.prototype.on.call(this,U,F),re=this._readableState;return U==="data"?(re.readableListening=this.listenerCount("readable")>0,re.flowing!==!1&&this.resume()):U==="readable"&&(re.endEmitted||re.readableListening||(re.readableListening=re.needReadable=!0,re.flowing=!1,re.emittedReadable=!1,h("on readable",re.length,re.reading),re.length?S(this):re.reading||o.nextTick(L,this))),J},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(U,F){var J=a.prototype.removeListener.call(this,U,F);return U==="readable"&&o.nextTick(M,this),J},W.prototype.removeAllListeners=function(U){var F=a.prototype.removeAllListeners.apply(this,arguments);return U!=="readable"&&U!==void 0||o.nextTick(M,this),F},W.prototype.resume=function(){var U=this._readableState;return U.flowing||(h("resume"),U.flowing=!U.readableListening,(function(F,J){J.resumeScheduled||(J.resumeScheduled=!0,o.nextTick(z,F,J))})(this,U)),U.paused=!1,this},W.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},W.prototype.wrap=function(U){var F=this,J=this._readableState,re=!1;for(var ce in U.on("end",(function(){if(h("wrapped end"),J.decoder&&!J.ended){var de=J.decoder.end();de&&de.length&&F.push(de)}F.push(null)})),U.on("data",(function(de){h("wrapped data"),J.decoder&&(de=J.decoder.write(de)),J.objectMode&&de==null||(J.objectMode||de&&de.length)&&(F.push(de)||(re=!0,U.pause()))})),U)this[ce]===void 0&&typeof U[ce]=="function"&&(this[ce]=(function(de){return function(){return U[de].apply(U,arguments)}})(ce));for(var se=0;se<G.length;se++)U.on(G[se],this.emit.bind(this,G[se]));return this._read=function(de){h("wrapped _read",de),re&&(re=!1,U.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e("./internal/streams/async_iterator")),x(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),W._fromList=Z,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(W.from=function(U,F){return g===void 0&&(g=e("./internal/streams/from")),g(W,U,F)})}).call(this)}).call(this,e("_process"),typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,s,l){s.exports=h;var o=e("../errors").codes,i=o.ERR_METHOD_NOT_IMPLEMENTED,d=o.ERR_MULTIPLE_CALLBACK,c=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=o.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function m(x,g){var w=this._transformState;w.transforming=!1;var v=w.writecb;if(v===null)return this.emit("error",new d);w.writechunk=null,w.writecb=null,g!=null&&this.push(g),v(x);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function h(x){if(!(this instanceof h))return new h(x);u.call(this,x),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,x&&(typeof x.transform=="function"&&(this._transform=x.transform),typeof x.flush=="function"&&(this._flush=x.flush)),this.on("prefinish",p)}function p(){var x=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush((function(g,w){y(x,g,w)}))}function y(x,g,w){if(g)return x.emit("error",g);if(w!=null&&x.push(w),x._writableState.length)throw new a;if(x._transformState.transforming)throw new c;return x.push(null)}e("inherits")(h,u),h.prototype.push=function(x,g){return this._transformState.needTransform=!1,u.prototype.push.call(this,x,g)},h.prototype._transform=function(x,g,w){w(new i("_transform()"))},h.prototype._write=function(x,g,w){var v=this._transformState;if(v.writecb=w,v.writechunk=x,v.writeencoding=g,!v.transforming){var j=this._readableState;(v.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},h.prototype._read=function(x){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},h.prototype._destroy=function(x,g){u.prototype._destroy.call(this,x,(function(w){g(w)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,s,l){(function(o,i){(function(){function d(E){var M=this;this.next=null,this.entry=null,this.finish=function(){(function(L,z,K){var Z=L.entry;for(L.entry=null;Z;){var te=Z.callback;z.pendingcb--,te(K),Z=Z.next}z.corkedRequestsFree.next=L})(M,E)}}var c;s.exports=W,W.WritableState=Y;var a={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),m=e("buffer").Buffer,h=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p,y=e("./internal/streams/destroy"),x=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,w=g.ERR_INVALID_ARG_TYPE,v=g.ERR_METHOD_NOT_IMPLEMENTED,j=g.ERR_MULTIPLE_CALLBACK,N=g.ERR_STREAM_CANNOT_PIPE,T=g.ERR_STREAM_DESTROYED,D=g.ERR_STREAM_NULL_VALUES,V=g.ERR_STREAM_WRITE_AFTER_END,P=g.ERR_UNKNOWN_ENCODING,$=y.errorOrDestroy;function G(){}function Y(E,M,L){c=c||e("./_stream_duplex"),E=E||{},typeof L!="boolean"&&(L=M instanceof c),this.objectMode=!!E.objectMode,L&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=x(this,E,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=E.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){(function(Z,te){var H=Z._writableState,ee=H.sync,U=H.writecb;if(typeof U!="function")throw new j;if((function(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0})(H),te)(function(J,re,ce,se,de){--re.pendingcb,ce?(o.nextTick(de,se),o.nextTick(k,J,re),J._writableState.errorEmitted=!0,$(J,se)):(de(se),J._writableState.errorEmitted=!0,$(J,se),k(J,re))})(Z,H,ee,te,U);else{var F=S(H)||Z.destroyed;F||H.corked||H.bufferProcessing||!H.bufferedRequest||R(Z,H),ee?o.nextTick(I,Z,H,F,U):I(Z,H,F,U)}})(M,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function W(E){var M=this instanceof(c=c||e("./_stream_duplex"));if(!M&&!p.call(W,this))return new W(E);this._writableState=new Y(E,this,M),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),u.call(this)}function O(E,M,L,z,K,Z,te){M.writelen=z,M.writecb=te,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new T("write")):L?E._writev(K,M.onwrite):E._write(K,Z,M.onwrite),M.sync=!1}function I(E,M,L,z){L||(function(K,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,K.emit("drain"))})(E,M),M.pendingcb--,z(),k(E,M)}function R(E,M){M.bufferProcessing=!0;var L=M.bufferedRequest;if(E._writev&&L&&L.next){var z=M.bufferedRequestCount,K=new Array(z),Z=M.corkedRequestsFree;Z.entry=L;for(var te=0,H=!0;L;)K[te]=L,L.isBuf||(H=!1),L=L.next,te+=1;K.allBuffers=H,O(E,M,!0,M.length,K,"",Z.finish),M.pendingcb++,M.lastBufferedRequest=null,Z.next?(M.corkedRequestsFree=Z.next,Z.next=null):M.corkedRequestsFree=new d(M),M.bufferedRequestCount=0}else{for(;L;){var ee=L.chunk,U=L.encoding,F=L.callback;if(O(E,M,!1,M.objectMode?1:ee.length,ee,U,F),L=L.next,M.bufferedRequestCount--,M.writing)break}L===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=L,M.bufferProcessing=!1}function S(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function C(E,M){E._final((function(L){M.pendingcb--,L&&$(E,L),M.prefinished=!0,E.emit("prefinish"),k(E,M)}))}function k(E,M){var L=S(M);if(L&&((function(K,Z){Z.prefinished||Z.finalCalled||(typeof K._final!="function"||Z.destroyed?(Z.prefinished=!0,K.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,o.nextTick(C,K,Z)))})(E,M),M.pendingcb===0&&(M.finished=!0,E.emit("finish"),M.autoDestroy))){var z=E._readableState;(!z||z.autoDestroy&&z.endEmitted)&&E.destroy()}return L}e("inherits")(W,u),Y.prototype.getBuffer=function(){for(var E=this.bufferedRequest,M=[];E;)M.push(E),E=E.next;return M},(function(){try{Object.defineProperty(Y.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(E){return!!p.call(this,E)||this===W&&E&&E._writableState instanceof Y}})):p=function(E){return E instanceof this},W.prototype.pipe=function(){$(this,new N)},W.prototype.write=function(E,M,L){var z,K=this._writableState,Z=!1,te=!K.objectMode&&(z=E,m.isBuffer(z)||z instanceof h);return te&&!m.isBuffer(E)&&(E=(function(H){return m.from(H)})(E)),typeof M=="function"&&(L=M,M=null),te?M="buffer":M||(M=K.defaultEncoding),typeof L!="function"&&(L=G),K.ending?(function(H,ee){var U=new V;$(H,U),o.nextTick(ee,U)})(this,L):(te||(function(H,ee,U,F){var J;return U===null?J=new D:typeof U=="string"||ee.objectMode||(J=new w("chunk",["string","Buffer"],U)),!J||($(H,J),o.nextTick(F,J),!1)})(this,K,E,L))&&(K.pendingcb++,Z=(function(H,ee,U,F,J,re){if(!U){var ce=(function(ve,ie,ge){return ve.objectMode||ve.decodeStrings===!1||typeof ie!="string"||(ie=m.from(ie,ge)),ie})(ee,F,J);F!==ce&&(U=!0,J="buffer",F=ce)}var se=ee.objectMode?1:F.length;ee.length+=se;var de=ee.length<ee.highWaterMark;if(de||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:F,encoding:J,isBuf:U,callback:re,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else O(H,ee,!1,se,F,J,re);return de})(this,K,te,E,M,L)),Z},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,E.writing||E.corked||E.bufferProcessing||!E.bufferedRequest||R(this,E))},W.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new P(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(E,M,L){L(new v("_write()"))},W.prototype._writev=null,W.prototype.end=function(E,M,L){var z=this._writableState;return typeof E=="function"?(L=E,E=null,M=null):typeof M=="function"&&(L=M,M=null),E!=null&&this.write(E,M),z.corked&&(z.corked=1,this.uncork()),z.ending||(function(K,Z,te){Z.ending=!0,k(K,Z),te&&(Z.finished?o.nextTick(te):K.once("finish",te)),Z.ended=!0,K.writable=!1})(this,z,L),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),W.prototype.destroy=y.destroy,W.prototype._undestroy=y.undestroy,W.prototype._destroy=function(E,M){M(E)}}).call(this)}).call(this,e("_process"),typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,s,l){(function(o){(function(){var i;function d(T,D,V){return(D=(function(P){var $=(function(G,Y){if(typeof G!="object"||G===null)return G;var W=G[Symbol.toPrimitive];if(W!==void 0){var O=W.call(G,Y);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(G)})(P,"string");return typeof $=="symbol"?$:String($)})(D))in T?Object.defineProperty(T,D,{value:V,enumerable:!0,configurable:!0,writable:!0}):T[D]=V,T}var c=e("./end-of-stream"),a=Symbol("lastResolve"),u=Symbol("lastReject"),m=Symbol("error"),h=Symbol("ended"),p=Symbol("lastPromise"),y=Symbol("handlePromise"),x=Symbol("stream");function g(T,D){return{value:T,done:D}}function w(T){var D=T[a];if(D!==null){var V=T[x].read();V!==null&&(T[p]=null,T[a]=null,T[u]=null,D(g(V,!1)))}}function v(T){o.nextTick(w,T)}var j=Object.getPrototypeOf((function(){})),N=Object.setPrototypeOf((d(i={get stream(){return this[x]},next:function(){var T=this,D=this[m];if(D!==null)return Promise.reject(D);if(this[h])return Promise.resolve(g(void 0,!0));if(this[x].destroyed)return new Promise((function(G,Y){o.nextTick((function(){T[m]?Y(T[m]):G(g(void 0,!0))}))}));var V,P=this[p];if(P)V=new Promise((function(G,Y){return function(W,O){G.then((function(){Y[h]?W(g(void 0,!0)):Y[y](W,O)}),O)}})(P,this));else{var $=this[x].read();if($!==null)return Promise.resolve(g($,!1));V=new Promise(this[y])}return this[p]=V,V}},Symbol.asyncIterator,(function(){return this})),d(i,"return",(function(){var T=this;return new Promise((function(D,V){T[x].destroy(null,(function(P){P?V(P):D(g(void 0,!0))}))}))})),i),j);s.exports=function(T){var D,V=Object.create(N,(d(D={},x,{value:T,writable:!0}),d(D,a,{value:null,writable:!0}),d(D,u,{value:null,writable:!0}),d(D,m,{value:null,writable:!0}),d(D,h,{value:T._readableState.endEmitted,writable:!0}),d(D,y,{value:function(P,$){var G=V[x].read();G?(V[p]=null,V[a]=null,V[u]=null,P(g(G,!1))):(V[a]=P,V[u]=$)},writable:!0}),D));return V[p]=null,c(T,(function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=V[u];return $!==null&&(V[p]=null,V[a]=null,V[u]=null,$(P)),void(V[m]=P)}var G=V[a];G!==null&&(V[p]=null,V[a]=null,V[u]=null,G(g(void 0,!0))),V[h]=!0})),T.on("readable",v.bind(null,V)),V}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,s,l){function o(p,y){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(p);y&&(g=g.filter((function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable}))),x.push.apply(x,g)}return x}function i(p){for(var y=1;y<arguments.length;y++){var x=arguments[y]!=null?arguments[y]:{};y%2?o(Object(x),!0).forEach((function(g){d(p,g,x[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(x)):o(Object(x)).forEach((function(g){Object.defineProperty(p,g,Object.getOwnPropertyDescriptor(x,g))}))}return p}function d(p,y,x){return(y=a(y))in p?Object.defineProperty(p,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[y]=x,p}function c(p,y){for(var x=0;x<y.length;x++){var g=y[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,a(g.key),g)}}function a(p){var y=(function(x,g){if(typeof x!="object"||x===null)return x;var w=x[Symbol.toPrimitive];if(w!==void 0){var v=w.call(x,g);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(x)})(p,"string");return typeof y=="symbol"?y:String(y)}var u=e("buffer").Buffer,m=e("util").inspect,h=m&&m.custom||"inspect";s.exports=(function(){function p(){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,p),this.head=null,this.tail=null,this.length=0}var y,x;return y=p,(x=[{key:"push",value:function(g){var w={data:g,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(g){var w={data:g,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var w=this.head,v=""+w.data;w=w.next;)v+=g+w.data;return v}},{key:"concat",value:function(g){if(this.length===0)return u.alloc(0);for(var w,v,j,N=u.allocUnsafe(g>>>0),T=this.head,D=0;T;)w=T.data,v=N,j=D,u.prototype.copy.call(w,v,j),D+=T.data.length,T=T.next;return N}},{key:"consume",value:function(g,w){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):v=g===this.head.data.length?this.shift():w?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var w=this.head,v=1,j=w.data;for(g-=j.length;w=w.next;){var N=w.data,T=g>N.length?N.length:g;if(T===N.length?j+=N:j+=N.slice(0,g),(g-=T)==0){T===N.length?(++v,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=N.slice(T));break}++v}return this.length-=v,j}},{key:"_getBuffer",value:function(g){var w=u.allocUnsafe(g),v=this.head,j=1;for(v.data.copy(w),g-=v.data.length;v=v.next;){var N=v.data,T=g>N.length?N.length:g;if(N.copy(w,w.length-g,0,T),(g-=T)==0){T===N.length?(++j,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=N.slice(T));break}++j}return this.length-=j,w}},{key:h,value:function(g,w){return m(this,i(i({},w),{},{depth:0,customInspect:!1}))}}])&&c(y.prototype,x),Object.defineProperty(y,"prototype",{writable:!1}),p})()},{buffer:220,util:188}],485:[function(e,s,l){(function(o){(function(){function i(a,u){c(a,u),d(a)}function d(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function c(a,u){a.emit("error",u)}s.exports={destroy:function(a,u){var m=this,h=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return h||p?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(c,this,a)):o.nextTick(c,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,(function(y){!u&&y?m._writableState?m._writableState.errorEmitted?o.nextTick(d,m):(m._writableState.errorEmitted=!0,o.nextTick(i,m,y)):o.nextTick(i,m,y):u?(o.nextTick(d,m),u(y)):o.nextTick(d,m)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,u){var m=a._readableState,h=a._writableState;m&&m.autoDestroy||h&&h.autoDestroy?a.destroy(u):a.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,s,l){var o=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}s.exports=function d(c,a,u){if(typeof a=="function")return d(c,null,a);a||(a={}),u=(function(T){var D=!1;return function(){if(!D){D=!0;for(var V=arguments.length,P=new Array(V),$=0;$<V;$++)P[$]=arguments[$];T.apply(this,P)}}})(u||i);var m=a.readable||a.readable!==!1&&c.readable,h=a.writable||a.writable!==!1&&c.writable,p=function(){c.writable||x()},y=c._writableState&&c._writableState.finished,x=function(){h=!1,y=!0,m||u.call(c)},g=c._readableState&&c._readableState.endEmitted,w=function(){m=!1,g=!0,h||u.call(c)},v=function(T){u.call(c,T)},j=function(){var T;return m&&!g?(c._readableState&&c._readableState.ended||(T=new o),u.call(c,T)):h&&!y?(c._writableState&&c._writableState.ended||(T=new o),u.call(c,T)):void 0},N=function(){c.req.on("finish",x)};return(function(T){return T.setHeader&&typeof T.abort=="function"})(c)?(c.on("complete",x),c.on("abort",j),c.req?N():c.on("request",N)):h&&!c._writableState&&(c.on("end",p),c.on("close",p)),c.on("end",w),c.on("finish",x),a.error!==!1&&c.on("error",v),c.on("close",j),function(){c.removeListener("complete",x),c.removeListener("abort",j),c.removeListener("request",N),c.req&&c.req.removeListener("finish",x),c.removeListener("end",p),c.removeListener("close",p),c.removeListener("finish",x),c.removeListener("end",w),c.removeListener("error",v),c.removeListener("close",j)}}},{"../../../errors":477}],487:[function(e,s,l){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,s,l){var o,i=e("../../../errors").codes,d=i.ERR_MISSING_ARGS,c=i.ERR_STREAM_DESTROYED;function a(y){if(y)throw y}function u(y,x,g,w){w=(function(N){var T=!1;return function(){T||(T=!0,N.apply(void 0,arguments))}})(w);var v=!1;y.on("close",(function(){v=!0})),o===void 0&&(o=e("./end-of-stream")),o(y,{readable:x,writable:g},(function(N){if(N)return w(N);v=!0,w()}));var j=!1;return function(N){if(!v&&!j)return j=!0,(function(T){return T.setHeader&&typeof T.abort=="function"})(y)?y.abort():typeof y.destroy=="function"?y.destroy():void w(N||new c("pipe"))}}function m(y){y()}function h(y,x){return y.pipe(x)}function p(y){return y.length?typeof y[y.length-1]!="function"?a:y.pop():a}s.exports=function(){for(var y=arguments.length,x=new Array(y),g=0;g<y;g++)x[g]=arguments[g];var w,v=p(x);if(Array.isArray(x[0])&&(x=x[0]),x.length<2)throw new d("streams");var j=x.map((function(N,T){var D=T<x.length-1;return u(N,D,T>0,(function(V){w||(w=V),V&&j.forEach(m),D||(j.forEach(m),v(w))}))}));return x.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,s,l){var o=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(i,d,c,a){var u=(function(m,h,p){return m.highWaterMark!=null?m.highWaterMark:h?m[p]:null})(d,a,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new o(a?c:"highWaterMark",u);return Math.floor(u)}return i.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,s,l){s.exports=e("events").EventEmitter},{events:422}],491:[function(e,s,l){(l=s.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js"),l.finished=e("./lib/internal/streams/end-of-stream.js"),l.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,s,l){var o=(function(i){var d=Object.prototype,c=d.hasOwnProperty,a=Object.defineProperty||function(k,E,M){k[E]=M.value},u=typeof Symbol=="function"?Symbol:{},m=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",p=u.toStringTag||"@@toStringTag";function y(k,E,M){return Object.defineProperty(k,E,{value:M,enumerable:!0,configurable:!0,writable:!0}),k[E]}try{y({},"")}catch{y=function(E,M,L){return E[M]=L}}function x(k,E,M,L){var z=E&&E.prototype instanceof v?E:v,K=Object.create(z.prototype),Z=new R(L||[]);return a(K,"_invoke",{value:Y(k,M,Z)}),K}function g(k,E,M){try{return{type:"normal",arg:k.call(E,M)}}catch(L){return{type:"throw",arg:L}}}i.wrap=x;var w={};function v(){}function j(){}function N(){}var T={};y(T,m,(function(){return this}));var D=Object.getPrototypeOf,V=D&&D(D(S([])));V&&V!==d&&c.call(V,m)&&(T=V);var P=N.prototype=v.prototype=Object.create(T);function $(k){["next","throw","return"].forEach((function(E){y(k,E,(function(M){return this._invoke(E,M)}))}))}function G(k,E){var M;a(this,"_invoke",{value:function(L,z){function K(){return new E((function(Z,te){(function H(ee,U,F,J){var re=g(k[ee],k,U);if(re.type!=="throw"){var ce=re.arg,se=ce.value;return se&&typeof se=="object"&&c.call(se,"__await")?E.resolve(se.__await).then((function(de){H("next",de,F,J)}),(function(de){H("throw",de,F,J)})):E.resolve(se).then((function(de){ce.value=de,F(ce)}),(function(de){return H("throw",de,F,J)}))}J(re.arg)})(L,z,Z,te)}))}return M=M?M.then(K,K):K()}})}function Y(k,E,M){var L="suspendedStart";return function(z,K){if(L==="executing")throw new Error("Generator is already running");if(L==="completed"){if(z==="throw")throw K;return C()}for(M.method=z,M.arg=K;;){var Z=M.delegate;if(Z){var te=W(Z,M);if(te){if(te===w)continue;return te}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(L==="suspendedStart")throw L="completed",M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);L="executing";var H=g(k,E,M);if(H.type==="normal"){if(L=M.done?"completed":"suspendedYield",H.arg===w)continue;return{value:H.arg,done:M.done}}H.type==="throw"&&(L="completed",M.method="throw",M.arg=H.arg)}}}function W(k,E){var M=E.method,L=k.iterator[M];if(L===void 0)return E.delegate=null,M==="throw"&&k.iterator.return&&(E.method="return",E.arg=void 0,W(k,E),E.method==="throw")||M!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+M+"' method")),w;var z=g(L,k.iterator,E.arg);if(z.type==="throw")return E.method="throw",E.arg=z.arg,E.delegate=null,w;var K=z.arg;return K?K.done?(E[k.resultName]=K.value,E.next=k.nextLoc,E.method!=="return"&&(E.method="next",E.arg=void 0),E.delegate=null,w):K:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,w)}function O(k){var E={tryLoc:k[0]};1 in k&&(E.catchLoc=k[1]),2 in k&&(E.finallyLoc=k[2],E.afterLoc=k[3]),this.tryEntries.push(E)}function I(k){var E=k.completion||{};E.type="normal",delete E.arg,k.completion=E}function R(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(O,this),this.reset(!0)}function S(k){if(k){var E=k[m];if(E)return E.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var M=-1,L=function z(){for(;++M<k.length;)if(c.call(k,M))return z.value=k[M],z.done=!1,z;return z.value=void 0,z.done=!0,z};return L.next=L}}return{next:C}}function C(){return{value:void 0,done:!0}}return j.prototype=N,a(P,"constructor",{value:N,configurable:!0}),a(N,"constructor",{value:j,configurable:!0}),j.displayName=y(N,p,"GeneratorFunction"),i.isGeneratorFunction=function(k){var E=typeof k=="function"&&k.constructor;return!!E&&(E===j||(E.displayName||E.name)==="GeneratorFunction")},i.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,N):(k.__proto__=N,y(k,p,"GeneratorFunction")),k.prototype=Object.create(P),k},i.awrap=function(k){return{__await:k}},$(G.prototype),y(G.prototype,h,(function(){return this})),i.AsyncIterator=G,i.async=function(k,E,M,L,z){z===void 0&&(z=Promise);var K=new G(x(k,E,M,L),z);return i.isGeneratorFunction(E)?K:K.next().then((function(Z){return Z.done?Z.value:K.next()}))},$(P),y(P,p,"Generator"),y(P,m,(function(){return this})),y(P,"toString",(function(){return"[object Generator]"})),i.keys=function(k){var E=Object(k),M=[];for(var L in E)M.push(L);return M.reverse(),function z(){for(;M.length;){var K=M.pop();if(K in E)return z.value=K,z.done=!1,z}return z.done=!0,z}},i.values=S,R.prototype={constructor:R,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!k)for(var E in this)E.charAt(0)==="t"&&c.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var E=this;function M(H,ee){return K.type="throw",K.arg=k,E.next=H,ee&&(E.method="next",E.arg=void 0),!!ee}for(var L=this.tryEntries.length-1;L>=0;--L){var z=this.tryEntries[L],K=z.completion;if(z.tryLoc==="root")return M("end");if(z.tryLoc<=this.prev){var Z=c.call(z,"catchLoc"),te=c.call(z,"finallyLoc");if(Z&&te){if(this.prev<z.catchLoc)return M(z.catchLoc,!0);if(this.prev<z.finallyLoc)return M(z.finallyLoc)}else if(Z){if(this.prev<z.catchLoc)return M(z.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return M(z.finallyLoc)}}}},abrupt:function(k,E){for(var M=this.tryEntries.length-1;M>=0;--M){var L=this.tryEntries[M];if(L.tryLoc<=this.prev&&c.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var z=L;break}}z&&(k==="break"||k==="continue")&&z.tryLoc<=E&&E<=z.finallyLoc&&(z=null);var K=z?z.completion:{};return K.type=k,K.arg=E,z?(this.method="next",this.next=z.finallyLoc,w):this.complete(K)},complete:function(k,E){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&E&&(this.next=E),w},finish:function(k){for(var E=this.tryEntries.length-1;E>=0;--E){var M=this.tryEntries[E];if(M.finallyLoc===k)return this.complete(M.completion,M.afterLoc),I(M),w}},catch:function(k){for(var E=this.tryEntries.length-1;E>=0;--E){var M=this.tryEntries[E];if(M.tryLoc===k){var L=M.completion;if(L.type==="throw"){var z=L.arg;I(M)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(k,E,M){return this.delegate={iterator:S(k),resultName:E,nextLoc:M},this.method==="next"&&(this.arg=void 0),w}},i})(typeof s=="object"?s.exports:{});try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},{}],493:[function(e,s,l){var o=e("buffer").Buffer,i=e("inherits"),d=e("hash-base"),c=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],y=[1352829926,1548603684,1836072691,2053994217,0];function x(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(D,V){return D<<V|D>>>32-V}function w(D,V,P,$,G,Y,W,O){return g(D+(V^P^$)+Y+W|0,O)+G|0}function v(D,V,P,$,G,Y,W,O){return g(D+(V&P|~V&$)+Y+W|0,O)+G|0}function j(D,V,P,$,G,Y,W,O){return g(D+((V|~P)^$)+Y+W|0,O)+G|0}function N(D,V,P,$,G,Y,W,O){return g(D+(V&$|P&~$)+Y+W|0,O)+G|0}function T(D,V,P,$,G,Y,W,O){return g(D+(V^(P|~$))+Y+W|0,O)+G|0}i(x,d),x.prototype._update=function(){for(var D=c,V=0;V<16;++V)D[V]=this._block.readInt32LE(4*V);for(var P=0|this._a,$=0|this._b,G=0|this._c,Y=0|this._d,W=0|this._e,O=0|this._a,I=0|this._b,R=0|this._c,S=0|this._d,C=0|this._e,k=0;k<80;k+=1){var E,M;k<16?(E=w(P,$,G,Y,W,D[a[k]],p[0],m[k]),M=T(O,I,R,S,C,D[u[k]],y[0],h[k])):k<32?(E=v(P,$,G,Y,W,D[a[k]],p[1],m[k]),M=N(O,I,R,S,C,D[u[k]],y[1],h[k])):k<48?(E=j(P,$,G,Y,W,D[a[k]],p[2],m[k]),M=j(O,I,R,S,C,D[u[k]],y[2],h[k])):k<64?(E=N(P,$,G,Y,W,D[a[k]],p[3],m[k]),M=v(O,I,R,S,C,D[u[k]],y[3],h[k])):(E=T(P,$,G,Y,W,D[a[k]],p[4],m[k]),M=w(O,I,R,S,C,D[u[k]],y[4],h[k])),P=W,W=Y,Y=g(G,10),G=$,$=E,O=C,C=S,S=g(R,10),R=I,I=M}var L=this._b+G+S|0;this._b=this._c+Y+C|0,this._c=this._d+W+O|0,this._d=this._e+P+I|0,this._e=this._a+$+R|0,this._a=L},x.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=o.alloc?o.alloc(20):new o(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D},s.exports=x},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,s,l){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var o=e("buffer"),i=o.Buffer;function d(a,u){for(var m in a)u[m]=a[m]}function c(a,u,m){return i(a,u,m)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?s.exports=o:(d(o,l),l.Buffer=c),c.prototype=Object.create(i.prototype),d(i,c),c.from=function(a,u,m){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,u,m)},c.alloc=function(a,u,m){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=i(a);return u!==void 0?typeof m=="string"?h.fill(u,m):h.fill(u):h.fill(0),h},c.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},c.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(a)}},{buffer:220}],495:[function(e,s,l){(function(o){(function(){var i,d=e("buffer"),c=d.Buffer,a={};for(i in d)d.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(a[i]=d[i]);var u=a.Buffer={};for(i in c)c.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(u[i]=c[i]);if(a.Buffer.prototype=c.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(m,h,p){if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof m);if(m&&m.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);return c(m,h,p)}),u.alloc||(u.alloc=function(m,h,p){if(typeof m!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof m);if(m<0||m>=2*(1<<30))throw new RangeError('The value "'+m+'" is invalid for option "size"');var y=c(m);return h&&h.length!==0?typeof p=="string"?y.fill(h,p):y.fill(h):y.fill(0),y}),!a.kStringMaxLength)try{a.kStringMaxLength=o.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),s.exports=a}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0});const o=e("xmlchars/xml/1.0/ed5"),i=e("xmlchars/xml/1.1/ed2"),d=e("xmlchars/xmlns/1.0/ed3");var c=o.isS,a=o.isChar,u=o.isNameStartChar,m=o.isNameChar,h=o.S_LIST,p=o.NAME_RE,y=i.isChar,x=d.isNCNameStartChar,g=d.isNCNameChar,w=d.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",N={__proto__:null,xml:v,xmlns:j},T={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},D=S=>S===34||S===39,V=[34,39],P=[...V,91,62],$=[...V,60,93],G=[61,63,...h],Y=[...h,62,38,60];function W(S,C,k){switch(C){case"xml":k!==v&&S.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":k!==j&&S.fail(`xmlns prefix must be bound to ${j}.`)}switch(k){case j:S.fail(C===""?`the default namespace may not be set to ${k}.`:`may not assign a prefix (even "xmlns") to the URI ${j}.`);break;case v:switch(C){case"xml":break;case"":S.fail(`the default namespace may not be set to ${k}.`);break;default:S.fail("may not assign the xml namespace to another prefix.")}}}const O=S=>w.test(S),I=S=>p.test(S);l.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const R={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};l.SaxesParser=class{constructor(S){this.opt=S??{},this.fragmentOpt=!!this.opt.fragment;const C=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,C){this.nameStartCheck=x,this.nameCheck=g,this.isName=O,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},N);const k=this.opt.additionalNamespaces;k!=null&&((function(E,M){for(const L of Object.keys(M))W(E,L,M[L])})(this,k),Object.assign(this.ns,k))}else this.nameStartCheck=u,this.nameCheck=m,this.isName=I,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var S;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:C}=this;this.state=C?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=C,this.xmlDeclPossible=!C,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:k}=this.opt;if(k===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");k="1.0"}this.setXMLVersion(k),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(T),(S=this.readyHandler)===null||S===void 0||S.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(S,C){this[R[S]]=C}off(S){this[R[S]]=void 0}makeError(S){var C;let k=(C=this.fileName)!==null&&C!==void 0?C:"";return this.trackPosition&&(k.length>0&&(k+=":"),k+=`${this.line}:${this.column}`),k.length>0&&(k+=": "),new Error(k+S)}fail(S){const C=this.makeError(S),k=this.errorHandler;if(k===void 0)throw C;return k(C),this}write(S){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let C=!1;S===null?(C=!0,S=""):typeof S=="object"&&(S=S.toString()),this.carriedFromPrevious!==void 0&&(S=`${this.carriedFromPrevious}${S}`,this.carriedFromPrevious=void 0);let k=S.length;const E=S.charCodeAt(k-1);!C&&(E===13||E>=55296&&E<=56319)&&(this.carriedFromPrevious=S[k-1],k--,S=S.slice(0,k));const{stateTable:M}=this;for(this.chunk=S,this.i=0;this.i<k;)M[this.state].call(this);return this.chunkPosition+=k,C?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:S,i:C}=this;if(this.prevI=C,this.i=C+1,C>=S.length)return-1;const k=S.charCodeAt(C);if(this.column++,k<55296){if(k>=32||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return S.charCodeAt(C+1)===10&&(this.i=C+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const E=65536+1024*(k-55296)+(S.charCodeAt(C+1)-56320);return this.i=C+2,E>1114111&&this.fail("disallowed character."),E}getCode11(){const{chunk:S,i:C}=this;if(this.prevI=C,this.i=C+1,C>=S.length)return-1;const k=S.charCodeAt(C);if(this.column++,k<55296){if(k>31&&k<127||k>159&&k!==8232||k===9)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const M=S.charCodeAt(C+1);M!==10&&M!==133||(this.i=C+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const E=65536+1024*(k-55296)+(S.charCodeAt(C+1)-56320);return this.i=C+2,E>1114111&&this.fail("disallowed character."),E}getCodeNorm(){const S=this.getCode();return S===-2?10:S}unget(){this.i=this.prevI,this.column--}captureTo(S){let{i:C}=this;const{chunk:k}=this;for(;;){const E=this.getCode(),M=E===-2,L=M?10:E;if(L===-1||S.includes(L))return this.text+=k.slice(C,this.prevI),L;M&&(this.text+=k.slice(C,this.prevI)+`
`,C=this.i)}}captureToChar(S){let{i:C}=this;const{chunk:k}=this;for(;;){let E=this.getCode();switch(E){case-2:this.text+=k.slice(C,this.prevI)+`
`,C=this.i,E=10;break;case-1:return this.text+=k.slice(C),!1}if(E===S)return this.text+=k.slice(C,this.prevI),!0}}captureNameChars(){const{chunk:S,i:C}=this;for(;;){const k=this.getCode();if(k===-1)return this.name+=S.slice(C),-1;if(!m(k))return this.name+=S.slice(C,this.prevI),k===-2?10:k}}skipSpaces(){for(;;){const S=this.getCodeNorm();if(S===-1||!c(S))return S}}setXMLVersion(S){this.currentXMLVersion=S,S==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=y,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const S=this.i,C=this.skipSpaces();switch(this.prevI!==S&&(this.xmlDeclPossible=!1),C){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var S;const C=this.captureTo(P);switch(C){case 62:(S=this.doctypeHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(C),C===91?this.state=4:D(C)&&(this.state=3,this.q=C)}}sDoctypeQuote(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.q=null,this.state=2)}sDTD(){const S=this.captureTo($);S!==-1&&(this.text+=String.fromCodePoint(S),S===93?this.state=2:S===60?this.state=6:D(S)&&(this.state=5,this.q=S))}sDTDQuoted(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.state=4,this.q=null)}sDTDOpenWaka(){const S=this.getCodeNorm();switch(this.text+=String.fromCodePoint(S),S){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const S=String.fromCodePoint(this.getCodeNorm()),C=this.openWakaBang+=S;this.text+=S,C!=="-"&&(this.state=C==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),this.state=S===45?10:8}sDTDCommentEnded(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:S}=this;const{chunk:C}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=C.slice(S,this.prevI)+`
`,S=this.i;break;case 59:{const{entityReturnState:k}=this,E=this.entity+C.slice(S,this.prevI);let M;this.state=k,E===""?(this.fail("empty entity name."),M="&;"):(M=this.parseEntity(E),this.entity=""),k===13&&this.textHandler===void 0||(this.text+=M);break e}case-1:this.entity+=C.slice(S);break e}}sOpenWaka(){const S=this.getCode();if(u(S))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(S){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var S;const C=this.getCodeNorm();C===45?(this.state=19,(S=this.commentHandler)===null||S===void 0||S.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(C),this.state=17)}sCommentEnded(){const S=this.getCodeNorm();S!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(S),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const S=this.getCodeNorm();S===93?this.state=22:(this.text+="]"+String.fromCodePoint(S),this.state=20)}sCDataEnding2(){var S;const C=this.getCodeNorm();switch(C){case 62:(S=this.cdataHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(C),this.state=20}}sPIFirstChar(){const S=this.getCodeNorm();this.nameStartCheck(S)?(this.piTarget+=String.fromCodePoint(S),this.state=24):S===63||c(S)?(this.fail("processing instruction without a target."),this.state=S===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S),this.state=24)}sPIRest(){const{chunk:S,i:C}=this;for(;;){const k=this.getCodeNorm();if(k===-1)return void(this.piTarget+=S.slice(C));if(!this.nameCheck(k)){this.piTarget+=S.slice(C,this.prevI);const E=k===63;E||c(k)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=E?33:27):this.state=E?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k));break}}}sPIBody(){if(this.text.length===0){const S=this.getCodeNorm();S===63?this.state=26:c(S)||(this.text=String.fromCodePoint(S))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var S;const C=this.getCodeNorm();if(C===62){const{piTarget:k}=this;k.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(S=this.piHandler)===null||S===void 0||S.call(this,{target:k,body:this.text}),this.piTarget=this.text="",this.state=13}else C===63?this.text+="?":(this.text+="?"+String.fromCodePoint(C),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const S=this.skipSpaces();S!==63?S!==-1&&(this.state=28,this.name=String.fromCodePoint(S)):this.state=33}sXMLDeclName(){const S=this.captureTo(G);if(S===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(S)||S===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=S===61?30:29}}sXMLDeclEq(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(S!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(D(S)?this.q=S:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const S=this.captureTo([this.q,63]);if(S===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(S===-1)return;const C=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const k=C;this.xmlDecl.version=k,/^1\.[0-9]+$/.test(k)?this.opt.forceXMLVersion||this.setXMLVersion(k):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(C)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=C;break;case"standalone":C!=="yes"&&C!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=C}this.name="",this.state=32}sXMLDeclSeparator(){const S=this.getCodeNorm();S!==63?(c(S)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var S;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(S=this.xmldeclHandler)===null||S===void 0||S.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var S;const C=this.captureNameChars();if(C===-1)return;const k=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=k.ns=Object.create(null)),(S=this.openTagStartHandler)===null||S===void 0||S.call(this,k),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),C){case 62:this.openTag();break;case 47:this.state=35;break;default:c(C)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const S=this.skipSpaces();S!==-1&&(u(S)?(this.unget(),this.state=37):S===62?this.openTag():S===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const S=this.captureNameChars();S===61?this.state=39:c(S)?this.state=38:S===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):S!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const S=this.skipSpaces();switch(S){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",S===62?this.openTag():u(S)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const S=this.getCodeNorm();D(S)?(this.q=S,this.state=40):c(S)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:S,chunk:C}=this;let{i:k}=this;for(;;)switch(this.getCode()){case S:return this.pushAttrib(this.name,this.text+C.slice(k,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=C.slice(k,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=C.slice(k,this.prevI)+" ",k=this.i;break;case 60:return this.text+=C.slice(k,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=C.slice(k))}}sAttribValueClosed(){const S=this.getCodeNorm();c(S)?this.state=36:S===62?this.openTag():S===47?this.state=35:u(S)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const S=this.captureTo(Y);switch(S){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",S===62?this.openTag():this.state=36}}sCloseTag(){const S=this.captureNameChars();S===62?this.closeTag():c(S)?this.state=44:S!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:S,forbiddenState:C}=this;const{chunk:k,textHandler:E}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,E!==void 0){const{text:M}=this,L=k.slice(S,this.prevI);M.length!==0?(E(M+L),this.text=""):L.length!==0&&E(L)}C=0;break e;case 38:this.state=14,this.entityReturnState=13,E!==void 0&&(this.text+=k.slice(S,this.prevI)),C=0;break e;case 93:switch(C){case 0:C=1;break;case 1:C=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:C===2&&this.fail('the string "]]>" is disallowed in char data.'),C=0;break;case-2:E!==void 0&&(this.text+=k.slice(S,this.prevI)+`
`),S=this.i,C=0;break;case-1:E!==void 0&&(this.text+=k.slice(S));break e;default:C=0}this.forbiddenState=C}handleTextOutsideRoot(){let{i:S}=this;const{chunk:C,textHandler:k}=this;let E=!1;e:for(;;){const M=this.getCode();switch(M){case 60:if(this.state=15,k!==void 0){const{text:L}=this,z=C.slice(S,this.prevI);L.length!==0?(k(L+z),this.text=""):z.length!==0&&k(z)}break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=C.slice(S,this.prevI)),E=!0;break e;case-2:k!==void 0&&(this.text+=C.slice(S,this.prevI)+`
`),S=this.i;break;case-1:k!==void 0&&(this.text+=C.slice(S));break e;default:c(M)||(E=!0)}}E&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(S,C){var k;const{prefix:E,local:M}=this.qname(S),L={name:S,prefix:E,local:M,value:C};if(this.attribList.push(L),(k=this.attributeHandler)===null||k===void 0||k.call(this,L),E==="xmlns"){const z=C.trim();this.currentXMLVersion==="1.0"&&z===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[M]=z,W(this,M,z)}else if(S==="xmlns"){const z=C.trim();this.topNS[""]=z,W(this,"",z)}}pushAttribPlain(S,C){var k;const E={name:S,value:C};this.attribList.push(E),(k=this.attributeHandler)===null||k===void 0||k.call(this,E)}end(){var S,C;this.sawRoot||this.fail("document must contain a root element.");const{tags:k}=this;for(;k.length>0;){const M=k.pop();this.fail("unclosed tag: "+M.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:E}=this;return E.length!==0&&((S=this.textHandler)===null||S===void 0||S.call(this,E),this.text=""),this._closed=!0,(C=this.endHandler)===null||C===void 0||C.call(this),this._init(),this}resolve(S){var C,k;let E=this.topNS[S];if(E!==void 0)return E;const{tags:M}=this;for(let L=M.length-1;L>=0;L--)if(E=M[L].ns[S],E!==void 0)return E;return E=this.ns[S],E!==void 0?E:(k=(C=this.opt).resolvePrefix)===null||k===void 0?void 0:k.call(C,S)}qname(S){const C=S.indexOf(":");if(C===-1)return{prefix:"",local:S};const k=S.slice(C+1),E=S.slice(0,C);return(E===""||k===""||k.includes(":"))&&this.fail(`malformed name: ${S}.`),{prefix:E,local:k}}processAttribsNS(){var S;const{attribList:C}=this,k=this.tag;{const{prefix:L,local:z}=this.qname(k.name);k.prefix=L,k.local=z;const K=k.uri=(S=this.resolve(L))!==null&&S!==void 0?S:"";L!==""&&(L==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),K===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(L)}.`),k.uri=L))}if(C.length===0)return;const{attributes:E}=k,M=new Set;for(const L of C){const{name:z,prefix:K,local:Z}=L;let te,H;K===""?(te=z==="xmlns"?j:"",H=z):(te=this.resolve(K),te===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(K)}.`),te=K),H=`{${te}}${Z}`),M.has(H)&&this.fail(`duplicate attribute: ${H}.`),M.add(H),L.uri=te,E[z]=L}this.attribList=[]}processAttribsPlain(){const{attribList:S}=this,C=this.tag.attributes;for(const{name:k,value:E}of S)C[k]!==void 0&&this.fail(`duplicate attribute: ${k}.`),C[k]=E;this.attribList=[]}openTag(){var S;this.processAttribs();const{tags:C}=this,k=this.tag;k.isSelfClosing=!1,(S=this.openTagHandler)===null||S===void 0||S.call(this,k),C.push(k),this.state=13,this.name=""}openSelfClosingTag(){var S,C,k;this.processAttribs();const{tags:E}=this,M=this.tag;M.isSelfClosing=!0,(S=this.openTagHandler)===null||S===void 0||S.call(this,M),(C=this.closeTagHandler)===null||C===void 0||C.call(this,M),(this.tag=(k=E[E.length-1])!==null&&k!==void 0?k:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:S,name:C}=this;if(this.state=13,this.name="",C==="")return this.fail("weird empty close tag."),void(this.text+="</>");const k=this.closeTagHandler;let E=S.length;for(;E-- >0;){const M=this.tag=S.pop();if(this.topNS=M.ns,k?.(M),M.name===C)break;this.fail("unexpected close tag.")}E===0?this.closedRoot=!0:E<0&&(this.fail(`unmatched closing tag: ${C}.`),this.text+=`</${C}>`)}parseEntity(S){if(S[0]!=="#"){const k=this.ENTITIES[S];return k!==void 0?k:(this.fail(this.isName(S)?"undefined entity.":"disallowed character in entity name."),`&${S};`)}let C=NaN;return S[1]==="x"&&/^#x[0-9a-f]+$/i.test(S)?C=parseInt(S.slice(2),16):/^#[0-9]+$/.test(S)&&(C=parseInt(S.slice(1),10)),this.isChar(C)?String.fromCodePoint(C):(this.fail("malformed character entity."),`&${S};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,s,l){var o=e("safe-buffer").Buffer;function i(d,c){this._block=o.alloc(d),this._finalSize=c,this._blockSize=d,this._len=0}i.prototype.update=function(d,c){typeof d=="string"&&(c=c||"utf8",d=o.from(d,c));for(var a=this._block,u=this._blockSize,m=d.length,h=this._len,p=0;p<m;){for(var y=h%u,x=Math.min(m-p,u-y),g=0;g<x;g++)a[y+g]=d[p+g];p+=x,(h+=x)%u==0&&this._update(a)}return this._len+=m,this},i.prototype.digest=function(d){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var u=(4294967295&a)>>>0,m=(a-u)/4294967296;this._block.writeUInt32BE(m,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return d?h.toString(d):h},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=i},{"safe-buffer":494}],498:[function(e,s,l){var o=s.exports=function(i){i=i.toLowerCase();var d=o[i];if(!d)throw new Error(i+" is not supported (we accept pull requests)");return new d};o.sha=e("./sha"),o.sha1=e("./sha1"),o.sha224=e("./sha224"),o.sha256=e("./sha256"),o.sha384=e("./sha384"),o.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,s,l){var o=e("inherits"),i=e("./hash"),d=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function m(p){return p<<30|p>>>2}function h(p,y,x,g){return p===0?y&x|~y&g:p===2?y&x|y&g|x&g:y^x^g}o(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(p){for(var y,x=this._w,g=0|this._a,w=0|this._b,v=0|this._c,j=0|this._d,N=0|this._e,T=0;T<16;++T)x[T]=p.readInt32BE(4*T);for(;T<80;++T)x[T]=x[T-3]^x[T-8]^x[T-14]^x[T-16];for(var D=0;D<80;++D){var V=~~(D/20),P=0|((y=g)<<5|y>>>27)+h(V,w,v,j)+N+x[D]+c[V];N=j,j=v,v=m(w),w=g,g=P}this._a=g+this._a|0,this._b=w+this._b|0,this._c=v+this._c|0,this._d=j+this._d|0,this._e=N+this._e|0},u.prototype._hash=function(){var p=d.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,s,l){var o=e("inherits"),i=e("./hash"),d=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function m(y){return y<<5|y>>>27}function h(y){return y<<30|y>>>2}function p(y,x,g,w){return y===0?x&g|~x&w:y===2?x&g|x&w|g&w:x^g^w}o(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(y){for(var x,g=this._w,w=0|this._a,v=0|this._b,j=0|this._c,N=0|this._d,T=0|this._e,D=0;D<16;++D)g[D]=y.readInt32BE(4*D);for(;D<80;++D)g[D]=(x=g[D-3]^g[D-8]^g[D-14]^g[D-16])<<1|x>>>31;for(var V=0;V<80;++V){var P=~~(V/20),$=m(w)+p(P,v,j,N)+T+g[V]+c[P]|0;T=N,N=j,j=h(v),v=w,w=$}this._a=w+this._a|0,this._b=v+this._b|0,this._c=j+this._c|0,this._d=N+this._d|0,this._e=T+this._e|0},u.prototype._hash=function(){var y=d.allocUnsafe(20);return y.writeInt32BE(0|this._a,0),y.writeInt32BE(0|this._b,4),y.writeInt32BE(0|this._c,8),y.writeInt32BE(0|this._d,12),y.writeInt32BE(0|this._e,16),y},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,s,l){var o=e("inherits"),i=e("./sha256"),d=e("./hash"),c=e("safe-buffer").Buffer,a=new Array(64);function u(){this.init(),this._w=a,d.call(this,64,56)}o(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var m=c.allocUnsafe(28);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m},s.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,s,l){var o=e("inherits"),i=e("./hash"),d=e("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function m(g,w,v){return v^g&(w^v)}function h(g,w,v){return g&w|v&(g|w)}function p(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function y(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function x(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}o(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(g){for(var w,v=this._w,j=0|this._a,N=0|this._b,T=0|this._c,D=0|this._d,V=0|this._e,P=0|this._f,$=0|this._g,G=0|this._h,Y=0;Y<16;++Y)v[Y]=g.readInt32BE(4*Y);for(;Y<64;++Y)v[Y]=0|(((w=v[Y-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)+v[Y-7]+x(v[Y-15])+v[Y-16];for(var W=0;W<64;++W){var O=G+y(V)+m(V,P,$)+c[W]+v[W]|0,I=p(j)+h(j,N,T)|0;G=$,$=P,P=V,V=D+O|0,D=T,T=N,N=j,j=O+I|0}this._a=j+this._a|0,this._b=N+this._b|0,this._c=T+this._c|0,this._d=D+this._d|0,this._e=V+this._e|0,this._f=P+this._f|0,this._g=$+this._g|0,this._h=G+this._h|0},u.prototype._hash=function(){var g=d.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,s,l){var o=e("inherits"),i=e("./sha512"),d=e("./hash"),c=e("safe-buffer").Buffer,a=new Array(160);function u(){this.init(),this._w=a,d.call(this,128,112)}o(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var m=c.allocUnsafe(48);function h(p,y,x){m.writeInt32BE(p,x),m.writeInt32BE(y,x+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),m},s.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,s,l){var o=e("inherits"),i=e("./hash"),d=e("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function m(N,T,D){return D^N&(T^D)}function h(N,T,D){return N&T|D&(N|T)}function p(N,T){return(N>>>28|T<<4)^(T>>>2|N<<30)^(T>>>7|N<<25)}function y(N,T){return(N>>>14|T<<18)^(N>>>18|T<<14)^(T>>>9|N<<23)}function x(N,T){return(N>>>1|T<<31)^(N>>>8|T<<24)^N>>>7}function g(N,T){return(N>>>1|T<<31)^(N>>>8|T<<24)^(N>>>7|T<<25)}function w(N,T){return(N>>>19|T<<13)^(T>>>29|N<<3)^N>>>6}function v(N,T){return(N>>>19|T<<13)^(T>>>29|N<<3)^(N>>>6|T<<26)}function j(N,T){return N>>>0<T>>>0?1:0}o(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(N){for(var T=this._w,D=0|this._ah,V=0|this._bh,P=0|this._ch,$=0|this._dh,G=0|this._eh,Y=0|this._fh,W=0|this._gh,O=0|this._hh,I=0|this._al,R=0|this._bl,S=0|this._cl,C=0|this._dl,k=0|this._el,E=0|this._fl,M=0|this._gl,L=0|this._hl,z=0;z<32;z+=2)T[z]=N.readInt32BE(4*z),T[z+1]=N.readInt32BE(4*z+4);for(;z<160;z+=2){var K=T[z-30],Z=T[z-30+1],te=x(K,Z),H=g(Z,K),ee=w(K=T[z-4],Z=T[z-4+1]),U=v(Z,K),F=T[z-14],J=T[z-14+1],re=T[z-32],ce=T[z-32+1],se=H+J|0,de=te+F+j(se,H)|0;de=(de=de+ee+j(se=se+U|0,U)|0)+re+j(se=se+ce|0,ce)|0,T[z]=de,T[z+1]=se}for(var we=0;we<160;we+=2){de=T[we],se=T[we+1];var ve=h(D,V,P),ie=h(I,R,S),ge=p(D,I),me=p(I,D),ae=y(G,k),le=y(k,G),fe=c[we],xe=c[we+1],je=m(G,Y,W),_e=m(k,E,M),De=L+le|0,Fe=O+ae+j(De,L)|0;Fe=(Fe=(Fe=Fe+je+j(De=De+_e|0,_e)|0)+fe+j(De=De+xe|0,xe)|0)+de+j(De=De+se|0,se)|0;var Ue=me+ie|0,Je=ge+ve+j(Ue,me)|0;O=W,L=M,W=Y,M=E,Y=G,E=k,G=$+Fe+j(k=C+De|0,C)|0,$=P,C=S,P=V,S=R,V=D,R=I,D=Fe+Je+j(I=De+Ue|0,De)|0}this._al=this._al+I|0,this._bl=this._bl+R|0,this._cl=this._cl+S|0,this._dl=this._dl+C|0,this._el=this._el+k|0,this._fl=this._fl+E|0,this._gl=this._gl+M|0,this._hl=this._hl+L|0,this._ah=this._ah+D+j(this._al,I)|0,this._bh=this._bh+V+j(this._bl,R)|0,this._ch=this._ch+P+j(this._cl,S)|0,this._dh=this._dh+$+j(this._dl,C)|0,this._eh=this._eh+G+j(this._el,k)|0,this._fh=this._fh+Y+j(this._fl,E)|0,this._gh=this._gh+W+j(this._gl,M)|0,this._hh=this._hh+O+j(this._hl,L)|0},u.prototype._hash=function(){var N=d.allocUnsafe(64);function T(D,V,P){N.writeInt32BE(D,P),N.writeInt32BE(V,P+4)}return T(this._ah,this._al,0),T(this._bh,this._bl,8),T(this._ch,this._cl,16),T(this._dh,this._dl,24),T(this._eh,this._el,32),T(this._fh,this._fl,40),T(this._gh,this._gl,48),T(this._hh,this._hl,56),N},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,s,l){s.exports=i;var o=e("events").EventEmitter;function i(){o.call(this)}e("inherits")(i,o),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(d,c){var a=this;function u(w){d.writable&&d.write(w)===!1&&a.pause&&a.pause()}function m(){a.readable&&a.resume&&a.resume()}a.on("data",u),d.on("drain",m),d._isStdio||c&&c.end===!1||(a.on("end",p),a.on("close",y));var h=!1;function p(){h||(h=!0,d.end())}function y(){h||(h=!0,typeof d.destroy=="function"&&d.destroy())}function x(w){if(g(),o.listenerCount(this,"error")===0)throw w}function g(){a.removeListener("data",u),d.removeListener("drain",m),a.removeListener("end",p),a.removeListener("close",y),a.removeListener("error",x),d.removeListener("error",x),a.removeListener("end",g),a.removeListener("close",g),d.removeListener("close",g)}return a.on("error",x),d.on("error",x),a.on("end",g),a.on("close",g),d.on("close",g),d.emit("pipe",a),d}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,s,l){var o={}.toString;s.exports=Array.isArray||function(i){return o.call(i)=="[object Array]"}},{}],507:[function(e,s,l){s.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,s,l){var o=e("process-nextick-args"),i=Object.keys||function(g){var w=[];for(var v in g)w.push(v);return w};s.exports=p;var d=Object.create(e("core-util-is"));d.inherits=e("inherits");var c=e("./_stream_readable"),a=e("./_stream_writable");d.inherits(p,c);for(var u=i(a.prototype),m=0;m<u.length;m++){var h=u[m];p.prototype[h]||(p.prototype[h]=a.prototype[h])}function p(g){if(!(this instanceof p))return new p(g);c.call(this,g),a.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||o.nextTick(x,this)}function x(g){g.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),p.prototype._destroy=function(g,w){this.push(null),this.end(),o.nextTick(w,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,s,l){s.exports=d;var o=e("./_stream_transform"),i=Object.create(e("core-util-is"));function d(c){if(!(this instanceof d))return new d(c);o.call(this,c)}i.inherits=e("inherits"),i.inherits(d,o),d.prototype._transform=function(c,a,u){u(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,s,l){(function(o,i){(function(){var d=e("process-nextick-args");s.exports=D;var c,a=e("isarray");D.ReadableState=T,e("events").EventEmitter;var u=function(L,z){return L.listeners(z).length},m=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,p=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y=Object.create(e("core-util-is"));y.inherits=e("inherits");var x=e("util"),g=void 0;g=x&&x.debuglog?x.debuglog("stream"):function(){};var w,v=e("./internal/streams/BufferList"),j=e("./internal/streams/destroy");y.inherits(D,m);var N=["error","close","destroy","pause","resume"];function T(L,z){L=L||{};var K=z instanceof(c=c||e("./_stream_duplex"));this.objectMode=!!L.objectMode,K&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var Z=L.highWaterMark,te=L.readableHighWaterMark,H=this.objectMode?16:16384;this.highWaterMark=Z||Z===0?Z:K&&(te||te===0)?te:H,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(w||(w=e("string_decoder/").StringDecoder),this.decoder=new w(L.encoding),this.encoding=L.encoding)}function D(L){if(c=c||e("./_stream_duplex"),!(this instanceof D))return new D(L);this._readableState=new T(L,this),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),m.call(this)}function V(L,z,K,Z,te){var H,ee=L._readableState;return z===null?(ee.reading=!1,(function(U,F){if(!F.ended){if(F.decoder){var J=F.decoder.end();J&&J.length&&(F.buffer.push(J),F.length+=F.objectMode?1:J.length)}F.ended=!0,G(U)}})(L,ee)):(te||(H=(function(U,F){var J;re=F,h.isBuffer(re)||re instanceof p||typeof F=="string"||F===void 0||U.objectMode||(J=new TypeError("Invalid non-string/buffer chunk"));var re;return J})(ee,z)),H?L.emit("error",H):ee.objectMode||z&&z.length>0?(typeof z=="string"||ee.objectMode||Object.getPrototypeOf(z)===h.prototype||(z=(function(U){return h.from(U)})(z)),Z?ee.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):P(L,ee,z,!0):ee.ended?L.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!K?(z=ee.decoder.write(z),ee.objectMode||z.length!==0?P(L,ee,z,!1):W(L,ee)):P(L,ee,z,!1))):Z||(ee.reading=!1)),(function(U){return!U.ended&&(U.needReadable||U.length<U.highWaterMark||U.length===0)})(ee)}function P(L,z,K,Z){z.flowing&&z.length===0&&!z.sync?(L.emit("data",K),L.read(0)):(z.length+=z.objectMode?1:K.length,Z?z.buffer.unshift(K):z.buffer.push(K),z.needReadable&&G(L)),W(L,z)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),D.prototype.destroy=j.destroy,D.prototype._undestroy=j.undestroy,D.prototype._destroy=function(L,z){this.push(null),z(L)},D.prototype.push=function(L,z){var K,Z=this._readableState;return Z.objectMode?K=!0:typeof L=="string"&&((z=z||Z.defaultEncoding)!==Z.encoding&&(L=h.from(L,z),z=""),K=!0),V(this,L,z,!1,K)},D.prototype.unshift=function(L){return V(this,L,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(L){return w||(w=e("string_decoder/").StringDecoder),this._readableState.decoder=new w(L),this._readableState.encoding=L,this};function $(L,z){return L<=0||z.length===0&&z.ended?0:z.objectMode?1:L!=L?z.flowing&&z.length?z.buffer.head.data.length:z.length:(L>z.highWaterMark&&(z.highWaterMark=(function(K){return K>=8388608?K=8388608:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K})(L)),L<=z.length?L:z.ended?z.length:(z.needReadable=!0,0))}function G(L){var z=L._readableState;z.needReadable=!1,z.emittedReadable||(g("emitReadable",z.flowing),z.emittedReadable=!0,z.sync?d.nextTick(Y,L):Y(L))}function Y(L){g("emit readable"),L.emit("readable"),S(L)}function W(L,z){z.readingMore||(z.readingMore=!0,d.nextTick(O,L,z))}function O(L,z){for(var K=z.length;!z.reading&&!z.flowing&&!z.ended&&z.length<z.highWaterMark&&(g("maybeReadMore read 0"),L.read(0),K!==z.length);)K=z.length;z.readingMore=!1}function I(L){g("readable nexttick read 0"),L.read(0)}function R(L,z){z.reading||(g("resume read 0"),L.read(0)),z.resumeScheduled=!1,z.awaitDrain=0,L.emit("resume"),S(L),z.flowing&&!z.reading&&L.read(0)}function S(L){var z=L._readableState;for(g("flow",z.flowing);z.flowing&&L.read()!==null;);}function C(L,z){return z.length===0?null:(z.objectMode?K=z.buffer.shift():!L||L>=z.length?(K=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.head.data:z.buffer.concat(z.length),z.buffer.clear()):K=(function(Z,te,H){var ee;return Z<te.head.data.length?(ee=te.head.data.slice(0,Z),te.head.data=te.head.data.slice(Z)):ee=Z===te.head.data.length?te.shift():H?(function(U,F){var J=F.head,re=1,ce=J.data;for(U-=ce.length;J=J.next;){var se=J.data,de=U>se.length?se.length:U;if(de===se.length?ce+=se:ce+=se.slice(0,U),(U-=de)===0){de===se.length?(++re,J.next?F.head=J.next:F.head=F.tail=null):(F.head=J,J.data=se.slice(de));break}++re}return F.length-=re,ce})(Z,te):(function(U,F){var J=h.allocUnsafe(U),re=F.head,ce=1;for(re.data.copy(J),U-=re.data.length;re=re.next;){var se=re.data,de=U>se.length?se.length:U;if(se.copy(J,J.length-U,0,de),(U-=de)===0){de===se.length?(++ce,re.next?F.head=re.next:F.head=F.tail=null):(F.head=re,re.data=se.slice(de));break}++ce}return F.length-=ce,J})(Z,te),ee})(L,z.buffer,z.decoder),K);var K}function k(L){var z=L._readableState;if(z.length>0)throw new Error('"endReadable()" called on non-empty stream');z.endEmitted||(z.ended=!0,d.nextTick(E,z,L))}function E(L,z){L.endEmitted||L.length!==0||(L.endEmitted=!0,z.readable=!1,z.emit("end"))}function M(L,z){for(var K=0,Z=L.length;K<Z;K++)if(L[K]===z)return K;return-1}D.prototype.read=function(L){g("read",L),L=parseInt(L,10);var z=this._readableState,K=L;if(L!==0&&(z.emittedReadable=!1),L===0&&z.needReadable&&(z.length>=z.highWaterMark||z.ended))return g("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?k(this):G(this),null;if((L=$(L,z))===0&&z.ended)return z.length===0&&k(this),null;var Z,te=z.needReadable;return g("need readable",te),(z.length===0||z.length-L<z.highWaterMark)&&g("length less than watermark",te=!0),z.ended||z.reading?g("reading or ended",te=!1):te&&(g("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(L=$(K,z))),(Z=L>0?C(L,z):null)===null?(z.needReadable=!0,L=0):z.length-=L,z.length===0&&(z.ended||(z.needReadable=!0),K!==L&&z.ended&&k(this)),Z!==null&&this.emit("data",Z),Z},D.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},D.prototype.pipe=function(L,z){var K=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=L;break;case 1:Z.pipes=[Z.pipes,L];break;default:Z.pipes.push(L)}Z.pipesCount+=1,g("pipe count=%d opts=%j",Z.pipesCount,z);var te=(!z||z.end!==!1)&&L!==o.stdout&&L!==o.stderr?ee:we;function H(ve,ie){g("onunpipe"),ve===K&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,g("cleanup"),L.removeListener("close",se),L.removeListener("finish",de),L.removeListener("drain",U),L.removeListener("error",ce),L.removeListener("unpipe",H),K.removeListener("end",ee),K.removeListener("end",we),K.removeListener("data",re),F=!0,!Z.awaitDrain||L._writableState&&!L._writableState.needDrain||U())}function ee(){g("onend"),L.end()}Z.endEmitted?d.nextTick(te):K.once("end",te),L.on("unpipe",H);var U=(function(ve){return function(){var ie=ve._readableState;g("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&u(ve,"data")&&(ie.flowing=!0,S(ve))}})(K);L.on("drain",U);var F=!1,J=!1;function re(ve){g("ondata"),J=!1,L.write(ve)!==!1||J||((Z.pipesCount===1&&Z.pipes===L||Z.pipesCount>1&&M(Z.pipes,L)!==-1)&&!F&&(g("false write response, pause",Z.awaitDrain),Z.awaitDrain++,J=!0),K.pause())}function ce(ve){g("onerror",ve),we(),L.removeListener("error",ce),u(L,"error")===0&&L.emit("error",ve)}function se(){L.removeListener("finish",de),we()}function de(){g("onfinish"),L.removeListener("close",se),we()}function we(){g("unpipe"),K.unpipe(L)}return K.on("data",re),(function(ve,ie,ge){if(typeof ve.prependListener=="function")return ve.prependListener(ie,ge);ve._events&&ve._events[ie]?a(ve._events[ie])?ve._events[ie].unshift(ge):ve._events[ie]=[ge,ve._events[ie]]:ve.on(ie,ge)})(L,"error",ce),L.once("close",se),L.once("finish",de),L.emit("pipe",K),Z.flowing||(g("pipe resume"),K.resume()),L},D.prototype.unpipe=function(L){var z=this._readableState,K={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return L&&L!==z.pipes||(L||(L=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,L&&L.emit("unpipe",this,K)),this;if(!L){var Z=z.pipes,te=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var H=0;H<te;H++)Z[H].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=M(z.pipes,L);return ee===-1||(z.pipes.splice(ee,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),L.emit("unpipe",this,K)),this},D.prototype.on=function(L,z){var K=m.prototype.on.call(this,L,z);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&G(this):d.nextTick(I,this))}return K},D.prototype.addListener=D.prototype.on,D.prototype.resume=function(){var L=this._readableState;return L.flowing||(g("resume"),L.flowing=!0,(function(z,K){K.resumeScheduled||(K.resumeScheduled=!0,d.nextTick(R,z,K))})(this,L)),this},D.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},D.prototype.wrap=function(L){var z=this,K=this._readableState,Z=!1;for(var te in L.on("end",(function(){if(g("wrapped end"),K.decoder&&!K.ended){var ee=K.decoder.end();ee&&ee.length&&z.push(ee)}z.push(null)})),L.on("data",(function(ee){g("wrapped data"),K.decoder&&(ee=K.decoder.write(ee)),K.objectMode&&ee==null||(K.objectMode||ee&&ee.length)&&(z.push(ee)||(Z=!0,L.pause()))})),L)this[te]===void 0&&typeof L[te]=="function"&&(this[te]=(function(ee){return function(){return L[ee].apply(L,arguments)}})(te));for(var H=0;H<N.length;H++)L.on(N[H],this.emit.bind(this,N[H]));return this._read=function(ee){g("wrapped _read",ee),Z&&(Z=!1,L.resume())},this},Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),D._fromList=C}).call(this)}).call(this,e("_process"),typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,s,l){s.exports=c;var o=e("./_stream_duplex"),i=Object.create(e("core-util-is"));function d(m,h){var p=this._transformState;p.transforming=!1;var y=p.writecb;if(!y)return this.emit("error",new Error("write callback called multiple times"));p.writechunk=null,p.writecb=null,h!=null&&this.push(h),y(m);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function c(m){if(!(this instanceof c))return new c(m);o.call(this,m),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",a)}function a(){var m=this;typeof this._flush=="function"?this._flush((function(h,p){u(m,h,p)})):u(this,null,null)}function u(m,h,p){if(h)return m.emit("error",h);if(p!=null&&m.push(p),m._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(m._transformState.transforming)throw new Error("Calling transform done when still transforming");return m.push(null)}i.inherits=e("inherits"),i.inherits(c,o),c.prototype.push=function(m,h){return this._transformState.needTransform=!1,o.prototype.push.call(this,m,h)},c.prototype._transform=function(m,h,p){throw new Error("_transform() is not implemented")},c.prototype._write=function(m,h,p){var y=this._transformState;if(y.writecb=p,y.writechunk=m,y.writeencoding=h,!y.transforming){var x=this._readableState;(y.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},c.prototype._read=function(m){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},c.prototype._destroy=function(m,h){var p=this;o.prototype._destroy.call(this,m,(function(y){h(y),p.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,s,l){(function(o,i,d){(function(){var c=e("process-nextick-args");function a(W){var O=this;this.next=null,this.entry=null,this.finish=function(){(function(I,R,S){var C=I.entry;for(I.entry=null;C;){var k=C.callback;R.pendingcb--,k(S),C=C.next}R.corkedRequestsFree.next=I})(O,W)}}s.exports=T;var u,m=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?d:c.nextTick;T.WritableState=N;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var p={deprecate:e("util-deprecate")},y=e("./internal/streams/stream"),x=e("safe-buffer").Buffer,g=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},w,v=e("./internal/streams/destroy");function j(){}function N(W,O){u=u||e("./_stream_duplex"),W=W||{};var I=O instanceof u;this.objectMode=!!W.objectMode,I&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var R=W.highWaterMark,S=W.writableHighWaterMark,C=this.objectMode?16:16384;this.highWaterMark=R||R===0?R:I&&(S||S===0)?S:C,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var k=W.decodeStrings===!1;this.decodeStrings=!k,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(E){(function(M,L){var z=M._writableState,K=z.sync,Z=z.writecb;if((function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0})(z),L)(function(H,ee,U,F,J){--ee.pendingcb,U?(c.nextTick(J,F),c.nextTick(Y,H,ee),H._writableState.errorEmitted=!0,H.emit("error",F)):(J(F),H._writableState.errorEmitted=!0,H.emit("error",F),Y(H,ee))})(M,z,K,L,Z);else{var te=$(z);te||z.corked||z.bufferProcessing||!z.bufferedRequest||P(M,z),K?m(V,M,z,te,Z):V(M,z,te,Z)}})(O,E)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function T(W){if(u=u||e("./_stream_duplex"),!(w.call(T,this)||this instanceof u))return new T(W);this._writableState=new N(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),y.call(this)}function D(W,O,I,R,S,C,k){O.writelen=R,O.writecb=k,O.writing=!0,O.sync=!0,I?W._writev(S,O.onwrite):W._write(S,C,O.onwrite),O.sync=!1}function V(W,O,I,R){I||(function(S,C){C.length===0&&C.needDrain&&(C.needDrain=!1,S.emit("drain"))})(W,O),O.pendingcb--,R(),Y(W,O)}function P(W,O){O.bufferProcessing=!0;var I=O.bufferedRequest;if(W._writev&&I&&I.next){var R=O.bufferedRequestCount,S=new Array(R),C=O.corkedRequestsFree;C.entry=I;for(var k=0,E=!0;I;)S[k]=I,I.isBuf||(E=!1),I=I.next,k+=1;S.allBuffers=E,D(W,O,!0,O.length,S,"",C.finish),O.pendingcb++,O.lastBufferedRequest=null,C.next?(O.corkedRequestsFree=C.next,C.next=null):O.corkedRequestsFree=new a(O),O.bufferedRequestCount=0}else{for(;I;){var M=I.chunk,L=I.encoding,z=I.callback;if(D(W,O,!1,O.objectMode?1:M.length,M,L,z),I=I.next,O.bufferedRequestCount--,O.writing)break}I===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=I,O.bufferProcessing=!1}function $(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function G(W,O){W._final((function(I){O.pendingcb--,I&&W.emit("error",I),O.prefinished=!0,W.emit("prefinish"),Y(W,O)}))}function Y(W,O){var I=$(O);return I&&((function(R,S){S.prefinished||S.finalCalled||(typeof R._final=="function"?(S.pendingcb++,S.finalCalled=!0,c.nextTick(G,R,S)):(S.prefinished=!0,R.emit("prefinish")))})(W,O),O.pendingcb===0&&(O.finished=!0,W.emit("finish"))),I}h.inherits(T,y),N.prototype.getBuffer=function(){for(var W=this.bufferedRequest,O=[];W;)O.push(W),W=W.next;return O},(function(){try{Object.defineProperty(N.prototype,"buffer",{get:p.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(W){return!!w.call(this,W)||this===T&&W&&W._writableState instanceof N}})):w=function(W){return W instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(W,O,I){var R,S=this._writableState,C=!1,k=!S.objectMode&&(R=W,x.isBuffer(R)||R instanceof g);return k&&!x.isBuffer(W)&&(W=(function(E){return x.from(E)})(W)),typeof O=="function"&&(I=O,O=null),k?O="buffer":O||(O=S.defaultEncoding),typeof I!="function"&&(I=j),S.ended?(function(E,M){var L=new Error("write after end");E.emit("error",L),c.nextTick(M,L)})(this,I):(k||(function(E,M,L,z){var K=!0,Z=!1;return L===null?Z=new TypeError("May not write null values to stream"):typeof L=="string"||L===void 0||M.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z&&(E.emit("error",Z),c.nextTick(z,Z),K=!1),K})(this,S,W,I))&&(S.pendingcb++,C=(function(E,M,L,z,K,Z){if(!L){var te=(function(F,J,re){return F.objectMode||F.decodeStrings===!1||typeof J!="string"||(J=x.from(J,re)),J})(M,z,K);z!==te&&(L=!0,K="buffer",z=te)}var H=M.objectMode?1:z.length;M.length+=H;var ee=M.length<M.highWaterMark;if(ee||(M.needDrain=!0),M.writing||M.corked){var U=M.lastBufferedRequest;M.lastBufferedRequest={chunk:z,encoding:K,isBuf:L,callback:Z,next:null},U?U.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else D(E,M,!1,H,z,K,Z);return ee})(this,S,k,W,O,I)),C},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.bufferProcessing||!W.bufferedRequest||P(this,W))},T.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(W,O,I){I(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(W,O,I){var R=this._writableState;typeof W=="function"?(I=W,W=null,O=null):typeof O=="function"&&(I=O,O=null),W!=null&&this.write(W,O),R.corked&&(R.corked=1,this.uncork()),R.ending||(function(S,C,k){C.ending=!0,Y(S,C),k&&(C.finished?c.nextTick(k):S.once("finish",k)),C.ended=!0,S.writable=!1})(this,R,I)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),T.prototype.destroy=v.destroy,T.prototype._undestroy=v.undestroy,T.prototype._destroy=function(W,O){this.end(),O(W)}}).call(this)}).call(this,e("_process"),typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,s,l){var o=e("safe-buffer").Buffer,i=e("util");s.exports=(function(){function d(){(function(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}return d.prototype.push=function(c){var a={data:c,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},d.prototype.unshift=function(c){var a={data:c,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},d.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(c){if(this.length===0)return"";for(var a=this.head,u=""+a.data;a=a.next;)u+=c+a.data;return u},d.prototype.concat=function(c){if(this.length===0)return o.alloc(0);for(var a,u,m,h=o.allocUnsafe(c>>>0),p=this.head,y=0;p;)a=p.data,u=h,m=y,a.copy(u,m),y+=p.data.length,p=p.next;return h},d})(),i&&i.inspect&&i.inspect.custom&&(s.exports.prototype[i.inspect.custom]=function(){var d=i.inspect({length:this.length});return this.constructor.name+" "+d})},{"safe-buffer":520,util:188}],514:[function(e,s,l){var o=e("process-nextick-args");function i(d,c){d.emit("error",c)}s.exports={destroy:function(d,c){var a=this,u=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return u||m?(c?c(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(i,this,d)):o.nextTick(i,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,(function(h){!c&&h?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,o.nextTick(i,a,h)):o.nextTick(i,a,h):c&&c(h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,s,l){arguments[4][490][0].apply(l,arguments)},{dup:490,events:422}],516:[function(e,s,l){s.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,s,l){(l=s.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,s,l){s.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,s,l){s.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,s,l){arguments[4][217][0].apply(l,arguments)},{buffer:220,dup:217}],521:[function(e,s,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,s,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,s,l){(function(o,i){(function(){var d=e("process/browser.js").nextTick,c=Function.prototype.apply,a=Array.prototype.slice,u={},m=0;function h(p,y){this._id=p,this._clearFn=y}l.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(p){p.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(p,y){clearTimeout(p._idleTimeoutId),p._idleTimeout=y},l.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},l._unrefActive=l.active=function(p){clearTimeout(p._idleTimeoutId);var y=p._idleTimeout;y>=0&&(p._idleTimeoutId=setTimeout((function(){p._onTimeout&&p._onTimeout()}),y))},l.setImmediate=typeof o=="function"?o:function(p){var y=m++,x=!(arguments.length<2)&&a.call(arguments,1);return u[y]=!0,d((function(){u[y]&&(x?p.apply(null,x):p.call(null),l.clearImmediate(y))})),y},l.clearImmediate=typeof i=="function"?i:function(p){delete u[p]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,s,l){(function(o){(function(){function i(d){try{if(!o.localStorage)return!1}catch{return!1}var c=o.localStorage[d];return c!=null&&String(c).toLowerCase()==="true"}s.exports=function(d,c){if(i("noDeprecation"))return d;var a=!1;return function(){if(!a){if(i("throwDeprecation"))throw new Error(c);i("traceDeprecation")?console.trace(c):console.warn(c),a=!0}return d.apply(this,arguments)}}}).call(this)}).call(this,typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,s,l){typeof Object.create=="function"?s.exports=function(o,i){o.super_=i,o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(o,i){o.super_=i;var d=function(){};d.prototype=i.prototype,o.prototype=new d,o.prototype.constructor=o}},{}],526:[function(e,s,l){s.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],527:[function(e,s,l){(function(o,i){(function(){var d=/%[sdj%]/g;l.format=function(S){if(!N(S)){for(var C=[],k=0;k<arguments.length;k++)C.push(u(arguments[k]));return C.join(" ")}k=1;for(var E=arguments,M=E.length,L=String(S).replace(d,(function(K){if(K==="%%")return"%";if(k>=M)return K;switch(K){case"%s":return String(E[k++]);case"%d":return Number(E[k++]);case"%j":try{return JSON.stringify(E[k++])}catch{return"[Circular]"}default:return K}})),z=E[k];k<M;z=E[++k])v(z)||!V(z)?L+=" "+z:L+=" "+u(z);return L},l.deprecate=function(S,C){if(T(i.process))return function(){return l.deprecate(S,C).apply(this,arguments)};if(o.noDeprecation===!0)return S;var k=!1;return function(){if(!k){if(o.throwDeprecation)throw new Error(C);o.traceDeprecation?console.trace(C):console.error(C),k=!0}return S.apply(this,arguments)}};var c,a={};function u(S,C){var k={seen:[],stylize:h};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),w(C)?k.showHidden=C:C&&l._extend(k,C),T(k.showHidden)&&(k.showHidden=!1),T(k.depth)&&(k.depth=2),T(k.colors)&&(k.colors=!1),T(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=m),p(k,S,k.depth)}function m(S,C){var k=u.styles[C];return k?"\x1B["+u.colors[k][0]+"m"+S+"\x1B["+u.colors[k][1]+"m":S}function h(S,C){return S}function p(S,C,k){if(S.customInspect&&C&&G(C.inspect)&&C.inspect!==l.inspect&&(!C.constructor||C.constructor.prototype!==C)){var E=C.inspect(k,S);return N(E)||(E=p(S,E,k)),E}var M=(function(U,F){if(T(F))return U.stylize("undefined","undefined");if(N(F)){var J="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(J,"string")}if(j(F))return U.stylize(""+F,"number");if(w(F))return U.stylize(""+F,"boolean");if(v(F))return U.stylize("null","null")})(S,C);if(M)return M;var L=Object.keys(C),z=(function(U){var F={};return U.forEach((function(J,re){F[J]=!0})),F})(L);if(S.showHidden&&(L=Object.getOwnPropertyNames(C)),$(C)&&(L.indexOf("message")>=0||L.indexOf("description")>=0))return y(C);if(L.length===0){if(G(C)){var K=C.name?": "+C.name:"";return S.stylize("[Function"+K+"]","special")}if(D(C))return S.stylize(RegExp.prototype.toString.call(C),"regexp");if(P(C))return S.stylize(Date.prototype.toString.call(C),"date");if($(C))return y(C)}var Z,te="",H=!1,ee=["{","}"];return g(C)&&(H=!0,ee=["[","]"]),G(C)&&(te=" [Function"+(C.name?": "+C.name:"")+"]"),D(C)&&(te=" "+RegExp.prototype.toString.call(C)),P(C)&&(te=" "+Date.prototype.toUTCString.call(C)),$(C)&&(te=" "+y(C)),L.length!==0||H&&C.length!=0?k<0?D(C)?S.stylize(RegExp.prototype.toString.call(C),"regexp"):S.stylize("[Object]","special"):(S.seen.push(C),Z=H?(function(U,F,J,re,ce){for(var se=[],de=0,we=F.length;de<we;++de)R(F,String(de))?se.push(x(U,F,J,re,String(de),!0)):se.push("");return ce.forEach((function(ve){ve.match(/^\d+$/)||se.push(x(U,F,J,re,ve,!0))})),se})(S,C,k,z,L):L.map((function(U){return x(S,C,k,z,U,H)})),S.seen.pop(),(function(U,F,J){return U.reduce((function(re,ce){return ce.indexOf(`
`)>=0,re+ce.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?J[0]+(F===""?"":F+`
 `)+" "+U.join(`,
  `)+" "+J[1]:J[0]+F+" "+U.join(", ")+" "+J[1]})(Z,te,ee)):ee[0]+te+ee[1]}function y(S){return"["+Error.prototype.toString.call(S)+"]"}function x(S,C,k,E,M,L){var z,K,Z;if((Z=Object.getOwnPropertyDescriptor(C,M)||{value:C[M]}).get?K=Z.set?S.stylize("[Getter/Setter]","special"):S.stylize("[Getter]","special"):Z.set&&(K=S.stylize("[Setter]","special")),R(E,M)||(z="["+M+"]"),K||(S.seen.indexOf(Z.value)<0?(K=v(k)?p(S,Z.value,null):p(S,Z.value,k-1)).indexOf(`
`)>-1&&(K=L?K.split(`
`).map((function(te){return"  "+te})).join(`
`).substr(2):`
`+K.split(`
`).map((function(te){return"   "+te})).join(`
`)):K=S.stylize("[Circular]","special")),T(z)){if(L&&M.match(/^\d+$/))return K;(z=JSON.stringify(""+M)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(z=z.substr(1,z.length-2),z=S.stylize(z,"name")):(z=z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),z=S.stylize(z,"string"))}return z+": "+K}function g(S){return Array.isArray(S)}function w(S){return typeof S=="boolean"}function v(S){return S===null}function j(S){return typeof S=="number"}function N(S){return typeof S=="string"}function T(S){return S===void 0}function D(S){return V(S)&&Y(S)==="[object RegExp]"}function V(S){return typeof S=="object"&&S!==null}function P(S){return V(S)&&Y(S)==="[object Date]"}function $(S){return V(S)&&(Y(S)==="[object Error]"||S instanceof Error)}function G(S){return typeof S=="function"}function Y(S){return Object.prototype.toString.call(S)}function W(S){return S<10?"0"+S.toString(10):S.toString(10)}l.debuglog=function(S){if(T(c)&&(c=o.env.NODE_DEBUG||""),S=S.toUpperCase(),!a[S])if(new RegExp("\\b"+S+"\\b","i").test(c)){var C=o.pid;a[S]=function(){var k=l.format.apply(l,arguments);console.error("%s %d: %s",S,C,k)}}else a[S]=function(){};return a[S]},l.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.isArray=g,l.isBoolean=w,l.isNull=v,l.isNullOrUndefined=function(S){return S==null},l.isNumber=j,l.isString=N,l.isSymbol=function(S){return typeof S=="symbol"},l.isUndefined=T,l.isRegExp=D,l.isObject=V,l.isDate=P,l.isError=$,l.isFunction=G,l.isPrimitive=function(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||S===void 0},l.isBuffer=e("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var S=new Date,C=[W(S.getHours()),W(S.getMinutes()),W(S.getSeconds())].join(":");return[S.getDate(),O[S.getMonth()],C].join(" ")}function R(S,C){return Object.prototype.hasOwnProperty.call(S,C)}l.log=function(){console.log("%s - %s",I(),l.format.apply(l,arguments))},l.inherits=e("inherits"),l._extend=function(S,C){if(!C||!V(C))return S;for(var k=Object.keys(C),E=k.length;E--;)S[k[E]]=C[k[E]];return S}}).call(this)}).call(this,e("_process"),typeof hn<"u"?hn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(l,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(l,"v4",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(l,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(l,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(l,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(l,"validate",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(l,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return p.default}});var o=y(e("./v1.js")),i=y(e("./v3.js")),d=y(e("./v4.js")),c=y(e("./v5.js")),a=y(e("./nil.js")),u=y(e("./version.js")),m=y(e("./validate.js")),h=y(e("./stringify.js")),p=y(e("./parse.js"));function y(x){return x&&x.__esModule?x:{default:x}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,s,l){function o(p){return 14+(p+64>>>9<<4)+1}function i(p,y){const x=(65535&p)+(65535&y);return(p>>16)+(y>>16)+(x>>16)<<16|65535&x}function d(p,y,x,g,w,v){return i((j=i(i(y,p),i(g,v)))<<(N=w)|j>>>32-N,x);var j,N}function c(p,y,x,g,w,v,j){return d(y&x|~y&g,p,y,w,v,j)}function a(p,y,x,g,w,v,j){return d(y&g|x&~g,p,y,w,v,j)}function u(p,y,x,g,w,v,j){return d(y^x^g,p,y,w,v,j)}function m(p,y,x,g,w,v,j){return d(x^(y|~g),p,y,w,v,j)}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var h=function(p){if(typeof p=="string"){const y=unescape(encodeURIComponent(p));p=new Uint8Array(y.length);for(let x=0;x<y.length;++x)p[x]=y.charCodeAt(x)}return(function(y){const x=[],g=32*y.length;for(let w=0;w<g;w+=8){const v=y[w>>5]>>>w%32&255,j=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);x.push(j)}return x})((function(y,x){y[x>>5]|=128<<x%32,y[o(x)-1]=x;let g=1732584193,w=-271733879,v=-1732584194,j=271733878;for(let N=0;N<y.length;N+=16){const T=g,D=w,V=v,P=j;g=c(g,w,v,j,y[N],7,-680876936),j=c(j,g,w,v,y[N+1],12,-389564586),v=c(v,j,g,w,y[N+2],17,606105819),w=c(w,v,j,g,y[N+3],22,-1044525330),g=c(g,w,v,j,y[N+4],7,-176418897),j=c(j,g,w,v,y[N+5],12,1200080426),v=c(v,j,g,w,y[N+6],17,-1473231341),w=c(w,v,j,g,y[N+7],22,-45705983),g=c(g,w,v,j,y[N+8],7,1770035416),j=c(j,g,w,v,y[N+9],12,-1958414417),v=c(v,j,g,w,y[N+10],17,-42063),w=c(w,v,j,g,y[N+11],22,-1990404162),g=c(g,w,v,j,y[N+12],7,1804603682),j=c(j,g,w,v,y[N+13],12,-40341101),v=c(v,j,g,w,y[N+14],17,-1502002290),w=c(w,v,j,g,y[N+15],22,1236535329),g=a(g,w,v,j,y[N+1],5,-165796510),j=a(j,g,w,v,y[N+6],9,-1069501632),v=a(v,j,g,w,y[N+11],14,643717713),w=a(w,v,j,g,y[N],20,-373897302),g=a(g,w,v,j,y[N+5],5,-701558691),j=a(j,g,w,v,y[N+10],9,38016083),v=a(v,j,g,w,y[N+15],14,-660478335),w=a(w,v,j,g,y[N+4],20,-405537848),g=a(g,w,v,j,y[N+9],5,568446438),j=a(j,g,w,v,y[N+14],9,-1019803690),v=a(v,j,g,w,y[N+3],14,-187363961),w=a(w,v,j,g,y[N+8],20,1163531501),g=a(g,w,v,j,y[N+13],5,-1444681467),j=a(j,g,w,v,y[N+2],9,-51403784),v=a(v,j,g,w,y[N+7],14,1735328473),w=a(w,v,j,g,y[N+12],20,-1926607734),g=u(g,w,v,j,y[N+5],4,-378558),j=u(j,g,w,v,y[N+8],11,-2022574463),v=u(v,j,g,w,y[N+11],16,1839030562),w=u(w,v,j,g,y[N+14],23,-35309556),g=u(g,w,v,j,y[N+1],4,-1530992060),j=u(j,g,w,v,y[N+4],11,1272893353),v=u(v,j,g,w,y[N+7],16,-155497632),w=u(w,v,j,g,y[N+10],23,-1094730640),g=u(g,w,v,j,y[N+13],4,681279174),j=u(j,g,w,v,y[N],11,-358537222),v=u(v,j,g,w,y[N+3],16,-722521979),w=u(w,v,j,g,y[N+6],23,76029189),g=u(g,w,v,j,y[N+9],4,-640364487),j=u(j,g,w,v,y[N+12],11,-421815835),v=u(v,j,g,w,y[N+15],16,530742520),w=u(w,v,j,g,y[N+2],23,-995338651),g=m(g,w,v,j,y[N],6,-198630844),j=m(j,g,w,v,y[N+7],10,1126891415),v=m(v,j,g,w,y[N+14],15,-1416354905),w=m(w,v,j,g,y[N+5],21,-57434055),g=m(g,w,v,j,y[N+12],6,1700485571),j=m(j,g,w,v,y[N+3],10,-1894986606),v=m(v,j,g,w,y[N+10],15,-1051523),w=m(w,v,j,g,y[N+1],21,-2054922799),g=m(g,w,v,j,y[N+8],6,1873313359),j=m(j,g,w,v,y[N+15],10,-30611744),v=m(v,j,g,w,y[N+6],15,-1560198380),w=m(w,v,j,g,y[N+13],21,1309151649),g=m(g,w,v,j,y[N+4],6,-145523070),j=m(j,g,w,v,y[N+11],10,-1120210379),v=m(v,j,g,w,y[N+2],15,718787259),w=m(w,v,j,g,y[N+9],21,-343485551),g=i(g,T),w=i(w,D),v=i(v,V),j=i(j,P)}return[g,w,v,j]})((function(y){if(y.length===0)return[];const x=8*y.length,g=new Uint32Array(o(x));for(let w=0;w<x;w+=8)g[w>>5]|=(255&y[w/8])<<w%32;return g})(p),8*p.length))};l.default=h},{}],530:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,i=(o=e("./validate.js"))&&o.__esModule?o:{default:o},d=function(c){if(!(0,i.default)(c))throw TypeError("Invalid UUID");let a;const u=new Uint8Array(16);return u[0]=(a=parseInt(c.slice(0,8),16))>>>24,u[1]=a>>>16&255,u[2]=a>>>8&255,u[3]=255&a,u[4]=(a=parseInt(c.slice(9,13),16))>>>8,u[5]=255&a,u[6]=(a=parseInt(c.slice(14,18),16))>>>8,u[7]=255&a,u[8]=(a=parseInt(c.slice(19,23),16))>>>8,u[9]=255&a,u[10]=(a=parseInt(c.slice(24,36),16))/1099511627776&255,u[11]=a/4294967296&255,u[12]=a>>>24&255,u[13]=a>>>16&255,u[14]=a>>>8&255,u[15]=255&a,u};l.default=d},{"./validate.js":541}],532:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,s,l){let o;Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){if(!o&&(o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)};const i=new Uint8Array(16)},{}],534:[function(e,s,l){function o(c,a,u,m){switch(c){case 0:return a&u^~a&m;case 1:return a^u^m;case 2:return a&u^a&m^u&m;case 3:return a^u^m}}function i(c,a){return c<<a|c>>>32-a}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var d=function(c){const a=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const y=unescape(encodeURIComponent(c));c=[];for(let x=0;x<y.length;++x)c.push(y.charCodeAt(x))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const m=c.length/4+2,h=Math.ceil(m/16),p=new Array(h);for(let y=0;y<h;++y){const x=new Uint32Array(16);for(let g=0;g<16;++g)x[g]=c[64*y+4*g]<<24|c[64*y+4*g+1]<<16|c[64*y+4*g+2]<<8|c[64*y+4*g+3];p[y]=x}p[h-1][14]=8*(c.length-1)/Math.pow(2,32),p[h-1][14]=Math.floor(p[h-1][14]),p[h-1][15]=8*(c.length-1)&4294967295;for(let y=0;y<h;++y){const x=new Uint32Array(80);for(let T=0;T<16;++T)x[T]=p[y][T];for(let T=16;T<80;++T)x[T]=i(x[T-3]^x[T-8]^x[T-14]^x[T-16],1);let g=u[0],w=u[1],v=u[2],j=u[3],N=u[4];for(let T=0;T<80;++T){const D=Math.floor(T/20),V=i(g,5)+o(D,w,v,j)+N+a[D]+x[T]>>>0;N=j,j=v,v=i(w,30)>>>0,w=g,g=V}u[0]=u[0]+g>>>0,u[1]=u[1]+w>>>0,u[2]=u[2]+v>>>0,u[3]=u[3]+j>>>0,u[4]=u[4]+N>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};l.default=d},{}],535:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,i=(o=e("./validate.js"))&&o.__esModule?o:{default:o};const d=[];for(let a=0;a<256;++a)d.push((a+256).toString(16).substr(1));var c=function(a){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const m=(d[a[u+0]]+d[a[u+1]]+d[a[u+2]]+d[a[u+3]]+"-"+d[a[u+4]]+d[a[u+5]]+"-"+d[a[u+6]]+d[a[u+7]]+"-"+d[a[u+8]]+d[a[u+9]]+"-"+d[a[u+10]]+d[a[u+11]]+d[a[u+12]]+d[a[u+13]]+d[a[u+14]]+d[a[u+15]]).toLowerCase();if(!(0,i.default)(m))throw TypeError("Stringified UUID is invalid");return m};l.default=c},{"./validate.js":541}],536:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=d(e("./rng.js")),i=d(e("./stringify.js"));function d(p){return p&&p.__esModule?p:{default:p}}let c,a,u=0,m=0;var h=function(p,y,x){let g=y&&x||0;const w=y||new Array(16);let v=(p=p||{}).node||c,j=p.clockseq!==void 0?p.clockseq:a;if(v==null||j==null){const $=p.random||(p.rng||o.default)();v==null&&(v=c=[1|$[0],$[1],$[2],$[3],$[4],$[5]]),j==null&&(j=a=16383&($[6]<<8|$[7]))}let N=p.msecs!==void 0?p.msecs:Date.now(),T=p.nsecs!==void 0?p.nsecs:m+1;const D=N-u+(T-m)/1e4;if(D<0&&p.clockseq===void 0&&(j=j+1&16383),(D<0||N>u)&&p.nsecs===void 0&&(T=0),T>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=N,m=T,a=j,N+=122192928e5;const V=(1e4*(268435455&N)+T)%4294967296;w[g++]=V>>>24&255,w[g++]=V>>>16&255,w[g++]=V>>>8&255,w[g++]=255&V;const P=N/4294967296*1e4&268435455;w[g++]=P>>>8&255,w[g++]=255&P,w[g++]=P>>>24&15|16,w[g++]=P>>>16&255,w[g++]=j>>>8|128,w[g++]=255&j;for(let $=0;$<6;++$)w[g+$]=v[$];return y||(0,i.default)(w)};l.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=d(e("./v35.js")),i=d(e("./md5.js"));function d(a){return a&&a.__esModule?a:{default:a}}var c=(0,o.default)("v3",48,i.default);l.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(u,m,h){function p(y,x,g,w){if(typeof y=="string"&&(y=(function(j){j=unescape(encodeURIComponent(j));const N=[];for(let T=0;T<j.length;++T)N.push(j.charCodeAt(T));return N})(y)),typeof x=="string"&&(x=(0,i.default)(x)),x.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+y.length);if(v.set(x),v.set(y,x.length),v=h(v),v[6]=15&v[6]|m,v[8]=63&v[8]|128,g){w=w||0;for(let j=0;j<16;++j)g[w+j]=v[j];return g}return(0,o.default)(v)}try{p.name=u}catch{}return p.DNS=c,p.URL=a,p},l.URL=l.DNS=void 0;var o=d(e("./stringify.js")),i=d(e("./parse.js"));function d(u){return u&&u.__esModule?u:{default:u}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";l.DNS=c;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";l.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=d(e("./rng.js")),i=d(e("./stringify.js"));function d(a){return a&&a.__esModule?a:{default:a}}var c=function(a,u,m){const h=(a=a||{}).random||(a.rng||o.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){m=m||0;for(let p=0;p<16;++p)u[m+p]=h[p];return u}return(0,i.default)(h)};l.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=d(e("./v35.js")),i=d(e("./sha1.js"));function d(a){return a&&a.__esModule?a:{default:a}}var c=(0,o.default)("v5",80,i.default);l.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,i=(o=e("./regex.js"))&&o.__esModule?o:{default:o},d=function(c){return typeof c=="string"&&i.default.test(c)};l.default=d},{"./regex.js":532}],542:[function(e,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,i=(o=e("./validate.js"))&&o.__esModule?o:{default:o},d=function(c){if(!(0,i.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};l.default=d},{"./validate.js":541}],543:[function(e,s,l){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR=`	
\r ---`,l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function o(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(i){return i>=32&&i<=55295||i===10||i===13||i===9||i>=57344&&i<=65533||i>=65536&&i<=1114111},l.isS=function(i){return i===32||i===10||i===13||i===9},l.isNameStartChar=o,l.isNameChar=function(i){return o(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],544:[function(e,s,l){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR="---",l.RESTRICTED_CHAR="-\b\v\f---",l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.RESTRICTED_CHAR_RE=new RegExp("^["+l.RESTRICTED_CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function o(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(i){return i>=1&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},l.isRestrictedChar=function(i){return i>=1&&i<=8||i===11||i===12||i>=14&&i<=31||i>=127&&i<=132||i>=134&&i<=159},l.isCharAndNotRestricted=function(i){return i===9||i===10||i===13||i>31&&i<127||i===133||i>159&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},l.isS=function(i){return i===32||i===10||i===13||i===9},l.isNameStartChar=o,l.isNameChar=function(i){return o(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],545:[function(e,s,l){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function o(i){return i>=65&&i<=90||i===95||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8204&&i<=8205||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}Object.defineProperty(l,"__esModule",{value:!0}),l.NC_NAME_START_CHAR="A-Z_a-z------------",l.NC_NAME_CHAR="-"+l.NC_NAME_START_CHAR+".0-9--",l.NC_NAME_START_CHAR_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]$","u"),l.NC_NAME_CHAR_RE=new RegExp("^["+l.NC_NAME_CHAR+"]$","u"),l.NC_NAME_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]["+l.NC_NAME_CHAR+"]*$","u"),l.isNCNameStartChar=o,l.isNCNameChar=function(i){return o(i)||i===45||i===46||i>=48&&i<=57||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}]},{},[15])(15)}))})(M0)),M0.exports}var uz=cz();const dz=Jh(uz);var mh={exports:{}},fz=mh.exports,k4;function hz(){return k4||(k4=1,(function(t,r){(function(e,s){s()})(fz,function(){function e(a,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function s(a,u,m){var h=new XMLHttpRequest;h.open("GET",a),h.responseType="blob",h.onload=function(){c(h.response,u,m)},h.onerror=function(){console.error("could not download file")},h.send()}function l(a){var u=new XMLHttpRequest;u.open("HEAD",a,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function o(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(u)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof hn=="object"&&hn.global===hn?hn:void 0,d=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(a,u,m){var h=i.URL||i.webkitURL,p=document.createElement("a");u=u||a.name||"download",p.download=u,p.rel="noopener",typeof a=="string"?(p.href=a,p.origin===location.origin?o(p):l(p.href)?s(a,u,m):o(p,p.target="_blank")):(p.href=h.createObjectURL(a),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(a,u,m){if(u=u||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(e(a,m),u);else if(l(a))s(a,u,m);else{var h=document.createElement("a");h.href=a,h.target="_blank",setTimeout(function(){o(h)})}}:function(a,u,m,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof a=="string")return s(a,u,m);var p=a.type==="application/octet-stream",y=/constructor/i.test(i.HTMLElement)||i.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||p&&y||d)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var j=g.result;j=x?j:j.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=j:location=j,h=null},g.readAsDataURL(a)}else{var w=i.URL||i.webkitURL,v=w.createObjectURL(a);h?h.location=v:location.href=v,h=null,setTimeout(function(){w.revokeObjectURL(v)},4e4)}});i.saveAs=c.saveAs=c,t.exports=c})})(mh)),mh.exports}var pz=hz();async function Dd({name:t,fileName:r,headers:e,getData:s}){const l=s(),o=e instanceof Function?e():e,i=new dz.Workbook,d=i.addWorksheet(t);d.addRow(o),l.forEach(u=>{d.addRow(u)});const c=await i.xlsx.writeBuffer(),a=new Blob([c],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});pz.saveAs(a,`${r}.xlsx`)}const tC=t=>/^\d+$/.test(t);function An(t,r=2,e){return t.toLocaleString(e,{minimumFractionDigits:r,maximumFractionDigits:r})}const Fu=t=>{let{quantity:r,numInBuy:e,purPackUn:s}=t;const l=r<0;r=Math.abs(r);const o=Math.floor(r/(e*s)),i=r%(e*s),d=Math.floor(i/e),c=i%e,a=u=>u===0?0:u*(l?-1:1);return{pack:a(o),dozen:a(d),unit:a(c)}},tl=(t,r,e)=>{const s=[];return r?(s.push(t("inventory.units.box.label"),t("inventory.units.dozen.label")),e&&s.push(t("inventory.units.unit.label"))):s.push(t("quantity")),s},Qy=(t,r,e)=>{const s=[];if(r){const l=Fu(t);s.push(An(l.pack,0),An(l.dozen,0)),e&&s.push(An(l.unit,0))}else s.push(An(t.quantity,0));return s},gh=(t,r)=>{const e=[];return e.push(t.pack,t.dozen),r&&e.push(t.unit),e},mz=()=>{const{t}=Be(),{user:r,unitSelection:e}=bt(),{setLoading:s,setError:l}=Dt(),o=B.useRef(null),[i,d]=B.useState(null),[c,a]=B.useState(null),[u,m]=B.useState(!1),h=B.useCallback(v=>{a(v),m(!0);try{Ga.binCheck(v.entry).then(j=>d(j)).catch(j=>l(j)).finally(()=>m(!1))}catch(j){l(j),m(!1)}},[l]),p=B.useCallback((v,j)=>{const N={code:j,entry:parseInt(v),quantity:1};h(N)},[h]);function y(){a(null),d(null),m(!1),setTimeout(()=>{o?.current?.focus()},1)}const x=()=>i?.map(v=>{const j=[v.itemCode,v.itemName];return j.push(...Qy({quantity:v.onHand,numInBuy:v.numInBuy,purPackUn:v.purPackUn},e,r?.settings.enableUseBaseUn)),j})??[],g=()=>{const v=[t("code"),t("description")];return v.push(...tl(t,e,r?.settings.enableUseBaseUn)),v};return{setLoading:s,setError:l,binRef:o,user:r,binContent:i,setBinContent:d,onScan:h,onBinClear:y,excelData:x,handleExportExcel:async()=>{await Dd({name:"BinCheck",headers:g,getData:x,fileName:`binCheck_${o?.current?.getBin()}`})},bin:c,executeBinCheck:p,isCheckingBin:u}},gz=()=>{const{t}=Be(),{user:r}=bt(),[e,s]=Te.useState(""),[l,o]=Te.useState(""),[i,d]=Te.useState(null),[c,a]=Te.useState(!1),[u,m]=Te.useState(!1),[h,p]=Te.useState(!1),{setError:y}=Dt(),x=B.useRef(null),g=B.useRef(null),w=fn(),v=()=>{if(r.settings.scannerMode===Ls.ItemCode){setTimeout(()=>g?.current?.focus(),1);return}setTimeout(()=>x?.current?.focus(),1)};B.useEffect(()=>{v()},[x,g,v]);function j($=!0){let G=e.length===0,Y=l.length===0;if(G&&Y){$&&$n.warning(t("barcodeOrItemRequired"));return}a(!0),N(l,e)}const N=B.useCallback(($,G)=>{Ga.itemCheck($,G).then(Y=>{d(Y),Y.length===0&&($n.error(t("noDataFound")),s(""),o(""),d(null),v(),w("/itemCheck"))}).catch(Y=>y(Y)).finally(()=>{a(!1),p(!1),m(!1)})},[y,t]);function T($,G,Y){m(!0),D($,G,Y)}function D($,G,Y){Ga.updateItemBarCode($,G,Y).then(W=>{if(W.status===W5.Ok)N($,"");else{let O;W.existItem!=null?O=`Barcode ${Y} already exists for item ${W.existItem}`:O=W.errorMessage??"Unknown error",y(O),m(!1)}}).catch(W=>{y(W),m(!1)}).finally(function(){d(i)})}async function V($){if(i==null)return;let G=i[$].itemCode;if(window.confirm(En(t("confirmItemBarCode"),G,e))){p(!0);try{for(let Y=0;Y<i.length;Y++)Y!==$&&await Ga.updateItemBarCode(i[Y].itemCode,[e],"");N(G,"")}catch(Y){y(Y),p(!1)}}}function P(){o(""),s(""),d(null)}return{barcodeInput:e,setBarcodeInput:s,itemCodeInput:l,setItemCodeInput:o,result:i,setResult:d,barcodeInputRef:x,codeInputRef:g,isChecking:c,isUpdating:u,isSettingBarcode:h,handleCheckSubmit:j,executeItemCheck:N,handleUpdateSubmit:T,executeUpdateItemBarcode:D,handleSetBarcodeItem:V,handleClear:P}};function bz(t){return{id:t.id,description:t.description,type:t.type,step:t.step,required:t.required,readOnly:t.readOnly,calculated:t.calculated}}const yz=(t,r)=>{const e=r||[],s=B.useMemo(()=>e.map(bz),[e]),l=B.useCallback(async h=>{if(!t?.itemCode)throw new Error("Item code is required for saving metadata");const p={metadata:h};return await q2(t.itemCode,p)},[t?.itemCode]),o=AS({definitions:s,initialValues:t?.customAttributes||{},onSave:l}),i=MS({definitions:s,onFieldsUpdate:h=>{o.setFormState(p=>({...p,fields:h}))}}),d=B.useCallback((h,p)=>{o.setFormState(y=>{let x=y.fields.map(N=>{if(N.fieldId===h){const T=ES(h,p,s);return{...N,value:p,isValid:T.isValid,errorMessage:T.errorMessage}}return N});s.find(N=>N.id===h)?.calculated?.clearDependenciesOnManualEdit?x=i.handleManualEditOfCalculatedField(h,x):x=i.recalculateFields(x);const v=x.every(N=>N.isValid),j=x.some(N=>t?.customAttributes?.[N.fieldId]!==N.value);return{...y,fields:x,isValid:v,hasChanges:j}})},[o,s,i,t?.customAttributes]),c=B.useCallback(()=>{o.setFormState(h=>{let p=[...h.fields];const y=RS(p);return s.filter(g=>g.calculated).forEach(g=>{if(!g.calculated)return;const{formula:w,dependencies:v,precision:j}=g.calculated;if(v.every(T=>{const D=y[T];return D!=null&&!isNaN(Number(D))})){const T=i.evaluateFormula(w,y);if(T!==null){const D=Number(T.toFixed(j));p=p.map(V=>V.fieldId===g.id?{...V,value:D,isValid:!0,errorMessage:void 0}:V)}}}),{...h,fields:p}})},[o,s,i]),a=B.useCallback(async h=>{const p={};o.formState.fields.forEach(g=>{g.value!==null&&g.value!==void 0&&g.value!==""?p[g.fieldId]=sy(g.fieldId,g.value,s):p[g.fieldId]=null});const x=await q2(h,{metadata:p});return o.setFormState(g=>({...g,hasChanges:!1})),x},[o.formState.fields,o.setFormState,s]),u=B.useCallback(h=>{i.onFieldFocus(h)},[i]),m=B.useCallback(h=>{const p=i.onFieldBlur(h,o.formState.fields);p!==o.formState.fields&&o.setFormState(y=>({...y,fields:p}))},[i,o.formState.fields,o.setFormState]);return B.useMemo(()=>{s.length>0&&o.formState.fields.length>0&&c()},[t?.customAttributes]),{definitions:e,formState:o.formState,updateFieldValue:d,saveMetadata:a,resetForm:o.resetForm,getFieldDefinition:h=>e.find(p=>p.id===h),getFieldValue:o.getFieldValue,getFieldValidation:o.getFieldValidation,onFieldFocus:u,onFieldBlur:m}},xz=()=>{const{t}=Be(),{setLoading:r,setError:e}=Dt(),s=B.useRef(null),{user:l}=bt(),[o,i]=B.useState(null),[d,c]=B.useState(!1),[a,u]=B.useState(!1),m=B.useCallback(v=>{i(v)},[]),h=B.useCallback(async(v,j)=>{c(!0);try{const N=await Rh({barcode:j,contents:!0,details:!0});N?i(N):e(new Error(t("packages.packageNotFound")))}catch(N){N?.response?.status===404?e(new Error(t("packages.packageNotFound"))):e(N)}finally{c(!1)}},[e,t]);function p(){i(null),setTimeout(()=>{s?.current?.focus()},1)}async function y(){if(o){u(!0);try{const v=await Rh({barcode:o.barcode,contents:!0,details:!0});v?i(v):e(new Error(t("packages.packageNotFound")))}catch(v){v?.response?.status===404?e(new Error(t("packages.packageNotFound"))):e(v)}finally{u(!1)}}}const x=()=>o?.contents?o.contents.map(v=>{const j=Fu({quantity:v.quantity,numInBuy:v.itemData?.quantityInUnit||1,purPackUn:v.itemData?.quantityInPack||1});return[v.itemCode,v.itemData?.itemName||"",...gh(j,l?.settings.enableUseBaseUn),v.unitType,v.binCode||"",v.whsCode,new Date(v.createdAt).toLocaleDateString(),v.createdBy?.name||""]}):[],g=[t("code"),t("itemName"),...tl(t,!0,l?.settings.enableUseBaseUn),t("unitType"),t("binCode"),t("whsCode"),t("createdAt"),t("createdBy")];return{setLoading:r,setError:e,packageRef:s,user:l,packageData:o,setPackageData:i,isCheckingPackage:d,isRefreshingPackage:a,onScan:m,onPackageClear:p,refreshPackageData:y,excelData:x,excelHeaders:g,handleExportExcel:async()=>{o&&await Dd({name:"PackageCheck",headers:g,getData:x,fileName:`packagecheck_${o.barcode}`})},executePackageCheck:h}},kb=({itemCode:t,onItemUpdate:r,triggerButton:e,className:s})=>{const{t:l}=Be(),{user:o}=bt(),{setError:i}=Dt(),[d,c]=B.useState(!1),[a,u]=B.useState(!1),[m,h]=B.useState({}),[p,y]=B.useState(null),x=o.itemMetaData,g=x&&x.length>0,w=x&&x.some(T=>!T.readOnly)&&(o.superUser||o?.roles?.includes(Ae.ITEM_MANAGEMENT));B.useEffect(()=>{(async()=>{if(!(!d||!g))try{u(!0);const D=await Th(t);h(D.metadata||{}),y({itemCode:t,itemName:t,customAttributes:D.metadata||{},metadataDefinitions:x,numInBuy:1,purPackUn:1})}catch(D){console.error("Failed to load item metadata:",D),i(D),h({})}finally{u(!1)}})()},[d,t,g,x,i]);const v=async T=>{r?.(T),c(!1);try{const D=await Th(t);h(D.metadata||{})}catch(D){console.error("Failed to reload item metadata:",D)}},j=()=>{c(!1)};if(!g||!w)return null;const N=n.jsxs(Ie,{variant:"ghost",size:"sm",className:"h-8 px-2",children:[n.jsx(fo,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:l("editMetadata")})]});return n.jsxs(lr,{open:d,onOpenChange:c,children:[n.jsx(QS,{asChild:!0,className:s,children:e||N}),n.jsxs(cr,{className:"max-w-2xl",children:[n.jsx(ur,{children:n.jsx(dr,{children:l("editMetadata")})}),a?n.jsxs("div",{className:"space-y-4 p-4","aria-label":"Loading...",children:[x?.slice(0,3).map((T,D)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-10 w-full"})]},D)),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Q,{className:"h-10 flex-1"}),n.jsx(Q,{className:"h-10 flex-1"}),n.jsx(Q,{className:"h-10 w-20"})]})]}):p?n.jsx(az,{itemData:p,onSave:v,onCancel:j,className:"border-0 shadow-none"}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:l("nodata")})]})]})},nC=t=>{const r=t?.itemMetaData,e=r&&r.length>0,s=r&&r.some(o=>!o.readOnly),l=t?.superUser||t?.roles?.includes(Ae.ITEM_MANAGEMENT);return!!(e&&s&&l)},nh=t=>{switch(t){case"Positive":return"Positive";case"Negative":return"Negative";case"Warning":return"Warning";case"Information":default:return"Information"}};var Ya=(t=>(t[t.None=-1]="None",t[t.Comments=0]="Comments",t[t.Cancel=1]="Cancel",t[t.Quantity=2]="Quantity",t))(Ya||{});const em=({alert:t,onAction:r,enableComment:e})=>{const{t:s}=Be(),{user:l}=bt(),[o,i]=B.useState(!1),d=ni(),c=t.itemCode&&nC(l);k5();const a=nh(t.severity),u=()=>{let x="p-4 rounded-md relative",g=t.canceled??!1;switch((g||t.multiple!=null&&t.multiple.length>0)&&(x+=" bg-gray-300 opacity-60"),g&&(x+=" line-through"),a){case"Positive":return`${x} bg-green-100 border-green-400 text-green-700`;case"Negative":return`${x} bg-red-100 border-red-400 text-red-700`;case"Warning":return`${x} bg-yellow-100 border-yellow-400 text-yellow-700`;case"Information":default:return`${x} bg-blue-100 border-blue-400 text-blue-700`}};let m=l.settings;const h=()=>{switch(t.unit){case an.Unit:return" "+(t.quantity===1?s("inventory.units.unit.label"):s("inventory.units.unit.multiple"));case an.Dozen:return" "+(m.dozensLabel??s("inventory.units.dozen.label"));case an.Pack:return" "+(m.boxLabel??s("inventory.units.box.label"));default:return null}},p=x=>{if(!x.itemData)return`${x.quantity} ${s("units")}`;const g=x.itemData,w=Math.floor(x.quantity/(g.quantityInUnit*g.quantityInPack)),v=x.quantity%(g.quantityInUnit*g.quantityInPack),j=Math.floor(v/g.quantityInUnit),N=v%g.quantityInUnit,T=[];return w>0&&T.push(`${w} ${g.packMeasure||"Box"}`),j>0&&T.push(`${j} ${g.unitMeasure||"Doz"}`),N>0&&T.push(`${N} ${s("units")}`),T.join(", ")||"0"},y=t.packageContents&&t.packageContents.length>0;return n.jsxs("div",{className:"relative p-1 rounded-md overflow-hidden",children:[n.jsxs("div",{className:u(),children:[t.itemCode&&l.settings.scannerMode===Ls.ItemCode&&n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s("item")}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-800",children:t.itemCode}),c&&n.jsx(kb,{itemCode:t.itemCode,triggerButton:n.jsxs(Ie,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[n.jsx(fo,{className:"w-4 h-4"}),s("editMetadata")]})})]})]}),t.barcode&&l.settings.scannerMode===Ls.ItemBarcode&&n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s("barcode")}),n.jsx("h4",{className:"font-bold text-lg text-gray-800",children:t.barcode})]}),t.package&&n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s("package")}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-800",children:t.package.barcode}),y&&n.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>i(!0),className:"flex items-center gap-1",children:[n.jsx(h2,{className:"w-4 h-4"}),s("viewContents")]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:s("time")}),n.jsx("div",{className:"font-medium",children:t.timeStamp})]}),t.itemCode&&l.settings.scannerMode===Ls.ItemBarcode&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:s("item")}),n.jsx("div",{className:"font-medium",children:t.itemCode})]})]}),t.itemCode&&n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.quantity&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:s("quantity")}),n.jsxs("div",{className:"font-medium",children:[t.quantity,h()]})]}),!t.unit&&t.purPackUn&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:s("packageQuantity")}),n.jsxs("div",{className:"font-medium",children:[t.quantity*t.purPackUn," ",t.buyUnitMsr]})]}),t.unit!==an.Unit&&t.numInBuy&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:s("purchasingUoM")}),n.jsxs("div",{className:"font-medium",children:[t.numInBuy," ",t.buyUnitMsr]})]}),t.unit===an.Pack&&t.purPackUn&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:s("packagingUoM")}),n.jsxs("div",{className:"font-medium",children:[t.purPackUn," ",t.purPackMsr]})]})]}),t.message&&n.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:s("message")}),n.jsx("div",{className:"text-sm",children:t.message})]}),t.customFields&&n.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.jsx(X5,{customFields:t.customFields,render:(x,g,w)=>n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:x.description}),n.jsx("div",{className:"font-medium",children:g})]},`custom-${w}`)})}),t.multiple!=null&&t.multiple.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:s("messages")}),n.jsx("div",{className:"space-y-2",children:t.multiple.map((x,g)=>n.jsx("div",{className:`p-3 rounded-md text-sm border-l-4 ${nh(x.severity)==="Positive"?"bg-green-50 border-green-400":nh(x.severity)==="Negative"?"bg-red-50 border-red-400":nh(x.severity)==="Warning"?"bg-yellow-50 border-yellow-400":"bg-blue-50 border-blue-400"}`,children:x.message},g))})]})]}),!(t.canceled??!1)&&a!=="Negative"&&!t.packageContents||c&&l.settings.scannerMode===Ls.ItemBarcode?n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex flex-col md:flex-row gap-2",children:[!(t.canceled??!1)&&a!=="Negative"&&!t.packageContents&&n.jsxs(n.Fragment,{children:[n.jsxs(Ie,{variant:"outline",onClick:()=>r(2),className:"flex items-center justify-center gap-2 w-full md:w-auto",children:[n.jsx(vT,{className:"h-4 w-4"}),n.jsx("span",{children:s("editQuantity")})]}),e&&n.jsxs(Ie,{variant:"outline",onClick:()=>r(0),className:"flex items-center justify-center gap-2 w-full md:w-auto",children:[n.jsx(fT,{className:"h-4 w-4"}),n.jsx("span",{children:s("addComment")})]})]}),c&&l.settings.scannerMode===Ls.ItemBarcode&&t.itemCode&&n.jsx(kb,{itemCode:t.itemCode,triggerButton:n.jsxs(Ie,{variant:"outline",className:"flex items-center justify-center gap-2 w-full md:w-auto",children:[n.jsx(fo,{className:"h-4 w-4"}),n.jsx("span",{children:s("editMetadata")})]})})]}):null]}),n.jsx(lr,{open:o,onOpenChange:i,children:n.jsxs(cr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsx(ur,{children:n.jsxs(dr,{className:"flex items-center gap-2",children:[n.jsx(h2,{className:"w-5 h-5"}),s("packageContents"),t.package&&n.jsx("span",{className:"text-sm font-mono text-gray-600",children:t.package.barcode})]})}),n.jsxs("div",{className:"space-y-4",children:[t.packageContents?.map((x,g)=>n.jsx(ot,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Ky,{itemCode:x.itemCode})}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",children:x.itemData?.itemName||x.itemCode}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p(x)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:s("quantity")}),n.jsx("p",{className:"font-semibold",children:x.itemData?d({quantity:x.quantity,numInBuy:x.itemData.quantityInUnit,buyUnitMsr:x.itemData.unitMeasure,purPackUn:x.itemData.quantityInPack,purPackMsr:x.itemData.packMeasure}):`${x.quantity} ${s("units")}`})]})]})},g)),(!t.packageContents||t.packageContents.length===0)&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:s("noPackageContents")})]})]})})]})},vz=({showSupervisorField:t=!1})=>n.jsxs("div",{className:"space-y-4","aria-label":"Loading cancel form...",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-16 w-full rounded"})]}),t&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-9 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-9 w-full"})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Q,{className:"h-9 w-16"}),n.jsx(Q,{className:"h-9 w-16"})]})]}),wz=B.forwardRef((t,r)=>{const{t:e}=Be(),{setError:s}=Dt(),[l,o]=B.useState(t.alert?.comment||""),[i,d]=B.useState(""),[c,a]=B.useState(null),[u,m]=B.useState([]),h=B.useRef(null),[p,y]=B.useState(!1),[x,g]=B.useState(!1),[w,v]=B.useState(!1);function j(T){if(T.preventDefault(),v(!0),t.alert?.lineId==null)throw new Error("Line ID is not defined");t.updateLine({id:t.id,lineId:t.alert.lineId,comment:l,userName:i,reason:c?.value??-1}).then(D=>{let V=null;switch(D.returnValue){case Is.Status:V=e("updateLineStatusError");break;case Is.LineStatus:V=e("updateLineLineStatusError");break;case Is.CloseReason:V=e("updateLineReason");break;case Is.SupervisorPassword:V=e("updateLineWrongSupervisorPassword");break;case Is.NotSupervisor:V=e("updateLineNotSupervisorError");break}if(V!==null){s(V),d(""),v(!1),setTimeout(()=>h.current?.focus(),100);return}t.onAccept(l,!0),y(!1),t.updateComplete==null?v(!1):t.updateComplete()}).catch(D=>{s(D),v(!1)})}B.useImperativeHandle(r,()=>({show(T){T?(o(t.alert?.comment||""),a(null),d(""),g(!0),lR(t.reasonType).then(D=>{m(D),y(!0)}).catch(D=>{s(D)}).finally(()=>g(!1))):y(!1)}}));const N=T=>{const D=u.find(V=>V.value.toString()===T);a(D||null)};return n.jsx(lr,{open:p,onOpenChange:y,children:n.jsxs(cr,{className:"sm:max-w-[425px]",children:[n.jsxs(ur,{children:[n.jsx(dr,{children:e("cancel")}),t.alert?.barcode&&n.jsxs(_i,{children:[n.jsxs("strong",{children:[e("barcode"),": "]}),t.alert?.barcode]}),n.jsxs(_i,{children:[n.jsxs("strong",{children:[e("item"),": "]}),t.alert?.itemCode]})]}),x||w?n.jsx(vz,{showSupervisorField:t.supervisorPassword??!1}):n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"comment",children:e("comment")}),n.jsx(pl,{id:"comment",value:l,onChange:T=>o(T.target.value),rows:3,className:"w-full"})]}),(t.supervisorPassword??!1)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"supervisorCode",children:e("supervisorCode")}),n.jsx(on,{required:!0,id:"supervisorCode",name:"username",ref:h,type:"password",value:i,onChange:T=>d(T.target.value),className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"reason",children:e("reason")}),n.jsxs(us,{value:c?.value?.toString()||"",onValueChange:N,children:[n.jsx(fs,{id:"reason",className:"w-full",children:n.jsx(ds,{placeholder:e("selectReason")})}),n.jsx(hs,{children:u.map(T=>n.jsx(mr,{value:T.value.toString(),children:T.description},T.value))})]})]}),n.jsxs(ra,{children:[n.jsx(Ie,{type:"button",variant:"outline",onClick:()=>y(!1),children:e("cancel")}),n.jsx(Ie,{type:"submit",children:e("accept")})]})]})]})})}),jz=()=>n.jsxs("div",{className:"space-y-4 py-4","aria-label":"Loading comment form...",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-24 w-full rounded"})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Q,{className:"h-9 w-16"}),n.jsx(Q,{className:"h-9 w-16"})]})]}),Sz=B.forwardRef((t,r)=>{const{t:e}=Be(),{setError:s}=Dt(),[l,o]=B.useState(t.alert?.comment||""),[i,d]=B.useState(!1),[c,a]=B.useState(!1),u=()=>{if(a(!0),t.alert?.lineId==null)throw new Error("Line ID is not defined");t.updateLine({id:t.id,lineId:t.alert.lineId,comment:l}).then(m=>{t.onAccept(l),d(!1),t.updateComplete==null?a(!1):t.updateComplete()}).catch(m=>{s(m),a(!1)})};return B.useImperativeHandle(r,()=>({show(m){o(t.alert?.comment||""),d(m)}})),n.jsx(lr,{open:i,onOpenChange:d,children:n.jsxs(cr,{className:"sm:max-w-[425px]",children:[n.jsxs(ur,{children:[n.jsx(dr,{children:e("comment")}),t.alert?.barcode&&n.jsxs(_i,{children:[n.jsxs("strong",{children:[e("barcode"),": "]}),t.alert?.barcode]})]}),c?n.jsx(jz,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2 py-4",children:[n.jsx(cn,{htmlFor:"commentArea",children:e("comment")}),n.jsx(pl,{id:"commentArea",value:l,onChange:m=>o(m.target.value),rows:5,className:"w-full"})]}),n.jsxs(ra,{children:[n.jsx(Ie,{type:"button",variant:"outline",onClick:()=>d(!1),children:e("cancel")}),n.jsx(Ie,{type:"button",onClick:u,children:e("accept")})]})]})]})})});function Zy(t,r){if(t===""||t===null||t===void 0)return 0;if(r){const e=parseFloat(t);return isNaN(e)?0:e}else{const e=parseInt(t,10);return isNaN(e)?0:e}}function Gh(t){return t?"0.01":"1"}const _z=B.forwardRef((t,r)=>{const{t:e}=Be(),{setLoading:s,setError:l}=Dt(),{user:o}=bt(),[i,d]=B.useState(""),[c,a]=B.useState(t.alert?.quantity??1),u=B.useRef(null),[m,h]=B.useState(!1),p=o?.settings?.enableDecimalQuantities??!1;function y(g){if(g.preventDefault(),s(!0),t.alert?.lineId==null)throw new Error("Line ID is not defined");t.updateLine({id:t.id,lineId:t.alert.lineId,quantity:c,userName:i}).then(w=>{let v=null;switch(w.returnValue){case Is.Status:v=e("updateLineStatusError");break;case Is.LineStatus:v=e("updateLineLineStatusError");break;case Is.CloseReason:v=e("updateLineReason");break;case Is.SupervisorPassword:v=e("updateLineWrongSupervisorPassword");break;case Is.NotSupervisor:v=e("updateLineNotSupervisorError");break;case Is.QuantityMoreThenAvailable:v=e("updateLineQuantityMoreThenAvailableError");break}if(v!==null){l(v),d(""),s(!1),setTimeout(()=>u.current?.focus(),100);return}t.onAccept(c),h(!1),t.updateComplete==null?s(!1):t.updateComplete()}).catch(w=>{l(w),s(!1)})}B.useImperativeHandle(r,()=>({show(g){a(t.alert?.quantity??1),d(""),h(g),g&&setTimeout(()=>u.current?.focus(),0)}}));const x=t.alert?.unit===an.Unit?e("unit"):t.alert?.unit===an.Dozen?t.alert?.buyUnitMsr||e("qtyInUn"):t.alert?.purPackMsr||e("packUn");return n.jsx(lr,{open:m,onOpenChange:h,children:n.jsxs(cr,{className:"sm:max-w-[425px]",children:[n.jsx(ur,{children:n.jsx(dr,{children:e("quantity")})}),n.jsxs(K5,{children:[t.alert?.barcode&&n.jsx(_t,{label:e("barcode"),value:t.alert?.barcode}),n.jsx(_t,{label:e("item"),value:t.alert?.itemCode}),t.alert?.unit&&n.jsx(_t,{label:e("unit"),value:x})]}),n.jsxs("form",{onSubmit:y,className:"space-y-4 py-4",children:[t.supervisorPassword&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"supervisorCodeQty",children:e("supervisorCode")}),n.jsx(on,{required:!0,id:"supervisorCodeQty",name:"username",type:"password",value:i,onChange:g=>d(g.target.value),className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"quantityInput",children:e("quantity")}),n.jsx(on,{required:!0,id:"quantityInput",name:"quantity",ref:u,type:"number",step:Gh(p),min:"0",value:c?.toString(),onChange:g=>{const w=g.target.value;a(w===""?0:Zy(w,p))},className:"w-full"})]}),n.jsxs(ra,{children:[n.jsx(Ie,{type:"button",variant:"outline",onClick:()=>h(!1),children:e("cancel")}),n.jsx(Ie,{type:"submit",children:e("accept")})]})]})]})})}),tm=B.forwardRef((t,r)=>{const e=B.useRef(null),s=B.useRef(null),l=B.useRef(null);return B.useImperativeHandle(r,()=>({open:o=>{switch(o){case Ya.Cancel:e?.current?.show(!0);break;case Ya.Quantity:s?.current?.show(!0);break;case Ya.Comments:l?.current?.show(!0);break}}})),n.jsxs(n.Fragment,{children:[t.onCancel&&n.jsx(wz,{id:t.id,alert:t.alert,ref:e,supervisorPassword:t.supervisorPassword,onAccept:t.onCancel,reasonType:t.reasonType,updateLine:t.onUpdateLine,updateComplete:t.onUpdateComplete}),t.onQuantityChanged&&n.jsx(_z,{id:t.id,alert:t.alert,ref:s,supervisorPassword:t.supervisorPassword,onAccept:t.onQuantityChanged,updateLine:t.onUpdateLine,updateComplete:t.onUpdateComplete}),t.onCommentsChanged&&n.jsx(Sz,{id:t.id,alert:t.alert,ref:l,onAccept:t.onCommentsChanged,updateLine:t.onUpdateLine,updateComplete:t.onUpdateComplete})]})}),Ht=({element:t,authorization:r,authorizations:e,superUser:s,...l})=>{const{isAuthenticated:o,user:i,isLoading:d}=bt();if(d)return n.jsx("div",{className:"min-h-screen bg-gray-50 p-4","aria-label":"Loading...",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Q,{className:"h-8 w-48"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{className:"h-8 w-8 rounded"}),n.jsx(Q,{className:"h-8 w-24"})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Q,{className:"h-6 w-64"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((c,a)=>n.jsxs("div",{className:"p-4 border rounded space-y-3",children:[n.jsx(Q,{className:"h-5 w-32"}),n.jsx(Q,{className:"h-4 w-full"}),n.jsx(Q,{className:"h-4 w-3/4"})]},a))})]})})]})});if(o){if(r!==void 0&&!i?.roles.includes(r)&&!i?.superUser||e!==void 0&&!e.some(c=>i?.roles.includes(c))&&!i?.superUser||s&&!i?.superUser)return n.jsx(Bw,{to:"/unauthorized"})}else return n.jsx(Bw,{to:"/login"});return Te.cloneElement(t,l)};function Cz(){const{t}=Be(),[r]=sE(),e=r.get("errorCode"),{user:s}=bt(),l=()=>{switch(e){case"401":return t("unauthorizedMessage401")||"Your session has expired. Please log in again.";case"403":return t("unauthorizedMessage403")||"You don't have permission to access this resource.";default:return t("unauthorizedMessage")||"You are not authorized to access this resource."}};return n.jsx(xn,{title:t("unauthorized"),children:n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsxs(ot,{className:"w-full max-w-md p-6 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:t("unauthorized")}),n.jsx("p",{className:"mb-4",children:l()}),s?.deviceStatus===Lr.Active&&n.jsx(Ja,{className:"text-blue-600 hover:underline",to:"/",children:t("returnToHome")})]})})})}const Nz=()=>{const[t,r]=B.useState([]),[e,s]=B.useState(!1),[l,o]=B.useState(!1),[i,d]=B.useState(!1),[c,a]=B.useState(""),[u,m]=B.useState(""),{setLoading:h}=Dt(),p=fn(),{login:y,isValidAccount:x,companyInfo:g,connectionError:w,isLoading:v,reloadCompanyInfo:j}=bt(),{t:N,i18n:T}=Be();B.useEffect(()=>{window.location.search.includes("logout=true")&&p("/login?logout=true"),j()},[j]);const D=W=>{const O=W.target.value;T.changeLanguage(O),new pj().set("userLanguage",O,{path:"/",expires:new Date(new Date().setFullYear(new Date().getFullYear()+10))})},V=()=>{a(""),m(""),o(!1),d(!1)},P=async W=>{W.preventDefault();const O=new FormData(W.currentTarget),I=O.get("password"),R=O.get("warehouse"),S=O.get("newDeviceName");h(!0),d(!1);try{const C=await y(I,R||void 0,S||void 0);C.deviceStatus===Lr.Active&&x?p("/"):C.superUser&&(C.deviceStatus!==Lr.Active?p("/settings/devices"):p("/settings/license"))}catch(C){if(console.debug("Login: Full error object:",C),!C.response&&C.message){console.error("Login: Network/CORS error:",C.message),a(`Network error: ${C.message}. Check console for details.`),m("network_error");return}const k=C?.response?.data,E=k?.error;E==="WAREHOUSE_SELECTION_REQUIRED"?(r(k.data.warehouses),s(!0),a(""),m("")):E==="NEW_DEVICE_NAME"?(o(!0),d(!1),a(""),m("")):E==="NEW_DEVICE_TAKEN"?(d(!0),a(""),m(""),setTimeout(()=>{const M=document.getElementById("newDeviceName");M&&M.focus()},100)):E==="invalid_grant"?(m("invalid_grant"),a("")):(m(""),a(k?.error_description||C.message))}finally{h(!1)}},$=()=>g?.deviceStatus&&g.deviceStatus!==Lr.Active||!1,G=()=>g?.accountStatus?[Jn.Invalid,Jn.PaymentDue,Jn.PaymentDueUnknown,Jn.Demo,Jn.DemoExpired,Jn.Disabled].includes(g.accountStatus):!1,Y=()=>g?.accountStatus===Jn.Disabled;return{warehouses:t,requiresWarehouse:e,requiresDeviceName:l,deviceNameTaken:i,errorMessage:c,errorType:u,companyInfo:g,connectionError:w,isCompanyInfoLoading:v,currentLanguage:T.language,handleSubmit:P,handleLanguageChange:D,clearError:V,reloadCompanyInfo:j,shouldShowDeviceStatusBanner:$,shouldShowAccountStatusBanner:G,isAccountDisabled:Y,t:N}},kz=({companyName:t,loginText:r})=>n.jsxs("div",{className:"flex flex-col items-center mb-6",children:[n.jsx("img",{src:"/images/ezy_wms.png",alt:"Company Logo",className:"w-auto h-20 mb-4 object-contain"}),n.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-1",children:t||"COMPANY NAME"}),n.jsx("p",{className:"text-center text-gray-500",children:r})]}),Ez=({errorMessage:t,errorType:r,invalidGrantText:e,loginErrorText:s})=>!t&&!r?null:n.jsxs(ar,{className:"bg-red-50 border-red-200 mb-4",children:[n.jsx(sr,{className:"h-4 w-4 text-red-600"}),n.jsx(Kn,{className:"text-red-800",children:r==="invalid_grant"?e:`${s}: ${t}`})]}),Rz=({label:t,disabled:r})=>n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:t}),n.jsx("input",{type:"password",name:"password",id:"password",required:!0,disabled:r,className:`w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-100 cursor-not-allowed":""}`})]}),Tz=({label:t,currentLanguage:r,onLanguageChange:e,disabled:s})=>n.jsxs("div",{children:[n.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 mb-1",children:t}),n.jsxs("select",{name:"language",id:"language",value:r,onChange:e,className:`w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${s?"bg-gray-100 cursor-not-allowed":""}`,children:[n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Espaol"})]})]}),Az=({warehouses:t,requiresWarehouse:r,warehouseLabel:e,selectWarehouseText:s,multipleWarehousesText:l,disabled:o})=>!r||!t.length?null:n.jsxs(n.Fragment,{children:[n.jsxs(ar,{className:"bg-blue-50 border-blue-200",children:[n.jsx(sr,{className:"h-4 w-4 text-blue-600"}),n.jsx(Kn,{className:"text-blue-800",children:l})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"warehouse",className:"block text-sm font-medium text-gray-700 mb-1",children:e}),n.jsxs("select",{name:"warehouse",id:"warehouse",required:!0,disabled:o,className:`w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${o?"bg-gray-100 cursor-not-allowed":""}`,defaultValue:"",children:[n.jsx("option",{value:"",disabled:!0,children:s}),t.map(i=>n.jsx("option",{value:i.id,children:i.name},i.id))]})]})]}),Mz=({requiresDeviceName:t,deviceNameTaken:r,deviceNameLabel:e,enterDeviceNameText:s,newDeviceDetectedText:l,deviceNameTakenText:o,disabled:i})=>t?n.jsxs(n.Fragment,{children:[n.jsxs(ar,{className:"bg-blue-50 border-blue-200",children:[n.jsx(sr,{className:"h-4 w-4 text-blue-600"}),n.jsx(Kn,{className:"text-blue-800",children:l})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"newDeviceName",className:"block text-sm font-medium text-gray-700 mb-1",children:e}),n.jsx("input",{type:"text",name:"newDeviceName",id:"newDeviceName",required:!0,maxLength:100,disabled:i,className:`w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${i?"bg-gray-100 cursor-not-allowed":""}`,placeholder:s})]}),r&&n.jsxs(ar,{className:"bg-red-50 border-red-200",children:[n.jsx(sr,{className:"h-4 w-4 text-red-600"}),n.jsx(Kn,{className:"text-red-800",children:o})]})]}):null,Oz=({text:t,disabled:r})=>n.jsx("button",{type:"submit",disabled:r,className:`w-full font-semibold py-2 rounded-lg transition ${r?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t}),Dz=({shouldShowAccountStatusBanner:t,shouldShowDeviceStatusBanner:r,accountStatus:e,deviceStatus:s})=>n.jsxs(n.Fragment,{children:[t&&e&&n.jsx("div",{className:"mt-4",children:n.jsx(H5,{accountStatus:e,className:"w-full"})}),r&&s&&n.jsx("div",{className:"mt-4",children:n.jsx(V5,{deviceStatus:s,onClose:()=>{},showBorder:!0,showCloseButton:!1,allowActivation:!1})})]});function Iz({onRetry:t,retryText:r="Retry",errorTitle:e="Connection Error",errorMessage:s="Cannot establish connection to server"}){return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"rounded-full bg-red-100 p-4 mb-4",children:n.jsx(go,{className:"h-12 w-12 text-red-600"})}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:e}),n.jsx("p",{className:"text-gray-600 mb-6",children:s}),n.jsxs(Ie,{onClick:t,className:"w-full flex items-center justify-center gap-2",variant:"default",children:[n.jsx(pp,{className:"h-4 w-4"}),r]})]})})})}function Pz({loadingText:t="Loading..."}){return n.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-xl z-10",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(ta,{className:"h-8 w-8 animate-spin text-blue-600"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:t})]})})}function Lz(){const{warehouses:t,requiresWarehouse:r,requiresDeviceName:e,deviceNameTaken:s,errorMessage:l,errorType:o,companyInfo:i,connectionError:d,isCompanyInfoLoading:c,currentLanguage:a,handleSubmit:u,handleLanguageChange:m,reloadCompanyInfo:h,shouldShowDeviceStatusBanner:p,shouldShowAccountStatusBanner:y,isAccountDisabled:x,t:g}=Nz();return n.jsxs(n.Fragment,{children:[d&&!c&&n.jsx(Iz,{onRetry:h,retryText:g("retry")||"Retry",errorTitle:g("connectionError")||"Connection Error",errorMessage:g("cannotEstablishConnection")||"Cannot establish connection to server"}),n.jsx("div",{className:"h-screen overflow-auto bg-gray-100",children:n.jsx("div",{className:"min-h-full flex items-center justify-center px-4 py-8",children:n.jsxs("div",{className:"w-full max-w-md bg-white shadow-md rounded-xl p-8 relative",children:[c&&!d&&n.jsx(Pz,{loadingText:g("loading")||"Loading..."}),n.jsx(kz,{companyName:i?.companyName,loginText:g("login")||"Login"}),n.jsx(Ez,{errorMessage:l,errorType:o,invalidGrantText:g("invalidGrant")||"Invalid password or account disabled",loginErrorText:g("loginError")||"Error during login"}),n.jsxs("form",{onSubmit:u,className:"space-y-5",children:[n.jsx(Rz,{label:g("code")||"Code",disabled:x()||c}),n.jsx(Tz,{label:g("language")||"Language",currentLanguage:a,onLanguageChange:m,disabled:x()||c}),n.jsx(Az,{warehouses:t,requiresWarehouse:r,warehouseLabel:g("warehouse")||"Warehouse",selectWarehouseText:g("selectWarehouse")||"Select a warehouse",multipleWarehousesText:g("multipleWarehousesAvailable")||"Multiple warehouses available. Please select one to continue.",disabled:x()||c}),n.jsx(Mz,{requiresDeviceName:e,deviceNameTaken:s,deviceNameLabel:g("deviceName")||"Device Name",enterDeviceNameText:g("enterDeviceName")||"Enter a device name (max 100 characters)",newDeviceDetectedText:g("newDeviceDetected")||"New device detected. Please provide a name for this device to continue.",deviceNameTakenText:g("deviceNameTaken")||"This device name is already taken. Please choose a different name.",disabled:x()||c}),n.jsx(Oz,{text:g("enter")||"Enter",disabled:x()||c})]}),n.jsx(Dz,{shouldShowAccountStatusBanner:y(),shouldShowDeviceStatusBanner:p(),accountStatus:i?.accountStatus,deviceStatus:i?.deviceStatus})]})})})]})}function Bz({title:t,value:r,icon:e,className:s,iconColor:l,route:o,borderColor:i}){const d=n.jsxs(ot,{className:`${s||""} group relative overflow-hidden bg-white hover:shadow-lg hover:shadow-gray-200/50 transition-all duration-300 cursor-pointer min-h-[140px] md:min-h-[160px] border border-gray-200 hover:border-gray-300 rounded-xl ${i||"border-l-blue-500"} border-l-4 hover:border-l-8 hover:-translate-y-1 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2 flex flex-col`,children:[n.jsxs(zn,{className:"flex flex-row items-start justify-between py-3 px-4 md:px-6 flex-shrink-0",children:[n.jsx(Kr,{className:"text-sm md:text-base font-semibold text-gray-900 leading-tight pr-3 group-hover:text-gray-700 transition-colors",children:t}),n.jsx("div",{className:"flex-shrink-0 ml-auto p-1 rounded-lg bg-gray-50 group-hover:bg-opacity-80 transition-colors",children:n.jsx(e,{className:`h-5 w-5 md:h-6 md:w-6 ${l||"text-blue-600"} group-hover:scale-110 transition-transform`,"aria-hidden":"true"})})]}),n.jsx(Gt,{className:"px-4 md:px-6 pb-4 flex-1 flex items-center",children:n.jsx("div",{className:"text-3xl md:text-4xl font-bold text-gray-900 group-hover:text-gray-700 transition-colors",children:r.toLocaleString()})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-transparent to-gray-50/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]});return o?n.jsx(Ja,{to:o,className:"block focus:outline-none rounded-xl","aria-label":`View ${t}: ${r.toLocaleString()} items`,children:d}):d}const Fz=[{id:"item-check",title:"items",value:125,icon:Br,authorizations:[Ae.GOODS_RECEIPT_SUPERVISOR,Ae.PICKING_SUPERVISOR],route:"/itemCheck",backgroundColor:"bg-blue-100",iconColor:"text-blue-700",borderColor:"border-l-blue-500"},{id:"bin-check",title:"binLocations",value:78,icon:a3,authorizations:[Ae.GOODS_RECEIPT_SUPERVISOR,Ae.PICKING_SUPERVISOR,Ae.COUNTING_SUPERVISOR,Ae.TRANSFER_SUPERVISOR],route:"/binCheck",backgroundColor:"bg-green-100",iconColor:"text-green-700",borderColor:"border-l-green-500"},{id:"packages-check",title:"packages.packages",value:100,icon:u3,authorizations:[Ae.GOODS_RECEIPT_SUPERVISOR,Ae.PICKING_SUPERVISOR,Ae.COUNTING_SUPERVISOR,Ae.TRANSFER_SUPERVISOR,Ae.PACKAGE_MANAGEMENT,Ae.PACKAGE_MANAGEMENT_SUPERVISOR],route:"/packageCheck",backgroundColor:"bg-teal-100",iconColor:"text-teal-700",borderColor:"border-l-teal-500"},{id:"goods-receipt",title:"goodsReceipts",value:42,icon:wh,authorizations:[Ae.GOODS_RECEIPT,Ae.GOODS_RECEIPT_SUPERVISOR],route:"/goodsReceipt",backgroundColor:"bg-orange-100",iconColor:"text-orange-700",borderColor:"border-l-orange-500"},{id:"receipt-confirmation",title:"receiptConfirmations",value:15,icon:wh,authorizations:[Ae.GOODS_RECEIPT_CONFIRMATION,Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR],route:"/goodsReceiptConfirmation",backgroundColor:"bg-indigo-100",iconColor:"text-indigo-700",borderColor:"border-l-indigo-500"},{id:"picking",title:"pickings",value:36,icon:d3,authorizations:[Ae.PICKING,Ae.PICKING_SUPERVISOR],route:"/pick",backgroundColor:"bg-teal-100",iconColor:"text-teal-700",borderColor:"border-l-teal-500"},{id:"counting",title:"counts",value:53,icon:hp,authorizations:[Ae.COUNTING,Ae.COUNTING_SUPERVISOR],route:"/counting",backgroundColor:"bg-cyan-100",iconColor:"text-cyan-700",borderColor:"border-l-cyan-500"},{id:"transfer",title:"transfers",value:29,icon:Sh,authorizations:[Ae.TRANSFER,Ae.TRANSFER_SUPERVISOR,Ae.TRANSFER_REQUEST],route:"/transfer",backgroundColor:"bg-lime-100",iconColor:"text-lime-700",borderColor:"border-l-lime-500"},{id:"transfersApproval",title:"transfersApproval",value:29,icon:I9,authorizations:[Ae.TRANSFER_SUPERVISOR],route:"/transfer",backgroundColor:"bg-emerald-100",iconColor:"text-emerald-700",borderColor:"border-l-emerald-500"},{id:"transferConfirmation",title:"transferConfirmation",value:30,icon:Sh,authorizations:[Ae.TRANSFER_CONFIRMATION,Ae.TRANSFER_CONFIRMATION_SUPERVISOR],dependency:"transferConfirmation",route:"/transferConfirmation",backgroundColor:"bg-purple-100",iconColor:"text-purple-700",borderColor:"border-l-purple-500"}];function Uz(t,r,e){return r?Fz.filter(s=>{if(s.dependency)switch(s.dependency){case"transferConfirmation":if(!t.enableTransferConfirm)return!1;break}for(const l of s.authorizations)if(r.includes(l))return!0;return!1}).map(s=>{let l;switch(s.id){case"item-check":l=e.itemCheck;break;case"bin-check":l=e.binCheck;break;case"packages-check":l=e.packageCheck;break;case"goods-receipt":l=e.goodsReceipt;break;case"receipt-confirmation":l=e.receiptConfirmation;break;case"picking":l=e.picking;break;case"counting":l=e.counting;break;case"transfersApproval":l=e.transfersApproval;break;case"transfer":l=e.transfersApproval;break;case"transferConfirmation":l=e.transfersConfirmation;break;default:l=0}return{...s,value:l}}):[]}const $z=()=>n.jsxs("div",{"aria-label":"Loading...",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3 md:gap-6 px-2 md:px-6 py-3 md:py-6",children:Array.from({length:4}).map((t,r)=>n.jsxs(ot,{className:"group relative overflow-hidden bg-white min-h-[140px] md:min-h-[160px] border border-gray-200 rounded-xl border-l-4 border-l-gray-300 flex flex-col",children:[n.jsxs(zn,{className:"flex flex-row items-start justify-between py-3 px-4 md:px-6 flex-shrink-0",children:[n.jsx("div",{className:"flex-1 pr-3",children:n.jsx(Q,{className:"h-4 md:h-5 w-20 md:w-24"})}),n.jsx("div",{className:"flex-shrink-0 ml-auto p-1 rounded-lg bg-gray-50",children:n.jsx(Q,{className:"h-5 w-5 md:h-6 md:w-6 rounded"})})]}),n.jsx(Gt,{className:"px-4 md:px-6 pb-4 flex-1 flex items-center",children:n.jsx(Q,{className:"h-8 md:h-10 w-16 md:w-20"})})]},r))}),n.jsxs("div",{className:"mx-2 md:mx-6 mt-3 md:mt-6 p-3 md:p-6 border border-gray-200 rounded-xl bg-gradient-to-br from-gray-50 to-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx("div",{className:"h-1 w-8 bg-gray-300 rounded-full"}),n.jsx(Q,{className:"h-5 md:h-6 w-32 md:w-40"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[n.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx("div",{className:"h-2 w-2 bg-gray-300 rounded-full"})]}),n.jsx(Q,{className:"h-8 md:h-9 w-24 md:w-32 mb-1"}),n.jsx(Q,{className:"h-3 w-28"})]}),n.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx("div",{className:"h-2 w-2 bg-gray-300 rounded-full"})]}),n.jsx(Q,{className:"h-8 md:h-9 w-8 mb-1"}),n.jsx(Q,{className:"h-3 w-32"})]}),n.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx("div",{className:"h-2 w-2 bg-gray-300 rounded-full"})]}),n.jsx(Q,{className:"h-5 md:h-6 w-36 mb-1"}),n.jsx(Q,{className:"h-3 w-28"})]})]})]})]});function zz(){const{user:t}=bt(),{t:r}=Be(),{setError:e}=Dt(),[s,l]=Te.useState([]),[o,i]=Te.useState(!0);return B.useEffect(()=>{(async()=>{try{i(!0);const c=await Ye.get("General/HomeInfo");l(Uz(t.settings,t.roles,c.data))}catch(c){console.error(`Failed to home info: ${c}`),e(c)}finally{i(!1)}})()},[]),n.jsx(xn,{title:r("home"),children:o?n.jsx($z,{}):s.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3 md:gap-6 px-2 md:px-6 py-3 md:py-6",children:s.map(d=>n.jsx(Bz,{title:r(d.title),value:d.value,icon:d.icon,backgroundColor:d.backgroundColor,iconColor:d.iconColor,borderColor:d.borderColor,route:d.route},d.id))}),n.jsxs("div",{className:"mx-2 md:mx-6 mt-3 md:mt-6 p-3 md:p-6 border border-gray-200 rounded-xl bg-gradient-to-br from-gray-50 to-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx("div",{className:"h-1 w-8 bg-blue-500 rounded-full"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r("dashboardOverview")})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[n.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors group",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600",children:r("totalItems")}),n.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full group-hover:scale-125 transition-transform"})]}),n.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:s.reduce((d,c)=>d+c.value,0).toLocaleString()}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Across all modules"})]}),n.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors group",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600",children:r("activeModules")}),n.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full group-hover:scale-125 transition-transform"})]}),n.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:s.length}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Authorized for user"})]}),n.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors group",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600",children:r("warehouse")}),n.jsx("div",{className:"h-2 w-2 bg-purple-500 rounded-full group-hover:scale-125 transition-transform"})]}),n.jsx("div",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:t?.warehouses?.find(d=>d.id===t?.currentWarehouse)?.name||"N/A"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Current location"})]})]})]})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] p-4 md:p-8",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:n.jsx(jh,{className:"w-8 h-8 text-blue-600"})}),n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r("information")}),n.jsx("p",{className:"text-gray-600 mb-6",children:r("noAuthorizationOptions")}),n.jsx(ar,{className:"border-blue-200 bg-blue-50 text-left",children:n.jsx(Kn,{className:"text-sm text-blue-700",children:"Contact your administrator to request access to warehouse modules."})})]})]})})}const qz=()=>n.jsx("div",{className:"flex justify-center px-3 pt-3 md:px-0 md:pt-0","aria-label":"Loading...",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-12"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsx("div",{children:n.jsx(Q,{className:"h-10 w-full"})})]})})}),Vz=()=>n.jsxs("div",{className:"px-3 pt-3 md:px-0 md:pt-0","aria-label":"Loading...",children:[n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-5 w-32"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-5 w-28"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-5 w-48"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-5 w-20"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-5 w-24"})]})]})]}),n.jsxs(Ad,{defaultValue:"stock",className:"mt-4",children:[n.jsxs(Md,{className:"grid w-full grid-cols-2",children:[n.jsx(ya,{value:"stock",disabled:!0,children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(ya,{value:"barcodes",disabled:!0,children:n.jsx(Q,{className:"h-4 w-16"})})]}),n.jsx(xa,{value:"stock",className:"mt-4",children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-muted px-4 py-2",children:n.jsx(Q,{className:"h-5 w-32"})}),n.jsx("div",{className:"divide-y",children:[...Array(3)].map((t,r)=>n.jsxs("div",{className:"grid grid-cols-3 gap-4 px-4 py-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-5 w-20"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-5 w-16"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-5 w-28"})]})]},r))})]})})}),n.jsx(xa,{value:"barcodes",className:"mt-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-10 w-full"})]})]}),n.jsx(Q,{className:"h-10 w-32"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx("div",{className:"space-y-2",children:[...Array(2)].map((t,r)=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-6 w-6 rounded"})]},r))})]})]})})]})]});function E4(){const{t}=Be(),{user:r}=bt(),{code:e}=ss(),s=fn();B.useEffect(()=>{if(e){const D=decodeURIComponent(e);d(D)}},[e]);const{barcodeInput:l,setBarcodeInput:o,itemCodeInput:i,setItemCodeInput:d,result:c,barcodeInputRef:a,codeInputRef:u,isChecking:m,isUpdating:h,isSettingBarcode:p,handleUpdateSubmit:y,handleSetBarcodeItem:x,handleClear:g,handleCheckSubmit:w}=gz();B.useEffect(()=>{e&&!c&&w(!1)},[e,c,w]);const v=()=>{g(),s("/itemCheck")},j=()=>{const D=l.trim()||i.trim();D&&s(`/itemCheck/${encodeURIComponent(D)}`)},N=c&&c.length>0,T=m||h||p;return n.jsx(xn,{title:t("itemCheck"),titleOnClick:N?v:void 0,titleBreadcrumbs:N?[{label:c[0].itemCode}]:void 0,children:m&&!N?n.jsx(qz,{}):N?T?n.jsx(Vz,{}):n.jsxs("div",{className:"px-3 pt-3 md:px-0 md:pt-0",children:[c.length===0&&n.jsxs(ar,{className:"border-red-200 bg-red-50",children:[n.jsx(go,{className:"h-4 w-4 text-red-600"}),n.jsx(Kn,{children:t("noDataFound")})]}),c.length===1&&n.jsx(rz,{result:c[0],submit:y,onClear:g}),c.length>1&&n.jsx(J$,{barcode:l,result:c,clear:g,setBarcodeItem:x})]}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"flex justify-center px-3 pt-3 md:px-0 md:pt-0",children:n.jsx("form",{onSubmit:D=>{D.preventDefault(),j()},className:"w-full max-w-md",children:n.jsxs("div",{className:"space-y-4",children:[r.settings.scannerMode===Ls.ItemBarcode&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"barcode",children:t("barcode")}),n.jsx(on,{id:"barcode",required:i.length===0,disabled:i.length>0,value:l,onChange:D=>o(D.target.value),ref:a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"code",children:t("code")}),n.jsx(on,{id:"code",required:l.length===0,disabled:l.length>0,value:i,onChange:D=>d(D.target.value),ref:u})]}),r.settings.scannerMode===Ls.ItemCode&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"barcode",children:t("barcode")}),n.jsx(on,{id:"barcode",required:i.length===0,disabled:i.length>0,value:l,onChange:D=>o(D.target.value),ref:a})]}),n.jsx("div",{children:n.jsxs(Ie,{disabled:!l.trim()&&!i.trim(),className:"w-full",children:[n.jsx(Ns,{className:"h-4 w-4 mr-2"}),t("accept")]})})]})})})})})}const rC=({picking:t,progressValue:r,onStartCheck:e,size:s="sm",variant:l="outline",className:o="",showViewButton:i=!0})=>{const{t:d}=Be(),c=fn();if(t.checkStarted)return n.jsxs(Ie,{type:"button",variant:"secondary",size:s,className:`${o} bg-blue-100 hover:bg-blue-200 text-blue-700 border-blue-300`,onClick:()=>c(`/pick/${t.entry}/check`),children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),d("viewCheck")]});const a=t.hasCheck?"restartCheck":"startCheck",u=t.hasCheck;return t.hasCheck&&i?n.jsxs(n.Fragment,{children:[n.jsxs(Ie,{type:"button",variant:"secondary",size:s,className:`${o} bg-amber-100 hover:bg-amber-200 text-amber-700 border-amber-300`,disabled:r===0,onClick:()=>e?.(t),children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),d(a)]}),n.jsxs(Ie,{type:"button",variant:"secondary",size:s,className:`${o} bg-blue-100 hover:bg-blue-200 text-blue-700 border-blue-300`,onClick:()=>c(`/pick/${t.entry}/check`),children:[n.jsx(fp,{className:"mr-2 h-4 w-4"}),d("viewCheck")]})]}):n.jsxs(Ie,{type:"button",variant:"secondary",size:s,className:`${o} ${u?"bg-amber-100 hover:bg-amber-200 text-amber-700 border-amber-300":"bg-green-100 hover:bg-green-200 text-green-700 border-green-300"}`,disabled:r===0,onClick:()=>e?.(t),children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),d(a)]})},sC=({picking:t,onUpdatePick:r,onStartCheck:e,supervisor:s=!1})=>{const{t:l}=Be(),o=fn(),{user:i}=bt(),{dateFormat:d}=kr();function c(m){o(`/pick/${m}`)}let a=i?.roles?.includes(Ae.PICKING);const u=t.quantity>0?100-t.openQuantity*100/t.quantity:0;return n.jsxs(ot,{className:"mb-4 shadow-lg",children:[n.jsx(Gt,{className:"py-4",children:n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{className:"flex justify-between",children:a?n.jsxs("a",{href:"#",onClick:m=>{m.preventDefault(),c(t.entry)},className:"text-blue-600 hover:underline",children:[n.jsxs("span",{className:"font-semibold",children:[l("number"),":"]})," ",t.entry]}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"font-semibold",children:[l("date"),":"]})," ",d(new Date(t.date))]})}),t.salesOrders!=null&&t.salesOrders!=""&&n.jsxs("li",{className:"flex justify-between",children:[n.jsxs("span",{className:"font-semibold",children:[l("salesOrders"),":"]})," ",t.salesOrders]}),t.invoices!=null&&t.invoices!=""&&n.jsxs("li",{className:"flex justify-between",children:[n.jsxs("span",{className:"font-semibold",children:[l("invoices"),":"]})," ",t.invoices]}),t.transfers!=null&&t.transfers!=""&&n.jsxs("li",{className:"flex justify-between",children:[n.jsxs("span",{className:"font-semibold",children:[l("transferRequests"),":"]})," ",t.transfers]}),n.jsxs("li",{className:"pt-2",children:[n.jsx(zs,{value:u,className:"w-full"}),n.jsxs("p",{className:"text-xs text-muted-foreground text-center mt-1",children:[An(u,0),"% ",l("complete")]})]}),t.remarks&&n.jsxs("li",{className:"pt-2 border-t mt-2",children:[n.jsxs("span",{className:"font-semibold",children:[l("comment"),":"]})," ",t.remarks]})]})}),s?n.jsxs(mo,{className:"flex justify-center gap-2 pt-4 border-t flex-wrap",children:[t.updateQuantity>0&&n.jsxs(Ie,{type:"button",onClick:()=>r?.(t),children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),l("update")]}),i?.settings.enablePickingCheck&&u>0&&n.jsx(rC,{picking:t,progressValue:u,onStartCheck:e,size:"default",showViewButton:!0})]}):i?.settings.enablePickingCheck&&t.checkStarted?n.jsx(mo,{className:"flex justify-center gap-2 pt-4 border-t",children:n.jsxs(Ie,{type:"button",variant:"outline",className:"cursor-pointer",onClick:()=>o(`/pick/${t.entry}/check`),children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),l("viewCheck")]})}):null]},t.entry)};function aC(t,r=300){const[e,s]=B.useState(t);return B.useEffect(()=>{const l=setTimeout(()=>{s(t)},r);return()=>{clearTimeout(l)}},[t,r]),e}var Ou=(t=>(t.Unknown="Unknown",t.Pending="Pending",t.Syncing="Syncing",t.Synced="Synced",t.Failed="Failed",t.Retry="Retry",t))(Ou||{}),iC=(t=>(t.Released="Released",t.Picked="Picked",t.PartiallyDelivered="Delivered",t.Closed="Closed",t))(iC||{});const ls={async fetchPicking(t){try{const r=new URLSearchParams;t.type!=null&&r.append("type",t.type.toString()),t.entry!=null&&r.append("entry",t.entry.toString()),t.availableBins!=null&&t.availableBins&&r.append("availableBins","true"),t.binLocation!=null&&r.append("binEntry",t.binLocation.toString());const e=`picking/${t.id}?${r.toString()}`;return(await Ye.get(e)).data}catch(r){throw console.error("Error fetching pickings:",r),r}},async fetchPickings(t){try{const r=new URLSearchParams;t!=null&&(t.id!==void 0&&r.append("id",t.id.toString()),t.date!==null&&t.date!==void 0&&r.append("date",t.date.toISOString()),t.availableBins&&r.append("availableBins","true"),t.displayCompleted&&r.append("displayCompleted","true"));const e=`Picking?${r.toString()}`;return(await Ye.get(e)).data}catch(r){throw console.error("Error fetching pickings:",r),r}},async addItem(t){try{return(await Ye.post("picking/addItem",t)).data}catch(r){throw console.error("Error adding item:",r),r}},async addPackage(t){try{return(await Ye.post("picking/addPackage",t)).data}catch(r){throw console.error("Error adding package:",r),r}},async processPicking(t){try{const e=await Ye.post("picking/process",{id:t});if(e.data.errorMessage!=null&&!e.data.errorMessage.includes("No open pick list items found for AbsEntry"))throw new Error(e.data.errorMessage);return e.data}catch(r){throw console.error("Error process picking:",r),r}},async cancelPicking(t){try{const e=await Ye.post("picking/cancel",{id:t});if(e.data.errorMessage==null)return e.data;throw new Error(e.data.errorMessage)}catch(r){throw console.error("Error canceling picking:",r),r}},async startCheck(t){try{const r=`picking/${t}/check/start`;return(await Ye.post(r)).data}catch(r){throw console.error("Error starting check:",r),r}},async checkItem(t,r){try{const e=`picking/${t}/check/item`;return(await Ye.post(e,r)).data}catch(e){throw console.error("Error checking item:",e),e}},async checkPackage(t,r){try{const e=`picking/${t}/check/package`;return(await Ye.post(e,{packageId:r})).data}catch(e){throw console.error("Error checking package:",e),e}},async getCheckSummary(t){try{const r=`picking/${t}/check/summary`;return(await Ye.get(r)).data}catch(r){throw console.error("Error getting check summary:",r),r}},async completeCheck(t){try{const r=`picking/${t}/check/complete`;await Ye.post(r)}catch(r){throw console.error("Error completing check:",r),r}},async createPackage(t){try{const r=`picking/package/${t}`;return(await Ye.post(r)).data}catch(r){throw console.error("Error creating package:",r),r}}};function Hz(){const{t}=Be(),[r,e]=B.useState([]),[s,l]=B.useState(!0),[o,i]=B.useState(""),{setLoading:d,setError:c}=Dt(),a=fn(),{user:u}=bt(),{dateFormat:m}=kr(),[h,p]=B.useState(!1),[y,x]=B.useState(null),g=aC(o,300);function w(I){a(`/pick/${I}`)}let v=u?.roles?.includes(Ae.PICKING);B.useEffect(()=>{j()},[]);const j=()=>{d(!0),l(!0),ls.fetchPickings({displayCompleted:!0}).then(I=>e(I)).catch(I=>c(I)).finally(()=>{d(!1),l(!1)})},N=I=>{I.openQuantity>0&&!window.confirm(En(t("pickOpenQuantityAlert"),I.entry)+`
`+t("confirmContinue"))||(d(!0),ls.processPicking(I.entry).then(()=>{$n.success(En(t("pickingUpdateSuccess"),I.entry)),j()}).catch(R=>{c(R),d(!1)}))},T=I=>{x(I),p(!0)},D=()=>{y&&(d(!0),ls.cancelPicking(y.entry).then(()=>{$n.success(En(t("pickingCancelSuccess"),y.entry)),j()}).catch(I=>{c(I),d(!1)}))},V=async I=>{d(!0);try{await ls.startCheck(I.entry),a(`/pick/${I.entry}/check`)}catch(R){c(R)}finally{d(!1)}},P=B.useMemo(()=>{if(!g)return r;const I=g.toLowerCase();return r.filter(R=>R.entry.toString().includes(I)||R.salesOrders?.toLowerCase().includes(I)||R.invoices?.toLowerCase().includes(I)||R.transfers?.toLowerCase().includes(I)||R.remarks?.toLowerCase().includes(I))},[r,g]),$=B.useMemo(()=>P.find(I=>I.salesOrders!=null&&I.salesOrders!="")!=null,[P]),G=B.useMemo(()=>P.find(I=>I.invoices!=null&&I.invoices!="")!=null,[P]),Y=B.useMemo(()=>P.find(I=>I.transfers!=null&&I.transfers!="")!=null,[P]),W=()=>n.jsxs("div",{className:"bg-white rounded-lg border p-4 space-y-3 mb-4","aria-label":"Loading...",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx(Q,{className:"h-6 w-20"}),n.jsx(Q,{className:"h-4 w-16"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-full"}),n.jsx(Q,{className:"h-4 w-3/4"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{className:"h-2 w-20"}),n.jsx(Q,{className:"h-4 w-8"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Q,{className:"h-8 w-16"}),n.jsx(Q,{className:"h-8 w-16"}),n.jsx(Q,{className:"h-8 w-16"})]})]}),O=()=>n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("number")}),n.jsx(he,{children:t("date")}),n.jsx(he,{children:t("salesOrders")}),n.jsx(he,{children:t("invoices")}),n.jsx(he,{children:t("transferRequests")}),n.jsx(he,{children:t("progress")}),n.jsx(he,{children:t("comment")}),n.jsx(he,{})]})}),n.jsx(en,{children:Array.from({length:5}).map((I,R)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{className:"h-2 w-20"}),n.jsx(Q,{className:"h-4 w-8"})]})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2 flex-wrap",children:[n.jsx(Q,{className:"h-8 w-16"}),n.jsx(Q,{className:"h-8 w-16"}),n.jsx(Q,{className:"h-8 w-16"})]})})]},R))})]});return n.jsxs(xn,{title:t("pickSupervisor"),children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(mp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(on,{type:"text",placeholder:t("searchPickings"),value:o,onChange:I=>i(I.target.value),className:"pl-10 pr-10"}),o&&n.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:n.jsx(br,{className:"h-4 w-4"})})]})}),s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:Array.from({length:3}).map((I,R)=>n.jsx(W,{},R))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(O,{})})]}):P.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:P.map(I=>n.jsx(sC,{picking:I,supervisor:!0,onUpdatePick:N,onStartCheck:V},I.entry))}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("number")}),n.jsx(he,{children:t("date")}),$&&n.jsx(he,{children:t("salesOrders")}),G&&n.jsx(he,{children:t("invoices")}),Y&&n.jsx(he,{children:t("transferRequests")}),n.jsx(he,{children:t("progress")}),n.jsx(he,{children:t("comment")}),n.jsx(he,{})]})}),n.jsx(en,{children:P.map(I=>{const R=I.quantity>0?100-I.openQuantity*100/I.quantity:0;return n.jsxs(We,{children:[n.jsx(ue,{children:v?n.jsx("a",{href:"#",onClick:S=>{S.preventDefault(),w(I.entry)},className:"text-blue-600 hover:underline",children:I.entry}):I.entry}),n.jsx(ue,{children:m(new Date(I.date))}),$&&n.jsx(ue,{children:I.salesOrders||"-"}),G&&n.jsx(ue,{children:I.invoices||"-"}),Y&&n.jsx(ue,{children:I.transfers||"-"}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{value:R,className:"w-20"}),n.jsxs("span",{className:"text-xs",children:[An(R,0),"%"]})]})}),n.jsx(ue,{children:I.remarks||"-"}),n.jsx(ue,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2 flex-wrap",children:[u?.binLocations?n.jsxs(Ie,{disabled:I.syncStatus!==Ou.Pending,size:"sm",className:I.syncStatus!==Ou.Pending?"cursor-not-allowed":"cursor-pointer",onClick:()=>N?.(I),children:[n.jsx(pp,{className:"mr-1 h-3 w-3"}),t("sync")]}):n.jsxs(Ie,{disabled:I.syncStatus===Ou.Synced,size:"sm",className:I.syncStatus===Ou.Synced?"cursor-not-allowed":"cursor-pointer",onClick:()=>N?.(I),children:[n.jsx(Br,{className:"mr-1 h-3 w-3"}),t("finish")]}),u?.settings.enablePickingCheck&&n.jsx(rC,{picking:I,progressValue:R,onStartCheck:V,showViewButton:!1}),u?.settings.enablePickingCheck&&I.hasCheck&&!I.checkStarted&&n.jsxs(Ie,{type:"button",variant:"outline",size:"sm",onClick:()=>a(`/pick/${I.entry}/check`),children:[n.jsx(fp,{className:"mr-2 h-4 w-4"}),t("viewCheck")]}),n.jsxs(Ie,{variant:"destructive",size:"sm",className:"cursor-pointer",onClick:()=>T?.(I),children:[n.jsx(ba,{className:"mr-1 h-3 w-3"}),t("cancel")]})]})})]},I.entry)})})]})})]}):n.jsx("div",{className:"p-4",children:n.jsx(ar,{variant:"default",className:"bg-blue-100 border-blue-400 text-blue-700",children:n.jsx(Kn,{children:r.length===0?t("nodata"):t("noSearchResults")})})}),n.jsx(Vp,{onConfirm:D,onOpenChange:p,open:h,type:"confirm",title:En(t("confirmCancelPick"),y?.entry),description:t("actionCannotReverse")})]})}function Wz(){const{setLoading:t,setError:r}=Dt(),{t:e}=Be(),[s,l]=Te.useState([]),[o,i]=Te.useState(!0),[d,c]=Te.useState(""),a=fn(),{user:u}=bt(),{dateFormat:m}=kr(),h=aC(d,300);B.useEffect(()=>{t(!0),i(!0),ls.fetchPickings({status:[iC.Released]}).then(v=>l(v)).catch(v=>r(v)).finally(()=>{t(!1),i(!1)})},[r,t]);function p(v){a(`/pick/${v}`)}let y=u?.roles?.includes(Ae.PICKING);const x=B.useMemo(()=>{if(!h)return s;const v=h.toLowerCase();return s.filter(j=>j.entry.toString().includes(v)||j.salesOrders?.toLowerCase().includes(v)||j.invoices?.toLowerCase().includes(v)||j.transfers?.toLowerCase().includes(v)||j.remarks?.toLowerCase().includes(v))},[s,h]),g=()=>n.jsxs("div",{className:"bg-white rounded-lg border p-4 space-y-3 mb-4","aria-label":"Loading...",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx(Q,{className:"h-6 w-20"}),n.jsx(Q,{className:"h-4 w-16"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-full"}),n.jsx(Q,{className:"h-4 w-3/4"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{className:"h-2 w-20"}),n.jsx(Q,{className:"h-4 w-8"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Q,{className:"h-8 w-16"})})]}),w=()=>n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:e("number")}),n.jsx(he,{children:e("date")}),n.jsx(he,{children:e("salesOrders")}),n.jsx(he,{children:e("invoices")}),n.jsx(he,{children:e("transferRequests")}),n.jsx(he,{children:e("progress")}),n.jsx(he,{children:e("comment")}),u?.settings.enablePickingCheck&&n.jsx(he,{})]})}),n.jsx(en,{children:Array.from({length:5}).map((v,j)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{className:"h-2 w-20"}),n.jsx(Q,{className:"h-4 w-8"})]})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),u?.settings.enablePickingCheck&&n.jsx(ue,{children:n.jsx(Q,{className:"h-8 w-16"})})]},j))})]});return n.jsx(xn,{title:e("picking"),children:n.jsxs("div",{className:"my-4",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(mp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(on,{type:"text",placeholder:e("searchPickings"),value:d,onChange:v=>c(v.target.value),className:"pl-10 pr-10"}),d&&n.jsx("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:n.jsx(br,{className:"h-4 w-4"})})]})}),o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:Array.from({length:3}).map((v,j)=>n.jsx(g,{},j))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(w,{})})]}):x.length?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:x.map(v=>n.jsx(sC,{picking:v},v.entry))}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:e("number")}),n.jsx(he,{children:e("date")}),n.jsx(he,{children:e("salesOrders")}),n.jsx(he,{children:e("invoices")}),n.jsx(he,{children:e("transferRequests")}),n.jsx(he,{children:e("progress")}),n.jsx(he,{children:e("comment")}),u?.settings.enablePickingCheck&&n.jsx(he,{})]})}),n.jsx(en,{children:x.map(v=>{const j=v.quantity>0?100-v.openQuantity*100/v.quantity:0;return n.jsxs(We,{children:[n.jsx(ue,{children:y?n.jsx("a",{href:"#",onClick:N=>{N.preventDefault(),p(v.entry)},className:"text-blue-600 hover:underline",children:v.entry}):v.entry}),n.jsx(ue,{children:m(new Date(v.date))}),n.jsx(ue,{children:v.salesOrders||"-"}),n.jsx(ue,{children:v.invoices||"-"}),n.jsx(ue,{children:v.transfers||"-"}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{value:j,className:"w-20"}),n.jsxs("span",{className:"text-xs",children:[An(j,0),"%"]})]})}),n.jsx(ue,{children:v.remarks||"-"}),u?.settings.enablePickingCheck&&n.jsx(ue,{children:v.checkStarted&&n.jsxs(Ie,{type:"button",variant:"outline",size:"sm",className:"cursor-pointer mr-2",disabled:j===0,onClick:()=>a(`/pick/${v.entry}/check`),children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),e("check")]})})]},v.entry)})})]})})]}):n.jsxs(ar,{variant:"information",children:[n.jsx(sr,{className:"h-4 w-4"}),n.jsx(Kn,{children:s.length===0?e("noPickingData"):e("noSearchResults")})]})]})})}function ka(){const{t}=Be();return(r,e=!0)=>{switch(r){case 13:return t("reservedInvoice");case 17:return t("salesOrder");case 18:return t(e?"purchaseInvoice":"reservedInvoice");case 20:return t("goodsReceipt");case 22:return t("purchaseOrder");case 1250000001:return t("transferRequest");case 67:return t("transfer");default:return`Unknown object ${r}`}}}function Gz(){const{idParam:t}=ss(),{user:r}=bt(),{t:e}=Be(),[s,l]=B.useState(),{setLoading:o,setError:i}=Dt(),[d,c]=B.useState(null),[a,u]=B.useState(!0),m=ka(),h=fn(),p=r?.customFields?.PickingDetails??[],{dateFormat:y}=kr();B.useEffect(()=>{if(t==null||!tC(t)){l(null);return}let v=parseInt(t);l(v),o(!0),u(!0),ls.fetchPicking({id:v}).then(j=>{if(j==null){c(null),i(e("pickingNotFound"));return}c(j)}).catch(j=>i(j)).finally(()=>{o(!1),u(!1)})},[]);function x(v){h(`/pick/${s}/${v.type}/${v.entry}`)}const g=()=>n.jsxs(ot,{className:"mb-4","aria-label":"Loading...",children:[n.jsx(zn,{children:n.jsx(Q,{className:"h-6 w-32"})}),n.jsx(Gt,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-full"}),n.jsx(Q,{className:"h-4 w-3/4"}),n.jsx(Q,{className:"h-4 w-1/2"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx(Q,{className:"h-2 w-full mb-2"}),n.jsx(Q,{className:"h-4 w-16 mx-auto"})]})]})}),n.jsx(mo,{className:"flex justify-end space-x-2 pt-4 border-t",children:n.jsx(Q,{className:"h-8 w-20"})})]}),w=()=>n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:e("type")}),n.jsx(he,{children:e("number")}),n.jsx(he,{children:e("customer")}),n.jsx(he,{className:"text-right",children:e("totalItems")}),n.jsx(he,{className:"text-right",children:e("totalOpenItems")}),n.jsx(he,{children:e("progress")}),n.jsx(he,{className:"text-right"})]})}),n.jsx(en,{children:Array.from({length:3}).map((v,j)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-40"})}),n.jsx(ue,{className:"text-right",children:n.jsx(Q,{className:"h-4 w-8"})}),n.jsx(ue,{className:"text-right",children:n.jsx(Q,{className:"h-4 w-8"})}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{className:"h-2 w-20"}),n.jsx(Q,{className:"h-4 w-8"})]})}),n.jsx(ue,{className:"text-right",children:n.jsx(Q,{className:"h-8 w-20"})})]},j))})]});return n.jsx(xn,{title:e("picking"),titleOnClick:()=>h("/pick"),titleBreadcrumbs:[{label:`${t}`}],children:n.jsx("div",{className:"contentStyle",children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:Array.from({length:3}).map((v,j)=>n.jsx(g,{},j))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(w,{})})]}):d?.detail&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:d.detail.map((v,j)=>{const N=100-v.totalOpenItems*100/v.totalItems;return n.jsxs(ot,{children:[n.jsx(zn,{children:`${m(v.type)}# ${v.number}`}),n.jsxs(Gt,{children:[n.jsxs(qs,{children:[n.jsx(_t,{label:e("customer"),value:`${v.cardCode} - ${v.cardName}`}),n.jsx(_t,{label:e("totalItems"),value:v.totalItems}),n.jsx(_t,{label:e("totalOpenItems"),value:v.totalOpenItems}),Hh(v.customFields,p,y,(T,D)=>n.jsx(_t,{label:T.description,value:D},T.key))]}),n.jsx("ul",{className:"space-y-2 text-sm",children:n.jsxs("li",{className:"pt-2",children:[n.jsx(zs,{value:N}),n.jsxs("p",{className:"text-xs text-muted-foreground text-center mt-1",children:[An(N,0),"% ",e("progress")]})]})})]}),n.jsxs(mo,{className:"flex justify-end space-x-2 pt-4 border-t",children:[v.totalOpenItems>0&&n.jsxs(Ie,{className:"flex items-center gap-2",onClick:()=>x(v),children:[n.jsx(p2,{className:"h-4 w-4"}),e("process")]}),v.totalOpenItems===0&&n.jsxs(Ie,{variant:"outline",className:"flex items-center gap-2",onClick:()=>x(v),children:[n.jsx(Pu,{className:"h-4 w-4"}),e("report")]})]})]},j)})}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:e("type")}),n.jsx(he,{children:e("number")}),n.jsx(he,{children:e("customer")}),p.map((v,j)=>n.jsx(he,{children:v.description},`custom-column-${j}`)),n.jsx(he,{className:"text-right",children:e("totalItems")}),n.jsx(he,{className:"text-right",children:e("totalOpenItems")}),n.jsx(he,{children:e("progress")}),n.jsx(he,{className:"text-right"})]})}),n.jsx(en,{children:d.detail.map((v,j)=>{const N=100-v.totalOpenItems*100/v.totalItems;return n.jsxs(We,{children:[n.jsx(ue,{className:"font-medium",children:m(v.type)}),n.jsx(ue,{children:v.number}),n.jsx(ue,{children:`${v.cardCode} - ${v.cardName}`}),Hh(v.customFields,p,y,(T,D)=>n.jsx(ue,{children:`${D??""}`},T.key)),n.jsx(ue,{className:"text-right",children:v.totalItems}),n.jsx(ue,{className:"text-right",children:v.totalOpenItems}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{value:N,className:"w-20"}),n.jsxs("span",{className:"text-xs",children:[An(N,0),"%"]})]})}),n.jsx(ue,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[v.totalOpenItems>0&&n.jsxs(Ie,{size:"sm",className:"flex items-center gap-2",onClick:()=>x(v),children:[n.jsx(p2,{className:"h-3 w-3"}),e("process")]}),v.totalOpenItems===0&&n.jsxs(Ie,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>x(v),children:[n.jsx(Pu,{className:"h-3 w-3"}),e("report")]})]})})]},j)})})]})})]})})})}const Yz=({items:t})=>{const r=ni(),{t:e}=Be();return n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:e("code")}),n.jsx(he,{className:"hidden sm:table-cell",children:e("description")}),n.jsx(he,{children:e("quantity")}),n.jsx(he,{children:e("picked")}),n.jsx(he,{children:e("pending")})]})}),n.jsx(en,{children:t?.map((s,l)=>n.jsxs(Te.Fragment,{children:[n.jsxs(We,{className:s.openQuantity===0?"bg-green-100":"",children:[n.jsx(ue,{children:n.jsx(Za,{data:s})}),n.jsx(ue,{className:"hidden sm:table-cell",children:s.itemName}),n.jsx(ue,{children:r({quantity:s.quantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})}),n.jsx(ue,{children:r({quantity:s.picked,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})}),n.jsx(ue,{children:r({quantity:s.openQuantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})})]}),n.jsx(We,{className:"sm:hidden",children:n.jsxs(ue,{className:"bg-gray-100 border-b-1",colSpan:5,children:[e("description"),": ",s.itemName]})}),s.openQuantity>0&&s.binQuantities&&s.binQuantities.length>0&&n.jsx(We,{children:n.jsx(ue,{colSpan:5,className:"p-0",children:n.jsx("div",{className:"bg-slate-50 p-4",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:e("bin")}),n.jsx(he,{children:e("quantity")})]})}),n.jsx(en,{children:s.binQuantities.map((o,i)=>n.jsxs(n.Fragment,{children:[n.jsxs(We,{children:[n.jsx(ue,{children:o.code}),n.jsx(ue,{children:r({quantity:o.quantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})})]},`item${l}-bin${i}`),o.packages?.map((d,c)=>n.jsxs(We,{className:"bg-yellow-50",children:[n.jsxs(ue,{children:["",d.barcode]}),n.jsx(ue,{children:r({quantity:d.quantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})})]},`item${l}-bin${i}-pack${c}`))]}))})]})})})})]},s.itemCode))})]})},Xz=({items:t})=>{const{t:r}=Be(),e=ni();return n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:r("code")}),n.jsx(he,{className:"hidden sm:table-cell",children:r("description")}),n.jsx(he,{children:r("quantity")}),n.jsx(he,{children:r("picked")}),n.jsx(he,{children:r("pending")}),n.jsx(he,{children:r("available")})]})}),n.jsx(en,{children:t?.map(s=>n.jsxs(n.Fragment,{children:[n.jsxs(We,{className:s.openQuantity===0?"bg-green-100":"",children:[n.jsx(ue,{children:n.jsx(Za,{data:s})}),n.jsx(ue,{className:"hidden sm:table-cell",children:s.itemName}),n.jsx(ue,{children:e({quantity:s.quantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})}),n.jsx(ue,{children:e({quantity:s.picked,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})}),n.jsx(ue,{children:e({quantity:s.openQuantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})}),n.jsx(ue,{children:e({quantity:s.available??0,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})})]},s.itemCode),n.jsx(We,{className:"sm:hidden",children:n.jsxs(ue,{className:"bg-gray-100 border-b-1",colSpan:6,children:[r("description"),": ",s.itemName]})}),s.packages?.map((l,o)=>n.jsxs(We,{className:`${s.openQuantity===0?"bg-green-100":""} ${l.fullPackage?"bg-blue-50 border-l-4 border-l-blue-500":""}`,children:[n.jsxs(ue,{colSpan:2,children:[l.fullPackage&&" ",l.barcode]}),n.jsx(ue,{children:""}),n.jsx(ue,{children:""}),n.jsx(ue,{children:e({quantity:l.quantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})}),n.jsx(ue,{children:e({quantity:l.quantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})})]},`${s.itemCode}-pack${o}`))]}))})]})},Kz=({items:t,isLoading:r=!1})=>{const[e,s]=B.useState(!1);B.useEffect(()=>{s(t?.some(o=>o.available!=null&&o.available>0)??!1)},[t]);const l=()=>n.jsx("div",{className:"space-y-4","aria-label":"Loading...",children:Array.from({length:5}).map((o,i)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(Q,{className:"h-5 w-3/4"}),n.jsx(Q,{className:"h-4 w-1/2"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-12"})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Q,{className:"h-8 w-12"}),n.jsx(Q,{className:"h-8 w-16"})]})]})]},i))});return n.jsx("div",{className:"contentStyle",children:r?n.jsx(l,{}):e?n.jsx(Xz,{items:t}):n.jsx(Yz,{items:t})})},Qz=()=>{const{t}=Be(),{idParam:r,typeParam:e,entryParam:s}=ss(),[l,o]=B.useState(),[i,d]=B.useState(),[c,a]=B.useState(),u=B.useRef(null),[m,h]=B.useState(!0),{setLoading:p,setError:y}=Dt(),[x,g]=B.useState(null),w=fn(),v=B.useRef(null),j=B.useRef(null),[N,T]=B.useState(null),[D,V]=B.useState(!1),[P,$]=B.useState(null),[G,Y]=B.useState(null),{user:W}=bt();B.useEffect(()=>{[r,e,s].forEach((M,L)=>{if(M==null||!tC(M))return;let z=parseInt(M);switch(L){case 0:o(z);break;case 1:d(z);break;case 2:a(z);break}})},[]),B.useEffect(()=>{R()},[l,i,c]);function O(M){T(M),R({binEntry:M.entry})}function I(){T(null),R()}function R(M){!l||!i||!c||ls.fetchPicking({id:l,type:i,entry:c,availableBins:!0,binLocation:M?.binEntry}).then(L=>{if(L==null){y(t("pickingNotFound"));return}if(V(L.pickPackOnly),L.detail!=null){let z=L.detail[0];if(g(z),M?.binEntry!=null&&z.items?.length===0){j?.current?.clear();return}if(M?.reload&&z.totalOpenItems===0){k();return}M?.binEntry!=null?setTimeout(()=>v.current?.focus(),1):setTimeout(()=>j.current?.focus(),1)}}).catch(L=>y(L)).finally(()=>p(!1))}function S(M,L){if(u?.current?.show(!1),v?.current?.clear(),l==null||i==null||c==null||W?.binLocations&&N==null){$n.error(L("missingRequiredParameters")),p(!1);return}const z=M.item.code,K=M.unit,Z=M.item.barcode??"",te=M.package?.id;p(!0),ls.addItem({id:l,type:i,entry:c,itemCode:z,quantity:1,binEntry:N?.entry,unit:K,packageId:te,pickingPackageId:G?.id}).then(H=>{if(H.closedDocument){y(En(L("pickedIsClosed"),l)),h(!1),k();return}let ee=H.errorMessage;if(ee!=null){try{switch(ee){case"Quantity exceeds bin available stock":ee=En(L("binQuantityExceedError"),z);break;case"Customer is marked as pick pack only":const U=x?.cardName??x?.cardCode??"N/A";ee=En(L("pickPackOnlyError"),U);break;case"Item entry not found in pick":W?.binLocations?ee=En(L("itemEntryNotFoundPickingBin"),z,l,N.code):ee=En(L("itemEntryNotFoundPicking"),z,l);break}$n.error(ee)}finally{p(!1)}return}$n.success(En(L("pickingProcessSuccess"),Z)),R({reload:!0,binEntry:N?.entry}),setTimeout(()=>v.current?.focus(),100)}).catch(H=>{console.error(`Error performing action: ${H}`);let ee=H.response?.data.exceptionMessage??`Add Item Error: ${H}`;y(ee),p(!1),setTimeout(()=>v.current?.focus(),100)})}function C(M){u?.current?.show(!1),v?.current?.clear(),!(l==null||i==null||c==null||N==null)&&(p(!0),ls.addPackage({id:l,type:i,entry:c,packageId:M.id,binEntry:N.entry,pickingPackageId:G?.id}).then(L=>{if(L.closedDocument){y(En(t("pickedIsClosed"),l)),h(!1),k();return}let z=L.errorMessage;if(z!=null){try{switch(z){case"Package is locked":break;case"Package is not active":break;case"Package already added to this pick list":break;case"No items found for the specified pick list entry":break;case"Package is empty":break;case'Package has committed quantities for items: {string.Join(", ", itemsWithCommittedQty)}':break;case'Insufficient open quantities for: {string.Join(", ", insufficientItems)}':break;case"Package cannot be fully picked":break}$n.error(z)}finally{p(!1),setTimeout(()=>v.current?.focus(),100)}return}$n.success(En(t("pickingPackageSuccess"),M.barcode)),R({reload:!0,binEntry:N.entry})}).catch(L=>{console.error(`Error performing action: ${L}`);let z=L.response?.data.exceptionMessage??`Add Package Error: ${L}`;y(z),p(!1),setTimeout(()=>v.current?.focus(),100)}))}function k(){w(`/pick/${l}`)}return{idParam:r,type:i,enable:m,detail:x,barcodeRef:v,binLocationRef:j,binLocation:N,onBinChanged:O,onBinClear:I,handleAddItem:S,handleAddPackage:C,pickPackOnly:D,currentPackage:P,pickingPackage:G,setPickingPackage:Y,handleCreatePackage:async()=>{p(!0),ls.createPackage(l).then(M=>{Y({id:M.id,barcode:M.barcode})}).catch(M=>{console.error(`Error performing action: ${M}`);let L=M.response?.data.exceptionMessage??`Create Package Error: ${M}`;y(L),setTimeout(()=>v.current?.focus(),100)}).finally(()=>p(!1))}}};function Zz(){const{t}=Be(),r=fn(),e=ka(),{user:s}=bt(),{dateFormat:l}=kr(),{idParam:o,type:i,enable:d,detail:c,barcodeRef:a,binLocationRef:u,binLocation:m,onBinChanged:h,onBinClear:p,handleAddItem:y,handleAddPackage:x,pickPackOnly:g,currentPackage:w,pickingPackage:v,setPickingPackage:j,handleCreatePackage:N}=Qz(),T=s?.customFields?.PickingDetails??[],D=[{label:`${o}`,onClick:()=>r(`/pick/${o}`)},{label:e(i)+(c?`# ${c?.number}`:""),onClick:m?()=>p():void 0}];return m&&D.push({label:m.code,onClick:void 0}),n.jsx(xn,{title:t("picking"),titleOnClick:()=>r("/pick"),titleBreadcrumbs:D,footer:c&&n.jsxs(n.Fragment,{children:[c.totalOpenItems>0&&(m||!s?.binLocations)&&n.jsx(vo,{ref:a,unit:!0,enablePackage:s.settings.enablePackages,enablePackageCreate:!1,currentPackage:w,pickPackOnly:g,onAddItem:V=>y(V,t),onAddPackage:x,enabled:d}),!m&&c.totalOpenItems>0&&s?.binLocations&&n.jsx("div",{className:"space-y-4 p-2",children:n.jsx(il,{ref:u,onChanged:h,onClear:p,enablePackageCreate:s.settings.enablePackages,onCreatePackageClicked:N})})]}),children:c&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(ar,{variant:c.totalOpenItems>0?"default":"information",children:[n.jsx(sr,{}),n.jsxs(V2,{children:[t("customer"),":"]}),n.jsxs(Kn,{children:[c.cardCode," - ",c.cardName]}),Hh(c.customFields,T,l,(V,P)=>n.jsxs(n.Fragment,{children:[n.jsxs(V2,{children:[V.description,":"]}),n.jsx(Kn,{children:P})]})),c.totalOpenItems===0&&n.jsxs(Kn,{children:[t("pickingCompletedFor",{type:e(i),number:c.number}),":"]})]}),v&&n.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 p-3 mb-4 rounded flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"font-semibold text-blue-800",children:[t("newPackage"),": "]}),n.jsx("span",{className:"font-bold text-blue-900",children:v.barcode})]}),n.jsx("button",{type:"button",onClick:()=>j(null),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-medium",children:t("unloadPackage")})]}),n.jsx(Kz,{items:c.items})]})})}const Jz=()=>n.jsxs("div",{"aria-label":"Loading picking check data...",children:[n.jsx("div",{className:"mb-4 p-4 bg-gray-100 rounded",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-20 mb-1"}),n.jsx(Q,{className:"h-5 w-24"})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-16 mb-1"}),n.jsx(Q,{className:"h-5 w-12"})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-24 mb-1"}),n.jsx(Q,{className:"h-6 w-8 rounded-full"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx(Q,{className:"h-10 w-full rounded"})})]})}),n.jsx("div",{className:"mb-4 p-3 border border-red-200 rounded bg-red-50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Q,{className:"h-4 w-4 rounded-full flex-shrink-0 mt-0.5"}),n.jsx(Q,{className:"h-4 w-64"})]})}),n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})})]})}),n.jsx(en,{children:Array.from({length:6}).map((t,r)=>n.jsxs(We,{className:"bg-gray-50",children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-32 md:w-48"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-4 w-4 rounded-full"}),n.jsx(Q,{className:"h-4 w-8"})]})})]},r))})]})]});function eq(){const{id:t}=ss(),{t:r}=Be(),{user:e}=bt(),s=fn(),{setLoading:l,setError:o}=Dt(),i=B.useRef(null),[d,c]=B.useState(null),[a,u]=B.useState(null),[m,h]=B.useState(!1),[p,y]=B.useState(!1),[x,g]=B.useState(!1),[w,v]=B.useState(!1),j=ni();B.useEffect(()=>{t&&(N(),T())},[t]);const N=async()=>{y(!0);try{const Y=await ls.fetchPicking({id:parseInt(t)});c(Y)}catch(Y){o(Y)}finally{y(!1)}},T=async()=>{try{const Y=await ls.getCheckSummary(parseInt(t));u(Y)}catch(Y){console.error("Error loading check summary:",Y)}},D=async Y=>{g(!0);try{const W=await ls.checkItem(parseInt(t),{itemCode:Y.item.code,checkedQuantity:1,unit:Y.unit,binEntry:void 0});W.success?(await T(),i.current?.clear()):o(new Error(W.errorMessage||"Failed to check item"))}catch(W){o(W)}finally{g(!1)}},V=async Y=>{v(!0);try{const W=await ls.checkPackage(parseInt(t),Y.id);W.success?(await T(),i.current?.clear()):o(new Error(W.errorMessage||"Failed to check package"))}catch(W){o(W)}finally{v(!1)}},P=async()=>{h(!0);try{await ls.completeCheck(parseInt(t)),s("/pickSupervisor")}catch(Y){o(Y)}finally{h(!1)}},$=Y=>Y===0?"bg-green-50":"bg-red-50",G=Y=>{const W=Y.difference;return W===0?n.jsx(Ns,{className:"h-4 w-4 text-green-600"}):n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(sr,{className:"h-4 w-4 text-red-600"}),n.jsxs("span",{className:`font-bold ${W>0?"text-red-600":"text-orange-600"}`,children:[W>0?"+":"",j({quantity:W,numInBuy:Y.quantityInUnit,buyUnitMsr:Y.unitMeasure,purPackUn:Y.quantityInPack,purPackMsr:Y.packMeasure})]})]})};return n.jsx(xn,{title:r("pickingCheck"),titleOnClick:()=>s("/pick"),titleBreadcrumbs:[{label:`#${t}`}],footer:d?.checkStarted&&n.jsx(vo,{ref:i,enabled:!0,unit:!0,onAddItem:D,onAddPackage:V}),children:p||x||w?n.jsx(Jz,{}):a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4 p-4 bg-gray-100 rounded",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:r("startedBy")}),n.jsx("p",{className:"font-semibold",children:a.checkStartedBy})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:r("progress")}),n.jsxs("p",{className:"font-semibold",children:[a.itemsChecked," / ",a.totalItems]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:r("discrepancies")}),n.jsx("p",{className:"font-semibold",children:n.jsx(Nr,{variant:a.discrepancyCount>0?"destructive":"default",children:a.discrepancyCount})})]}),(e?.superUser||e?.roles?.includes(Ae.PICKING_SUPERVISOR))&&d?.checkStarted&&n.jsx("div",{className:"flex items-end",children:n.jsx(Ie,{onClick:P,disabled:m||a.itemsChecked===0,className:"w-full",children:r("completeCheck")})})]})}),a.discrepancyCount>0&&n.jsxs(ar,{className:"mb-4",variant:"destructive",children:[n.jsx(sr,{className:"h-4 w-4"}),n.jsx(Kn,{children:r("checkDiscrepanciesFound",{count:a.discrepancyCount})})]}),n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:r("item")}),n.jsx(he,{children:r("description")}),n.jsx(he,{children:r("picked")}),n.jsx(he,{children:r("checked")}),n.jsx(he,{children:r("status")})]})}),n.jsx(en,{children:a.items.map(Y=>n.jsxs(We,{className:$(Y.difference),children:[n.jsx(ue,{className:"font-medium",children:Y.itemCode}),n.jsx(ue,{children:Y.itemName}),n.jsx(ue,{children:j({quantity:Y.pickedQuantity,numInBuy:Y.quantityInUnit,buyUnitMsr:Y.unitMeasure,purPackUn:Y.quantityInPack,purPackMsr:Y.packMeasure})}),n.jsx(ue,{children:Y.checkedQuantity>0?j({quantity:Y.checkedQuantity,numInBuy:Y.quantityInUnit,buyUnitMsr:Y.unitMeasure,purPackUn:Y.quantityInPack,purPackMsr:Y.packMeasure}):"-"}),n.jsx(ue,{children:Y.checkedQuantity>0?G(Y):"-"})]},Y.itemCode))})]})]}):null})}const nm=B.forwardRef((t,r)=>{const{t:e}=Be(),s=ka(),[l,o]=B.useState(!1);return B.useImperativeHandle(r,()=>({show(){o(!0)},hide(){o(!1)}})),t.doc,n.jsx(lr,{open:l,onOpenChange:o,children:n.jsxs(cr,{className:"sm:max-w-[425px]",children:[" ",n.jsx(ur,{children:n.jsx(dr,{children:e("documentsList")})}),n.jsxs(hl,{className:"h-[300px] w-full rounded-md border p-4",children:[" ",t.doc?.documents&&t.doc.documents.length>0?n.jsx("div",{className:"space-y-2",children:t.doc.documents.map((i,d)=>n.jsxs("div",{className:"p-2 border-b last:border-b-0",children:[s(i.objectType)," #",i.documentNumber]},d))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:e("noDocumentsFound")})]}),n.jsx(ra,{children:n.jsx(ZS,{asChild:!0,children:n.jsx(Ie,{type:"button",variant:"outline",children:e("close")})})})]})})});nm.displayName="DocumentListDialog";const _o=()=>{const{t}=Be();return r=>{switch(r){case Mt.Open:return t("openStatus");case Mt.Processing:return t("processingStatus");case Mt.Finished:return t("finishedStatus");case Mt.Cancelled:return t("cancelledStatus");case Mt.InProgress:return t("inProgressStatus");case Mt.WaitingForApproval:return t("waitingForApprovalStatus");case Mt.Rejected:return t("rejected");default:return""}}},td=[Mt.InProgress,Mt.Processing,Mt.Finished],tq=[Mt.InProgress,Mt.Processing],rm=(t=qe.Regular)=>{const r=fn();return(e,s)=>{let l;switch(t){case qe.Confirmation:l="goodsReceiptConfirmation";break;case qe.TransferConfirmation:l="transferConfirmation";break;default:l="goodsReceipt";break}switch(e){case"open":r(`/${l}/${s}`);break;case"all":r(`/${l}ReportAll/${s}`);break;case"vs":r(`/${l}VSExitReport/${s}`);break;case"diff":r(`/${l}ProcessDifferenceReport/${s}`);break}}},oC=({doc:t,supervisor:r=!1,action:e,docDetails:s,processType:l=qe.Regular})=>{const{t:o}=Be(),i=ka(),{dateFormat:d}=kr(),{user:c,displayVendor:a}=bt(),u=rm(l),m=fn(),h=()=>{switch(l){case qe.Confirmation:return Ae.GOODS_RECEIPT_CONFIRMATION;case qe.TransferConfirmation:return Ae.TRANSFER;default:return Ae.GOODS_RECEIPT}},p=c?.roles?.includes(h()),y=()=>{switch(l){case qe.Confirmation:m(`/goodsReceiptConfirmation/${t.id}`);break;case qe.TransferConfirmation:m(`/transferConfirmation/${t.id}`);break;default:m(`/goodsReceipt/${t.id}`)}},x=_o(),g=w=>w.map((v,j)=>`${j>0?", ":""}${i(v.objectType)} #${v.documentNumber}`).join("");return n.jsx(ot,{className:"mb-4 shadow-lg",children:n.jsxs(Gt,{className:"grid text-sm gap-2",children:[n.jsxs(qs,{children:[t.name&&n.jsx(_t,{label:o("id"),value:t.name}),n.jsx(_t,{onClick:p?y:void 0,label:o("number"),value:t.number}),n.jsx(_t,{label:o("docDate"),value:d(t.date)}),n.jsx(_t,{label:o("createdBy"),value:t.createdByUserName}),n.jsx(_t,{label:o("status"),value:x(t.status)})]}),(t.vendor&&a||t.documents)&&n.jsxs(qs,{children:[t.vendor&&a&&n.jsx(_t,{label:o("vendor"),value:t.vendor.name??t.vendor.id}),t.documents&&t.documents?.length>0&&n.jsx(_t,{label:o("documentsList"),value:g(t.documents),onClick:()=>s(t)})]}),r&&n.jsxs(n.Fragment,{children:[n.jsx(Gp,{className:"my-4"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs(Ie,{variant:"outline",className:"w-full",onClick:()=>u("all",t.id),children:[n.jsx(bc,{className:"mr-2 h-4 w-4"}),l===qe.Regular?o("goodsReceiptReport"):o("confirmationReport")]}),c?.settings?.goodsReceiptTargetDocuments&&td.includes(t.status)&&n.jsxs(Ie,{variant:"outline",className:"w-full",onClick:()=>u("vs",t.id),children:[n.jsx(rc,{className:"mr-2 h-4 w-4"}),l===qe.Regular?o("goodsReceiptVSExit"):o("confirmationReceiptVSExit")]}),[Mt.InProgress,Mt.Processing,Mt.Open].includes(t.status)&&n.jsxs(Ie,{variant:"outline",className:"w-full",onClick:()=>u("diff",t.id),children:[n.jsx(dp,{className:"mr-2 h-4 w-4"}),o("differencesReport")]}),t.status===Mt.InProgress&&n.jsxs(Ie,{className:"w-full",onClick:()=>e?.(t,"approve"),children:[n.jsx(Ns,{className:"mr-2 h-4 w-4"}),o("finish")]}),n.jsxs(Ie,{variant:"destructive",className:"w-full",onClick:()=>e?.(t,"cancel"),children:[n.jsx(br,{className:"mr-2 h-4 w-4"}),o("cancel")]})]})]})]})})};function Jy({actions:t,size:r="sm",className:e}){const s=B.useRef(null),[l,o]=B.useState(0),i=t.filter(u=>!u.hidden);B.useEffect(()=>{if(!s.current)return;const u=()=>{const h=s.current;if(!h)return;const p=h.offsetWidth,y=32,x=4,g=100,w=8,v=p-y-w;let j=Math.floor((v+x)/(g+x));j=Math.min(j,i.length),j===i.length?i.length*g+(i.length-1)*x<=p-w?o(i.length):o(Math.max(0,j-1)):o(Math.max(0,j))};u();const m=new ResizeObserver(()=>{u()});return m.observe(s.current),()=>{m.disconnect()}},[i.length]);const d=i.slice(0,l),c=i.slice(l),a=c.length>0;return n.jsxs("div",{ref:s,className:Ze("flex items-center justify-end gap-1",e),children:[d.map(u=>{const m=u.icon;return n.jsxs(Ie,{variant:u.variant||"outline",size:r,onClick:u.onClick,disabled:u.disabled,className:Ze("whitespace-nowrap",u.className),children:[m&&n.jsx(m,{className:"h-4 w-4 mr-1.5"}),n.jsx("span",{children:u.label})]},u.key)}),a&&n.jsxs(kd,{children:[n.jsx(Ed,{asChild:!0,children:n.jsxs(Ie,{variant:"ghost",size:r,className:"h-8 w-8 p-0",children:[n.jsx(o3,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"More actions"})]})}),n.jsx(Rd,{align:"end",className:"w-48",children:c.map((u,m)=>{const h=u.icon,p=u.separator||m>0&&c[m-1].variant!==u.variant&&u.variant==="destructive";return n.jsxs(Te.Fragment,{children:[p&&n.jsx(M6,{}),n.jsxs(Zo,{onClick:u.onClick,disabled:u.disabled,className:Ze("cursor-pointer",u.variant==="destructive"&&"text-red-600 focus:text-red-600",u.className),children:[h&&n.jsx(h,{className:"mr-2 h-4 w-4"}),u.label]})]},u.key)})})]})]})}const Yh=({documents:t,supervisor:r=!1,action:e,docDetails:s,processType:l=qe.Regular,loading:o=!1})=>{const{t:i}=Be(),d=ka(),c=_o(),{dateFormat:a}=kr(),{user:u,displayVendor:m}=bt(),h=rm(l),p=fn(),y=()=>{switch(l){case qe.Confirmation:return Ae.GOODS_RECEIPT_CONFIRMATION;case qe.TransferConfirmation:return Ae.TRANSFER;default:return Ae.GOODS_RECEIPT}},x=u?.roles?.includes(y()),g=T=>{switch(l){case qe.Confirmation:p(`/goodsReceiptConfirmation/${T.id}`);break;case qe.TransferConfirmation:p(`/transferConfirmation/${T.id}`);break;default:p(`/goodsReceipt/${T.id}`)}},w=T=>{let D=T.map((V,P)=>`${P>0?", ":""}${d(V.objectType)} #${V.documentNumber}`).join("");return D.length>50?D.substring(0,50)+"...":D},v=T=>{const D=[];return D.push({key:"report",label:l===qe.Regular?i("goodsReceiptReport"):i("confirmationReport"),icon:bc,onClick:()=>h("all",T.id),variant:"outline"}),u?.settings?.goodsReceiptTargetDocuments&&td.includes(T.status)&&D.push({key:"vs-exit",label:l===qe.Regular?i("goodsReceiptVSExit"):i("confirmationReceiptVSExit"),icon:rc,onClick:()=>h("vs",T.id),variant:"outline"}),[Mt.InProgress,Mt.Processing,Mt.Open].includes(T.status)&&D.push({key:"differences",label:i("differencesReport"),icon:dp,onClick:()=>h("diff",T.id),variant:"outline"}),T.status===Mt.InProgress&&D.push({key:"finish",label:i("finish"),icon:Ns,onClick:()=>e?.(T,"approve"),variant:"default",separator:!0}),D.push({key:"cancel",label:i("cancel"),icon:br,onClick:()=>e?.(T,"cancel"),variant:"destructive",separator:!0}),D},j=()=>n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(Zt,{className:"min-w-full",children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{className:"whitespace-nowrap",children:i("number")}),n.jsx(he,{className:"whitespace-nowrap",children:i("docDate")}),n.jsx(he,{className:"whitespace-nowrap",children:i("createdBy")}),n.jsx(he,{className:"whitespace-nowrap",children:i("status")}),l===qe.Regular&&m&&n.jsx(he,{className:"whitespace-nowrap",children:i("vendor")}),n.jsx(he,{className:"whitespace-nowrap",children:i("documentsList")}),r&&n.jsx(he,{className:"text-right whitespace-nowrap min-w-[100px] w-auto"})]})}),n.jsx(en,{children:Array.from({length:5}).map((T,D)=>n.jsxs(We,{children:[n.jsx(ue,{className:"whitespace-nowrap",children:n.jsx(Q,{className:"h-4 w-12","aria-label":"Loading..."})}),n.jsx(ue,{className:"whitespace-nowrap",children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{className:"whitespace-nowrap",children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{className:"whitespace-nowrap",children:n.jsx(Q,{className:"h-4 w-16"})}),l===qe.Regular&&m&&n.jsx(ue,{className:"whitespace-nowrap",children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{className:"min-w-0",children:n.jsx(Q,{className:"h-4 w-32"})}),r&&n.jsx(ue,{className:"text-right",children:n.jsx(Q,{className:"h-8 w-8"})})]},D))})]})});if(o)return n.jsx(j,{});const N=t.find(T=>T.name!=null&&T.name!="")!=null;return n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(Zt,{className:"min-w-full",children:[n.jsx(Jt,{children:n.jsxs(We,{children:[N&&n.jsx(he,{className:"whitespace-nowrap",children:i("id")}),n.jsx(he,{className:"whitespace-nowrap",children:i("number")}),n.jsx(he,{className:"whitespace-nowrap",children:i("docDate")}),n.jsx(he,{className:"whitespace-nowrap",children:i("createdBy")}),n.jsx(he,{className:"whitespace-nowrap",children:i("status")}),l===qe.Regular&&m&&n.jsx(he,{className:"whitespace-nowrap",children:i("vendor")}),n.jsx(he,{className:"whitespace-nowrap",children:i("documentsList")}),r&&n.jsx(he,{className:"text-right whitespace-nowrap min-w-[100px] w-auto"})]})}),n.jsx(en,{children:t.map(T=>n.jsxs(We,{children:[N&&n.jsx(ue,{className:"whitespace-nowrap",children:T.name||"-"}),n.jsx(ue,{className:"whitespace-nowrap",children:x?n.jsx("a",{href:"#",onClick:D=>{D.preventDefault(),g(T)},className:"text-blue-600 hover:underline",children:T.number}):T.number}),n.jsx(ue,{className:"whitespace-nowrap",children:a(T.date)}),n.jsx(ue,{className:"whitespace-nowrap",children:T.createdByUserName}),n.jsx(ue,{className:"whitespace-nowrap",children:c(T.status)}),l===qe.Regular&&m&&n.jsx(ue,{className:"whitespace-nowrap",children:T.vendor?.name??T.vendor?.id??"-"}),n.jsx(ue,{className:"min-w-0",children:T.documents&&T.documents?.length>0?n.jsx("a",{href:"#",onClick:D=>{D.preventDefault(),s(T)},className:"text-blue-600 hover:underline truncate block",children:w(T.documents)}):"-"}),r&&n.jsx(ue,{className:"text-right",children:n.jsx(Jy,{actions:v(T)})})]},T.id))})]})})};var Fa=(t=>(t.All="All",t.SpecificOrders="SpecificOrders",t.SpecificReceipts="SpecificReceipts",t.SpecificTransfers="SpecificTransfers",t))(Fa||{}),lC=(t=>(t.ID="ID",t.Name="Name",t.Date="Date",t))(lC||{});const cs={async create(t,r,e,s){try{return(await Ye.post("GoodsReceipt/Create",{vendor:r,name:e,type:t,documents:s,confirm})).data}catch(l){throw console.error("Error creating document:",l),l}},async cancel(t){try{return(await Ye.get(`goodsReceipt/cancel/${t}`)).data}catch(r){throw console.error("Error cancel goods receipt: ",r),r}},async process(t){try{const r=await Ye.get(`goodsReceipt/process/${t}`);if(!r.data.success)throw new Error(r.data.errorMessage);return r.data}catch(r){throw console.error("Error processing goods receipt: ",r),r}},async fetch(t){try{return(await Ye.get(`goodsReceipt/${t}`)).data}catch(r){throw console.error("Error fetching document:",r),r}},async fetchVendors(){try{return(await Ye.get("General/Vendors")).data}catch(t){throw console.error("Error loading vendors:",t),t}},async search(t,r=lC.ID,e=!0){try{return(await Ye.post("goodsReceipt",t)).data}catch(s){throw console.error("Error fetching documents:",s),s}},async addItem(t,r,e,s,l,o){try{const d=await Ye.post("GoodsReceipt/AddItem",{id:t,itemCode:r,barcode:e,unit:s,startNewPackage:l,packageId:o});if(d.data.errorMessage==null)return d.data;throw new Error(d.data.errorMessage)}catch(i){throw console.error("Error adding item:",i),i}},async updateLine({id:t,lineId:r,comment:e,userName:s,reason:l,quantity:o}){try{return{returnValue:(await Ye.post("GoodsReceipt/UpdateLine",{id:t,lineId:r,comment:e,userName:s,closeReason:l,quantity:o})).data}}catch(i){throw console.error("Error updating line:",i),i}},async updateLineQuantity({id:t,lineId:r,userName:e,quantity:s}){try{return(await Ye.post("GoodsReceipt/UpdateLineQuantity",{id:t,lineId:r,userName:e,quantity:s})).data}catch(l){throw console.error("Error updating line quantity:",l),l}}};function O0({processType:t=qe.Regular}){const{setError:r}=Dt(),{t:e}=Be(),s=B.useRef(null),[l,o]=B.useState(null),[i,d]=B.useState([]),[c,a]=B.useState(!0);B.useEffect(()=>{a(!0),cs.search({statuses:[Mt.Open,Mt.InProgress],processType:t}).then(p=>d(p)).catch(p=>r(p)).finally(()=>a(!1))},[r,t]);function u(p){o(p),s?.current?.show()}const m=()=>{switch(t){case qe.Confirmation:return e("receiptConfirmation");case qe.TransferConfirmation:return e("transferConfirmation");default:return e("goodsReceipt")}},h=()=>n.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((p,y)=>n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx(Q,{className:"h-5 w-24","aria-label":"Loading..."}),n.jsx(Q,{className:"h-4 w-16"})]}),n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-4 w-40"}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx(Q,{className:"h-8 w-20"}),n.jsx(Q,{className:"h-8 w-24"})]})]})},y))});return n.jsxs(xn,{title:m(),children:[c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:n.jsx(h,{})}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(Yh,{documents:[],docDetails:u,processType:t,supervisor:!1,loading:!0})})]}):i.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:i.map(p=>n.jsx(oC,{doc:p,docDetails:u,processType:t},p.id))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(Yh,{documents:i,docDetails:u,processType:t,supervisor:!1,loading:!1})})]}):n.jsxs(ar,{variant:"information",children:[n.jsx(sr,{className:"h-4 w-4"}),n.jsx(Kn,{children:t===qe.Regular?e("noGoodsReceiptData"):e("noConfirmationData")})]}),n.jsx(nm,{ref:s,doc:l})]})}const nq=()=>{const{scanCode:t}=ss(),{t:r}=Be(),{dateTimeFormat:e}=kr(),s=B.useRef(null),l=B.useRef(null),[o,i]=B.useState(!0),{setError:d}=Dt(),[c,a]=B.useState([]),[u,m]=B.useState(null),h=B.useRef(null),[p,y]=B.useState(null),[x,g]=B.useState(null),[w,v]=B.useState(!0),[j,N]=B.useState(!1);B.useEffect(()=>{if(setTimeout(()=>s.current?.focus(),1),t==null){v(!1);return}v(!0),cs.fetch(t).then(Y=>y(Y)).catch(Y=>d(Y)).finally(()=>v(!1))},[]);const T=Y=>{let W=new Date(Date.now());Y.timeStamp=e(W),a([Y,...c])};function D(Y){const W=Y.item,O=Y.unit;l?.current?.show(!1),s.current?.clear();let I=W.barcode;N(!0),cs.addItem(p.id,W.code,I,O,Y.createPackage,Y.package?.id).then(R=>{if(V(R,W.code,I))return;let S="",C="Information",k=[];(R.warehouse?1:0)+(R.fulfillment?1:0)+(R.showroom?1:0)===1?(R.warehouse&&(S=r("scanConfirmStoreInWarehouse"),C="Positive"),R.fulfillment&&(S=r("scanConfirmFulfillment"),C="Warning"),R.showroom&&(S=r("scanConfirmShowroom"),C="Information")):(R.warehouse&&k.push({message:r("scanConfirmStoreInWarehouse"),severity:"Positive"}),R.fulfillment&&k.push({message:r("scanConfirmFulfillment"),severity:"Warning"}),R.showroom&&k.push({message:r("scanConfirmShowroom"),severity:"Information"}));const M={lineId:R.lineId,barcode:I,itemCode:W.code,message:S,severity:C,multiple:k,quantity:R.quantity,numInBuy:R.numInBuy,buyUnitMsr:R.buyUnitMsr,purPackUn:R.purPackUn,purPackMsr:R.purPackMsr,unit:O,customFields:R.customFields,package:R.packageId?{id:R.packageId,barcode:R.packageBarcode}:Y.package};T(M),g(R.packageId?{id:R.packageId,barcode:R.packageBarcode}:Y.package),R.packageId&&Y.createPackage&&setTimeout(()=>s.current?.focus(),100)}).catch(R=>{let S=`${R}`;S.includes("Item was not found in any of the source documents")?S=r("itemNotFoundInSource"):S=R.response?.data.exceptionMessage??`Add Item Error: ${R}`,T({barcode:I,itemCode:W.code,message:S,severity:"Negative"})}).finally(function(){N(!1),setTimeout(()=>s.current?.focus(),100)})}function V(Y,W,O){return Y.closedDocument?(T({lineId:Y.lineId,barcode:O,itemCode:W,message:En(r("goodsReceiptIsClosed"),p?.number),severity:"Negative",multiple:[],quantity:Y.quantity}),i(!1),!0):!1}function P(Y,W){m(Y),setTimeout(()=>{h?.current?.open(W)},1)}function $(Y,W,O){if(u==null)return;const I={...u};switch(Y){case Ya.Cancel:I.comment=W,I.canceled=O??!1;break;case Ya.Comments:I.comment=W;break;case Ya.Quantity:I.quantity=W;break}let R=c.findIndex(C=>C.lineId===u.lineId),S=[...c];R!==-1?S[R]=I:S.push(I),a(S),m(null)}function G(Y){return Y.quantity==null?cs.updateLine(Y):new Promise((W,O)=>{try{let I=Is.Ok,R;if(u==null)return;const S={...u};if(cs.updateLineQuantity({id:Y.id,lineId:Y.lineId,userName:Y.userName,quantity:Y.quantity}).then(C=>{I=C.returnValue,R=C.errorMessage;let k="",E="Information",M=[];(C.warehouse?1:0)+(C.fulfillment?1:0)+(C.showroom?1:0)===1?(C.warehouse&&(k=r("scanConfirmStoreInWarehouse"),E="Positive"),C.fulfillment&&(k=r("scanConfirmFulfillment"),E="Warning"),C.showroom&&(k=r("scanConfirmShowroom"),E="Information")):(C.warehouse&&M.push({message:r("scanConfirmStoreInWarehouse"),severity:"Positive"}),C.fulfillment&&M.push({message:r("scanConfirmFulfillment"),severity:"Warning"}),C.showroom&&M.push({message:r("scanConfirmShowroom"),severity:"Information"})),S.quantity=Y.quantity,S.multiple=M,S.message=k,S.severity=E;let z=c.findIndex(Z=>Z.lineId===u.lineId),K=[...c];z!==-1?K[z]=S:K.push(S),a(K),m(null)}),R!=null){d(R),O(R);return}W({returnValue:I})}catch(I){d(I),O(I)}})}return{scanCode:t,info:p,enable:o,isLoading:w,barcodeRef:s,processesRef:h,acceptValues:c,currentAlert:u,handleAddItem:D,alertAction:P,handleAlertActionAccept:$,handleUpdateLine:G,currentPackage:x,setCurrentPackage:g,isProcessing:j}},rq=()=>n.jsxs("div",{className:"space-y-4","aria-label":"Loading...",children:[n.jsx("div",{className:"p-4 border rounded-lg bg-gray-50",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(Q,{className:"h-6 w-32"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsx(Q,{className:"h-4 w-48"}),n.jsx(Q,{className:"h-4 w-40"})]})}),Array.from({length:3}).map((t,r)=>n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx(Q,{className:"h-5 w-40"}),n.jsx(Q,{className:"h-4 w-16"})]}),n.jsx(Q,{className:"h-4 w-full"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{className:"h-8 w-24"}),n.jsx(Q,{className:"h-8 w-20"}),n.jsx(Q,{className:"h-8 w-28"})]})]})},r)),n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Q,{className:"h-6 w-32"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-10 w-full"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{className:"h-10 w-24"}),n.jsx(Q,{className:"h-10 w-28"})]})]})})]});function D0({processType:t=qe.Regular}){const{t:r}=Be(),{info:e,enable:s,isLoading:l,barcodeRef:o,processesRef:i,acceptValues:d,currentAlert:c,handleAddItem:a,alertAction:u,handleAlertActionAccept:m,handleUpdateLine:h,currentPackage:p,setCurrentPackage:y,isProcessing:x}=nq(),g=fn(),{user:w}=bt(),j=(()=>{switch(t){case qe.Confirmation:return r("receiptConfirmation");case qe.TransferConfirmation:return r("transferConfirmation");default:return r("goodsReceipt")}})(),N=()=>{switch(t){case qe.Confirmation:return"/goodsReceiptConfirmation";case qe.TransferConfirmation:return"/transferConfirmation";default:return"/goodsReceipt"}};return n.jsxs(xn,{title:j,titleOnClick:()=>g(N()),titleBreadcrumbs:[{label:e?.number?.toString()||""}],footer:s&&!l&&n.jsx(vo,{ref:o,enabled:!0,unit:!0,enablePackage:w.settings.enablePackages&&w.settings.goodsReceiptPackages,currentPackage:p,objectType:Cc.GoodsReceipt,objectId:e?.id,objectNumber:e?.number,onAddItem:a,onPackageChanged:y}),children:[x&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 flex flex-col items-center space-y-4",children:[n.jsx(ta,{className:"h-8 w-8 animate-spin text-blue-500"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r("processingItem")})]})}),l?n.jsx(rq,{}):e?n.jsxs(n.Fragment,{children:[d.map(T=>n.jsx(em,{enableComment:!0,alert:T,onAction:D=>u(T,D)},T.lineId)),c&&n.jsx(tm,{ref:i,id:e.id,alert:c,reasonType:fd.GoodsReceipt,onCancel:(T,D)=>m(Ya.Cancel,T,D),onCommentsChanged:T=>m(Ya.Comments,T),onQuantityChanged:T=>m(Ya.Quantity,T),supervisorPassword:w.settings.goodsReceiptModificationSupervisor,onUpdateLine:h})]}):n.jsx(ar,{variant:"destructive",className:"mt-4",children:n.jsx(Kn,{children:r("invalidScanCode")})})]})}const sq=(t=qe.Regular)=>{const{t:r}=Be(),{user:e}=bt(),[s,l]=B.useState(!1),{setError:o}=Dt(),[i,d]=B.useState([]),[c,a]=B.useState(null),[u,m]=B.useState(null),[h,p]=B.useState(!1),[y,x]=B.useState(!0),[g,w]=B.useState(!1),v=B.useRef(null);na(),B.useEffect(()=>{t===qe.Regular?l(e?.roles.filter(V=>V===Ae.GOODS_RECEIPT_SUPERVISOR).length===1):t===qe.Confirmation?l(e?.roles.filter(V=>V===Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR).length===1):t===qe.TransferConfirmation&&l(e?.roles.filter(V=>V===Ae.TRANSFER_SUPERVISOR).length===1),x(!0),cs.search({statuses:[Mt.Open,Mt.InProgress],processType:t}).then(V=>d(V)).catch(V=>o(V)).finally(()=>x(!1))},[t,e]);function j(V){a(V),v?.current?.show()}const N=(V,P)=>{a(V),m(P),p(!0)},T=()=>{p(!1),w(!0),(u==="process"?cs.process(c.id):cs.cancel(c.id)).then(P=>{typeof P=="boolean"||P.success?(d($=>$.filter(G=>G.id!==c?.id)),$n.success(r(u==="process"?"approved":"cancelled"))):$n.error(P.errorMessage)}).catch(P=>o(P)).finally(()=>w(!1))};function D(){let V,P;switch(t){case qe.Confirmation:V=r("goodsReceiptConfirmationSupervisor"),P=r("goodsReceiptConfirmationCreation");break;case qe.TransferConfirmation:V=r("transferConfirmationSupervisor"),P=r("transferConfirmationCreation");break;default:V=r("goodsReceiptSupervisor"),P=r("goodsReceiptCreation")}return!e?.settings?.goodsReceiptCreateSupervisorRequired&&!s?P:V}return{supervisor:s,documents:i,selectedDocument:c,setDocuments:d,actionType:u,dialogOpen:h,isLoading:y,isProcessing:g,documentListDialogRef:v,handleDocDetails:j,handleAction:N,handleConfirmAction:T,setDialogOpen:p,getTitle:D}},cC=B.forwardRef((t,r)=>{const{t:e}=Be(),s=ka(),l=B.useRef(null),[o,i]=B.useState([]),d="20",c="22",a="18",u="67",[m,h]=B.useState(t.processType===qe.Regular?c:t.processType===qe.TransferConfirmation?u:d),[p,y]=B.useState("");B.useImperativeHandle(r,()=>({clearItems(){i([]),t.onItemsUpdate([])}}));const x=()=>{if(p.trim().length===0){$n.warning(e("documentRequired"));return}const w=parseInt(m),v=parseInt(p);if(isNaN(v)){$n.warning(e("invalidDocumentNumber"));return}let j={objectType:w,documentNumber:v};if(o.find(T=>T.objectType===j.objectType&&T.documentNumber===j.documentNumber)){$n.warning(e("duplicateNotAllowed"));return}const N=[...o,j];i(N),y(""),l.current?.focus(),t.onItemsUpdate(N)},g=w=>{const v=o.filter((j,N)=>N!==w);i(v),t.onItemsUpdate(v)};return n.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[o.length>0&&n.jsx("div",{className:"border-b pb-3",children:o.map((w,v)=>n.jsxs("div",{className:"flex items-center justify-between border-b last:border-b-0",children:[n.jsx("span",{children:`${s(w.objectType)}: ${w.documentNumber}`}),n.jsx(Ie,{type:"button",variant:"outline",size:"icon",onClick:()=>g(v),"aria-label":e("delete"),className:"hover:bg-red-50 hover:text-red-600 transition-colors",children:n.jsx(br,{className:"h-4 w-4 text-red-500"})})]},v))}),o.length===0&&n.jsxs(ar,{variant:"information",children:[n.jsx(sr,{className:"h-4 w-4"}),n.jsx(Kn,{children:t.processType===qe.TransferConfirmation?e("noTransfersAdded"):e("noDocumentsAdded")})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:space-x-2 space-y-3 sm:space-y-0",children:[n.jsxs("div",{className:"flex-grow sm:flex-1",children:[" ",n.jsx(cn,{htmlFor:"docTypeSelect",className:"mb-1 block",children:e("documentType")}),n.jsxs(us,{value:m,onValueChange:h,children:[n.jsx(fs,{id:"docTypeSelect",className:"w-full",children:n.jsx(ds,{placeholder:e("selectDocumentType")})}),n.jsxs(hs,{children:[t.processType!==qe.Regular&&n.jsx(mr,{value:d,children:e("goodsReceipt")}),t.processType===qe.Regular&&n.jsx(mr,{value:c,children:e("purchaseOrder")}),n.jsx(mr,{value:a,children:t.processType===qe.Regular?e("reservedInvoice"):e("purchaseInvoice")}),t.processType===qe.TransferConfirmation&&n.jsx(mr,{value:u,children:e("transfer")})]})]})]}),n.jsxs("div",{className:"flex-grow sm:flex-1",children:[" ",n.jsx(cn,{htmlFor:"docNumInput",className:"mb-1 block",children:t.processType===qe.TransferConfirmation?e("transferNumber"):e("documentNumber")}),n.jsx(on,{id:"docNumInput",ref:l,value:p,type:"number",placeholder:t.processType===qe.TransferConfirmation?e("enterTransferNumber"):e("enterDocumentNumber"),onChange:w=>y(w.target.value),onKeyDown:w=>w.key==="Enter"&&x(),className:"w-full"})]}),n.jsxs("div",{className:"sm:flex-none pt-3 sm:pt-0",children:[" ",n.jsxs(Ie,{type:"button",onClick:x,className:"w-full sm:w-auto",children:[n.jsx(Vu,{className:"mr-2 h-4 w-4"})," ",e("add")]})]})]})]})});cC.displayName="DocumentList";const aq=({showTabs:t=!0})=>n.jsxs("div",{className:"w-full","aria-label":"Loading document form...",children:[t&&n.jsxs("div",{className:"grid w-full grid-cols-2 mb-4",children:[n.jsx(Q,{className:"h-10 rounded-r-none"}),n.jsx(Q,{className:"h-10 rounded-l-none"})]}),t?n.jsxs("div",{className:"space-y-4 p-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-8"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsx(Q,{className:"h-8 w-full"}),n.jsx(Q,{className:"h-6 w-3/4"})]})]}),n.jsx("div",{children:n.jsx(Q,{className:"h-10 w-20"})})]}):n.jsx(ot,{className:"mb-4 shadow-lg",children:n.jsxs("div",{className:"space-y-4 p-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-8"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsx(Q,{className:"h-8 w-full"}),n.jsx(Q,{className:"h-6 w-3/4"})]})]}),n.jsx("div",{children:n.jsx(Q,{className:"h-10 w-20"})})]})})]}),iq=({onNewDocument:t,processType:r=qe.Regular})=>{const{t:e}=Be(),s=ka(),{setError:l}=Dt(),o=B.useRef(null),[i,d]=B.useState(!1),[c,a]=B.useState(!1),u=Fa.All.toString(),m=Fa.SpecificOrders.toString(),[h,p]=B.useState(m),[y,x]=B.useState([]),[g,w]=B.useState(""),[v,j]=B.useState(""),[N,T]=B.useState([]);B.useEffect(()=>{a(!0),cs.fetchVendors().then(P=>T(P)).catch(P=>l(P)).finally(()=>a(!1))},[]);const D=P=>{P.preventDefault();const $=h===u?Fa.All:r===qe.Regular?Fa.SpecificOrders:r===qe.TransferConfirmation?Fa.SpecificTransfers:Fa.SpecificReceipts;switch($){case Fa.All:break;case Fa.SpecificOrders:case Fa.SpecificReceipts:if(y.length===0){l(e("documentRequired"));return}break}d(!0),cs.create($,g,v,y).then(G=>{G.error?l(e("unknownError")):(t(G),j(""),w(""),o.current?.clearItems(),x([]))}).catch(G=>{let Y=e("unknownError");if(G.response?.status===400&&G.response?.data)try{const W=G.response.data.ErrorData;if(W.objectType&&W.documentNumber&&W.docStatus){let O;switch(W.docStatus){case"E":O=e("doesNotExists");break;case"R":O=e("notReserved");break;case"W":O=e("noLinesForWarehouse");break;case"F":O=e("documentProcessed");break;default:O=e("isNotOpen");break}Y=En(e("badDocumentError"),s(W.objectType),W.documentNumber,O)}}catch{Y=e("unknownError")}l(Y)}).finally(()=>d(!1))},V=()=>n.jsxs("form",{onSubmit:D,className:"space-y-4 pl-4 pr-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"docNameSpecific",children:e("id")}),n.jsx(on,{id:"docNameSpecific",value:v,onChange:P=>j(P.target.value),maxLength:50})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{children:r===qe.TransferConfirmation?e("transfersList"):e("documentsList")}),n.jsx(cC,{ref:o,processType:r,onItemsUpdate:x})]}),n.jsx("div",{children:n.jsxs(Ie,{type:"submit",children:[n.jsx(Vu,{className:"mr-2 h-4 w-4"})," ",e("create")]})})]});return i||c?n.jsx(aq,{showTabs:r===qe.Regular}):r!==qe.Regular?n.jsx(ot,{className:"mb-4 shadow-lg",children:V()}):n.jsxs(Ad,{value:h,onValueChange:p,className:"w-full",children:[n.jsxs(Md,{className:"grid w-full grid-cols-2",children:[n.jsx(ya,{value:m,children:e("specificDocuments")}),n.jsx(ya,{value:u,children:e("automatic")})]}),n.jsx(xa,{value:u,children:n.jsxs("form",{onSubmit:D,className:"space-y-4 p-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"docNameAuto",children:e("id")}),n.jsx(on,{id:"docNameAuto",value:v,onChange:P=>j(P.target.value),maxLength:50})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"vendorSelect",children:e("selectVendor")}),n.jsxs(us,{value:g,onValueChange:w,children:[n.jsx(fs,{id:"vendorSelect",children:n.jsx(ds,{placeholder:e("selectVendorPlaceholder")})}),n.jsx(hs,{children:N.map(P=>n.jsx(mr,{value:P.id,children:P.name},P.id))})]})]}),n.jsx("div",{children:n.jsxs(Ie,{type:"submit",children:[n.jsx(Vu,{className:"mr-2 h-4 w-4"})," ",e("create")]})})]})}),n.jsx(xa,{value:m,children:V()})]})};function I0({processType:t=qe.Regular}){const{t:r}=Be(),{supervisor:e,documents:s,selectedDocument:l,setDocuments:o,actionType:i,dialogOpen:d,isLoading:c,isProcessing:a,documentListDialogRef:u,handleDocDetails:m,handleAction:h,handleConfirmAction:p,setDialogOpen:y,getTitle:x}=sq(t),g=()=>n.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((w,v)=>n.jsx("div",{className:"p-4 border rounded-lg",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx(Q,{className:"h-5 w-24"}),n.jsx(Q,{className:"h-4 w-16"})]}),n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-4 w-40"}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx(Q,{className:"h-8 w-20"}),n.jsx(Q,{className:"h-8 w-24"}),n.jsx(Q,{className:"h-8 w-8"})]})]})},v))});return n.jsxs(xn,{title:x(),children:[n.jsx(iq,{processType:t,onNewDocument:w=>o(v=>[w,...v])}),c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:n.jsx(g,{})}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(Yh,{documents:[],supervisor:e,action:h,docDetails:m,processType:t,loading:!0})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:s.map(w=>n.jsx(oC,{supervisor:e,doc:w,action:h,docDetails:m,processType:t},w.id))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(Yh,{documents:s,supervisor:e,action:h,docDetails:m,processType:t,loading:!1})})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 flex flex-col items-center space-y-4",children:[n.jsx(ta,{className:"h-8 w-8 animate-spin text-blue-500"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r("processing")})]})}),n.jsx(Vp,{onConfirm:p,onOpenChange:y,open:d,type:"confirm",title:En(r(i==="process"?"confirmFinishDocument":"confirmCancelDocument"),l?.number),description:r("actionCannotReverse")}),n.jsx(nm,{ref:u,doc:l})]})}function oq(){const{t}=Be();return[{code:"Open",name:t("openStatus"),status:Mt.Open},{code:"Processing",name:t("processingStatus"),status:Mt.Processing},{code:"Finished",name:t("finishedStatus"),status:Mt.Finished},{code:"Cancelled",name:t("cancelledStatus"),status:Mt.Cancelled},{code:"InProgress",name:t("inProgressStatus"),status:Mt.InProgress}]}const lq=B.forwardRef(({onSubmit:t,onClear:r,processType:e=qe.Regular,showTrigger:s=!0},l)=>{const[o,i]=B.useState(y()),[d,c]=B.useState([]),{t:a}=Be(),u=oq(),[m,h]=B.useState(!0),{displayVendor:p}=bt();B.useImperativeHandle(l,()=>({togglePanel:()=>h(!m)}));function y(){return{lastId:null,pageSize:10,processType:e}}function x(){i(y()),r()}const g=()=>{h(!1),t(o)},w=j=>{const N=d.find(T=>T.id===j);i(T=>({...T,vendor:N?.id}))},v=j=>{const N=u.find(T=>T.code===j);i(T=>({...T,statuses:N?[N.status]:void 0}))};return B.useEffect(()=>{cs.fetchVendors().then(j=>{c(j)}).catch(j=>{console.error("Error fetching vendors:",j)})},[]),n.jsx(TI,{type:"single",collapsible:!0,className:"w-full mb-4",value:m?"filters-panel":"",onValueChange:j=>h(j==="filters-panel"),children:n.jsxs(AI,{value:"filters-panel",children:[s&&n.jsx(MI,{className:"text-lg font-semibold",children:a("filters")}),n.jsx(OI,{children:n.jsxs("form",{className:"space-y-4 p-1",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[p&&n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"vendor",children:e===qe.TransferConfirmation?a("from"):a("vendor")}),n.jsxs(us,{value:o.vendor||"",onValueChange:w,children:[n.jsx(fs,{id:"vendor",children:n.jsx(ds,{placeholder:a("selectVendorPlaceholder")})}),n.jsx(hs,{children:d.map(j=>n.jsx(mr,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"docNumber",children:e===qe.TransferConfirmation?a("transferNumber"):a("number")}),n.jsx(on,{id:"docNumber",value:o.number??"",onChange:j=>{const N=j.target.value;i(T=>({...T,number:N.length>0?parseInt(N):null}))}})]}),n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"docId",children:a("id")}),n.jsx(on,{id:"docId",value:o.name??"",onChange:j=>i(N=>({...N,name:j.target.value})),maxLength:50})]}),n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"dateFrom",children:`${a("status")} - ${a("fromDate")}`}),n.jsxs("div",{className:"relative",children:[n.jsx(Z2,{date:o.dateFrom||void 0,onSelect:j=>i(N=>({...N,dateFrom:j||null})),placeholder:a("pickADate")}),o.dateFrom&&n.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-0 h-full px-2 hover:bg-transparent",onClick:()=>i(j=>({...j,dateFrom:null})),children:n.jsx(br,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"dateTo",children:`${a("status")} - ${a("toDate")}`}),n.jsxs("div",{className:"relative",children:[n.jsx(Z2,{date:o.dateTo||void 0,onSelect:j=>i(N=>({...N,dateTo:j||null})),placeholder:a("pickADate")}),o.dateTo&&n.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-0 h-full px-2 hover:bg-transparent",onClick:()=>i(j=>({...j,dateTo:null})),children:n.jsx(br,{className:"h-4 w-4"})})]})]}),e===qe.Regular?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"purchaseOrder",children:a("purchaseOrder")}),n.jsx(on,{id:"purchaseOrder",value:o.purchaseOrder??"",type:"number",onChange:j=>i(N=>({...N,purchaseOrder:j.target.value}))})]}),n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"reservedInvoice",children:a("reservedInvoice")}),n.jsx(on,{id:"reservedInvoice",value:o.reservedInvoice??"",type:"number",onChange:j=>i(N=>({...N,reservedInvoice:j.target.value}))})]}),n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"goodsReceipt",children:a("goodsReceipt")}),n.jsx(on,{id:"goodsReceipt",value:o.grpo??"",type:"number",onChange:j=>i(N=>({...N,grpo:j.target.value}))})]})]}):e===qe.Confirmation?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"goodsReceipt",children:a("goodsReceipt")}),n.jsx(on,{id:"goodsReceipt",value:o.grpo??"",type:"number",onChange:j=>i(N=>({...N,grpo:j.target.value}))})]}),n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"purchaseInvoice",children:a("purchaseInvoice")}),n.jsx(on,{id:"purchaseInvoice",value:o.purchaseInvoice??"",type:"number",onChange:j=>i(N=>({...N,purchaseInvoice:j.target.value}))})]})]}):n.jsx(n.Fragment,{children:n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"transfer",children:a("transfer")}),n.jsx(on,{id:"transfer",value:o.transfer??"",type:"number",onChange:j=>i(N=>({...N,transfer:j.target.value}))})]})}),n.jsxs("div",{children:[n.jsx(cn,{htmlFor:"status",children:a("status")}),n.jsxs(us,{value:o.statuses&&o.statuses.length>0&&u.find(j=>j.status===o.statuses[0])?.code||"",onValueChange:v,children:[n.jsx(fs,{id:"status",children:n.jsx(ds,{placeholder:a("selectStatusPlaceholder")})}),n.jsx(hs,{children:u.map(j=>n.jsx(mr,{value:j.code,children:j.name},j.code))})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsxs(Ie,{type:"button",variant:"outline",onClick:x,children:[n.jsx(U9,{className:"mr-2 h-4 w-4"}),a("clear")]}),n.jsxs(Ie,{type:"button",onClick:g,children:[n.jsx(v9,{className:"mr-2 h-4 w-4"}),a("Execute")]})]})]})})]})})}),cq=({doc:t,docDetails:r,processType:e=qe.Regular})=>{const{t:s}=Be(),{user:l,displayVendor:o}=bt(),{dateFormat:i}=kr(),d=_o(),c=rm(e),a=ka(),u=m=>m.map((h,p)=>`${p>0?", ":""}${a(h.objectType)} #${h.documentNumber}`).join("");return n.jsxs(ot,{children:[n.jsx(zn,{children:n.jsx(Kr,{children:`${s("number")}: ${t.number}`})}),n.jsxs(Gt,{children:[n.jsx("div",{className:"grid gap-2",children:n.jsxs(qs,{children:[t.name&&n.jsx(_t,{label:s("id"),value:t.name}),t.vendor&&o&&n.jsx(_t,{label:e===qe.TransferConfirmation?s("from"):s("vendor"),value:t.vendor.name??t.vendor.id}),t.documents&&t.documents.length>0&&n.jsx(_t,{label:e===qe.TransferConfirmation?s("transfersList"):s("documentsList"),value:u(t.documents),onClick:()=>r(t)}),n.jsx(_t,{label:s("docDate"),value:i(new Date(t.date))}),n.jsx(_t,{label:s("createdBy"),value:t.createdByUserName}),n.jsx(_t,{label:s("status"),value:d(t.status)}),t.updatedAt&&n.jsx(_t,{label:s("statusDate"),value:i(t.updatedAt)})]})}),n.jsx(Gp,{className:"my-4"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs(Ie,{variant:"outline",className:"w-full",onClick:()=>c("all",t.id),children:[n.jsx(bc,{className:"h-4 w-4 mr-2"}),e===qe.Regular?s("goodsReceiptReport"):e===qe.Confirmation?s("confirmationReport"):s("transferConfirmationReport")]}),l?.settings?.goodsReceiptTargetDocuments&&td.includes(t.status)&&n.jsxs(Ie,{variant:"outline",className:"w-full",onClick:()=>c("vs",t.id),children:[n.jsx(rc,{className:"h-4 w-4 mr-2"}),e===qe.Regular?s("goodsReceiptVSExit"):e===qe.Confirmation?s("confirmationReceiptVSExit"):s("transferVSExit")]}),tq.includes(t.status)&&n.jsxs(Ie,{variant:"outline",className:"w-full",onClick:()=>c("diff",t.id),children:[n.jsx(dp,{className:"h-4 w-4 mr-2"}),s("differencesReport")]})]})]})]},t.id)};function P0({processType:t=qe.Regular}){const{loading:r,setLoading:e,setError:s}=Dt(),{user:l,displayVendor:o}=bt(),{t:i}=Be(),[d,c]=B.useState([]),[a,u]=B.useState(""),[m,h]=B.useState(null),[p,y]=B.useState(!1),[x,g]=B.useState(null),w=B.useRef(null),v=B.useRef(null),{dateFormat:j}=kr(),N=_o(),T=rm(t),D=ka(),V=C=>{const k=C.map((E,M)=>`${M>0?", ":""}${D(E.objectType)} #${E.documentNumber}`).join("");return k.length>50?k.substring(0,50)+"...":k},P=B.useRef(m),$=B.useRef(a);B.useEffect(()=>{P.current=m},[m]),B.useEffect(()=>{$.current=a},[a]);const G=C=>{c([]),h(C),u(""),y(!1),O(C)},Y=()=>{c([]),h(null),u(""),y(!1)};function W(C){g(C),w?.current?.show()}const O=C=>{C&&(e(!0),cs.search(C).then(k=>{if((k?.length??0)===0){y(!0);return}c(E=>[...E,...k]),u(k[k.length-1].id)}).catch(k=>s(k)).finally(()=>e(!1)))};B.useEffect(()=>(window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)),[r,a]);const I=()=>{if(window.innerHeight+document.documentElement.scrollTop<=document.documentElement.offsetHeight-50||r||!P.current||p)return;e(!0);const C={...P.current,lastId:$.current};h(C),O(C)},R=()=>{v.current?.togglePanel()},S=()=>{switch(t){case qe.Confirmation:return i("confirmationReport");case qe.TransferConfirmation:return i("transferConfirmationReport");default:return i("goodsReceiptReport")}};return n.jsxs(xn,{title:S(),onFilterClicked:R,children:[n.jsx(lq,{ref:v,onSubmit:G,onClear:()=>Y(),processType:t,showTrigger:!1}),r&&d.length===0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden flex flex-col gap-2","aria-label":"Loading...",children:Array.from({length:6}).map((C,k)=>n.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx(Q,{className:"h-5 w-20"}),n.jsx(Q,{className:"h-8 w-8 rounded-full"})]}),n.jsx(Q,{className:"h-4 w-32"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Q,{className:"h-4 w-full"}),n.jsx(Q,{className:"h-4 w-full"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Q,{className:"h-4 w-3/4"}),n.jsx(Q,{className:"h-4 w-1/2"})]}),n.jsx(Q,{className:"h-4 w-full"})]},k))}),n.jsx("div",{className:"hidden sm:block","aria-label":"Loading...",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:i("id")}),n.jsx(he,{children:i("number")}),o&&n.jsx(he,{children:i("vendor")}),n.jsx(he,{children:i("documentsList")}),n.jsx(he,{children:i("docDate")}),n.jsx(he,{children:i("createdBy")}),n.jsx(he,{children:i("status")}),n.jsx(he,{children:i("statusDate")}),n.jsx(he,{className:"text-right"})]})}),n.jsx(en,{children:Array.from({length:8}).map((C,k)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),o&&n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-18"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{className:"text-right",children:n.jsx(Q,{className:"h-8 w-8 rounded"})})]},k))})]})})]}),r&&d.length===0&&m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden flex flex-col gap-2","aria-label":"Loading...",children:Array.from({length:5}).map((C,k)=>n.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx(Q,{className:"h-5 w-24"}),n.jsx(Q,{className:"h-8 w-8 rounded"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-4 w-40"}),n.jsx(Q,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-6 w-16 rounded-full"})]})]},k))}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:i("id")}),n.jsx(he,{children:i("number")}),o&&n.jsx(he,{children:i("vendor")}),n.jsx(he,{children:i("documentsList")}),n.jsx(he,{children:i("docDate")}),n.jsx(he,{children:i("createdBy")}),n.jsx(he,{children:i("status")}),n.jsx(he,{children:i("statusDate")}),n.jsx(he,{className:"text-right"})]})}),n.jsx(en,{children:Array.from({length:5}).map((C,k)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),o&&n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{className:"text-right",children:n.jsx(Q,{className:"h-8 w-8 rounded ml-auto"})})]},k))})]})})]}),d.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden flex flex-col gap-2",children:d.map(C=>n.jsx(cq,{doc:C,processType:t,docDetails:W},C.id))}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:i("id")}),n.jsx(he,{children:i("number")}),o&&n.jsx(he,{children:i("vendor")}),n.jsx(he,{children:i("documentsList")}),n.jsx(he,{children:i("docDate")}),n.jsx(he,{children:i("createdBy")}),n.jsx(he,{children:i("status")}),n.jsx(he,{children:i("statusDate")}),n.jsx(he,{className:"text-right"})]})}),n.jsx(en,{children:d.map(C=>n.jsxs(We,{children:[n.jsx(ue,{children:C.name||"-"}),n.jsx(ue,{children:C.number}),o&&n.jsx(ue,{children:C.vendor?.name??C.vendor?.id??"-"}),n.jsx(ue,{children:C.documents&&C.documents?.length>0?n.jsx("a",{href:"#",onClick:k=>{k.preventDefault(),W(C)},className:"text-blue-600 hover:underline",children:V(C.documents)}):"-"}),n.jsx(ue,{children:j(C.date)}),n.jsx(ue,{children:C.createdByUserName}),n.jsx(ue,{children:N(C.status)}),n.jsx(ue,{children:C.updatedAt?j(C.updatedAt):"-"}),n.jsx(ue,{className:"text-right",children:n.jsxs(kd,{children:[n.jsx(Ed,{asChild:!0,children:n.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(o3,{className:"h-4 w-4"})})}),n.jsxs(Rd,{align:"end",children:[n.jsxs(Zo,{onClick:()=>T("all",C.id),children:[n.jsx(bc,{className:"mr-2 h-4 w-4"}),t===qe.Regular?i("goodsReceiptReport"):i("confirmationReport")]}),l?.settings?.goodsReceiptTargetDocuments&&td.includes(C.status)&&n.jsxs(Zo,{onClick:()=>T("vs",C.id),children:[n.jsx(rc,{className:"mr-2 h-4 w-4"}),t===qe.Regular?i("goodsReceiptVSExit"):i("confirmationReceiptVSExit")]}),td.includes(C.status)&&n.jsxs(Zo,{onClick:()=>T("diff",C.id),children:[n.jsx(dp,{className:"mr-2 h-4 w-4"}),i("differencesReport")]})]})]})})]},C.id))})]})})]}),n.jsx(nm,{ref:w,doc:x})]})}const uq=({data:t})=>{const{t:r}=Be();return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden gap-2",children:t.map((e,s)=>n.jsxs(ot,{children:[n.jsxs(zn,{children:[n.jsx(Kr,{children:`${r("code")}: ${e.itemCode}`}),n.jsx(Ip,{children:`${r("description")}: ${e.itemName}`})]}),n.jsxs(Gt,{children:[n.jsxs("div",{className:"flex justify-between items-center border-b-2 border-primary font-bold",children:[n.jsx("div",{className:"w-[30%]",children:n.jsx("span",{children:r("unit")})}),n.jsxs("div",{className:"flex-1 flex justify-around text-center",children:[n.jsx("div",{className:"flex-1 text-xs",children:n.jsx("span",{children:r("units")})}),n.jsx("div",{className:"flex-1 text-xs",children:n.jsx("span",{children:e.buyUnitMsr??r("qtyInUn")})}),n.jsx("div",{className:"flex-1 text-xs",children:n.jsx("span",{children:e.purPackMsr??r("packUn")})})]})]}),n.jsx(_4,{label:r("openQuantity"),values:{units:An(e.openQuantity,0),buyUnits:An(e.openQuantity/e.numInBuy),packUnits:An(e.openQuantity/e.numInBuy/e.purPackUn)}}),n.jsx(_4,{label:r("quantity"),values:{units:An(e.quantity,0),buyUnits:An(e.quantity/e.numInBuy),packUnits:An(e.quantity/e.numInBuy/e.purPackUn)}})]})]},s))}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsxs(Jt,{children:[n.jsxs(We,{children:[n.jsx(he,{rowSpan:2,children:r("code")}),n.jsx(he,{rowSpan:2,children:r("description")}),n.jsx(he,{colSpan:3,className:"text-center border-l",children:r("openQuantity")}),n.jsx(he,{colSpan:3,className:"text-center border-l",children:r("quantity")})]}),n.jsxs(We,{children:[n.jsx(he,{className:"text-center border-l",children:r("units")}),n.jsx(he,{className:"text-center",children:r("qtyInUn")}),n.jsx(he,{className:"text-center border-r",children:r("packUn")}),n.jsx(he,{className:"text-center border-l",children:r("units")}),n.jsx(he,{className:"text-center",children:r("qtyInUn")}),n.jsx(he,{className:"text-center border-r",children:r("packUn")})]})]}),n.jsx(en,{children:t.map((e,s)=>n.jsxs(We,{children:[n.jsx(ue,{children:e.itemCode}),n.jsx(ue,{children:e.itemName}),n.jsx(ue,{className:"text-center border-l",children:An(e.openQuantity,0)}),n.jsx(ue,{className:"text-center",children:An(e.openQuantity/e.numInBuy)}),n.jsx(ue,{className:"text-center border-r",children:An(e.openQuantity/e.numInBuy/e.purPackUn)}),n.jsx(ue,{className:"text-center border-l",children:An(e.quantity,0)}),n.jsx(ue,{className:"text-center",children:An(e.quantity/e.numInBuy)}),n.jsx(ue,{className:"text-center border-r",children:An(e.quantity/e.numInBuy/e.purPackUn)})]},s))})]})})]})},dq=({cardCount:t=3,showDetailedView:r=!1})=>r?n.jsxs("div",{"aria-label":"Loading report details...",children:[n.jsx("div",{className:"mb-6 p-4 border rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-5 w-32"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-5 w-40"})]})]})}),n.jsx("div",{className:"block sm:hidden gap-2",children:Array.from({length:4}).map((e,s)=>n.jsxs(ot,{className:"mb-4",children:[n.jsxs(zn,{children:[n.jsx(Q,{className:"h-6 w-24"}),n.jsx(Q,{className:"h-4 w-48"})]}),n.jsxs(Gt,{children:[n.jsxs("div",{className:"flex justify-between items-center border-b-2 border-primary font-bold mb-4",children:[n.jsx("div",{className:"w-[30%]",children:n.jsx(Q,{className:"h-4 w-8"})}),n.jsxs("div",{className:"flex-1 flex justify-around text-center",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Q,{className:"h-3 w-8 mx-auto"})}),n.jsx("div",{className:"flex-1",children:n.jsx(Q,{className:"h-3 w-12 mx-auto"})}),n.jsx("div",{className:"flex-1",children:n.jsx(Q,{className:"h-3 w-10 mx-auto"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsxs("div",{className:"flex-1 flex justify-around text-center",children:[n.jsx(Q,{className:"h-4 w-8"}),n.jsx(Q,{className:"h-4 w-8"}),n.jsx(Q,{className:"h-4 w-8"})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsxs("div",{className:"flex-1 flex justify-around text-center",children:[n.jsx(Q,{className:"h-4 w-8"}),n.jsx(Q,{className:"h-4 w-8"}),n.jsx(Q,{className:"h-4 w-8"})]})]})]})]})]},s))}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsxs(Jt,{children:[n.jsxs(We,{children:[n.jsx(he,{rowSpan:2,children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(he,{rowSpan:2,children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{colSpan:3,className:"text-center border-l",children:n.jsx(Q,{className:"h-4 w-20 mx-auto"})}),n.jsx(he,{colSpan:3,className:"text-center border-l",children:n.jsx(Q,{className:"h-4 w-16 mx-auto"})})]}),n.jsxs(We,{children:[n.jsx(he,{className:"text-center border-l",children:n.jsx(Q,{className:"h-3 w-10 mx-auto"})}),n.jsx(he,{className:"text-center",children:n.jsx(Q,{className:"h-3 w-12 mx-auto"})}),n.jsx(he,{className:"text-center border-r",children:n.jsx(Q,{className:"h-3 w-12 mx-auto"})}),n.jsx(he,{className:"text-center border-l",children:n.jsx(Q,{className:"h-3 w-10 mx-auto"})}),n.jsx(he,{className:"text-center",children:n.jsx(Q,{className:"h-3 w-12 mx-auto"})}),n.jsx(he,{className:"text-center border-r",children:n.jsx(Q,{className:"h-3 w-12 mx-auto"})})]})]}),n.jsx(en,{children:Array.from({length:6}).map((e,s)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{className:"text-center border-l",children:n.jsx(Q,{className:"h-4 w-12 mx-auto"})}),n.jsx(ue,{className:"text-center",children:n.jsx(Q,{className:"h-4 w-10 mx-auto"})}),n.jsx(ue,{className:"text-center border-r",children:n.jsx(Q,{className:"h-4 w-8 mx-auto"})}),n.jsx(ue,{className:"text-center border-l",children:n.jsx(Q,{className:"h-4 w-12 mx-auto"})}),n.jsx(ue,{className:"text-center",children:n.jsx(Q,{className:"h-4 w-10 mx-auto"})}),n.jsx(ue,{className:"text-center border-r",children:n.jsx(Q,{className:"h-4 w-8 mx-auto"})})]},s))})]})})]}):n.jsx("div",{"aria-label":"Loading reports...",children:Array.from({length:t}).map((e,s)=>n.jsx("div",{className:"mb-2",children:n.jsxs(ot,{className:"mb-4 shadow-lg",children:[n.jsx(zn,{children:n.jsx(Q,{className:"h-6 w-32"})}),n.jsx(Gt,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-5 w-28"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-14"}),n.jsx(Q,{className:"h-5 w-36"})]})]}),n.jsx(Q,{className:"h-10 w-full"})]})})]})},s))}),tc={async fetchReportAll(t){try{const r=`goodsReceipt/${t}/report/all`;return(await Ye.get(r)).data}catch(r){throw console.error("Error fetching documents:",r),r}},async fetchReportAllDetails(t,r){try{const e=`goodsReceipt/${t}/report/all/${encodeURIComponent(r)}`;return(await Ye.get(e)).data}catch(e){throw console.error("Error fetching all details:",e),e}},async updateReport(t){try{return(await Ye.post("goodsReceipt/updateAll",t)).data}catch(r){throw console.error("Error updating goods receipt:",r),r}},async fetchVSExitReport(t){try{const r=`goodsReceipt/${t}/report/vsExit`;return(await Ye.get(r)).data}catch(r){throw console.error("Error fetching documents:",r),r}},async fetchValidateProcess(t){try{const r=`goodsReceipt/${t}/validateProcess`;return(await Ye.get(r)).data}catch(r){throw console.error("Error fetching documents:",r),r}},async fetchValidateProcessLineDetails(t,r,e,s){try{return(await Ye.post("goodsReceipt/validateProcessLineDetails",{id:t,baseType:r,baseEntry:e,baseLine:s})).data}catch(l){throw console.error("Error fetching documents:",l),l}}};function R4({processType:t=qe.Regular}){const{scanCode:r}=ss(),{t:e}=Be(),s=ka(),{setError:l}=Dt(),[o,i]=B.useState(null),[d,c]=B.useState(null),[a,u]=B.useState(!1),m=fn();B.useEffect(()=>{r!=null&&(u(!0),tc.fetchVSExitReport(r).then(j=>i(j)).catch(j=>l(j)).finally(()=>u(!1)))},[r,l]);const h=()=>{switch(t){case qe.Confirmation:return e("goodsReceiptConfirmationSupervisor");case qe.TransferConfirmation:return e("transferConfirmationSupervisor");default:return e("goodsReceiptSupervisor")}},p=()=>{switch(t){case qe.Confirmation:return"/goodsReceiptConfirmationSupervisor";case qe.TransferConfirmation:return"/transferConfirmationSupervisor";default:return"/goodsReceiptSupervisor"}},y=()=>{switch(t){case qe.Confirmation:return e("confirmationReceiptVSExit");case qe.TransferConfirmation:return e("transferConfirmationVSExit");default:return e("goodsReceiptVSExit")}},x=h(),g=p(),w=y(),v=[{label:`${r}`},{label:w,onClick:d?()=>c(null):void 0}];return d&&v.push({label:`${s(d.objectType)}: ${d.number}`}),n.jsx(xn,{title:x,titleOnClick:()=>m(g),titleBreadcrumbs:v,children:a?n.jsx(dq,{showDetailedView:!!d,cardCount:3}):n.jsxs(n.Fragment,{children:[!d&&o?.map((j,N)=>n.jsx("div",{className:"mb-2",children:n.jsxs(ot,{className:"mb-4 shadow-lg",children:[n.jsx(zn,{children:`${s(j.objectType)}: ${j.number}`}),n.jsxs(Gt,{children:[n.jsxs(qs,{children:[n.jsx(_t,{label:e("customer"),value:j.cardName}),j.address&&n.jsx(_t,{label:e("address"),value:j.address})]}),n.jsx(Ie,{className:"w-full",type:"button",onClick:()=>c(j),children:e("details")})]})]})},N)),d&&n.jsxs(n.Fragment,{children:[n.jsxs(qs,{children:[n.jsx(_t,{label:e("customer"),value:d.cardName}),d.address&&n.jsx(_t,{label:e("address"),value:d.address})]}),n.jsx(uq,{data:d.lines})]}),o&&o.length===0&&n.jsx(ar,{variant:"default",className:"mt-4 bg-yellow-100 border-yellow-400 text-yellow-700",children:n.jsx(Kn,{children:e("noExitData")})})]})})}const fq=({data:t,onClick:r,status:e})=>{const{t:s}=Be(),l=ni(),{user:o}=bt(),i=o?.settings.goodsReceiptTargetDocuments,d=e===Mt.Open||e===Mt.InProgress;return n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:s("code")}),n.jsx(he,{className:"hidden sm:table-cell",children:s("description")}),n.jsx(he,{children:s("quantity")}),i&&n.jsx(he,{children:s("delivery")}),i&&n.jsx(he,{children:s("showroom")}),n.jsx(he,{children:s("inWarehouse")}),n.jsx(he,{children:s("stock")}),d&&n.jsx(he,{className:"border-l"})]})}),n.jsx(en,{children:t.map((c,a)=>{const u=c.quantity-c.delivery-c.showroom;return n.jsxs(B.Fragment,{children:[n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Za,{data:c})}),n.jsx(ue,{className:"hidden sm:table-cell",children:c.itemName}),n.jsx(ue,{children:l({quantity:c.quantity,numInBuy:c.numInBuy,buyUnitMsr:c.buyUnitMsr,purPackUn:c.purPackUn,purPackMsr:c.purPackMsr})}),i&&n.jsx(ue,{children:l({quantity:c.delivery,numInBuy:c.numInBuy,buyUnitMsr:c.buyUnitMsr,purPackUn:c.purPackUn,purPackMsr:c.purPackMsr})}),i&&n.jsx(ue,{children:l({quantity:c.showroom,numInBuy:c.numInBuy,buyUnitMsr:c.buyUnitMsr,purPackUn:c.purPackUn,purPackMsr:c.purPackMsr})}),n.jsx(ue,{children:l({quantity:u,numInBuy:c.numInBuy,buyUnitMsr:c.buyUnitMsr,purPackUn:c.purPackUn,purPackMsr:c.purPackMsr})}),n.jsx(ue,{children:l({quantity:c.stock,numInBuy:c.numInBuy,buyUnitMsr:c.buyUnitMsr,purPackUn:c.purPackUn,purPackMsr:c.purPackMsr})}),d&&n.jsx(ue,{className:"border-l",children:n.jsx(Ie,{variant:"default",size:"sm",onClick:()=>r(c),children:s("modifyValues")})})]},`data-${a}`),n.jsx(We,{className:"sm:hidden",children:n.jsxs(ue,{className:"bg-gray-100 border-b-1",colSpan:d?8:7,children:[s("description"),": ",c.itemName]})},`description-${a}`)]},`row-${a}`)})})]})},hq=({rowCount:t=6,showTarget:r=!0,allowModify:e=!0})=>n.jsx("div",{"aria-label":"Loading goods receipt report...",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(he,{className:"hidden sm:table-cell",children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-16"})}),r&&n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-16"})}),r&&n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-18"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})}),e&&n.jsx(he,{className:"border-l",children:n.jsx(Q,{className:"h-4 w-16"})})]})}),n.jsx(en,{children:Array.from({length:t}).map((s,l)=>n.jsxs(Te.Fragment,{children:[n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{className:"hidden sm:table-cell",children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),r&&n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),r&&n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),e&&n.jsx(ue,{className:"border-l",children:n.jsx(Q,{className:"h-8 w-20"})})]},`data-${l}`),n.jsx(We,{className:"sm:hidden",children:n.jsx(ue,{className:"bg-gray-100 border-b-1",colSpan:e?8:7,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Q,{className:"h-4 w-20 mr-2"}),n.jsx(Q,{className:"h-4 w-40"})]})})},`description-${l}`)]},`skeleton-row-${l}`))})]})}),pq=t=>{const{setError:r}=Dt(),{user:e}=bt(),[s,l]=B.useState(!1),[o,i]=B.useState(null),[d,c]=B.useState([]),[a,u]=B.useState(!1),[m,h]=B.useState({}),[p,y]=B.useState({}),x=e?.settings?.enableDecimalQuantities??!1;function g(){try{const N=d?.filter(T=>m[T.lineId]).map(T=>T.lineId)??[];l(!1),t.onUpdate({id:t.id,removeRows:N,quantityChanges:p})}catch(N){r(N)}}function w(N,T,D){u(D),h({}),y({}),c(T),l(!0)}function v(N,T){h(D=>({...D,[N]:T}))}function j(N,T){const D=Zy(T,x);y(V=>({...V,[N]:D}))}return{isOpen:s,currentData:o,data:d,enableUpdate:a,checkedRows:m,quantityChanges:p,setCurrentData:i,showWithData:w,update:g,handleCheckboxChange:v,handleQuantityChange:j,setIsOpen:l}},mq=B.forwardRef((t,r)=>{const{t:e}=Be(),{dateFormat:s,timeFormat:l}=kr(),{user:o}=bt(),{isOpen:i,currentData:d,data:c,enableUpdate:a,checkedRows:u,quantityChanges:m,setCurrentData:h,showWithData:p,update:y,handleCheckboxChange:x,handleQuantityChange:g,setIsOpen:w}=pq(t),v=o?.settings?.enableDecimalQuantities??!1;B.useImperativeHandle(r,()=>({show(N,T,D){h(N),p(N,T,D)}}));const j=B.useMemo(()=>!!(d&&c&&c.find(N=>N.package!=null)),[d,c]);return n.jsx(lr,{open:i,onOpenChange:w,children:n.jsxs(cr,{className:j?"sm:max-w-4xl":"sm:max-w-3xl",children:[n.jsxs(ur,{children:[n.jsx(dr,{children:e("detail")}),n.jsxs(_i,{children:[d?.itemCode," - ",d?.itemName]})]}),d&&c&&c.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:n.jsx(hl,{className:"h-[60vh]",children:n.jsx("div",{className:"grid grid-cols-1 gap-2",children:c.map(N=>{const T=N.unit===an.Unit?e("unit"):N.unit===an.Dozen?d?.buyUnitMsr||e("qtyInUn"):d?.purPackMsr||e("packUn");let D=N.quantity;return N.unit!==an.Unit&&(D/=d.numInBuy),N.unit===an.Pack&&(D/=d.purPackUn),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-4 p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:N.createdByUserName}),n.jsxs("p",{className:"text-sm text-gray-600",children:[s(N.timeStamp),"  ",l(N.timeStamp)]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500",children:[e("unit"),":"]}),n.jsx("span",{className:"ml-2 font-medium",children:T})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500",children:[e("quantity"),":"]}),a?n.jsx(on,{type:"number",className:"w-20 text-center font-medium mt-1",value:(m[N.lineId]??D).toString(),min:0,step:Gh(v),onFocus:V=>V.target.select(),onChange:V=>g(N.lineId,V.target.value)}):n.jsx("span",{className:"ml-2 font-medium",children:An(D,v?2:0)})]}),N.package&&n.jsxs("div",{className:"col-span-2",children:[n.jsxs("span",{className:"text-gray-500",children:[e("package"),":"]}),n.jsx("span",{className:"ml-2 font-medium",children:N.package.barcode})]})]}),a&&n.jsxs("div",{className:"flex items-center pt-2 border-t border-gray-100",children:[n.jsx(js,{checked:u[N.lineId],onCheckedChange:V=>x(N.lineId,!!V)}),n.jsx(cn,{className:"cursor-pointer pl-2",onClick:()=>x(N.lineId,!u[N.lineId]),children:e("delete")})]})]},N.lineId)})})})}),n.jsx("div",{className:"hidden sm:block",children:n.jsx("div",{className:"h-[60vh]",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:e("employee")}),n.jsx(he,{className:"text-center",children:e("date")}),n.jsx(he,{className:"text-center",children:e("time")}),n.jsx(he,{className:"text-center",children:e("unit")}),n.jsx(he,{className:"text-center",children:e("quantity")}),j&&n.jsx(he,{className:"text-center",children:e("package")}),a&&n.jsx(he,{className:"text-center",children:e("delete")})]})}),n.jsx(en,{children:c.map(N=>{const T=N.unit===an.Unit?e("unit"):N.unit===an.Dozen?d?.buyUnitMsr||e("qtyInUn"):d?.purPackMsr||e("packUn");let D=N.quantity;return N.unit!==an.Unit&&(D/=d.numInBuy),N.unit===an.Pack&&(D/=d.purPackUn),n.jsxs(We,{children:[n.jsx(ue,{children:N.createdByUserName}),n.jsx(ue,{className:"text-center",children:s(N.timeStamp)}),n.jsx(ue,{className:"text-center",children:l(N.timeStamp)}),n.jsx(ue,{className:"text-center",children:T}),n.jsx(ue,{className:"text-center",children:a?n.jsx(on,{type:"number",className:"w-24 text-right mx-auto",value:(m[N.lineId]??D).toString(),min:0,step:Gh(v),onFocus:V=>V.target.select(),onChange:V=>g(N.lineId,V.target.value)}):An(D,v?2:0)}),j&&n.jsx(ue,{children:N.package?.barcode}),a&&n.jsx(ue,{className:"text-center",children:n.jsx(js,{checked:u[N.lineId],onCheckedChange:V=>x(N.lineId,!!V)})})]},N.lineId)})})]})})})]}):n.jsx("p",{className:"py-4 text-center text-muted-foreground",children:e("noDetailsAvailable")}),n.jsxs(ra,{children:[a&&n.jsx(Ie,{onClick:y,children:e("update")}),n.jsx(Ie,{variant:"outline",onClick:()=>w(!1),children:e("close")})]})]})})}),gq=(t=qe.Regular)=>{const{t:r}=Be(),{unitSelection:e}=bt(),{scanCode:s}=ss(),{setError:l}=Dt(),[o,i]=B.useState(null),[d,c]=B.useState(null),[a,u]=B.useState(!1),[m,h]=B.useState(!1),[p,y]=B.useState(!1),x=`${r("goodsReceiptReport")} #${s}`,g=B.useRef(null),{user:w}=bt();B.useEffect(()=>{s!=null&&v()},[]);function v(){s!=null&&(cs.fetch(s).then(P=>c(P)).catch(P=>l(P)),i(null),u(!0),tc.fetchReportAll(s).then(P=>i(P)).catch(P=>l(P)).finally(()=>u(!1)))}const j=()=>{const P=[r("code"),r("description")];return P.push(...tl(r,e,w?.settings.enableUseBaseUn)),P.push(r("delivery"),r("showroom"),r("stock"),r("qtyInUn"),r("packUn")),P},N=()=>o?.lines?.map(P=>{const $=[P.itemCode,P.itemName];return $.push(...Qy({quantity:P.quantity,numInBuy:P.numInBuy,purPackUn:P.purPackUn},e,w?.settings.enableUseBaseUn)),$.push(An(P.delivery,0),An(P.showroom,0),An(P.stock,0),An(P.numInBuy,0),An(P.purPackUn,0)),$})??[],T=async()=>{await Dd({name:"GoodsReceiptData",headers:j,getData:N,fileName:`goods_receipt_data_${s}`})};function D(P){s!=null&&(y(!0),Promise.all([cs.fetch(s),tc.fetchReportAllDetails(s,P.itemCode)]).then(([$,G])=>{const Y=$.status==="Open"||$.status==="InProgress";g?.current?.show(P,G,Y)}).catch($=>l($)).finally(()=>y(!1)))}function V(P){s!=null&&(h(!0),tc.updateReport(P).then(()=>v()).catch($=>{l($),h(!1)}).finally(()=>h(!1)))}return{data:o,title:x,detailRef:g,handleExportExcel:T,openDetails:D,onDetailUpdate:V,info:d,isLoadingReportData:a,isRefreshingDetail:m,isLoadingDetail:p}};function L0({processType:t=qe.Regular}){const{t:r}=Be(),e=fn(),{user:s}=bt(),{data:l,detailRef:o,handleExportExcel:i,openDetails:d,onDetailUpdate:c,info:a,isLoadingReportData:u,isRefreshingDetail:m,isLoadingDetail:h}=gq(t),p=()=>{switch(t){case qe.Confirmation:return r("goodsReceiptConfirmationSupervisor");case qe.TransferConfirmation:return r("transferConfirmationSupervisor");default:return r("goodsReceiptSupervisor")}},y=()=>{switch(t){case qe.Confirmation:return"/goodsReceiptConfirmationSupervisor";case qe.TransferConfirmation:return"/transferConfirmationSupervisor";default:return"/goodsReceiptSupervisor"}},x=()=>{switch(t){case qe.Confirmation:return r("confirmationReport");case qe.TransferConfirmation:return r("transferConfirmationReport");default:return r("goodsReceiptReport")}},g=p(),w=y(),v=x(),j=s?.settings.goodsReceiptTargetDocuments,N=l?l.status===Mt.Open||l.status===Mt.InProgress:!0;return n.jsxs(xn,{title:g,titleOnClick:()=>e(w),onExportExcel:i,titleBreadcrumbs:[{label:`${a?.number?.toString()||r("loading")}`},{label:v}],children:[h&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 flex flex-col items-center space-y-4",children:[n.jsx(ta,{className:"h-8 w-8 animate-spin text-blue-500"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r("loadingValues")})]})}),u?n.jsx(hq,{showTarget:j,allowModify:N}):l?n.jsxs(n.Fragment,{children:[m&&n.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center z-10",children:n.jsxs("div",{className:"text-sm text-gray-600",children:[r("updating"),"..."]})}),n.jsx(fq,{onClick:d,data:l.lines,status:l.status}),l.lines.length===0&&n.jsx(ar,{variant:"default",className:"mt-4 bg-yellow-100 border-yellow-400 text-yellow-700",children:n.jsx(Kn,{children:r("noExitData")})}),a&&n.jsx(mq,{ref:o,id:a.id,processType:t,onUpdate:c})]}):null]})}const uC=({doc:t,handleAction:r,supervisor:e=!1})=>{const{t:s}=Be(),{dateFormat:l}=kr(),o=fn(),{user:i}=bt();function d(u){o(`/counting/${u}`)}let c=i?.roles?.includes(Ae.COUNTING);const a=_o();return n.jsxs(ot,{className:"mb-4 shadow-lg",children:[t.name&&n.jsx(zn,{children:n.jsx(Kr,{children:`${s("id")} : ${t.name}`})}),n.jsxs(Gt,{className:"py-4",children:[n.jsxs(qs,{children:[n.jsx(_t,{label:s("number"),value:t.number,onClick:c?()=>d(t.id):void 0}),n.jsx(_t,{label:s("docDate"),value:l(t.date)}),n.jsx(_t,{label:s("createdBy"),value:t.createdByUser?.fullName}),n.jsx(_t,{label:s("status"),value:a(t.status)})]}),e&&n.jsxs(n.Fragment,{children:[n.jsx(Gp,{className:"my-4"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs(Ie,{variant:"outline",className:"w-full",onClick:()=>o(`/countingSummaryReport/${t.id}`),children:[n.jsx(bc,{className:"h-4 w-4 mr-2"}),s("countingSummaryReport")]}),t.status===Mt.InProgress&&n.jsxs(Ie,{variant:"default",onClick:()=>r?.("approve"),className:"bg-green-500 hover:bg-green-600 text-white",children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),s("finish")]}),n.jsxs(Ie,{variant:"destructive",onClick:()=>r?.("cancel"),children:[n.jsx(ba,{className:"mr-2 h-4 w-4"}),s("cancel")]})]})]})]})]},t.id)};function dC({countings:t,supervisor:r=!1,onAction:e}){const{t:s}=Be(),l=fn(),{user:o}=bt(),{dateFormat:i}=kr(),d=_o(),c=o?.roles?.includes(Ae.COUNTING);function a(h){l(`/counting/${h}`)}const u=h=>{const p=[];return p.push({key:"summary-report",label:s("countingSummaryReport"),icon:bc,onClick:()=>l(`/countingSummaryReport/${h.id}`),variant:"outline"}),h.status===Mt.InProgress&&p.push({key:"finish",label:s("finish"),icon:Br,onClick:()=>e?.(h,"approve"),variant:"default"}),p.push({key:"cancel",label:s("cancel"),icon:ba,onClick:()=>e?.(h,"cancel"),variant:"destructive",separator:!0}),p},m=t.find(h=>h.name!=null&&h.name!="")!=null;return n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[m&&n.jsx(he,{children:s("id")}),n.jsx(he,{children:s("number")}),n.jsx(he,{children:s("docDate")}),n.jsx(he,{children:s("createdBy")}),n.jsx(he,{children:s("status")}),r&&n.jsx(he,{className:"text-right min-w-[100px] w-auto"})]})}),n.jsx(en,{children:t.map(h=>n.jsxs(We,{children:[m&&n.jsx(ue,{children:h.name||"-"}),n.jsx(ue,{children:c?n.jsx("a",{href:"#",onClick:p=>{p.preventDefault(),a(h.id)},className:"text-blue-600 hover:underline",children:h.number}):h.number}),n.jsx(ue,{children:i(h.date)}),n.jsx(ue,{children:h.createdByUser?.fullName}),n.jsx(ue,{children:d(h.status)}),r&&n.jsx(ue,{className:"text-right",children:n.jsx(Jy,{actions:u(h)})})]},h.id))})]})}var fC=(t=>(t.ID="ID",t.Name="Name",t.Date="Date",t))(fC||{});const Xa={async create(t){try{return(await Ye.post("Counting/Create",{name:t})).data}catch(r){throw console.error("Error creating counting:",r),r}},async cancel(t){try{return(await Ye.post("Counting/Cancel",{id:t})).data}catch(r){throw console.error("Error processing counting: ",r),r}},async process(t){try{const r=await Ye.post("Counting/Process",{id:t});if(!r.data.success)throw new Error(r.data.errorMessage);return r.data}catch(r){throw console.error("Error processing counting: ",r),r}},async fetch(t){try{return(await Ye.get(`Counting/${t}`)).data}catch(r){throw console.error("Error fetching counting:",r),r}},async fetchContent(t,r){try{return(await Ye.post("Counting/CountingContent",{id:t,binEntry:r})).data}catch(e){throw console.error("Error fetching countings:",e),e}},async search(t,r=[Mt.Open,Mt.InProgress],e,s,l=fC.ID,o=!0){try{const i=new URLSearchParams;i.append("OrderBy",l.toString()),i.append("Desc",o.toString()),r&&r.length>0&&r.forEach(a=>i.append("Statuses",a)),t!=null&&i.append("ID",t.toString()),s!=null&&i.append("Name",s),e!=null&&i.append("Date",e.toISOString());const d=`Counting?${i.toString()}`;return(await Ye.get(d)).data}catch(i){throw console.error("Error fetching countings:",i),i}},async updateLine({id:t,lineId:r,comment:e,reason:s,quantity:l}){try{return(await Ye.post("Counting/UpdateLine",{id:t,lineId:r,comment:e,closeReason:s,quantity:l})).data}catch(o){throw console.error("Error updating line:",o),o}},async addItem(t,r,e,s,l,o,i){try{const c=await Ye.post("Counting/AddItem",{id:t,itemCode:r,barcode:e,binEntry:s,quantity:1,unit:l,startNewPackage:o,packageId:i});if(c.data.errorMessage==null)return c.data;throw new Error(c.data.errorMessage)}catch(d){throw console.error("Error adding item:",d),d}},async fetchCountingSummaryReport(t){try{const r=`counting/countingSummaryReport/${t}`;return(await Ye.get(r)).data}catch(r){throw console.error("Error fetching countings:",r),r}}};function bq(){const{setError:t}=Dt(),{t:r}=Be(),[e,s]=B.useState([]),[l,o]=B.useState(!0);B.useEffect(()=>{o(!0),Xa.search().then(c=>s(c)).catch(c=>t(c)).finally(()=>o(!1))},[t]);const i=()=>n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-16"})})]})}),n.jsx(en,{children:Array.from({length:5}).map((c,a)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})})]},a))})]}),d=()=>n.jsxs(ot,{className:"mb-4 shadow-lg",children:[n.jsx(zn,{children:n.jsx(Q,{className:"h-6 w-32"})}),n.jsx(Gt,{className:"py-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-18"}),n.jsx(Q,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-14"}),n.jsx(Q,{className:"h-4 w-20"})]})]})})]});return n.jsx(xn,{title:r("counting"),children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden","aria-label":"Loading...",children:Array.from({length:3}).map((c,a)=>n.jsx(d,{},a))}),n.jsx("div",{className:"hidden sm:block","aria-label":"Loading...",children:n.jsx(i,{})})]}):e.length?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:e.map(c=>n.jsx(uC,{doc:c},c.id))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(dC,{countings:e})})]}):n.jsxs(ar,{variant:"information",children:[n.jsx(sr,{className:"h-4 w-4"}),n.jsx(Kn,{children:r("noCountingData")})]})})}const yq=()=>{const{scanCode:t}=ss(),{dateTimeFormat:r}=kr(),[e,s]=B.useState(),[l,o]=B.useState(null),i=B.useRef(null),[d,c]=B.useState(!1),{setLoading:a,setError:u}=Dt(),{user:m}=bt(),h=B.useRef(null),[p,y]=B.useState(null),[x,g]=B.useState(null),w=B.useRef(null),v=B.useRef(null),j=B.useRef(null),[N,T]=B.useState(null),[D,V]=B.useState(null);B.useEffect(()=>{if(c(!m?.binLocations),t==null){s(null);return}setTimeout(()=>{h.current?.focus(),i.current?.focus()},1),s(t),Xa.fetch(t).then(R=>T(R)).catch(R=>u(R)).finally(()=>a(!1))},[t,m?.binLocations]);function P(R){try{o(R),c(!0),G(R.entry),V(null),setTimeout(()=>{h?.current?.focus()},1)}catch(S){u(S),a(!1)}}function $(){o(null),y(null),c(!1),g(null),V(null),setTimeout(()=>{i?.current?.focus()},1)}function G(R){e!=null&&(R??=l?.entry,Xa.fetchContent(e,R).then(S=>y(S)).catch(S=>{u(S),y([])}).finally(()=>a(!1)))}function Y(R){x!=null&&O({...x,quantity:R})}function W(R,S){x!=null&&O({...x,comment:R,canceled:S})}function O(R){g(R),G()}function I(R){if(e==null)return;const S=R.item,C=R.unit;Xa.addItem(e,S.code,S.barcode??"",l?.entry,C,R.createPackage,R.package?.id).then(k=>{if(k.errorMessage!=null){u(k.errorMessage);return}let E=new Date(Date.now());const M=k.packageId?{id:k.packageId,barcode:k.packageBarcode??R.package?.barcode??"Unknown Package"}:R.package;g({lineId:k.lineId,quantity:1,unit:C,purPackUn:k.packUnit,purPackMsr:k.packMsr,numInBuy:k.numIn,buyUnitMsr:k.unitMsr,barcode:S.barcode,itemCode:S.code,severity:"Information",timeStamp:r(E),package:M}),V(M),h?.current?.clear(),G(),h?.current?.focus(),setTimeout(()=>{j?.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)}).catch(k=>{u(k)}).finally(()=>a(!1))}return{id:e,binLocation:l,binLocationRef:i,enable:d,user:m,barcodeRef:h,rows:p,currentAlert:x,processesRef:w,onBinChanged:P,onBinClear:$,handleQuantityChanged:Y,handleCancel:W,handleAddItem:I,scrollRef:v,processAlertRef:j,info:N,currentPackage:D,setCurrentPackage:V}};function xq(){const{t}=Be(),{id:r,binLocationRef:e,user:s,barcodeRef:l,rows:o,currentAlert:i,processesRef:d,binLocation:c,onBinChanged:a,onBinClear:u,handleQuantityChanged:m,handleCancel:h,handleAddItem:p,processAlertRef:y,info:x,currentPackage:g,setCurrentPackage:w}=yq(),v=ni(),j=fn(),N=!x&&r,T=o===null&&c,D=[{label:`${x?.number}`,onClick:c?()=>u():void 0}];c&&D.push({label:c.code,onClick:void 0});const V=()=>n.jsx(ot,{className:"mb-4",children:n.jsx(Gt,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-10 w-full max-w-md"}),n.jsx(Q,{className:"h-10 w-20"})]})})}),P=()=>n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(he,{className:"hidden sm:table-cell",children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})})]})}),n.jsx(en,{children:Array.from({length:3}).map(($,G)=>n.jsxs(n.Fragment,{children:[n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{className:"hidden sm:table-cell",children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})})]},`main-${G}`),n.jsx(We,{className:"sm:hidden",children:n.jsx(ue,{className:"bg-gray-100 border-b-1",colSpan:2,children:n.jsx(Q,{className:"h-4 w-48"})})},`mobile-${G}`)]}))})]});return n.jsx(xn,{title:t("counting"),titleOnClick:()=>j("/counting"),titleBreadcrumbs:N?[]:D,footer:(c||!s?.binLocations)&&!N&&n.jsx(vo,{ref:l,enabled:!0,unit:!0,enablePackage:s.settings.enablePackages,currentPackage:g,objectType:Cc.InventoryCounting,objectId:x?.id,objectNumber:x?.number,binEntry:c?.entry,onAddItem:p,onPackageChanged:w}),children:N?n.jsxs("div",{className:"contentStyle","aria-label":"Loading...",children:[n.jsx("div",{className:"mb-4",children:n.jsx(Q,{className:"h-8 w-48 mb-4"})}),n.jsx(V,{})]}):n.jsxs(n.Fragment,{children:[!c&&s?.binLocations&&n.jsx(il,{ref:e,onChanged:a,onClear:u}),n.jsxs("div",{className:"contentStyle",children:[i&&n.jsx("div",{ref:y,children:n.jsx(em,{alert:i,onAction:$=>d?.current?.open($)})}),T?n.jsx("div",{"aria-label":"Loading...",children:n.jsx(P,{})}):o!=null&&o.length>0?n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("code")}),n.jsx(he,{className:"hidden sm:table-cell",children:t("description")}),n.jsx(he,{children:t("quantity")})]})}),n.jsx(en,{children:o.map($=>n.jsxs(n.Fragment,{children:[n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Za,{data:$})}),n.jsx(ue,{className:"hidden sm:table-cell",children:$.itemName}),n.jsx(ue,{children:v({quantity:$.countedQuantity,numInBuy:$.numInBuy,buyUnitMsr:$.buyUnitMsr||"",purPackUn:$.purPackUn,purPackMsr:$.purPackMsr||""})})]},$.itemCode),n.jsx(We,{className:"sm:hidden",children:n.jsxs(ue,{className:"bg-gray-100 border-b-1",colSpan:2,children:[t("description"),": ",$.itemName]})})]}))})]}):o!=null&&o.length===0&&n.jsxs(ar,{variant:"default",children:[n.jsx(sr,{className:"h-4 w-4"}),n.jsx(Kn,{children:t("binCountItems")})]})]}),i&&r&&n.jsx(tm,{ref:d,id:r,alert:i,reasonType:fd.Counting,onCancel:h,onQuantityChanged:m,onUpdateLine:async $=>({returnValue:await Xa.updateLine($)})})]})})}const vq=()=>n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg shadow","aria-label":"Loading counting form...",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-8"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsx("div",{children:n.jsx(Q,{className:"h-10 w-20"})})]}),wq=({onNewCounting:t})=>{const{t:r}=Be(),{setError:e}=Dt(),[s,l]=B.useState(""),[o,i]=B.useState(!1),d=c=>{c.preventDefault(),i(!0);try{Xa.create(s).then(a=>{if(!a.error){t(a),l("");return}let u=r("unknownError");e(u)}).catch(a=>e(a)).finally(()=>i(!1))}catch(a){e(a)}};return o?n.jsx(vq,{}):n.jsxs("form",{onSubmit:d,className:"space-y-4 p-4 border rounded-lg shadow",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"docNameInput",children:r("id")}),n.jsx(on,{id:"docNameInput",value:s,onChange:c=>l(c.target.value),maxLength:50,placeholder:r("enterDocumentId")||"Enter Document ID"})]}),n.jsx("div",{children:n.jsxs(Ie,{type:"submit",children:[n.jsx(Vu,{className:"mr-2 h-4 w-4"}),r("create")]})})]})};function jq(){const{t}=Be(),{user:r}=bt(),{setError:e}=Dt(),[s,l]=B.useState([]),[o,i]=B.useState(null),[d,c]=B.useState(null),[a,u]=B.useState(!1),[m,h]=B.useState(!0),[p,y]=B.useState(!1);B.useEffect(()=>{h(!0),Xa.search().then(N=>{l(N)}).catch(N=>e(N)).finally(()=>h(!1))},[e]);const x=(N,T)=>{i(N),c(T),u(!0)},g=()=>{u(!1),d==="process"&&y(!0),(d==="cancel"?Xa.cancel(o.id):Xa.process(o.id)).then(T=>{(typeof T=="boolean"||T.success)&&(l(D=>D.filter(V=>V.id!==o?.id)),$n.success(t(d==="process"?"approved":"cancelled")))}).catch(T=>e(T)).finally(()=>{d==="process"&&y(!1)})},w=()=>n.jsxs(ot,{className:"mb-6",children:[n.jsx(zn,{children:n.jsx(Q,{className:"h-6 w-48"})}),n.jsxs(Gt,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-16 mb-2"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-20 mb-2"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-24 mb-2"}),n.jsx(Q,{className:"h-10 w-full"})]})]}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(Q,{className:"h-10 w-24"})})]})]}),v=()=>n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(he,{})]})}),n.jsx(en,{children:Array.from({length:5}).map((N,T)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{className:"text-right",children:n.jsx(Q,{className:"h-8 w-8 rounded-md"})})]},T))})]}),j=()=>n.jsxs(ot,{className:"mb-4 shadow-lg",children:[n.jsx(zn,{children:n.jsx(Q,{className:"h-6 w-32"})}),n.jsxs(Gt,{className:"py-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-18"}),n.jsx(Q,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-14"}),n.jsx(Q,{className:"h-4 w-20"})]})]}),n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsx(Q,{className:"h-10 w-full"}),n.jsx(Q,{className:"h-10 w-full"}),n.jsx(Q,{className:"h-10 w-full"})]})})]})]});return n.jsxs(xn,{title:t("countingSupervisor"),children:[m?n.jsxs(n.Fragment,{children:[n.jsx(w,{}),n.jsx("br",{}),n.jsx("div",{className:"block sm:hidden","aria-label":"Loading...",children:Array.from({length:3}).map((N,T)=>n.jsx(j,{},T))}),n.jsx("div",{className:"hidden sm:block","aria-label":"Loading...",children:n.jsx(v,{})})]}):n.jsxs(n.Fragment,{children:[n.jsx(wq,{onNewCounting:N=>{const T={fullName:r.name,id:r.id,deleted:!1,superUser:!1,active:!1,warehouses:[]};N={...N,createdByUser:T},l(D=>[N,...D])}}),n.jsx("br",{}),n.jsx("div",{className:"block sm:hidden",children:s.map(N=>n.jsx(uC,{supervisor:!0,doc:N,handleAction:T=>x(N,T)},N.id))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(dC,{countings:s,supervisor:!0,onAction:x})})]}),p&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 flex flex-col items-center space-y-4",children:[n.jsx(ta,{className:"h-8 w-8 animate-spin text-blue-500"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t("processing")})]})}),n.jsx(Vp,{onConfirm:g,onOpenChange:u,open:a,type:"confirm",title:En(t(d==="process"?"confirmFinishDocument":"confirmCancelDocument"),o?.number),description:t("actionCannotReverse")})]})}var _r=(t=>(t.Source="Source",t.Target="Target",t))(_r||{}),ga=(t=>(t[t.Pending=0]="Pending",t[t.Approved=1]="Approved",t[t.Rejected=2]="Rejected",t[t.Cancelled=3]="Cancelled",t))(ga||{}),hC=(t=>(t.ID="ID",t.Date="Date",t))(hC||{});const Sq={success:"bg-green-100 text-green-800 border-green-200",error:"bg-red-100 text-red-800 border-red-200",warning:"bg-orange-100 text-orange-800 border-orange-200",info:"bg-blue-100 text-blue-800 border-blue-200",default:"bg-gray-100 text-gray-800 border-gray-200",cancelled:"bg-gray-100 text-gray-600 border-gray-200"},_q={success:n.jsx(Br,{className:"h-4 w-4"}),error:n.jsx(ba,{className:"h-4 w-4"}),warning:n.jsx(uo,{className:"h-4 w-4"}),info:n.jsx(sr,{className:"h-4 w-4"}),default:n.jsx(sr,{className:"h-4 w-4"}),cancelled:n.jsx(h9,{className:"h-4 w-4"})},pC=({variant:t,children:r,icon:e=!0,className:s})=>n.jsxs("span",{className:Ze("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border",Sq[t],s),children:[e&&_q[t],r]}),mC=t=>{switch(t){case ga.Approved:return"success";case ga.Rejected:return"error";case ga.Pending:return"warning";case ga.Cancelled:return"cancelled";default:return"default"}},gC=(t,r)=>{switch(t){case ga.Approved:return r("approved");case ga.Rejected:return r("rejected");case ga.Pending:return r("pendingApproval");case ga.Cancelled:return r("cancelled");default:return""}},Id=({doc:t,onAction:r,supervisor:e=!1,approval:s=!1,header:l=!0,displayProgress:o=!0})=>{const{t:i}=Be(),d=fn(),{user:c}=bt(),{dateFormat:a,dateTimeFormat:u}=kr();function m(v){d(s?`/transfer/approve/${v.id}`:`/transfer/${v.id}`)}let h=c?.roles?.includes(Ae.TRANSFER);const p=_o(),y=t.sourceWhsCode||t.whsCode,g=t.targetWhsCode&&t.targetWhsCode!==y&&(t.lines?.length??0)>0?100:t.progress??0,w=v=>{if(!v)return;const j=c?.warehouses?.find(N=>N.id===v);return j?`${j.id} - ${j.name}`:v};return n.jsxs(ot,{className:l?"mb-4 shadow-lg":"shadow-lg",children:[n.jsxs(Gt,{className:"py-4",children:[n.jsxs(qs,{children:[n.jsx(_t,{label:i("number"),value:t.number,onClick:h?()=>m(t):void 0}),t.name&&n.jsx(_t,{label:i("id"),value:t.name}),n.jsx(_t,{label:i("docDate"),value:a(t.date)}),n.jsx(_t,{label:i("createdBy"),value:t.createdByUser?.fullName}),n.jsx(_t,{label:i("status"),value:p(t.status)}),t.sourceWhsCode&&n.jsx(_t,{label:i("sourceWarehouse"),value:w(t.sourceWhsCode)}),t.targetWhsCode&&n.jsx(_t,{label:i("targetWarehouse"),value:w(t.targetWhsCode)})]}),t.comments&&n.jsx(Ju,{children:n.jsx(_t,{label:i("comment"),value:t.comments})}),t.approvalWorkflow&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[i("approvalStatus"),":"]}),n.jsx(pC,{variant:mC(t.approvalWorkflow.approvalStatus),children:gC(t.approvalWorkflow.approvalStatus,i)})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600",children:[i("requestedBy"),":"]}),n.jsx("span",{className:"font-medium",children:t.approvalWorkflow.requestedByUser?.fullName})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600",children:[i("requestedAt"),":"]}),n.jsx("span",{className:"font-medium",children:u(t.approvalWorkflow.requestedAt)})]}),t.approvalWorkflow.reviewedByUser&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600",children:[t.approvalWorkflow.approvalStatus===ga.Approved?i("approvedBy"):i("reviewedBy"),":"]}),n.jsx("span",{className:"font-medium",children:t.approvalWorkflow.reviewedByUser.fullName})]}),t.approvalWorkflow.reviewedAt&&n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600",children:[t.approvalWorkflow.approvalStatus===ga.Approved?i("approvedAt"):i("reviewedAt"),":"]}),n.jsx("span",{className:"font-medium",children:u(t.approvalWorkflow.reviewedAt)})]})]}),t.approvalWorkflow.rejectionReason&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-300",children:[n.jsxs("span",{className:"text-gray-600",children:[i("rejectionReason"),":"]}),n.jsx("p",{className:"mt-1 text-red-600 font-medium",children:t.approvalWorkflow.rejectionReason})]}),t.approvalWorkflow.reviewComments&&n.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-300",children:[n.jsxs("span",{className:"text-gray-600",children:[i("reviewComments"),":"]}),n.jsx("p",{className:"mt-1 text-gray-700",children:t.approvalWorkflow.reviewComments})]})]})]}),o&&n.jsx("ul",{className:"space-y-2 text-sm",children:n.jsxs("li",{className:"pt-2",children:[n.jsx(zs,{value:g,className:"w-full"}),n.jsxs("p",{className:"text-xs text-muted-foreground text-center mt-1",children:[An(g,0),"% ",i("progress")]})]})})]}),e&&n.jsxs(mo,{className:"flex justify-end space-x-2 pt-4 border-t",children:[t.status===Mt.InProgress&&g===100&&n.jsxs(Ie,{variant:"default",onClick:()=>r?.(t,"approve"),className:"bg-green-500 hover:bg-green-600 text-white",children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),i("finish")]}),n.jsxs(Ie,{variant:"destructive",onClick:()=>r?.(t,"cancel"),children:[n.jsx(ba,{className:"mr-2 h-4 w-4"}),i("cancel")]})]})]},t.id)};function ex({transfers:t,supervisor:r=!1,approval:e=!1,onAction:s,emptyMessage:l}){const{t:o}=Be(),i=fn(),{user:d}=bt(),{dateFormat:c}=kr(),a=_o(),u=d.settings,m=d?.roles?.includes(Ae.TRANSFER),h=8+(u.enableWarehouseTransfer?1:0)+(r?1:0);function p(x){i(e?`/transfer/approve/${x.id}`:`/transfer/${x.id}`)}const y=x=>{const g=[];return e?(g.push({key:"approve",label:o("approve"),icon:Br,onClick:()=>s?.(x,"approve"),variant:"default"}),g.push({key:"reject",label:o("reject"),icon:ba,onClick:()=>s?.(x,"reject"),variant:"destructive",separator:!0})):(x.status===Mt.InProgress&&x.progress===100&&g.push({key:"finish",label:o("finish"),icon:Br,onClick:()=>s?.(x,"approve"),variant:"default"}),g.push({key:"cancel",label:o("cancel"),icon:ba,onClick:()=>s?.(x,"cancel"),variant:"destructive",separator:x.status===Mt.InProgress&&x.progress===100})),g};return n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:o("id")}),n.jsx(he,{children:o("number")}),n.jsx(he,{children:o("docDate")}),n.jsx(he,{children:o("createdBy")}),n.jsx(he,{children:o("status")}),u.enableWarehouseTransfer&&n.jsx(he,{children:o("targetWarehouse")}),n.jsx(he,{children:o("progress")}),n.jsx(he,{children:o("comment")}),r&&n.jsx(he,{className:"text-right min-w-[100px] w-auto"})]})}),n.jsx(en,{children:t.map(x=>{const g=x.progress??0;return n.jsxs(We,{children:[n.jsx(ue,{children:x.name||"-"}),n.jsx(ue,{children:m?n.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),p(x)},className:"text-blue-600 hover:underline",children:x.number}):x.number}),n.jsx(ue,{children:c(x.date)}),n.jsx(ue,{children:x.createdByUser?.fullName}),n.jsx(ue,{children:a(x.status)}),u.enableWarehouseTransfer&&n.jsx(ue,{children:x.targetWhsCode||"-"}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{value:g,className:"w-20"}),n.jsxs("span",{className:"text-xs",children:[An(g,0),"%"]})]})}),n.jsx(ue,{children:x.comments||"-"}),r&&n.jsx(ue,{className:"text-right",children:n.jsx(Jy,{actions:y(x)})})]},x.id)})}),t.length===0&&l&&n.jsx(lU,{children:n.jsx(We,{children:n.jsx(ue,{colSpan:h,className:"text-center py-8 text-gray-500",children:l})})})]})}const Cq=(t,r,e)=>{switch(t){case Ba.ItemCodeNotFound:return En(e("itemCodeNotFound"),r.ItemCode);case Ba.ItemCodeBarCodeMismatch:return En(e("itemCodeBarCodeMismatch"),r.BarCode,r.itemCode);case Ba.TransactionIDNotExists:return En(e("transactionIDNotExists"),r.ID);case Ba.NotStockItem:return En(e("notStockItem"),r.ItemCode,r.BarCode);case Ba.ItemNotInWarehouse:return En(e("itemNotInWarehouse"),r.ItemCode,r.BarCode);case Ba.BinNotExists:return En(e("binNotExists"),r.BinEntry);case Ba.BinNotInWarehouse:return En(e("binNotInWarehouse"),r.BinCode);case Ba.BinMissing:return e("binMissing");case Ba.QuantityMoreAvailable:return En(e("quantityMoreAvailable"),r.ItemCode);default:return e("unknownError")}},nr={async create(t,r,e){try{return(await Ye.post("transfer/create",{name:t,comments:r,targetWhsCode:e})).data}catch(s){throw console.error("Error creating transfer:",s),s}},async cancel(t){try{return(await Ye.post("Transfer/Cancel",{id:t})).data}catch(r){throw console.error("Error cancel transfer: ",r),r}},async process(t){try{const r=await Ye.post("Transfer/Process",{id:t});if(!r.data.success&&r.data.errorMessage)throw new Error(r.data.errorMessage);return r.data}catch(r){throw console.error("Error processing processing: ",r),r}},async getProcessInfo(t){try{return(await Ye.get(`transfer/processInfo/${t}`)).data}catch(r){throw console.error("Error creating transfer:",r),r}},async getById(t){try{return(await Ye.get(`transfer/${t}`)).data}catch(r){throw console.error("Error fetching transfer:",r),r}},async search(t){t.statuses==null&&(t.statuses=t.id==null?[Mt.Open,Mt.InProgress,Mt.WaitingForApproval]:[]),t.orderBy==null&&(t.orderBy=hC.ID),t.desc==null&&(t.desc=!0),t.progress==null&&(t.progress=!1);try{const r=new URLSearchParams;r.append("orderBy",t.orderBy.toString()),r.append("desc",t.desc.toString()),t.statuses.forEach(l=>r.append("status",l.toString())),t.id!==null&&t.id!==void 0&&r.append("id",t.id.toString()),t.number!==null&&t.number!==void 0&&r.append("number",t.number.toString()),t.date!==null&&t.date!==void 0&&r.append("date",t.date.toISOString()),t.progress!==null&&t.progress!==void 0&&r.append("progress",t.progress.toString());const e=`transfer?${r.toString()}`;return(await Ye.get(e)).data}catch(r){throw console.error("Error fetching transfers:",r),r}},async addItem(t,r){try{t.quantity??=1;const s=await Ye.post("Transfer/AddItem",t);if(s.data.errorMessage==null)return s.data;throw new Error(s.data.errorMessage)}catch(e){if(Ln.isAxiosError(e)&&e.response?.data&&e.response.data.ErrorId){const s=e.response.data.ErrorId,l=e.response.data.ErrorData,o=Cq(s,l,r);return{closedTransfer:!1,lineId:"",numIn:0,packMsr:"",packUnit:0,unitMsr:"",unit:t.unit,errorMessage:o}}throw console.error("Error adding item:",e),e}},async updateLine({id:t,lineId:r,comment:e,reason:s,quantity:l}){if(l!=null)return await nr.updateLineQuantity(t,r,l);try{return(await Ye.post("transfer/updateLine",{id:t,lineId:r,comment:e,closeReason:s,quantity:l})).data}catch(o){throw console.error("Error updating line:",o),o}},async updateLineQuantity(t,r,e){try{return(await Ye.post("transfer/updateLineQuantity",{id:t,lineId:r,quantity:e})).data}catch(s){throw console.error("Error updating line:",s),s}},async fetchContent(t){try{return(await Ye.post("Transfer/TransferContent",t)).data}catch(r){throw console.error("Error fetching transfer content:",r),r}},async fetchTargetItemDetails(t,r,e){try{return(await Ye.post("Transfer/TransferContentTargetDetail",{id:t,itemCode:r,binEntry:e})).data}catch(s){throw console.error("Error fetching all details:",s),s}},async updateTransferTargetItem(t){try{return(await Ye.post("Transfer/UpdateContentTargetDetail",t)).data}catch(r){throw console.error("Error updating goods receipt:",r),r}},async createRequest(t){try{return(await Ye.post("Transfer/CreateTransferRequest",t)).data}catch(r){throw console.error("Error creating transfer request: ",r),r}},async addSourcePackage(t){const r=await Ye.post("transfer/addSourcePackage",t);if(r.data.errorMessage)throw new Error(r.data.errorMessage);return r.data},async addTargetPackage(t){const r=await Ye.post("transfer/addTargetPackage",t);if(r.data.errorMessage)throw new Error(r.data.errorMessage);return r.data},async approve(t){try{const r=await Ye.post("transfer/approve",t);if(r.data.errorMessage)throw new Error(r.data.errorMessage);return r.data}catch(r){throw console.error("Error approving/rejecting transfer:",r),r}},async approveTransfer(t){return await nr.approve({transferId:t,approved:!0})},async rejectTransfer(t,r){return await nr.approve({transferId:t,approved:!1,rejectionReason:r})}},Nq=()=>n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-24"})})]})}),n.jsx(en,{children:Array.from({length:5}).map((t,r)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{value:0,className:"w-20"}),n.jsx(Q,{className:"h-3 w-8"})]})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})})]},r))})]}),kq=()=>n.jsxs(ot,{className:"mb-4 shadow-lg",children:[n.jsx(zn,{children:n.jsx(Q,{className:"h-6 w-32"})}),n.jsx(Gt,{className:"py-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-18"}),n.jsx(Q,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-14"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx(zs,{value:0,className:"w-full"}),n.jsx(Q,{className:"h-3 w-20 mx-auto mt-1"})]})]})})]});function Eq(){const{setError:t}=Dt(),{t:r}=Be(),[e,s]=B.useState([]),[l,o]=B.useState(!0);return B.useEffect(()=>{o(!0),nr.search({statuses:[Mt.Open,Mt.InProgress],progress:!0}).then(i=>s(i)).catch(i=>t(i)).finally(()=>o(!1))},[t]),n.jsx(xn,{title:r("transfer"),children:n.jsx("div",{className:"my-4",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden","aria-label":"Loading...",children:Array.from({length:3}).map((i,d)=>n.jsx(kq,{},d))}),n.jsx("div",{className:"hidden sm:block","aria-label":"Loading...",children:n.jsx(Nq,{})})]}):e.length?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:e.map(i=>n.jsx(Id,{doc:i},i.id))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(ex,{transfers:e})})]}):n.jsxs(ar,{variant:"information",children:[n.jsx(sr,{className:"h-4 w-4"}),n.jsx(Kn,{children:r("noTransferData")})]})})})}const Rq=()=>{const{t}=Be(),{user:r}=bt(),[e,s]=B.useState(!1);B.useEffect(()=>{s(r?.roles.filter(o=>o===Ae.TRANSFER_SUPERVISOR).length===1)},[r]);function l(){return!r?.settings?.transferCreateSupervisorRequired&&!e?t("transferCreation"):t("transferSupervisor")}return{supervisor:e,getTitle:l}},Tq=()=>n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg shadow","aria-label":"Loading transfer form...",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-8"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-20 w-full"})]}),n.jsx("div",{children:n.jsx(Q,{className:"h-10 w-20"})})]}),Aq=({onNewTransfer:t})=>{const{t:r}=Be(),{user:e}=bt(),[s,l]=B.useState(""),[o,i]=B.useState(""),[d,c]=B.useState(e?.currentWarehouse||""),{setError:a}=Dt(),[u,m]=B.useState(!1);function h(){m(!0);try{nr.create(s,o,d!==e?.currentWarehouse?d:void 0).then(w=>{t(w),l(""),i(""),c(e?.currentWarehouse||"")}).catch(w=>{a(w)}).finally(()=>m(!1))}catch(w){a(w)}}const p=w=>{w.preventDefault(),h()};if(u)return n.jsx(Tq,{});const y=e?.settings?.enableWarehouseTransfer??!1,x=e?.warehouses||[],g=d===e?.currentWarehouse&&!e?.binLocations;return n.jsxs("form",{onSubmit:p,className:"space-y-4 p-4 border rounded-lg shadow",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"transferDocName",children:r("id")}),n.jsx(on,{id:"transferDocName",value:s,onChange:w=>l(w.target.value),maxLength:50,placeholder:r("enterDocumentId")||"Enter Document ID"})]}),y&&x.length>1&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(cn,{htmlFor:"targetWarehouse",className:"flex items-center gap-2",children:[n.jsx(GT,{className:"h-4 w-4"}),r("targetWarehouse")]}),n.jsxs(us,{value:d,onValueChange:c,children:[n.jsx(fs,{id:"targetWarehouse",className:g?"border-red-500":"",children:n.jsx(ds,{placeholder:r("selectTargetWarehouse")})}),n.jsx(hs,{children:x.map(w=>n.jsxs(mr,{value:w.id,children:[w.id," - ",w.name]},w.id))})]}),g&&n.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:r("mustSelectDifferentWarehouse")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"transferComments",children:r("comment")}),n.jsx(pl,{id:"transferComments",rows:3,value:o,onChange:w=>i(w.target.value),placeholder:r("enterCommentsHere")||"Enter comments here",className:"w-full"})]}),n.jsx("div",{children:n.jsxs(Ie,{type:"submit",disabled:g,children:[n.jsx(Vu,{className:"mr-2 h-4 w-4"}),r("create")]})})]})},bC=()=>n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(he,{className:"text-right",children:n.jsx(Q,{className:"h-4 w-8 ml-auto"})})]})}),n.jsx(en,{children:Array.from({length:5}).map((t,r)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{value:0,className:"w-20"}),n.jsx(Q,{className:"h-3 w-8"})]})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{className:"text-right",children:n.jsx(Q,{className:"h-8 w-8 ml-auto"})})]},r))})]}),yC=()=>n.jsxs(ot,{className:"mb-4 shadow-lg",children:[n.jsx(zn,{children:n.jsx(Q,{className:"h-6 w-32"})}),n.jsx(Gt,{className:"py-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-18"}),n.jsx(Q,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-14"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx(zs,{value:0,className:"w-full"}),n.jsx(Q,{className:"h-3 w-20 mx-auto mt-1"})]})]})}),n.jsxs(mo,{className:"flex justify-end space-x-2 pt-4 border-t",children:[n.jsx(Q,{className:"h-9 w-16"}),n.jsx(Q,{className:"h-9 w-20"})]})]});function Mq(){const{t}=Be(),{user:r}=bt(),{setError:e}=Dt(),{getTitle:s}=Rq(),[l,o]=B.useState([]),[i,d]=B.useState(null),[c,a]=B.useState(null),[u,m]=B.useState(!1),[h,p]=B.useState(!0),[y,x]=B.useState(!1);B.useEffect(()=>{p(!0),nr.search({progress:!0}).then(v=>o(v)).catch(v=>e(v)).finally(()=>p(!1))},[e]);const g=()=>{m(!1),c==="process"&&x(!0);const v=i?.id;(c==="cancel"?nr.cancel(v):nr.process(v)).then(N=>{(typeof N=="boolean"||N.success)&&(o(T=>T.filter(D=>D.id!==v)),$n.success(t(c==="process"?"transferApproved":"transferCancelled")))}).catch(N=>{e(N)}).finally(()=>{c==="process"&&x(!1)})};function w(v,j){d(v),a(j),m(!0)}return n.jsxs(xn,{title:s(),children:[n.jsx(Aq,{onNewTransfer:v=>{const j={fullName:r.name,id:r.id,deleted:!1,superUser:!1,active:!1,warehouses:[]},N={...v,createdByUser:j};o(T=>[N,...T])}}),n.jsx("div",{className:"my-4",children:h?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden","aria-label":"Loading...",children:Array.from({length:3}).map((v,j)=>n.jsx(yC,{},j))}),n.jsx("div",{className:"hidden sm:block","aria-label":"Loading...",children:n.jsx(bC,{})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:l.map(v=>n.jsx(Id,{supervisor:!0,doc:v,onAction:w},v.id))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(ex,{transfers:l,supervisor:!0,onAction:w})})]})}),y&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 flex flex-col items-center space-y-4",children:[n.jsx(ta,{className:"h-8 w-8 animate-spin text-blue-500"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t("processing")})]})}),n.jsx(Qa,{open:u,onOpenChange:m,children:n.jsxs(Ci,{children:[n.jsxs(Ni,{children:[n.jsx(ki,{children:t("confirmAction")}),n.jsxs(jo,{children:[En(t(c==="process"?"confirmFinishTransfer":"confirmCancelTransfer"),i?.number),n.jsx("br",{})," ",t("actionCannotReverse")]})]}),n.jsxs(wo,{children:[n.jsx(Ie,{variant:"outline",onClick:()=>m(!1),children:t("cancel")}),n.jsx(Ie,{onClick:g,children:t("accept")})]})]})})]})}const xC=({open:t,onOpenChange:r,actionType:e,transferNumber:s,rejectionReason:l,onReasonChange:o,rejectionReasonError:i,dialogError:d,isProcessing:c,onConfirm:a,onCancel:u})=>{const{t:m}=Be();return n.jsx(Qa,{open:t,onOpenChange:r,children:n.jsxs(Ci,{children:[n.jsxs(Ni,{children:[n.jsx(ki,{children:m("confirmAction")}),n.jsxs(jo,{children:[En(m(e==="approve"?"confirmApproveTransfer":"confirmRejectTransfer"),s),n.jsx("br",{})," ",m("actionCannotReverse")]})]}),d&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-md text-sm",children:d}),e==="reject"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"rejectionReason",children:m("rejectionReason")}),n.jsx(pl,{id:"rejectionReason",placeholder:m("enterRejectionReason"),value:l,onChange:h=>o(h.target.value),autoFocus:!0,className:`min-h-[100px] ${i?"border-red-500 focus-visible:ring-red-500":""}`}),i&&n.jsx("p",{className:"text-sm text-red-500",children:m("reasonRequired")})]}),n.jsxs(wo,{children:[n.jsx(Ie,{variant:"outline",onClick:u,disabled:c,children:m("cancel")}),n.jsx(Ie,{onClick:a,disabled:e==="reject"&&!l.trim()||c,children:c?n.jsxs(n.Fragment,{children:[n.jsx(ta,{className:"h-4 w-4 mr-2 animate-spin"}),m("processing")]}):m("accept")})]})]})})};function vC(t){const{t:r}=Be(),[e,s]=B.useState(!1),[l,o]=B.useState(null),[i,d]=B.useState(""),[c,a]=B.useState(!1),[u,m]=B.useState(null),[h,p]=B.useState(!1),[y,x]=B.useState(null),[g,w]=B.useState();return{dialogOpen:e,actionType:l,rejectionReason:i,rejectionReasonError:c,dialogError:u,isProcessing:h,selectedTransferNumber:g,handleAction:(D,V,P)=>{x(D),w(V),o(P),d(""),a(!1),m(null),s(!0)},handleRejectionReasonChange:D=>{d(D),D.trim()&&a(!1)},handleConfirmAction:async()=>{if(y){if(l==="reject"&&!i.trim()){a(!0);return}m(null),p(!0);try{l==="approve"?(await nr.approveTransfer(y),$n.success(r("transferApprovedSuccess"))):(await nr.rejectTransfer(y,i),$n.success(r("transferRejectedSuccess"))),s(!1),d(""),x(null),w(void 0),o(null),t?.onSuccess&&t.onSuccess()}catch(D){const V=D?.message||D?.response?.data?.message||"An unexpected error occurred";m(V),p(!1),t?.onError&&t.onError(D)}finally{(l==="approve"||l==="reject"&&!u)&&p(!1)}}},handleCancelDialog:()=>{s(!1),d(""),a(!1),m(null),x(null),w(void 0),o(null)},setDialogOpen:s}}function Oq(){const{t}=Be(),{setError:r}=Dt(),{id:e}=ss(),[s,l]=B.useState([]),[o,i]=B.useState(!0),{dialogOpen:d,actionType:c,rejectionReason:a,rejectionReasonError:u,dialogError:m,isProcessing:h,selectedTransferNumber:p,handleAction:y,handleRejectionReasonChange:x,handleConfirmAction:g,handleCancelDialog:w,setDialogOpen:v}=vC({onSuccess:()=>{j()}});B.useEffect(()=>{j()},[e]);const j=()=>{i(!0);const T=e?{id:e,statuses:[Mt.WaitingForApproval],progress:!0}:{statuses:[Mt.WaitingForApproval],progress:!0};nr.search(T).then(D=>l(D)).catch(D=>r(D)).finally(()=>i(!1))};function N(T,D){T.id&&y(T.id,T.number,D)}return n.jsxs(xn,{title:t("transferApprovals"),children:[n.jsx("div",{className:"my-4",children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden","aria-label":"Loading...",children:Array.from({length:3}).map((T,D)=>n.jsx(yC,{},D))}),n.jsx("div",{className:"hidden sm:block","aria-label":"Loading...",children:n.jsx(bC,{})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:s.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:t("noTransfersAwaitingApproval")}):s.map(T=>n.jsx(Id,{supervisor:!0,approval:!0,doc:T,onAction:N},T.id))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(ex,{transfers:s,supervisor:!0,approval:!0,onAction:N,emptyMessage:t("noTransfersAwaitingApproval")})})]})}),n.jsx(xC,{open:d,onOpenChange:v,actionType:c,transferNumber:p,rejectionReason:a,onReasonChange:x,rejectionReasonError:u,dialogError:m,isProcessing:h,onConfirm:g,onCancel:w})]})}const Dq=()=>n.jsxs("div",{className:"grid gap-2","aria-label":"Loading...",children:[n.jsx(ot,{className:"shadow-lg",children:n.jsx(Gt,{className:"py-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-18"}),n.jsx(Q,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx(Q,{className:"h-2 w-full"}),n.jsx(Q,{className:"h-3 w-20 mx-auto mt-1"})]})]})})}),n.jsx(ot,{children:n.jsx(Gt,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Q,{className:"h-6 w-48"}),Array.from({length:3}).map((t,r)=>n.jsxs("div",{className:"space-y-2 border-b pb-4",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-4 w-full"}),n.jsx(Q,{className:"h-4 w-24"})]},r))]})})})]}),Iq=({onApprove:t,onReject:r,isProcessing:e=!1,className:s=""})=>{const{t:l}=Be();return n.jsxs("div",{className:`flex gap-2 ${s}`,children:[n.jsxs(Ie,{type:"button",className:"flex-1 bg-green-500 hover:bg-green-600",onClick:t,disabled:e,children:[n.jsx(Ns,{className:"h-5 w-5 mr-2"}),l("approve")]}),n.jsxs(Ie,{type:"button",variant:"destructive",className:"flex-1",onClick:r,disabled:e,children:[n.jsx(br,{className:"h-5 w-5 mr-2"}),l("reject")]})]})};function Pq(){const{t}=Be(),r=fn(),{id:e}=ss(),{setError:s}=Dt(),{user:l,unitSelection:o,defaultUnit:i}=bt(),[d,c]=B.useState(null),[a,u]=B.useState([]),[m,h]=B.useState(!0),p=l?.settings,{dialogOpen:y,actionType:x,rejectionReason:g,rejectionReasonError:w,dialogError:v,isProcessing:j,handleAction:N,handleRejectionReasonChange:T,handleConfirmAction:D,handleCancelDialog:V,setDialogOpen:P}=vC({onSuccess:()=>{r("/transfer/approve")}});B.useEffect(()=>{e&&$()},[e]);const $=async()=>{if(e){h(!0);try{const[W,O]=await Promise.all([nr.getById(e),nr.fetchContent({id:e,type:_r.Source})]);c(W);const I=O.reduce((R,S)=>{const C=R.find(k=>k.itemCode===S.itemCode);return C?C.quantity+=S.quantity:R.push({...S}),R},[]);u(I)}catch(W){s(W)}finally{h(!1)}}},G=W=>{e&&N(e,d?.number,W)},Y=W=>{if(!o)switch(i){case an.Unit:return`${W.quantity} ${t("units")}`;case an.Dozen:return`${W.quantity/W.numInBuy} ${t("units")}`;case an.Pack:return`${W.quantity/W.numInBuy/W.purPackUn} ${t("units")}`}return Jp({quantity:W.quantity,numInBuy:W.numInBuy,purPackUn:W.purPackUn,purPackMsr:W.purPackMsr,buyUnitMsr:W.buyUnitMsr},p,o,i,t)};return n.jsxs(xn,{title:t("transferApprovals"),titleOnClick:()=>r("/transfer/approve"),titleBreadcrumbs:d?[{label:d.number?.toString()??""}]:[],footer:!m&&d&&d.status===Mt.WaitingForApproval&&n.jsx("div",{className:"p-4",children:n.jsx(Iq,{onApprove:()=>G("approve"),onReject:()=>G("reject"),isProcessing:j})}),children:[m?n.jsx(Dq,{}):d?n.jsxs("div",{className:"grid gap-4",children:[n.jsx(Id,{header:!1,doc:d,displayProgress:!1}),n.jsx(ot,{children:n.jsxs(Gt,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("transferItems")}),a.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:t("noItemsFound")}):n.jsx("div",{className:"space-y-4",children:a.map((W,O)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2 hover:bg-gray-50 transition-colors",children:[n.jsx("div",{className:"flex justify-between items-start",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:W.itemCode}),n.jsx("p",{className:"text-sm text-gray-600",children:W.itemName})]})}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:[t("quantity"),":"]}),n.jsx("span",{className:"font-medium text-gray-900",children:Y(W)})]})]},`${W.itemCode}-${O}`))})]})})]}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:t("transferNotFound")}),n.jsx(xC,{open:y,onOpenChange:P,actionType:x,transferNumber:d?.number,rejectionReason:g,onReasonChange:T,rejectionReasonError:w,dialogError:v,isProcessing:j,onConfirm:D,onCancel:V})]})}const Lq={id:null,scanCode:void 0,info:null,binLocation:null,onBinChanged:()=>console.warn("onBinChanged not implemented"),onBinClear:()=>console.warn("onBinClear not implemented"),rows:null,loadRows:()=>console.warn("loadRows not implemented"),currentAlert:null,handleQuantityChanged:()=>console.warn("handleQuantityChanged not implemented"),handleCancel:()=>console.warn("handleCancel not implemented"),isProcessingItem:!1,handleAddItem:()=>console.warn("handleAddItem not implemented"),handleAddPackage:()=>console.warn("handleAddPackage not implemented"),barcodeRef:{current:null},processesRef:{current:null},processAlertRef:{current:null},user:null,isLoading:!0,enable:!1,setEnable:()=>console.warn("setEnable not implemented"),finish:()=>console.warn("finish not implemented")},wC=B.createContext(Lq),Bq=({children:t})=>{const{scanCode:r}=ss(),e=na(),{t:s}=Be(),{dateTimeFormat:l}=kr(),{setLoading:o,setError:i}=Dt(),{user:d}=bt(),c=fn(),[a,u]=B.useState(null),[m,h]=B.useState(null),[p,y]=B.useState(null),[x,g]=B.useState(null),[w,v]=B.useState(null),[j,N]=B.useState(!1),[T,D]=B.useState(!1),[V,P]=B.useState(!0),$=B.useRef(null),G=B.useRef(null),Y=B.useRef(null),W=B.useCallback((L,z)=>{if(a==null)return;o(!0);const K={id:a,type:L,binEntry:z};L===_r.Target&&(K.targetBinQuantity=!0),nr.fetchContent(K).then(Z=>g(Z)).catch(Z=>{i(Z),g([])}).finally(()=>o(!1))},[a,o,i]),O=B.useCallback((L,z)=>{try{y(L),D(!0),W(z,L.entry),setTimeout(()=>{$?.current?.focus()},1)}catch(K){i(K),o(!1)}},[W,i,o]),I=B.useCallback(()=>{y(null),g(null),D(!1),v(null)},[]);B.useEffect(()=>{if(P(!0),D(!d?.binLocations),r==null){u(null),P(!1);return}u(r),nr.getProcessInfo(r).then(L=>h(L)).catch(L=>i(L)).finally(()=>{o(!1),P(!1)})},[r,d?.binLocations,i,o]),B.useEffect(()=>{if(!a)return;const z=new URLSearchParams(e.search).get("bin");if(z)try{const K=JSON.parse(z),Z=e.pathname.includes("/source")?_r.Source:_r.Target;y(K),D(!0),W(Z,K.entry),setTimeout(()=>{$?.current?.focus()},1),window.history.replaceState({},"",e.pathname)}catch(K){i(K)}},[a,e.search,e.pathname,i,W]),B.useEffect(()=>{T&&setTimeout(()=>$.current?.focus(),1)},[T]),B.useEffect(()=>{const L=e.pathname.includes("/source"),z=e.pathname.includes("/targetBins");(L||z)&&!e.search.includes("bin=")&&(y(null),g(null),D(!1),v(null))},[e.pathname,e.search]),B.useEffect(()=>{if(!a)return;!e.pathname.includes("/source")&&!e.pathname.includes("/targetBins")&&e.pathname.includes("/transfer/")&&nr.getProcessInfo(a).then(z=>h(z)).catch(z=>i(z))},[a,e.pathname,i]);const R=B.useCallback((L,z)=>{if(a==null)return;N(!0);const K=z.item,Z=z.unit,te={id:a,itemCode:K.code,barcode:K.barcode,type:L,binEntry:p?.entry,unit:Z};nr.addItem(te,s).then(H=>{if(H.errorMessage!=null){i(H.errorMessage);return}const ee=new Date(Date.now());v({lineId:H.lineId,quantity:H.quantity??1,unit:Z,purPackUn:H.packUnit,purPackMsr:H.packMsr,numInBuy:H.numIn,buyUnitMsr:H.unitMsr,barcode:K.barcode,itemCode:K.code,severity:"Information",timeStamp:l(ee)}),$?.current?.clear(),W(L,p?.entry),$?.current?.focus(),setTimeout(()=>{Y?.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)}).catch(H=>{i(H)}).finally(()=>N(!1))},[a,p?.entry,s,l,i,W]),S=B.useCallback((L,z)=>{if(a==null)return;N(!0);const K=L===_r.Source?{transferId:a,packageId:z.id,binEntry:p?.entry}:{transferId:a,packageId:z.id,targetBinEntry:p?.entry};(L===_r.Source?nr.addSourcePackage:nr.addTargetPackage)(K).then(te=>{if(te.errorMessage!=null){i(te.errorMessage);return}const H=new Date(Date.now());v({lineId:te.lineId,severity:"Information",timeStamp:l(H),package:z,packageContents:te.packageContents}),$?.current?.clear(),W(L,p?.entry),$?.current?.focus(),setTimeout(()=>{Y?.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)}).catch(te=>{if(Ln.isAxiosError(te)&&te.response?.status===400&&te.response?.data?.error==="Package is already added as source to this transfer"){i(s("packageAlreadyAddedAsSource",{barcode:z.barcode}));return}i(te)}).finally(()=>N(!1))},[a,p?.entry,s,l,i,W]),C=B.useCallback(L=>{if(w==null)return;v({...w,quantity:L});const K=window.location.pathname.includes("/source")?_r.Source:_r.Target;W(K,p?.entry)},[w,W,p?.entry]),k=B.useCallback((L,z)=>{if(w==null)return;v({...w,comment:L,canceled:z});const Z=window.location.pathname.includes("/source")?_r.Source:_r.Target;W(Z,p?.entry)},[w,W,p?.entry]),E=B.useCallback(()=>{!m?.isComplete||a==null||(P(!0),nr.process(a).then(L=>{L.success&&($n.success(s("transferApproved")),c("/transfer"))}).catch(L=>{i(L)}).finally(()=>P(!1)))},[m,a,s,c,i]),M={id:a,scanCode:r,info:m,binLocation:p,onBinChanged:O,onBinClear:I,rows:x,loadRows:W,currentAlert:w,handleQuantityChanged:C,handleCancel:k,isProcessingItem:j,handleAddItem:R,handleAddPackage:S,barcodeRef:$,processesRef:G,processAlertRef:Y,user:d,isLoading:V,enable:T,setEnable:D,finish:E};return n.jsx(wC,{value:M,children:t})},sm=()=>{const t=B.useContext(wC);if(t===void 0)throw new Error("useTransferProcess must be used within a TransferProcessProvider");return t},Fq=()=>n.jsxs("div",{className:"grid gap-2","aria-label":"Loading...",children:[n.jsx(ot,{className:"shadow-lg",children:n.jsx(Gt,{className:"py-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-18"}),n.jsx(Q,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-14"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx(Q,{className:"h-2 w-full"}),n.jsx(Q,{className:"h-3 w-20 mx-auto mt-1"})]})]})})}),n.jsx(ot,{children:n.jsx(Gt,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Q,{className:"h-4 w-48"}),n.jsx(Q,{className:"h-10 w-full"}),n.jsx(Q,{className:"h-10 w-32"})]})})}),n.jsx(ot,{children:n.jsx(Gt,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Q,{className:"h-4 w-48"}),n.jsx(Q,{className:"h-10 w-full"}),n.jsx(Q,{className:"h-10 w-32"})]})})}),n.jsx("div",{className:"space-y-4 p-2",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 flex items-center space-x-4",children:[n.jsx(Q,{className:"h-6 w-6"}),n.jsx(Q,{className:"h-6 w-48"})]})})]}),tx=t=>{if(!t)return!1;const r=t.sourceWhsCode||t.whsCode;return!!(t.targetWhsCode&&t.targetWhsCode!==r)},Uq=(t,r)=>!t||r?!1:tx(t)?(t.progress??0)>0:!!t.isComplete,$q=({transfer:t})=>{const{t:r}=Be(),{dateTimeFormat:e}=kr(),s=t.approvalWorkflow;return n.jsx(ot,{className:"border-orange-200 bg-orange-50",children:n.jsx(Gt,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(uo,{className:"h-8 w-8 text-orange-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-2",children:r("waitingForApprovalStatus")}),n.jsx("p",{className:"text-sm text-orange-800 mb-2",children:r("transferApprovalRequired")}),t.targetWhsCode&&t.sourceWhsCode&&n.jsxs("div",{className:"text-sm text-orange-700 bg-white rounded p-3 mt-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:r("crossWarehouseTransfer")})]}),n.jsxs("div",{className:"mt-2 ml-6 space-y-1",children:[n.jsxs("div",{children:[r("sourceWarehouse"),": ",n.jsx("span",{className:"font-medium",children:t.sourceWhsCode})]}),n.jsxs("div",{children:[r("targetWarehouse"),": ",n.jsx("span",{className:"font-medium",children:t.targetWhsCode})]})]})]}),s&&n.jsxs("div",{className:"text-sm bg-white rounded p-4 mt-4 border border-orange-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("span",{className:"font-semibold text-gray-700",children:[r("approvalStatus"),":"]}),n.jsx(pC,{variant:mC(s.approvalStatus),children:gC(s.approvalStatus,r)})]}),n.jsxs("div",{className:"space-y-2 text-gray-700",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600",children:[r("requestedBy"),":"]}),n.jsx("span",{className:"font-medium",children:s.requestedByUser?.fullName})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-gray-600",children:[r("requestedAt"),":"]}),n.jsx("span",{className:"font-medium",children:e(s.requestedAt)})]})]})]})]})]})})})};function zq(){const{t}=Be(),r=fn(),[e,s]=B.useState(!1),{id:l,info:o,finish:i,user:d,isLoading:c}=sm(),a=o?.status===Mt.WaitingForApproval,u=tx(o),m=Uq(o,a),h=d?.roles?.includes(Ae.TRANSFER_SUPERVISOR)||d?.superUser,p=()=>{s(!0)},y=()=>{s(!1),i()},x=()=>{s(!1)},g=()=>{if(!o||o.status!==Mt.Open&&o.status!==Mt.InProgress)return null;const w=t(h?"finish":"requestApproval");return n.jsx("div",{className:"p-4",children:n.jsxs(Ie,{type:"button",className:Ze("w-full bg-green-500",m?"hover:shadow-lg cursor-pointer":"opacity-50 cursor-not-allowed"),onClick:p,disabled:c||!m,children:[n.jsx(Ns,{className:"h-6 w-6"}),w]})})};return n.jsxs(xn,{title:t("transfer"),titleOnClick:()=>r("/transfer"),titleBreadcrumbs:[{label:o?.number?.toString()??""}],footer:g(),children:[c?n.jsx(Fq,{}):l?n.jsxs("div",{className:"grid gap-2",children:[o&&n.jsx(Id,{header:!1,doc:o}),o?.status===Mt.WaitingForApproval?n.jsx($q,{transfer:o}):o&&(o.status===Mt.Open||o.status===Mt.InProgress)&&n.jsxs(n.Fragment,{children:[d?.binLocations?n.jsx(ot,{children:n.jsx(Gt,{children:n.jsx(il,{label:t("scanTransferSourceBin"),onScan:w=>r(`/transfer/${l}/source?bin=${JSON.stringify(w)}`)})})}):n.jsx(Ie,{type:"button",variant:"default",onClick:()=>r(`/transfer/${l}/source`),children:t("selectSourceItems")}),!u&&n.jsx(ot,{children:n.jsx(Gt,{children:n.jsx(il,{label:t("scanTransferTargetBin"),autofocus:!1,onScan:w=>r(`/transfer/${l}/targetBins?bin=${JSON.stringify(w)}`)})})}),n.jsx("div",{className:"space-y-4 p-2",children:d?.settings.transferTargetItems&&n.jsx(Ja,{to:`/transfer/${l}/targetItems`,className:"block",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 flex items-center space-x-4 hover:shadow-lg transition-shadow duration-300",children:[n.jsx(uT,{className:"h-6 w-6 text-blue-500"}),n.jsx("span",{className:"text-lg font-semibold",children:t("selectTransferTargetItems")})]})})})]})]}):null,n.jsx(Qa,{open:e,onOpenChange:s,children:n.jsxs(Ci,{children:[n.jsxs(Ni,{children:[n.jsx(ki,{children:t("confirmAction")}),n.jsxs(jo,{children:[En(t(h?"confirmFinishTransfer":"confirmRequestApprovalTransfer"),o?.number),n.jsx("br",{})," ",t("actionCannotReverse")]})]}),n.jsxs(wo,{children:[n.jsx(Ie,{variant:"outline",onClick:x,children:t("cancel")}),n.jsx(Ie,{onClick:y,children:t("accept")})]})]})})]})}function qq(){const{barcodeRef:t,handleAddItem:r,handleAddPackage:e,user:s,info:l,binLocation:o}=sm();return n.jsx(vo,{unit:!0,ref:t,onAddItem:i=>r(_r.Source,i),enabled:!0,enablePackage:s.settings.enablePackages,enablePackageCreate:!1,isEphemeralPackage:!1,objectType:Cc.Transfer,objectId:l?.id,objectNumber:l?.number,binEntry:o?.entry,onPackageChanged:i=>e(_r.Source,i)})}const jC=({message:t})=>{const{t:r}=Be();return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 flex flex-col items-center space-y-4",children:[n.jsx(ta,{className:"h-8 w-8 animate-spin text-blue-500"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t??r("processingItem")})]})})},SC=()=>{const{t}=Be();return n.jsxs(ar,{variant:"information",children:[n.jsx(sr,{className:"h-4 w-4"}),n.jsx(Kn,{children:t("nodata")})]})},Du=({row:t,quantityField:r="quantity"})=>{const e=ni(),s=r==="binQuantity"?t.binQuantity??0:t[r];return n.jsx(n.Fragment,{children:e({quantity:s,numInBuy:t.numInBuy,buyUnitMsr:t.buyUnitMsr,purPackUn:t.purPackUn,purPackMsr:t.purPackMsr})})},_C=({info:t,scanCode:r,binLocation:e,user:s,onBinClear:l,pageType:o})=>{const{t:i}=Be(),d=fn(),c=[];if((t?.number||r)&&c.push({label:t?.number?.toString()??r??"",onClick:r?()=>d(`/transfer/${r}`):void 0,priority:"high"}),o){let a="",u="normal";switch(o){case"source":a=s?.binLocations?i("selectTransferSource"):i("selectSourceItems"),u=e?"high":"normal";break;case"targetBins":a=i("selectTransferTargetBins"),u="normal";break;case"targetItems":a=i("selectTransferTargetItems"),u="normal";break}a&&c.push({label:a,onClick:e?l:void 0,priority:u})}return e&&c.push({label:e.code,onClick:void 0,priority:"low"}),c};function Vq(){const{t}=Be(),r=fn(),{id:e,scanCode:s,binLocation:l,rows:o,currentAlert:i,isProcessingItem:d,processesRef:c,processAlertRef:a,onBinChanged:u,onBinClear:m,loadRows:h,handleQuantityChanged:p,handleCancel:y,user:x,info:g}=sm();B.useEffect(()=>{e&&!x?.binLocations&&h(_r.Source)},[e,x?.binLocations,h]);const w=tx(g),v=_C({info:g,scanCode:s,binLocation:l,user:x,onBinClear:m,pageType:"source"});if(!e)return null;const j=l!=null;return n.jsxs(xn,{title:t("transfer"),titleOnClick:()=>r("/transfer"),titleBreadcrumbs:v,footer:(!x?.binLocations||l)&&n.jsx(qq,{}),children:[d&&n.jsx(jC,{}),j&&n.jsx("div",{className:"md:hidden mb-4 p-2 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ie,{type:"button",variant:"outline",size:"sm",onClick:()=>r(`/transfer/${e}`),className:"w-full justify-start",children:[" ",t("backToTransfer")]}),g&&(g.status===Mt.Open||g.status===Mt.InProgress)&&n.jsx(Ie,{type:"button",variant:"default",size:"sm",onClick:()=>r(`/transfer/${e}`),className:"w-full bg-green-500 hover:bg-green-600",children:t("requestApproval")||"Request Approval"})]})}),x?.binLocations&&!l&&n.jsx(il,{showLabel:!1,onChanged:N=>u(N,_r.Source),onClear:m}),n.jsxs("div",{className:"contentStyle",children:[i&&n.jsx("div",{ref:a,children:n.jsx(em,{alert:i,onAction:N=>c?.current?.open(N)})}),o!=null&&o.length>0&&n.jsxs("div",{className:"flex flex-col gap-4",children:[!w&&n.jsx(Ie,{type:"button",variant:"default",onClick:()=>r(`/transfer/${e}/targetBins`),children:t("selectTransferTargetBins")||"Select Target Bins"}),n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("code")}),n.jsx(he,{className:"hidden sm:table-cell",children:t("description")}),n.jsx(he,{children:t("quantity")})]})}),n.jsx(en,{children:o.map(N=>n.jsxs(n.Fragment,{children:[n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Za,{data:N})}),n.jsx(ue,{className:"hidden sm:table-cell",children:N.itemName}),n.jsx(ue,{children:n.jsx(Du,{row:N,quantityField:"quantity"})})]},N.itemCode),n.jsx(We,{className:"sm:hidden",children:n.jsxs(ue,{className:"bg-gray-100 border-b-1",colSpan:2,children:[t("description"),": ",N.itemName]})})]}))})]})]}),o!=null&&o.length===0&&n.jsx(SC,{})]}),i&&e&&n.jsx(tm,{ref:c,id:e,alert:i,reasonType:fd.Transfer,onCancel:y,onQuantityChanged:p,onUpdateLine:nr.updateLine,onUpdateComplete:()=>h(_r.Source)})]})}const Hq=({data:t})=>{const{t:r}=Be(),e=ni();return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"sm:hidden flex flex-col gap-4",children:t.map(s=>n.jsxs(qs,{children:[n.jsx(_t,{label:r("bin"),value:s.binCode}),n.jsx(_t,{label:r("code"),value:s.itemCode,itemDetailsLink:s}),n.jsx(_t,{label:r("description"),value:s.itemName}),n.jsx(_t,{label:r("quantity"),value:e({quantity:s.quantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr||"",purPackUn:s.purPackUn,purPackMsr:s.purPackMsr||""})})]},`${s.itemCode}-${s.binCode}`))}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:r("bin")}),n.jsx(he,{children:r("code")}),n.jsx(he,{children:r("description")}),n.jsx(he,{children:r("counted")})]})}),n.jsx(en,{children:t.map(s=>n.jsxs(We,{children:[n.jsx(ue,{children:s.binCode}),n.jsx(ue,{children:n.jsx(Za,{data:s})}),n.jsx(ue,{children:s.itemName}),n.jsx(ue,{children:e({quantity:s.quantity,numInBuy:s.numInBuy,buyUnitMsr:s.buyUnitMsr,purPackUn:s.purPackUn,purPackMsr:s.purPackMsr})})]},`${s.itemCode}-${s.binCode}`))})]})})]})};function Wq(){const{scanCode:t}=ss(),{loading:r,setLoading:e,setError:s}=Dt(),{t:l}=Be(),{unitSelection:o,user:i}=bt(),[d,c]=B.useState(null),a=fn();B.useEffect(()=>{t!=null&&(e(!0),Xa.fetchCountingSummaryReport(t).then(p=>c(p)).catch(p=>s(p)).finally(()=>e(!1)))},[]);const u=()=>{const p=[l("bin"),l("code"),l("description")];return p.push(...tl(l,o,i?.settings.enableUseBaseUn)),p},m=()=>d?.lines.map(p=>{const y=[p.binCode,p.itemCode,p.itemName];return y.push(...Qy({quantity:p.quantity,numInBuy:p.numInBuy,purPackUn:p.purPackUn},o,i?.settings.enableUseBaseUn)),y})??[],h=async()=>{await Dd({name:"CountingData",headers:u,getData:m,fileName:`counting_data_${d?.number}`})};return n.jsx(xn,{title:l("countingSupervisor"),titleOnClick:()=>a("/countingSupervisor"),titleBreadcrumbs:[{label:`${d?.number}`},{label:l("countingSummaryReport")}],onExportExcel:h,children:n.jsxs("div",{className:"space-y-4",children:[r&&!d&&n.jsxs("div",{className:"space-y-4","aria-label":"Loading...",children:[n.jsx("div",{className:"flex flex-col space-y-2",children:n.jsx(Q,{className:"h-8 w-48"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Q,{className:"h-10 w-full"}),Array.from({length:8}).map((p,y)=>n.jsx(Q,{className:"h-12 w-full"},y))]})]}),d&&n.jsxs(n.Fragment,{children:[d?.name&&n.jsx("div",{className:"flex flex-col space-y-2",children:n.jsxs("h2",{className:"text-2xl font-semibold text-muted-foreground",children:[l("id"),": ",d?.name]})}),n.jsx(Hq,{data:d.lines})]})]})})}const Gq=()=>n.jsx("div",{className:"flex justify-center px-3 pt-3 md:px-0 md:pt-0","aria-label":"Loading...",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-12"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsx("div",{children:n.jsx(Q,{className:"h-10 w-full"})})]})})}),Yq=()=>n.jsxs("div",{className:"space-y-4 px-3 pt-3 md:px-0 md:pt-0","aria-label":"Loading...",children:[n.jsx(ot,{className:"p-0 gap-0",children:[...Array(3)].map((t,r)=>n.jsx("div",{className:`${r!==0?"border-t":""}`,children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Q,{className:"h-5 w-20"})}),n.jsx("div",{className:"mt-1",children:n.jsx(Q,{className:"h-4 w-48"})}),n.jsx("div",{className:"mt-1",children:n.jsx(Q,{className:"h-4 w-32"})})]}),n.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Q,{className:"h-4 w-4 rounded"}),n.jsx(Q,{className:"h-3 w-3 mt-1"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Q,{className:"h-4 w-4 rounded"}),n.jsx(Q,{className:"h-3 w-3 mt-1"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Q,{className:"h-4 w-4 rounded"}),n.jsx(Q,{className:"h-3 w-3 mt-1"})]})]}),n.jsx(Q,{className:"w-5 h-5 rounded"})]})},r))}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((t,r)=>n.jsxs(ot,{className:"p-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx(Q,{className:"w-6 h-6 rounded"})}),n.jsx(Q,{className:"h-8 w-8 mx-auto mb-1"}),n.jsx(Q,{className:"h-3 w-16 mx-auto"})]},r))})]});function T4(){const{t}=Be(),{binEntry:r,binCode:e}=ss(),s=fn(),{bin:l,binRef:o,user:i,binContent:d,onBinClear:c,handleExportExcel:a,executeBinCheck:u,isCheckingBin:m}=mz();B.useEffect(()=>{r&&e&&!d&&u(r,e)},[r,e,u,d]);const h=()=>{c(),s("/binCheck")},p=y=>{s(`/binCheck/${y.entry}/${y.code}`)};return i?.binLocations?n.jsx(xn,{title:t("binCheck"),titleOnClick:d!=null?h:void 0,titleBreadcrumbs:d?[{label:l.code}]:void 0,onExportExcel:d!=null?a:void 0,children:n.jsxs("div",{className:"space-y-4",children:[m&&!d&&n.jsx(Yq,{}),d&&!m&&n.jsx(Q$,{content:d}),!l&&m&&n.jsx(Gq,{}),!l&&!m&&n.jsx(il,{ref:o,onScan:p,onClear:h})]})}):n.jsx(xn,{title:t("binCheck"),children:n.jsx("div",{className:"px-3 pt-3 md:px-0 md:pt-0",children:n.jsxs(ar,{className:"border-red-200 bg-red-50",children:[n.jsx(go,{className:"h-4 w-4 text-red-600"}),n.jsx(Kn,{children:"You're not connected to a bin managed warehouse."})]})})})}const CC=B.forwardRef(({onScan:t,onChanged:r,onClear:e,label:s,showLabel:l=!0},o)=>{const{setLoading:i,setError:d}=Dt(),{t:c}=Be(),a=B.useRef(null),[u,m]=B.useState(""),[h,p]=B.useState(null);B.useEffect(()=>{h||a.current?.focus()},[h]),B.useImperativeHandle(o,()=>({focus(){a?.current?.focus()},clear(){y()},getBarcode(){return u}}));const y=()=>{m(""),p(null),e?.()},x=async w=>{if(w.preventDefault(),!!u.trim()){i(!0);try{const v=await Rh({barcode:u.trim(),contents:!0,details:!0});v?(p(v),t?.(v),r?.(v)):d(new Error(c("packages.packageNotFound")))}catch(v){v?.response?.status===404?(d(new Error(c("packages.packageNotFound"))),m("")):d(v)}finally{i(!1)}}},g=typeof s=="string"?s:s!==!1?c("packages.scanPackageBarcode"):void 0;return n.jsx("div",{className:"flex justify-center",children:n.jsx("form",{onSubmit:x,className:"w-full max-w-md",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[l&&g&&n.jsx(cn,{htmlFor:"package-barcode-input",children:g}),n.jsx(on,{id:"package-barcode-input",required:!0,value:u,ref:a,onChange:w=>m(w.target.value),placeholder:c("packages.packageBarcode"),maxLength:255})]}),n.jsx("div",{children:n.jsxs(Ie,{type:"submit",disabled:!u.trim(),className:"w-full",children:[n.jsx(Ns,{className:"h-4 w-4 mr-2"}),c("accept")]})})]})})})});CC.displayName="PackageScanner";const Xq=()=>n.jsx("div",{className:"flex justify-center px-3 pt-3 md:px-0 md:pt-0","aria-label":"Loading...",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsx("div",{children:n.jsx(Q,{className:"h-10 w-full"})})]})})}),Kq=()=>n.jsxs("div",{className:"space-y-4","aria-label":"Loading...",children:[n.jsx(ot,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{className:"h-6 w-64 mb-2"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsx("div",{className:"flex items-center gap-1",children:n.jsx(Q,{className:"h-5 w-16 rounded-full"})}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Q,{className:"h-4 w-4"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Q,{className:"h-4 w-4"}),n.jsx(Q,{className:"h-4 w-24"})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[n.jsx(Q,{className:"h-4 w-4"}),n.jsx(Q,{className:"h-4 w-32"})]}),n.jsxs("div",{className:"flex items-center gap-1 justify-end mt-1",children:[n.jsx(Q,{className:"h-4 w-4"}),n.jsx(Q,{className:"h-4 w-28"})]})]})]})}),n.jsx(ot,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Q,{className:"h-5 w-32"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((t,r)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-10 w-full"})]},r))})]})}),n.jsx(ot,{className:"p-0 gap-0",children:[...Array(3)].map((t,r)=>n.jsx("div",{className:`${r!==0?"border-t":""}`,children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Q,{className:"h-5 w-24"})}),n.jsx(Q,{className:"h-4 w-48 mt-1"}),n.jsx(Q,{className:"h-4 w-32 mt-1"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Q,{className:"h-6 w-6 rounded-full"}),n.jsx(Q,{className:"h-3 w-8 mt-1"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Q,{className:"h-6 w-6 rounded-full"}),n.jsx(Q,{className:"h-3 w-8 mt-1"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Q,{className:"h-6 w-6 rounded-full"}),n.jsx(Q,{className:"h-3 w-8 mt-1"})]})]})]})},r))}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((t,r)=>n.jsxs(ot,{className:"p-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx(Q,{className:"w-6 h-6"})}),n.jsx(Q,{className:"h-8 w-8 mx-auto mb-2"}),n.jsx(Q,{className:"h-3 w-16 mx-auto"})]},r))})]});function A4(){const{t}=Be(),{id:r,barcode:e}=ss(),s=fn(),{packageData:l,packageRef:o,isCheckingPackage:i,isRefreshingPackage:d,onPackageClear:c,handleExportExcel:a,executePackageCheck:u}=xz();B.useEffect(()=>{r&&e&&!l&&u(r,e)},[r,e,u,l]);const m=()=>{c(),s("/packageCheck")},h=p=>{s(`/packageCheck/${p.id}/${p.barcode}`)};return n.jsx(xn,{title:t("packages.packageCheck"),titleOnClick:l?m:void 0,titleBreadcrumbs:l?[{label:l.barcode}]:void 0,onExportExcel:l?a:void 0,children:n.jsxs("div",{className:"space-y-4 px-3 pt-3 md:px-0 md:pt-0",children:[l&&d&&n.jsx(Kq,{}),l&&!d&&n.jsx(lz,{packageData:l}),!l&&i&&n.jsx(Xq,{}),!l&&!i&&n.jsx(CC,{ref:o,onScan:h,onClear:m,label:t("packages.scanPackageBarcode")})]})})}var Zs=(t=>(t.OK="OK",t.LessScan="LessScan",t.MoreScan="MoreScan",t.ClosedLine="ClosedLine",t.NotReceived="NotReceived",t))(Zs||{});const Qq=()=>n.jsxs("div",{"aria-label":"Loading difference table...",children:[n.jsx("div",{className:"block sm:hidden flex flex-col gap-2",children:[...Array(3)].map((t,r)=>n.jsxs(ot,{children:[n.jsxs(zn,{children:[n.jsx(Kr,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-4 w-12"}),n.jsx(Q,{className:"h-4 w-20"})]})}),n.jsx(Ip,{children:n.jsx(Q,{className:"h-4 w-48"})})]}),n.jsx(Gt,{children:n.jsx("div",{className:"space-y-3",children:[...Array(4)].map((e,s)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-4 w-16"})]},s))})}),n.jsx(mo,{children:n.jsx(Q,{className:"h-10 w-full"})})]},r))}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-4"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-28"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(he,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(he,{})]})}),n.jsx(en,{children:[...Array(5)].map((t,r)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-4"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-16"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-8 w-16"})})]},r))})]})})]}),Zq=({id:t,data:r})=>{const{t:e}=Be(),{dateFormat:s,timeFormat:l}=kr(),{setError:o}=Dt(),i=ni(),[d,c]=B.useState(!1),[a,u]=B.useState({}),[m,h]=B.useState(!1),[p,y]=B.useState(null),[x,g]=B.useState(null),w=D=>{switch(D){case Zs.OK:return{color:"#155724",backgroundColor:"#d4edda",padding:"2px 6px",borderRadius:"4px",display:"inline-block"};case Zs.LessScan:return{color:"#721c24",backgroundColor:"#f8d7da",padding:"2px 6px",borderRadius:"4px",display:"inline-block"};case Zs.MoreScan:return{color:"#856404",backgroundColor:"#fff3cd",padding:"2px 6px",borderRadius:"4px",display:"inline-block"};case Zs.ClosedLine:return{color:"#0c5460",backgroundColor:"#d1ecf1",padding:"2px 6px",borderRadius:"4px",display:"inline-block"};default:return{padding:"2px 6px",borderRadius:"4px",display:"inline-block"}}},v=D=>D===0?{color:"#155724",backgroundColor:"#d4edda",padding:"2px 6px",borderRadius:"4px",display:"inline-block"}:D>0?{color:"#721c24",backgroundColor:"#f8d7da",padding:"2px 6px",borderRadius:"4px",display:"inline-block"}:{color:"#856404",backgroundColor:"#fff3cd",padding:"2px 6px",borderRadius:"4px",display:"inline-block"};function j(D){switch(D){case Zs.OK:return e("complete");case Zs.LessScan:return e("moreThenOrdered");case Zs.MoreScan:return e("lessThenOrdered");case Zs.ClosedLine:return e("closed");case Zs.NotReceived:return e("notReceived");default:return""}}const N=D=>{y(D),c(!0),a[D.lineNumber]?(g(a[D.lineNumber]),h(!0),c(!1)):tc.fetchValidateProcessLineDetails(t,r.baseType,r.baseEntry,D.lineNumber).then(V=>{u(P=>({...P,[D.lineNumber]:V})),g(V),h(!0)}).catch(V=>o(V)).finally(()=>c(!1))},T=()=>{h(!1),y(null),g(null)};return d?n.jsx(Qq,{}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden flex flex-col gap-2",children:r.lines.map(D=>{const V=w(D.lineStatus),P=D.quantity-D.documentQuantity,$=v(P);return n.jsxs(ot,{children:[n.jsxs(zn,{children:[n.jsxs(Kr,{children:[e("code"),":",n.jsx(Za,{data:D})]}),n.jsx(Ip,{children:`${e("description")}: ${D.itemName} (#${D.visualLineNumber})`})]}),n.jsx(Gt,{children:n.jsxs(qs,{children:[n.jsx(_t,{label:e("scannedQuantity"),value:i({quantity:D.quantity,numInBuy:D.numInBuy,buyUnitMsr:D.buyUnitMsr,purPackUn:D.purPackUn,purPackMsr:D.purPackMsr})}),n.jsx(_t,{label:e("documentQuantity"),value:i({quantity:D.documentQuantity,numInBuy:D.numInBuy,buyUnitMsr:D.buyUnitMsr,purPackUn:D.purPackUn,purPackMsr:D.purPackMsr})}),n.jsx(_t,{label:e("difference"),value:n.jsx("span",{style:$,children:i({quantity:P,numInBuy:D.numInBuy,buyUnitMsr:D.buyUnitMsr,purPackUn:D.purPackUn,purPackMsr:D.purPackMsr})})}),n.jsx(_t,{label:e("status"),value:n.jsx("span",{style:V,children:j(D.lineStatus)})})]})}),n.jsx(mo,{children:n.jsx(Ie,{variant:"default",onClick:()=>N(D),className:"w-full",children:e("details")})})]},D.lineNumber)})}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:"#"}),n.jsx(he,{children:e("code")}),n.jsx(he,{children:e("description")}),n.jsx(he,{children:e("scannedQuantity")}),n.jsx(he,{children:e("documentQuantity")}),n.jsx(he,{children:e("difference")}),n.jsx(he,{children:e("status")}),n.jsx(he,{})]})}),n.jsx(en,{children:r.lines.map(D=>{const V=w(D.lineStatus),P=D.quantity-D.documentQuantity,$=v(P);return n.jsxs(We,{children:[n.jsx(ue,{children:D.visualLineNumber}),n.jsx(ue,{children:n.jsx(Za,{data:D})}),n.jsx(ue,{children:D.itemName}),n.jsx(ue,{children:i({quantity:D.quantity,numInBuy:D.numInBuy,buyUnitMsr:D.buyUnitMsr,purPackUn:D.purPackUn,purPackMsr:D.purPackMsr})}),n.jsx(ue,{children:i({quantity:D.documentQuantity,numInBuy:D.numInBuy,buyUnitMsr:D.buyUnitMsr,purPackUn:D.purPackUn,purPackMsr:D.purPackMsr})}),n.jsx(ue,{children:n.jsx("span",{style:$,children:i({quantity:P,numInBuy:D.numInBuy,buyUnitMsr:D.buyUnitMsr,purPackUn:D.purPackUn,purPackMsr:D.purPackMsr})})}),n.jsx(ue,{children:n.jsx("span",{style:V,children:j(D.lineStatus)})}),n.jsx(ue,{children:n.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>N(D),children:e("details")})})]},D.lineNumber)})})]})}),p&&m&&n.jsx(lr,{open:m,onOpenChange:h,children:n.jsxs(cr,{className:"sm:max-w-3xl",children:[n.jsxs(ur,{children:[n.jsx(dr,{children:`${e("detailsFor")} ${p.itemCode} (#${p.visualLineNumber})`}),n.jsx(_i,{children:p.itemName})]}),n.jsxs("div",{className:"py-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("span",{className:"font-bold",children:`${e("status")}: `}),n.jsx("span",{style:w(p.lineStatus),children:j(p.lineStatus)})]}),x&&x.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden space-y-2",children:n.jsx(hl,{children:x.map(D=>{const V=new Date(D.timeStamp);let P=D.scannedQuantity;p?.numInBuy&&D.unit!==an.Unit&&p.numInBuy!==0&&(P/=p.numInBuy),p?.purPackUn&&D.unit===an.Pack&&p.purPackUn!==0&&(P/=p.purPackUn);const $=p?.unit===an.Unit?e("unit"):p?.unit===an.Dozen?p?.buyUnitMsr||e("qtyInUn"):p?.purPackMsr||e("packUn");return n.jsxs(ot,{children:[" ",n.jsx(Gt,{children:n.jsxs(qs,{children:[n.jsx(_t,{label:e("date"),value:s(V)}),n.jsx(_t,{label:e("time"),value:l(V)}),n.jsx(_t,{label:e("employee"),value:D.createdByUserName}),n.jsx(_t,{label:e("unit"),value:$}),n.jsx(_t,{label:e("scannedQuantity"),value:An(P,2)})]})})]},`${D.timeStamp}-${D.createdByUserName}-${D.scannedQuantity}`)})})}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:e("date")}),n.jsx(he,{children:e("time")}),n.jsx(he,{children:e("employee")}),n.jsx(he,{children:e("unit")}),n.jsx(he,{className:"text-right",children:e("scannedQuantity")})]})}),n.jsx(en,{children:x.map(D=>{const V=new Date(D.timeStamp);let P=D.scannedQuantity;p?.numInBuy&&D.unit!==an.Unit&&p.numInBuy!==0&&(P/=p.numInBuy),p?.purPackUn&&D.unit===an.Pack&&p.purPackUn!==0&&(P/=p.purPackUn);const $=p?.unit===an.Unit?e("unit"):p?.unit===an.Dozen?p?.buyUnitMsr||e("qtyInUn"):p?.purPackMsr||e("packUn");return n.jsxs(We,{children:[n.jsx(ue,{children:s(V)}),n.jsx(ue,{children:l(V)}),n.jsx(ue,{children:D.createdByUserName}),n.jsx(ue,{children:$}),n.jsx(ue,{className:"text-right",children:An(P,2)})]},`${D.timeStamp}-${D.createdByUserName}-${D.scannedQuantity}`)})})]})})]}):n.jsx("p",{className:"text-center text-muted-foreground",children:e("noDetailsAvailable")})]}),n.jsx(ra,{children:n.jsx(Ie,{variant:"outline",onClick:T,children:e("close")})})]})})]})},Jq=()=>{const{t}=Be(),{scanCode:r}=ss(),e=ka(),{setLoading:s,setError:l}=Dt(),{user:o}=bt(),[i,d]=B.useState(null),[c,a]=B.useState(null),[u,m]=B.useState(null),[h,p]=B.useState(!1);B.useEffect(()=>{r!=null&&(cs.fetch(r).then(j=>m(j)).catch(j=>l(j)).finally(()=>s(!1)),s(!0),tc.fetchValidateProcess(r).then(j=>d(j)).catch(j=>l(j)).finally(()=>s(!1)))},[]);const y=[t("document"),t("code"),t("description"),t("scannedQuantity"),...tl(t,!0,o?.settings.enableUseBaseUn),t("documentQuantity"),...tl(t,!0,o?.settings.enableUseBaseUn),t("difference"),...tl(t,!0,o?.settings.enableUseBaseUn)];function x(){const j={},N={};return i?.forEach(T=>{const D=e(T.baseType),V=T.documentNumber,P=`${D} ${V}`;T.lines.forEach($=>{const G=$.itemCode,Y=$.quantity,W=$.documentQuantity,O=`${T.baseType}_${V}_${G}`;j[O]?(j[O].quantity+=Y,j[O].documentQuantity+=W):j[O]={document:P,itemCode:G,itemName:$.itemName,quantity:Y,documentQuantity:W,numInBuy:$.numInBuy,buyUnitMsr:$.buyUnitMsr??t("dozen"),purPackUn:$.purPackUn,purPackMsr:$.purPackMsr??t("pack")},$.lineStatus!==Zs.OK&&$.lineStatus!==Zs.ClosedLine&&(N[O]=!0)})}),Object.entries(j).filter(([T,D])=>N[T]?h?D.quantity!==D.documentQuantity:!0:!1).sort(([T,D],[V,P])=>D.document!==P.document?D.document.localeCompare(P.document):D.itemCode.localeCompare(P.itemCode)).map(([T,D])=>{const V=Fu({quantity:D.quantity,numInBuy:D.numInBuy,purPackUn:D.purPackUn}),P=Fu({quantity:D.documentQuantity,numInBuy:D.numInBuy,purPackUn:D.purPackUn}),$=Fu({quantity:D.quantity-D.documentQuantity,numInBuy:D.numInBuy,purPackUn:D.purPackUn});return[D.document,D.itemCode,D.itemName,"",...gh(V,o?.settings.enableUseBaseUn),"",...gh(P,o?.settings.enableUseBaseUn),"",...gh($,o?.settings.enableUseBaseUn)]})}const g=async()=>{await Dd({name:"DifferenceReport",headers:y,getData:x,fileName:`goods_receipt_differences_${u?.number}`})},w=(j,N)=>{j.preventDefault(),a(N)};return{info:u,scanCode:r,o:e,data:i,report:!c||!h?c:{...c,lines:c.lines.filter(j=>j.quantity!==j.documentQuantity)},setReport:a,handleExportExcel:g,openReport:w,showOnlyDifferences:h,setShowOnlyDifferences:p}};function B0({processType:t=qe.Regular}){const{t:r}=Be(),{displayVendor:e}=bt(),{loading:s}=Dt(),l=fn(),{info:o,o:i,data:d,report:c,setReport:a,handleExportExcel:u,showOnlyDifferences:m,setShowOnlyDifferences:h}=Jq(),p=()=>{switch(t){case qe.Confirmation:return r("goodsReceiptConfirmationSupervisor");case qe.TransferConfirmation:return r("transferConfirmationSupervisor");default:return r("goodsReceiptSupervisor")}},y=()=>{switch(t){case qe.Confirmation:return"/goodsReceiptConfirmationSupervisor";case qe.TransferConfirmation:return"/transferConfirmationSupervisor";default:return"/goodsReceiptSupervisor"}},x=()=>r("differencesReport"),g=p(),w=y(),v=x(),j=[{label:`${o?.number?.toString()||r("loading")}`},{label:v,onClick:c?()=>a(null):void 0}];return c&&j.push({label:`${i(c.baseType)}: ${c.documentNumber}`}),n.jsxs(xn,{title:g,titleOnClick:()=>l(w),titleBreadcrumbs:j,onExportExcel:u,children:[!c&&s&&n.jsxs(Zt,{"aria-label":"Loading...",children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:r("document")}),t!==qe.TransferConfirmation&&e&&n.jsxs(n.Fragment,{children:[n.jsx(he,{className:"hidden sm:table-cell",children:r("supplier")}),n.jsx(he,{children:r("supplierName")})]}),n.jsx(he,{className:"text-right"})]})}),n.jsx(en,{children:Array.from({length:5}).map((N,T)=>n.jsxs(n.Fragment,{children:[n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-40"})}),t!==qe.TransferConfirmation&&e&&n.jsxs(n.Fragment,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{className:"hidden sm:table-cell",children:n.jsx(Q,{className:"h-4 w-32"})})]}),n.jsx(ue,{className:"text-right",children:n.jsx(Q,{className:"h-8 w-16 rounded"})})]},`skeleton-${T}-doc`),t!==qe.TransferConfirmation&&e&&n.jsx(We,{className:"sm:hidden",children:n.jsx(ue,{className:"bg-gray-100 border-b-1",colSpan:3,children:n.jsx(Q,{className:"h-4 w-48"})})},`skeleton-${T}-vendor`)]}))})]}),!c&&!s&&n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:r("document")}),t!==qe.TransferConfirmation&&e&&n.jsxs(n.Fragment,{children:[n.jsx(he,{className:"hidden sm:table-cell",children:r("supplier")}),n.jsx(he,{children:r("supplierName")})]}),n.jsx(he,{className:"text-right"})]})}),n.jsx(en,{children:d?.map(N=>n.jsxs(n.Fragment,{children:[n.jsxs(We,{children:[n.jsx(ue,{children:`${i(N.baseType)}: ${N.documentNumber}`}),t!==qe.TransferConfirmation&&e&&n.jsxs(n.Fragment,{children:[n.jsx(ue,{children:N.vendor.id}),n.jsx(ue,{className:"hidden sm:table-cell",children:N.vendor.name})]}),n.jsx(ue,{className:"text-right",children:n.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>a(N),children:r("details")})})]},`${N.documentNumber}-doc`),t!==qe.TransferConfirmation&&e&&n.jsx(We,{className:"sm:hidden",children:n.jsxs(ue,{className:"bg-gray-100 border-b-1",colSpan:3,children:[r("supplierName"),": ",N.vendor.name]})},`${N.documentNumber}-vendor`)]}))})]}),c&&s&&n.jsxs(n.Fragment,{children:[t!==qe.TransferConfirmation&&e&&n.jsxs(qs,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-32"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-4 w-40"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mb-4 ml-4 md:ml-0",children:[n.jsx(Q,{className:"h-4 w-4 rounded"}),n.jsx(Q,{className:"h-4 w-32"})]}),n.jsxs("div",{className:"space-y-4","aria-label":"Loading...",children:[n.jsx(Q,{className:"h-8 w-full"}),Array.from({length:6}).map((N,T)=>n.jsx(Q,{className:"h-12 w-full"},T))]})]}),c&&!s&&n.jsxs(n.Fragment,{children:[t!==qe.TransferConfirmation&&e&&n.jsxs(qs,{children:[n.jsx(_t,{label:r("supplier"),value:c.vendor.id}),n.jsx(_t,{label:r("supplierName"),value:c.vendor.name})]}),n.jsxs("div",{className:"flex items-center space-x-2 mb-4 ml-4 md:ml-0",children:[n.jsx(js,{id:"showOnlyDifferences",checked:m,onCheckedChange:N=>h(N)}),n.jsx("label",{htmlFor:"showOnlyDifferences",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:r("showOnlyDifferences")})]}),o&&n.jsx(Zq,{id:o.id,data:c})]}),d&&d.length===0&&n.jsx(ar,{variant:"default",className:"mt-4 bg-yellow-100 border-yellow-400 text-yellow-700",children:n.jsx(Kn,{children:r("nodata")})})]})}function eV(){const{t}=Be(),r=fn(),{id:e,scanCode:s,binLocation:l,barcodeRef:o,rows:i,currentAlert:d,isProcessingItem:c,processesRef:a,processAlertRef:u,onBinChanged:m,onBinClear:h,loadRows:p,handleAddItem:y,handleAddPackage:x,handleQuantityChanged:g,handleCancel:w,user:v,info:j}=sm(),N=_C({info:j,scanCode:s,binLocation:l,user:v,onBinClear:h,pageType:"targetBins"});return e?n.jsxs(xn,{title:t("transfer"),titleOnClick:()=>r("/transfer"),titleBreadcrumbs:N,footer:l&&n.jsx(vo,{unit:!0,ref:o,onAddItem:T=>y(_r.Target,T),enabled:!0,enablePackage:v.settings.enablePackages,enablePackageCreate:!1,isEphemeralPackage:!1,objectType:Cc.Transfer,objectId:j?.id,objectNumber:j?.number,onPackageChanged:T=>x(_r.Target,T)}),children:[c&&n.jsx(jC,{}),v?.binLocations&&!l&&n.jsx(il,{onChanged:T=>m(T,_r.Target),onClear:h}),n.jsxs("div",{className:"contentStyle",children:[d&&n.jsx("div",{ref:u,children:n.jsx(em,{alert:d,onAction:T=>a?.current?.open(T)})}),i!=null&&i.length>0&&n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("div",{className:"block sm:hidden",children:i.map(T=>n.jsx(ot,{children:n.jsxs(Gt,{className:"flex flex-col gap-2",children:[n.jsxs(Ju,{children:[n.jsx(_t,{label:t("code"),itemDetailsLink:T,value:T.itemCode}),n.jsx(_t,{label:t("description"),value:T.itemName}),n.jsx(_t,{label:t("openQuantity"),value:n.jsx(Du,{row:T,quantityField:"openQuantity"})}),n.jsx(_t,{label:t("binQuantity"),value:n.jsx(Du,{row:T,quantityField:"binQuantity"})})]}),n.jsx(zs,{value:T.progress??0,className:"w-full h-2"}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:`${T.progress??0}%`})]})},T.itemCode))}),n.jsx("div",{className:"hidden sm:block",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("code")}),n.jsx(he,{children:t("description")}),n.jsx(he,{children:t("openQuantity")}),n.jsx(he,{children:t("binQuantity")}),n.jsx(he,{children:t("progress")})]})}),n.jsx(en,{children:i.map(T=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Za,{data:T})}),n.jsx(ue,{children:T.itemName}),n.jsx(ue,{children:n.jsx(Du,{row:T,quantityField:"openQuantity"})}),n.jsx(ue,{children:n.jsx(Du,{row:T,quantityField:"binQuantity"})}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zs,{value:T.progress??0,className:"w-20"}),n.jsxs("span",{className:"text-xs",children:[T.progress??0,"%"]})]})})]},T.itemCode))})]})})]}),i!=null&&i.length===0&&n.jsx(SC,{})]}),d&&e&&n.jsx(tm,{ref:a,id:e,alert:d,reasonType:fd.Transfer,onCancel:w,onQuantityChanged:g,onUpdateLine:nr.updateLine,onUpdateComplete:()=>p(_r.Target)})]}):null}function tV(){return n.jsxs("div",{className:"space-y-4","aria-label":"Loading transfer request form...",children:[n.jsx(hl,{className:"h-64 w-full rounded-md border",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"grid grid-cols-[1fr_2fr_100px_60px] gap-4 pb-3 border-b",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-4 w-16"}),n.jsx("div",{})]}),[...Array(3)].map((t,r)=>n.jsxs("div",{className:"grid grid-cols-[1fr_2fr_100px_60px] gap-4 py-3 border-b last:border-b-0",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-8 w-full"}),n.jsx(Q,{className:"h-8 w-8 rounded-sm"})]},r))]})}),n.jsx("div",{className:"text-center",children:n.jsx(Q,{className:"h-10 w-24 mx-auto"})}),n.jsx(ot,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{className:"h-10 flex-1"}),n.jsx(Q,{className:"h-10 w-20"})]})]})})]})}function nV(){const{t}=Be(),r=B.useRef(null),{setLoading:e,setError:s}=Dt(),{user:l}=bt(),[o,i]=B.useState([]),d=B.useRef([]),c=fn(),[a,u]=B.useState(!1),[m,h]=B.useState(null),[p,y]=B.useState(!1),x=l?.settings?.enableDecimalQuantities??!1;function g(T){const D=T.item,V=T.unit;try{if(o.find(G=>G.itemCode===D.code)){s(t("duplicateItems"));return}let $={itemCode:D.code,quantity:1,openQuantity:0,numInBuy:1,purPackMsr:"N/A",buyUnitMsr:"N/A",purPackUn:1,unit:V,itemName:D.name};i(G=>[...G,$]),r?.current?.clear()}catch(P){s(P)}finally{e(!1)}}B.useEffect(()=>{if(o.length===0)return;const T=o.length-1;d.current[T]?.focus()},[o]);function w(T,D){const V=o.map((P,$)=>$===T?{...P,quantity:Zy(D,x)}:P);i(V)}function v(T){h(T),u(!0)}function j(){m!==null&&(i(T=>{const D=[...T];return D.splice(m,1),D}),u(!1),h(null))}function N(){try{y(!0),nr.createRequest(o).then(T=>{$n.success(En(t("transferRequestCreated"),T)),c("/")}).catch(T=>s(T)).finally(()=>y(!1))}catch(T){s(T)}}return n.jsxs(xn,{title:t("transferRequest"),children:[p?n.jsx(tV,{}):n.jsxs("div",{className:"space-y-4",children:[o.length>0&&n.jsx(hl,{className:"h-64 w-full rounded-md border",children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("code")}),n.jsx(he,{children:t("description")}),n.jsx(he,{className:"w-24",children:t("quantity")}),n.jsx(he,{className:"w-16"})]})}),n.jsx(en,{children:o.map((T,D)=>n.jsxs(We,{children:[n.jsx(ue,{children:T.itemCode}),n.jsx(ue,{children:T.itemName}),n.jsx(ue,{children:n.jsx(on,{type:"number",step:Gh(x),min:"0",value:T.quantity.toString(),ref:V=>{d.current[D]=V},onChange:V=>w(D,V.target.value)})}),n.jsx(ue,{children:n.jsx(Ie,{variant:"destructive",size:"sm",onClick:()=>v(D),children:n.jsx(pd,{className:"h-4 w-4"})})})]},D))})]})}),o.length>0&&n.jsx("div",{className:"text-center",children:n.jsxs(Ie,{onClick:()=>N(),children:[n.jsx(Vb,{className:"h-4 w-4 mr-2"}),t("create")]})}),o.length===0&&n.jsx(ar,{className:"border-blue-200 bg-blue-50",children:n.jsx(Kn,{children:t("scanItemBarCodeStart")})}),n.jsx(vo,{ref:r,onAddItem:g,item:!0,enabled:!0})]}),n.jsx(lr,{open:a,onOpenChange:u,children:n.jsxs(cr,{children:[n.jsxs(ur,{children:[n.jsx(dr,{children:t("confirmRemove")}),n.jsx(_i,{children:En(t("confirmRemoveItem"),m!==null?o[m].itemCode:"")})]}),n.jsxs(ra,{children:[n.jsx(Ie,{variant:"outline",onClick:()=>u(!1),children:t("cancel")}),n.jsx(Ie,{variant:"destructive",onClick:j,children:t("remove")})]})]})})]})}const Xh={async getAll(t){const r={};return t?.objectType&&(r.ObjectType=t.objectType),t?.includeDisabled!==void 0&&(r.IncludeDisabled=t.includeDisabled),t?.searchTerm!==void 0&&t.searchTerm.length>0&&(r.searchTerm=t.searchTerm),(await Ye.get("cancellationReason",{params:r})).data},async getById(t){return(await Ye.get(`cancellationReason/${t}`)).data},async create(t){return(await Ye.post("cancellationReason",t)).data},async update(t,r){const e={id:t,...r};return(await Ye.put("cancellationReason",e)).data},async delete(t){await Ye.delete(`cancellationReason/${t}`)}};function rV(){return n.jsx("div",{className:"max-w-2xl mx-auto","aria-label":"Loading cancellation reason form...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-12"}),n.jsx(Q,{className:"h-10 w-full"})]}),[...Array(4)].map((t,r)=>n.jsxs("div",{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(Q,{className:"h-4 w-4 mt-1"}),n.jsx("div",{className:"space-y-1",children:n.jsx(Q,{className:"h-4 w-20"})})]},r)),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsx(Q,{className:"h-10 flex-1"}),n.jsx(Q,{className:"h-10 flex-1"})]})]})})}const sV=({reason:t,onClose:r})=>{const{t:e}=Be(),{setError:s}=Dt(),[l,o]=B.useState(!1),i=dl({defaultValues:{name:t?.name||"",isEnabled:t?.isEnabled||!0,counting:t?.counting||!1,goodsReceipt:t?.goodsReceipt||!1,transfer:t?.transfer||!1}}),d=!!t,c=async u=>{try{o(!0),d?await Xh.update(t.id,u):await Xh.create(u),r(!0)}catch(m){s(`Failed to ${d?"update":"create"} cancellation reason: ${m}`)}finally{o(!1)}},a=()=>{r(!1)};return l?n.jsx(rV,{}):n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsx(fl,{...i,children:n.jsxs("form",{onSubmit:i.handleSubmit(c),className:"space-y-6",children:[n.jsx(Dr,{control:i.control,name:"name",rules:{required:e("nameRequired"),minLength:{value:2,message:e("nameMinLength")},maxLength:{value:100,message:e("nameMaxLength")}},render:({field:u})=>n.jsxs(Ir,{children:[n.jsxs(Pr,{children:[e("name")," *"]}),n.jsx(qr,{children:n.jsx(on,{autoFocus:!0,placeholder:e("enterName"),...u,onChange:m=>u.onChange(m.target.value)})}),n.jsx(Bs,{})]})}),n.jsx(Dr,{control:i.control,name:"isEnabled",render:({field:u})=>n.jsxs(Ir,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(qr,{children:n.jsx(js,{checked:u.value,onCheckedChange:u.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Pr,{children:e("isActive")})})]})}),n.jsx(Dr,{control:i.control,name:"goodsReceipt",render:({field:u})=>n.jsxs(Ir,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(qr,{children:n.jsx(js,{checked:u.value,onCheckedChange:u.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Pr,{children:e("goodsReceipt")})})]})}),n.jsx(Dr,{control:i.control,name:"transfer",render:({field:u})=>n.jsxs(Ir,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(qr,{children:n.jsx(js,{checked:u.value,onCheckedChange:u.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Pr,{children:e("transfer")})})]})}),n.jsx(Dr,{control:i.control,name:"counting",render:({field:u})=>n.jsxs(Ir,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(qr,{children:n.jsx(js,{checked:u.value,onCheckedChange:u.onChange})}),n.jsx("div",{className:"space-y-1 leading-none",children:n.jsx(Pr,{children:e("counting")})})]})}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsxs(Ie,{type:"submit",disabled:l,className:"flex-1",children:[n.jsx(yc,{className:"h-4 w-4 mr-2"}),e(l?"saving":"save")]}),n.jsxs(Ie,{type:"button",variant:"outline",onClick:a,disabled:l,className:"flex-1",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),e("cancel")]})]})]})})})},aV=()=>{const{t}=Be(),{setLoading:r,setError:e}=Dt(),[s,l]=B.useState([]),[o,i]=B.useState({includeDisabled:!1}),[d,c]=B.useState(!1),[a,u]=B.useState(null),[m,h]=B.useState(!1),[p,y]=B.useState(null),[x,g]=B.useState(!1);B.useEffect(()=>{w()},[o]);const w=async()=>{try{g(!0);const $=await Xh.getAll(o);l($)}catch($){e(`Failed to load cancellation reasons: ${$}`)}finally{g(!1)}},v=$=>{i(G=>({...G,searchTerm:$}))},j=$=>{i(G=>({...G,includeDisabled:$}))},N=()=>{u(null),c(!0)},T=$=>{u($),c(!0)},D=$=>{y($),h(!0)},V=async()=>{if(p)try{g(!0),await Xh.delete(p.id),await w(),h(!1),y(null)}catch($){e(`Failed to delete cancellation reason: ${$}`)}finally{g(!1)}},P=async($=!1)=>{c(!1),u(null),$&&await w()};return n.jsx(xn,{title:t("settings"),titleBreadcrumbs:[{label:t("cancellationReasons")}],onAdd:N,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(ot,{children:n.jsxs(Gt,{children:[x?n.jsxs("div",{className:"flex gap-4 mb-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Q,{className:"h-10 w-full"})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{className:"h-4 w-4"}),n.jsx(Q,{className:"h-4 w-20"})]})]}):n.jsxs("div",{className:"flex gap-4 mb-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(mp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o?.searchTerm&&o?.searchTerm?.length>0&&n.jsx(br,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer h-4 w-4",onClick:()=>i({...o,searchTerm:""})}),n.jsx(on,{placeholder:t("searchCancellationReasons"),className:"pl-10",onChange:$=>v($.target.value),value:o?.searchTerm})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(js,{id:"includeInactive",checked:o.includeDisabled,onCheckedChange:j}),n.jsx("label",{htmlFor:"includeInactive",className:"text-sm font-medium",children:t("includeInactive")})]})]}),n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("reason")}),n.jsx(he,{children:t("status")}),n.jsx(he,{children:t("goodsReceipt")}),n.jsx(he,{children:t("transfer")}),n.jsx(he,{children:t("counting")}),n.jsx(he,{className:"text-right",children:t("actions")})]})}),n.jsx(en,{children:x?Array.from({length:5}).map(($,G)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-5 w-16 rounded-full"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-5 w-16 rounded-full"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-5 w-16 rounded-full"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-5 w-16 rounded-full"})}),n.jsx(ue,{className:"text-right",children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(Q,{className:"h-8 w-16"}),n.jsx(Q,{className:"h-8 w-18"})]})})]},`skeleton-${G}`)):n.jsxs(n.Fragment,{children:[s.map($=>n.jsxs(We,{children:[n.jsx(ue,{className:"font-medium",children:$.name}),n.jsx(ue,{children:n.jsx(Nr,{variant:$.isEnabled?"default":"secondary",children:$.isEnabled?t("active"):t("inactive")})}),n.jsx(ue,{children:n.jsx(Nr,{variant:$.goodsReceipt?"default":"secondary",children:$.goodsReceipt?t("active"):t("inactive")})}),n.jsx(ue,{children:n.jsx(Nr,{variant:$.transfer?"default":"secondary",children:$.transfer?t("active"):t("inactive")})}),n.jsx(ue,{children:n.jsx(Nr,{variant:$.counting?"default":"secondary",children:$.counting?t("active"):t("inactive")})}),n.jsx(ue,{className:"text-right",children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>T($),children:[n.jsx(fo,{className:"h-4 w-4 mr-1"}),t("edit")]}),n.jsxs(Ie,{variant:"destructive",size:"sm",onClick:()=>D($),children:[n.jsx(pd,{className:"h-4 w-4 mr-1"}),t("delete")]})]})})]},$.id)),!x&&s.length===0&&n.jsx(We,{children:n.jsx(ue,{colSpan:6,className:"text-center py-8",children:t("noCancellationReasonsFound")})})]})})]})]})}),d&&n.jsx(Qa,{open:d,onOpenChange:c,children:n.jsxs(Ci,{children:[n.jsx(Ni,{children:n.jsx(ki,{children:t(a?"editCancellationReason":"addCancellationReason")})}),n.jsx(sV,{reason:a,onClose:P})]})}),n.jsx(Qa,{open:m,onOpenChange:h,children:n.jsxs(Ci,{children:[n.jsxs(Ni,{children:[n.jsx(ki,{children:t("confirmDelete")}),n.jsx(jo,{children:t("confirmDeleteCancellationReason",{name:p?.name})})]}),n.jsxs(wo,{children:[n.jsx(wd,{children:t("cancel")}),n.jsx(vd,{onClick:V,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("delete")})]})]})})]})})},$a={async getAll(t){return(await Ye.get("user",{params:t})).data},async getById(t){return(await Ye.get(`user/${t}`)).data},async create(t){return t={...t,email:t.email?t.email:void 0,authorizationGroupId:t.authorizationGroupId!==oo?t.authorizationGroupId:void 0,externalId:t.externalId!==oo?t.externalId:void 0},(await Ye.post("user",t)).data},async update(t,r){return r={...r,email:r.email?r.email:void 0,authorizationGroupId:r.authorizationGroupId!==oo?r.authorizationGroupId:void 0,externalId:r.externalId!==oo?r.externalId:void 0},(await Ye.put(`user/${t}`,r)).data},async delete(t){await Ye.delete(`user/${t}`)},async enable(t){await Ye.post(`user/${t}/enable`)},async disable(t){await Ye.post(`user/${t}/disable`)},async getExternalUsers(){return(await Ye.get("user/external")).data},async getAuthorizationGroups(){return(await Ye.get("authorizationGroup")).data},async getWarehouses(){return(await Ye.get("general/warehouses")).data}};function iV(){return n.jsx("div",{className:"max-w-4xl mx-auto","aria-label":"Loading user form...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-12"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsxs("div",{className:"relative",children:[n.jsx(Q,{className:"h-10 w-full"}),n.jsx(Q,{className:"absolute right-2 top-2 h-6 w-6"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx("div",{className:"border rounded-md p-3 max-h-40 space-y-2",children:[...Array(3)].map((t,r)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{className:"h-4 w-4"}),n.jsx(Q,{className:"h-4 w-24"})]},r))})]}),n.jsxs("div",{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(Q,{className:"h-4 w-4 mt-1"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-3 w-48"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-10 w-full"})]})]})]}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsx(Q,{className:"h-10 flex-1"}),n.jsx(Q,{className:"h-10 flex-1"})]})]})})}const oV=({user:t,authorizationGroups:r,warehouses:e,onClose:s})=>{const{t:l}=Be(),{setLoading:o,setError:i}=Dt(),[d,c]=B.useState(!1),[a,u]=B.useState(!1),[m,h]=B.useState([]),p=dl({defaultValues:{fullName:t?.fullName||"",password:"",email:t?.email,position:t?.position||"",superUser:t?.superUser||!1,warehouses:t?.warehouses||[],externalId:t?.externalId||oo,authorizationGroupId:t?.authorizationGroupId||oo}}),y=!!t;B.useEffect(()=>{x()},[]);const x=async()=>{try{const j=await $a.getExternalUsers();h(j)}catch(j){console.error("Failed to load external users:",j)}},g=async j=>{try{if(c(!0),!j.superUser&&j.warehouses.length===0){i(l("atLeastOneWarehouseRequired"));return}if(!y&&!j.password){i(l("passwordRequired"));return}const N={...j};y&&!N.password&&delete N.password,y?await $a.update(t.id,N):await $a.create(N),s(!0)}catch(N){i(`Failed to ${y?"update":"create"} user: ${N}`)}finally{c(!1)}},w=()=>{s(!1)},v=(j,N)=>{const T=p.getValues("warehouses")??[];N?p.setValue("warehouses",[...T,j]):p.setValue("warehouses",T.filter(D=>D!==j))};return d?n.jsx(iV,{}):n.jsx("div",{children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx(fl,{...p,children:n.jsxs("form",{onSubmit:p.handleSubmit(g),className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Dr,{control:p.control,name:"fullName",rules:{required:l("fullNameRequired"),minLength:{value:2,message:l("fullNameMinLength")},maxLength:{value:100,message:l("fullNameMaxLength")}},render:({field:j})=>n.jsxs(Ir,{children:[n.jsxs(Pr,{children:[l("fullName")," *"]}),n.jsx(qr,{children:n.jsx(on,{placeholder:l("enterFullName"),...j})}),n.jsx(Bs,{})]})}),n.jsx(Dr,{control:p.control,name:"email",rules:{pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:l("invalidEmailFormat")}},render:({field:j})=>n.jsxs(Ir,{children:[n.jsx(Pr,{children:l("email")}),n.jsx(qr,{children:n.jsx(on,{type:"email",placeholder:l("enterEmail"),...j})}),n.jsx(Bs,{})]})}),n.jsx(Dr,{control:p.control,name:"position",render:({field:j})=>n.jsxs(Ir,{children:[n.jsx(Pr,{children:l("position")}),n.jsx(qr,{children:n.jsx(on,{placeholder:l("enterPosition"),...j})}),n.jsx(Bs,{})]})}),n.jsxs(ot,{className:"border-muted",children:[n.jsxs(zn,{className:"pb-3",children:[n.jsxs(Kr,{className:"text-sm flex items-center gap-2",children:[n.jsx(sT,{className:"h-4 w-4"}),l("password")," ",!y&&" *"]}),y&&n.jsx(Ip,{className:"text-xs",children:l("leaveEmptyToKeepCurrent")})]}),n.jsx(Gt,{children:n.jsx(Dr,{control:p.control,name:"password",rules:y?{}:{required:l("passwordRequired"),minLength:{value:6,message:l("passwordMinLength")}},render:({field:j})=>n.jsxs(Ir,{children:[n.jsx(qr,{children:n.jsxs("div",{className:"relative",children:[n.jsx(on,{type:a?"text":"password",placeholder:l(y?"enterNewPassword":"enterPassword"),...j}),n.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>u(!a),children:a?n.jsx(z9,{className:"h-4 w-4"}):n.jsx(fp,{className:"h-4 w-4"})})]})}),n.jsx(Bs,{})]})})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Dr,{control:p.control,name:"authorizationGroupId",render:({field:j})=>n.jsxs(Ir,{children:[n.jsx(Pr,{children:l("authorizationGroup")}),n.jsxs(us,{onValueChange:j.onChange,value:j.value,children:[n.jsx(qr,{children:n.jsx(fs,{children:n.jsx(ds,{placeholder:l("selectAuthorizationGroup")})})}),n.jsxs(hs,{children:[n.jsx(mr,{value:oo,children:l("none")}),r.map(N=>n.jsx(mr,{value:N.id,children:N.name},N.id))]})]}),n.jsx(Bs,{})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium",children:[l("warehouses")," *"]}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-3",children:e.map(j=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(js,{id:`warehouse-${j.id}`,checked:p.watch("warehouses")?.includes(j.id),onCheckedChange:N=>v(j.id,N)}),n.jsxs("label",{htmlFor:`warehouse-${j.id}`,className:"text-sm",children:[j.name,j.enableBinLocations&&n.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",l("binLocations"),")"]})]})]},j.id))})]}),n.jsx(Dr,{control:p.control,name:"superUser",render:({field:j})=>n.jsxs(Ir,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(qr,{children:n.jsx(js,{checked:j.value,onCheckedChange:j.onChange})}),n.jsxs("div",{className:"space-y-1 leading-none",children:[n.jsx(Pr,{children:l("superUser")}),n.jsx("p",{className:"text-sm text-gray-500",children:l("superUserDescription")})]})]})}),n.jsx(Dr,{control:p.control,name:"externalId",render:({field:j})=>n.jsxs(Ir,{children:[n.jsx(Pr,{children:l("externalUser")}),n.jsxs(us,{value:j.value,onValueChange:j.onChange,children:[n.jsx(fs,{children:n.jsx(ds,{placeholder:l("selectExternalUser")})}),n.jsxs(hs,{children:[n.jsx(mr,{value:oo,children:l("none")}),m.map(N=>n.jsx(mr,{value:N.id,children:N.name},N.id))]})]})]})})]})]}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsxs(Ie,{type:"submit",disabled:d,className:"flex-1",children:[n.jsx(yc,{className:"h-4 w-4 mr-2"}),l(d?"saving":"save")]}),n.jsxs(Ie,{type:"button",variant:"outline",onClick:w,disabled:d,className:"flex-1",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),l("cancel")]})]})]})})})})},lV=()=>{const{t}=Be(),{user:r}=bt(),{setLoading:e,setError:s}=Dt(),{onlineUserIds:l}=Xy(),[o,i]=B.useState([]),[d,c]=B.useState([]),[a,u]=B.useState([]),[m,h]=B.useState({includeInactive:!0}),[p,y]=B.useState(!1),[x,g]=B.useState(null),[w,v]=B.useState(!1),[j,N]=B.useState(null),[T,D]=B.useState(!1);B.useEffect(()=>{V()},[]),B.useEffect(()=>{P()},[m]);const V=async()=>{try{D(!0);const[R,S,C]=await Promise.all([$a.getAll(m),$a.getAuthorizationGroups(),$a.getWarehouses()]);i(R),c(S),u(C)}catch(R){s(`Failed to load data: ${R}`)}finally{D(!1)}},P=async()=>{try{D(!0);const R=await $a.getAll(m);i(R)}catch(R){s(`Failed to load users: ${R}`)}finally{D(!1)}},$=()=>{g(null),y(!0)},G=R=>{g(R),y(!0)},Y=R=>{N(R),v(!0)},W=async()=>{if(j)try{D(!0),await $a.delete(j.id),await P(),v(!1),N(null)}catch(R){s(`Failed to delete user: ${R}`)}finally{D(!1)}},O=async R=>{try{D(!0),R.active?await $a.disable(R.id):await $a.enable(R.id),await P()}catch(S){s(`Failed to ${R.active?"disable":"enable"} user: ${S}`)}finally{D(!1)}},I=async(R=!1)=>{y(!1),g(null),R&&await P()};return n.jsx(xn,{title:t("settings"),titleBreadcrumbs:[{label:t("users")}],onAdd:$,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(ot,{children:n.jsx(Gt,{children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("fullName")}),n.jsx(he,{children:t("email")}),n.jsx(he,{children:t("position")}),n.jsx(he,{children:t("authorizationGroup")}),n.jsx(he,{children:t("warehouses")}),n.jsx(he,{children:t("status")}),n.jsx(he,{children:t("onlineStatus")}),n.jsx(he,{className:"text-right",children:t("actions")})]})}),n.jsx(en,{children:T?Array.from({length:5}).map((R,S)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-40"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-5 w-20 rounded-full"})}),n.jsx(ue,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx(Q,{className:"h-5 w-16 rounded-full"}),n.jsx(Q,{className:"h-5 w-12 rounded-full"})]})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-5 w-16 rounded-full"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-5 w-16 rounded-full"})}),n.jsx(ue,{className:"text-right",children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(Q,{className:"h-8 w-16"}),n.jsx(Q,{className:"h-8 w-20"}),n.jsx(Q,{className:"h-8 w-16"})]})})]},`skeleton-${S}`)):n.jsxs(n.Fragment,{children:[o?.map(R=>n.jsxs(We,{children:[n.jsxs(ue,{className:"font-medium",children:[" ",R.fullName," "]}),n.jsx(ue,{children:R.email||"-"}),n.jsx(ue,{children:R.position||"-"}),n.jsx(ue,{children:R.superUser?n.jsx(Nr,{variant:"destructive",className:"text-xs",children:t("superUser")}):R.authorizationGroupName||"-"}),n.jsx(ue,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.warehouses.length>0&&a.filter(S=>R.warehouses.includes(S.id)).map(S=>n.jsx(Nr,{variant:"outline",className:"text-xs",children:S.name},S.id)),R.warehouses.length>2&&n.jsxs(Nr,{variant:"outline",className:"text-xs",children:["+",R.warehouses.length-2]})]})}),n.jsx(ue,{children:n.jsx(Nr,{variant:R.active?"default":"secondary",children:R.active?t("active"):t("inactive")})}),n.jsx(ue,{children:n.jsx(Nr,{variant:l.has(R.id)?"default":"secondary",className:l.has(R.id)?"bg-green-600":"",children:l.has(R.id)?t("online"):t("offline")})}),n.jsx(ue,{className:"text-right",children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>G(R),children:[n.jsx(fo,{className:"h-4 w-4 mr-1"}),t("edit")]}),n.jsxs(Ie,{variant:R.active?"secondary":"default",disabled:R.id===r?.id,size:"sm",onClick:()=>O(R),children:[R.active?n.jsx(zT,{className:"h-4 w-4 mr-1"}):n.jsx(UT,{className:"h-4 w-4 mr-1"}),R.active?t("disable"):t("enable")]}),n.jsxs(Ie,{variant:"destructive",size:"sm",onClick:()=>Y(R),children:[n.jsx(pd,{className:"h-4 w-4 mr-1"}),t("delete")]})]})})]},R.id)),!T&&o.length===0&&n.jsx(We,{children:n.jsx(ue,{colSpan:8,className:"text-center py-8",children:t("noUsersFound")})})]})})]})})}),p&&n.jsx(lr,{open:p,onOpenChange:y,children:n.jsxs(cr,{className:"sm:max-w-4xl max-h-[90vh] p-0",children:[n.jsx(ur,{className:"px-6 pt-6 pb-0",children:n.jsx(dr,{children:t(x?"editUser":"addUser")})}),n.jsx("div",{className:"px-6 pb-6 max-h-[calc(90vh-5rem)] overflow-y-auto",children:n.jsx(oV,{user:x,authorizationGroups:d,warehouses:a,onClose:I})})]})}),n.jsx(Qa,{open:w,onOpenChange:v,children:n.jsxs(Ci,{children:[n.jsxs(Ni,{children:[n.jsx(ki,{children:t("confirmDelete")}),n.jsx(jo,{children:t("confirmDeleteUser",{name:j?.fullName})})]}),n.jsxs(wo,{children:[n.jsx(wd,{children:t("cancel")}),n.jsx(vd,{onClick:W,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("delete")})]})]})})]})})},Uu={async getAll(t){return(await Ye.get("authorizationgroup",{params:t})).data},async getById(t){return(await Ye.get(`authorizationgroup/${t}`)).data},async create(t){return(await Ye.post("authorizationgroup",t)).data},async update(t,r){const e={id:t,...r};return(await Ye.put("authorizationgroup",e)).data},async delete(t){await Ye.delete(`authorizationgroup/${t}`)}},NC=()=>{const{t}=Be(),{user:r}=bt(),e=new Map([[Ae.ITEM_MANAGEMENT,{role:Ae.ITEM_MANAGEMENT,displayName:t("authorizations.itemManagement"),description:t("authorizations.itemManagementDescription"),category:"Operations"}],[Ae.ITEM_MANAGEMENT_SUPERVISOR,{role:Ae.ITEM_MANAGEMENT_SUPERVISOR,displayName:t("authorizations.itemManagementSupervisor"),description:t("authorizations.itemManagementSupervisorDescription"),category:"Supervision"}],...r?.settings?.goodsReceiptType!==Yo.Confirmation?[[Ae.GOODS_RECEIPT,{role:Ae.GOODS_RECEIPT,displayName:t("authorizations.roleGoodsReceipt"),description:t("authorizations.roleGoodsReceiptDescription"),category:"Operations"}]]:[],...r?.settings?.goodsReceiptType!==Yo.Confirmation?[[Ae.GOODS_RECEIPT_SUPERVISOR,{role:Ae.GOODS_RECEIPT_SUPERVISOR,displayName:t("authorizations.roleGoodsReceiptSupervisor"),description:t("authorizations.roleGoodsReceiptSupervisorDescription"),category:"Supervision"}]]:[],...r?.settings?.goodsReceiptType!==Yo.Transactional?[[Ae.GOODS_RECEIPT_CONFIRMATION,{role:Ae.GOODS_RECEIPT_CONFIRMATION,displayName:t("authorizations.roleGoodsReceiptConfirmation"),description:t("authorizations.roleGoodsReceiptConfirmationDescription"),category:"Operations"}]]:[],...r?.settings?.goodsReceiptType!==Yo.Transactional?[[Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR,{role:Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR,displayName:t("authorizations.roleGoodsReceiptConfirmationSupervisor"),description:t("authorizations.roleGoodsReceiptConfirmationSupervisorDescription"),category:"Supervision"}]]:[],[Ae.PICKING,{role:Ae.PICKING,displayName:t("authorizations.rolePicking"),description:t("authorizations.rolePickingDescription"),category:"Operations"}],[Ae.PICKING_SUPERVISOR,{role:Ae.PICKING_SUPERVISOR,displayName:t("authorizations.rolePickingSupervisor"),description:t("authorizations.rolePickingSupervisorDescription"),category:"Supervision"}],...r?.settings?.enablePickingCheck?[[Ae.PICKING,{role:Ae.PICKING,displayName:t("authorizations.rolePickingCheck"),description:t("authorizations.rolePickingCheckDescription"),category:"Operations"}]]:[],[Ae.COUNTING,{role:Ae.COUNTING,displayName:t("authorizations.roleCounting"),description:t("authorizations.roleCountingDescription"),category:"Operations"}],[Ae.COUNTING_SUPERVISOR,{role:Ae.COUNTING_SUPERVISOR,displayName:t("authorizations.roleCountingSupervisor"),description:t("authorizations.roleCountingSupervisorDescription"),category:"Supervision"}],[Ae.TRANSFER,{role:Ae.TRANSFER,displayName:t("authorizations.roleTransfer"),description:t("authorizations.roleTransferDescription"),category:"Operations"}],[Ae.TRANSFER_SUPERVISOR,{role:Ae.TRANSFER_SUPERVISOR,displayName:t("authorizations.roleTransferSupervisor"),description:t("authorizations.roleTransferSupervisorDescription"),category:"Supervision"}],...r?.settings?.enableTransferConfirm?[[Ae.TRANSFER_CONFIRMATION,{role:Ae.TRANSFER_CONFIRMATION,displayName:t("authorizations.roleTransferConfirmation"),description:t("authorizations.roleTransferConfirmationDescription"),category:"Operations"}]]:[],...r?.settings?.enableTransferConfirm?[[Ae.TRANSFER_CONFIRMATION_SUPERVISOR,{role:Ae.TRANSFER_CONFIRMATION_SUPERVISOR,displayName:t("authorizations.roleTransferConfirmationSupervisor"),description:t("authorizations.roleTransferConfirmationSupervisorDescription"),category:"Supervision"}]]:[]]);return{roleInfoMap:e,getRoleInfo:()=>Array.from(e.values())}},cV=()=>{const{t}=Be(),{setLoading:r,setError:e}=Dt(),s=fn(),{getRoleInfo:l}=NC(),[o,i]=B.useState([]),[d,c]=B.useState({}),[a,u]=B.useState(!1),[m,h]=B.useState(null),[p,y]=B.useState(!1);B.useEffect(()=>{x()},[d]);const x=async()=>{try{y(!0);const D=await Uu.getAll(d);i(D)}catch(D){e(`Failed to load authorization groups: ${D}`)}finally{y(!1)}},g=()=>{s("add")},w=D=>{s(D.id)},v=D=>{if(!D.canDelete){e(t("cannotDeleteSystemGroup"));return}h(D),u(!0)},j=async()=>{if(m)try{y(!0),await Uu.delete(m.id),await x(),u(!1),h(null)}catch(D){e(`Failed to delete authorization group: ${D}`)}finally{y(!1)}},N=D=>{switch(D){case"Operations":return"default";case"Supervision":return"secondary";case"Administration":return"destructive";default:return"outline"}},T=D=>{const V=l();return D.reduce(($,G)=>{const Y=V.find(W=>W.role===G);return Y&&($[Y.category]||($[Y.category]=[]),$[Y.category].push(Y)),$},{})};return n.jsx(xn,{title:t("settings"),titleBreadcrumbs:[{label:t("authorizationGroups")}],onAdd:g,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(ot,{children:n.jsx(Gt,{children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("name")}),n.jsx(he,{children:t("description")}),n.jsx(he,{children:t("authorizations.title")}),n.jsx(he,{children:t("createdAt")}),n.jsx(he,{className:"text-right",children:t("actions")})]})}),n.jsx(en,{children:p?Array.from({length:5}).map((D,V)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-4 w-32"}),n.jsx(Q,{className:"h-5 w-12 rounded-full"})]})}),n.jsx(ue,{className:"max-w-xs",children:n.jsx(Q,{className:"h-4 w-40"})}),n.jsx(ue,{className:"max-w-md",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx(Q,{className:"h-5 w-20 rounded-full"}),n.jsx(Q,{className:"h-4 w-16"})]}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx(Q,{className:"h-5 w-24 rounded-full"}),n.jsx(Q,{className:"h-4 w-14"})]})]})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-20"})}),n.jsx(ue,{className:"text-right",children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(Q,{className:"h-8 w-16"}),n.jsx(Q,{className:"h-8 w-18"})]})})]},`skeleton-${V}`)):n.jsxs(n.Fragment,{children:[o.map(D=>{const V=T(D.authorizations);return n.jsxs(We,{children:[n.jsx(ue,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[D.name,!D.canDelete&&n.jsx(Nr,{variant:"outline",className:"text-xs",children:t("system")})]})}),n.jsx(ue,{className:"max-w-xs",children:n.jsx("div",{className:"truncate",title:D.description,children:D.description||"-"})}),n.jsx(ue,{className:"max-w-md",children:n.jsxs("div",{className:"space-y-2",children:[Object.entries(V).map(([P,$])=>n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsx(Nr,{variant:N(P),className:"text-xs font-semibold mr-1",children:t(P.toLowerCase())}),n.jsxs("span",{className:"text-xs text-gray-600",children:[$.length," ",t("roles")]})]},P)),D.authorizations.length===0&&n.jsx("span",{className:"text-xs text-gray-500",children:t("noRoles")})]})}),n.jsx(ue,{children:D.createdAt?new Date(D.createdAt).toLocaleDateString():""}),n.jsx(ue,{className:"text-right",children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>w(D),children:[n.jsx(fo,{className:"h-4 w-4 mr-1"}),t("edit")]}),n.jsxs(Ie,{variant:"destructive",size:"sm",onClick:()=>v(D),disabled:!D.canDelete,children:[n.jsx(pd,{className:"h-4 w-4 mr-1"}),t("delete")]})]})})]},D.id)}),!p&&o.length===0&&n.jsx(We,{children:n.jsx(ue,{colSpan:5,className:"text-center py-8",children:t("noAuthorizationGroupsFound")})})]})})]})})}),n.jsx(Qa,{open:a,onOpenChange:u,children:n.jsxs(Ci,{children:[n.jsxs(Ni,{children:[n.jsx(ki,{children:t("confirmDelete")}),n.jsx(jo,{children:t("confirmDeleteAuthorizationGroup",{name:m?.name})})]}),n.jsxs(wo,{children:[n.jsx(wd,{children:t("cancel")}),n.jsx(vd,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("delete")})]})]})})]})})};function uV({isEditing:t=!1}){return n.jsx(xn,{title:"Loading...",titleBreadcrumbs:[{label:"Authorization Groups"},{label:t?"Edit Group":"Add Group"}],children:n.jsx("div",{className:"max-w-4xl mx-auto","aria-label":"Loading authorization group form...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-12"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-24 w-full"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Q,{className:"h-5 w-28"}),[...Array(3)].map((r,e)=>n.jsx(ot,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-5 w-20"}),n.jsx(Q,{className:"h-4 w-16"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q,{className:"h-4 w-4"}),n.jsx(Q,{className:"h-4 w-16"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[...Array(4)].map((s,l)=>n.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded border",children:[n.jsx(Q,{className:"h-4 w-4 mt-1"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(Q,{className:"h-4 w-24 mb-1"}),n.jsx(Q,{className:"h-3 w-32"})]})]},l))})]})},e)),n.jsx(Q,{className:"h-4 w-64"})]}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsx(Q,{className:"h-10 flex-1"}),n.jsx(Q,{className:"h-10 flex-1"})]})]})})})}const M4=()=>{const{t}=Be(),{setLoading:r,setError:e}=Dt(),[s,l]=B.useState(!1),[o,i]=B.useState(!1),d=fn(),{id:c}=ss(),a=!!c,u=dl({defaultValues:{name:"",description:"",authorizations:[]}});B.useEffect(()=>{(async()=>{if(a)try{i(!0);const D=await Uu.getById(c);u.reset({name:D.name,description:D.description,authorizations:D.authorizations})}catch(D){e(`Failed to load authorization group: ${D}`),d("/settings/authorizationGroups")}finally{i(!1)}})()},[c,a,u,d,e]);const{getRoleInfo:m}=NC(),p=m().reduce((T,D)=>(T[D.category]||(T[D.category]=[]),T[D.category].push(D),T),{}),y=async T=>{try{l(!0),a?await Uu.update(c,T):await Uu.create(T),d("/settings/authorizationGroups")}catch(D){e(`Failed to ${a?"update":"create"} authorization group: ${D}`)}finally{l(!1)}},x=()=>{d("/settings/authorizationGroups")},g=(T,D)=>{const V=u.getValues("authorizations");D?u.setValue("authorizations",[...V,T]):u.setValue("authorizations",V.filter(P=>P!==T))},w=T=>{switch(T){case"Operations":return"default";case"Supervision":return"secondary";case"Administration":return"destructive";default:return"outline"}},v=(T,D)=>{const V=p[T],P=u.getValues("authorizations");if(D){const $=V.map(G=>G.role).filter(G=>!P.includes(G));u.setValue("authorizations",[...P,...$])}else{const $=V.map(G=>G.role);u.setValue("authorizations",P.filter(G=>!$.includes(G)))}},j=T=>{const D=p[T],V=u.watch("authorizations");return D.every(P=>V.includes(P.role))},N=T=>{const D=p[T],V=u.watch("authorizations");return D.some(P=>V.includes(P.role))&&!j(T)};return o||s?n.jsx(uV,{isEditing:a}):n.jsx(xn,{title:t("settings"),titleBreadcrumbs:[{label:t("authorizationGroups"),onClick:x},{label:t(a?"editAuthorizationGroup":"addAuthorizationGroup")}],children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx(fl,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(y),className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Dr,{control:u.control,name:"name",rules:{required:t("nameRequired"),minLength:{value:2,message:t("nameMinLength")},maxLength:{value:100,message:t("nameMaxLength")}},render:({field:T})=>n.jsxs(Ir,{children:[n.jsxs(Pr,{children:[t("name")," *"]}),n.jsx(qr,{children:n.jsx(on,{placeholder:t("enterGroupName"),...T})}),n.jsx(Bs,{})]})}),n.jsx(Dr,{control:u.control,name:"description",render:({field:T})=>n.jsxs(Ir,{children:[n.jsx(Pr,{children:t("description")}),n.jsx(qr,{children:n.jsx(pl,{placeholder:t("enterGroupDescription"),className:"min-h-[100px]",...T})}),n.jsx(Bs,{})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Pr,{className:"text-base font-semibold",children:[t("authorizations.title")," *"]}),Object.entries(p).map(([T,D])=>n.jsx(ot,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nr,{variant:w(T),children:t(T.toLowerCase())}),n.jsxs("span",{className:"text-sm text-gray-600",children:["(",D.length," ",t("roles"),")"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(js,{checked:j(T),onCheckedChange:V=>v(T,V),className:N(T)?"data-[state=checked]:bg-orange-500":""}),n.jsx("label",{className:"text-sm font-medium cursor-pointer",onClick:()=>v(T,!j(T)),children:t("selectAll")})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.map(V=>n.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded border",children:[n.jsx(js,{id:`role-${V.role}`,checked:u.watch("authorizations").includes(V.role),onCheckedChange:P=>g(V.role,P)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("label",{htmlFor:`role-${V.role}`,className:"text-sm font-medium cursor-pointer",children:V.displayName}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:V.description})]})]},V.role))})]})},T)),u.watch("authorizations").length===0&&n.jsx("p",{className:"text-sm text-red-500",children:t("atLeastOneAuthorizationRequired")})]}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsxs(Ie,{type:"submit",disabled:s||u.watch("authorizations").length===0,className:"flex-1",children:[n.jsx(yc,{className:"h-4 w-4 mr-2"}),t(s?"saving":"save")]}),n.jsxs(Ie,{type:"button",variant:"outline",onClick:x,disabled:s,className:"flex-1",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),t("cancel")]})]})]})})})})},dV=()=>{const{t}=Be();return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md mx-4 text-center shadow-lg",children:[n.jsx(f3,{className:"w-16 h-16 mx-auto mb-4 text-red-500"}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:t("offlineTitle")}),n.jsx("p",{className:"text-gray-600",children:t("offlineMessage")})]})})},fV=()=>{const[t,r]=B.useState(!navigator.onLine);return B.useEffect(()=>{const e=()=>r(!1),s=()=>r(!0);return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[]),t};function hV({open:t}){return n.jsx(lr,{open:t,children:n.jsxs(cr,{"aria-label":"Loading device status form...",children:[n.jsx(ur,{children:n.jsx(dr,{children:n.jsx(Q,{className:"h-5 w-40"})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-4 w-12"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-16"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-16"}),n.jsx(Q,{className:"h-24 w-full"})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsx(Q,{className:"h-10 flex-1"}),n.jsx(Q,{className:"h-10 flex-1"})]})]})]})})}const pV=({device:t,open:r,onOpenChange:e,onClose:s})=>{const{t:l}=Be(),{setLoading:o,setError:i}=Dt(),{updateDeviceStatus:d}=bt(),[c,a]=B.useState(!1),u=dl({defaultValues:{status:t.status,reason:""}}),m=async y=>{try{a(!0),await cc.updateStatus(t.deviceUuid,y);const x=nc();t.deviceUuid===x&&d(y.status),s(!0)}catch(x){i(`Failed to update device status: ${x}`)}finally{a(!1)}},h=()=>{s(!1)},p=Object.values(Lr).filter(y=>y!==t.status);return c?n.jsx(hV,{open:r}):n.jsx(lr,{open:r,onOpenChange:e,children:n.jsxs(cr,{children:[n.jsx(ur,{children:n.jsx(dr,{children:l("updateDeviceStatus")})}),n.jsx(fl,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(m),className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[l("device"),": ",n.jsx("span",{className:"font-medium",children:t.deviceName})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[l("currentStatus"),": ",n.jsx("span",{className:"font-medium",children:t.status})]})]}),n.jsx(Dr,{control:u.control,name:"status",rules:{required:l("statusRequired"),validate:y=>y!==t.status||l("selectDifferentStatus")},render:({field:y})=>n.jsxs(Ir,{children:[n.jsxs(Pr,{children:[l("newStatus")," *"]}),n.jsxs(us,{onValueChange:y.onChange,value:y.value,children:[n.jsx(qr,{children:n.jsx(fs,{children:n.jsx(ds,{placeholder:l("selectStatus")})})}),n.jsx(hs,{children:p.map(x=>n.jsx(mr,{value:x,children:x},x))})]}),n.jsx(Bs,{})]})}),n.jsx(Dr,{control:u.control,name:"reason",rules:{required:u.watch("status")!==Lr.Active?l("reasonRequired"):!1,minLength:{value:10,message:l("reasonMinLength")},maxLength:{value:500,message:l("reasonMaxLength")}},render:({field:y})=>n.jsxs(Ir,{children:[n.jsxs(Pr,{children:[l("reason")," ",u.watch("status")!==Lr.Active&&"*"]}),n.jsx(qr,{children:n.jsx(pl,{placeholder:l("enterReasonForStatusChange"),className:"resize-none",rows:4,...y})}),n.jsx(Bs,{})]})}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsxs(Ie,{type:"submit",disabled:c,className:"flex-1",children:[n.jsx(yc,{className:"h-4 w-4 mr-2"}),l(c?"updating":"updateStatus")]}),n.jsxs(Ie,{type:"button",variant:"outline",onClick:h,disabled:c,className:"flex-1",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),l("cancel")]})]})]})})]})})};function mV({open:t}){return n.jsx(lr,{open:t,children:n.jsxs(cr,{"aria-label":"Loading device name form...",children:[n.jsx(ur,{children:n.jsx(dr,{children:n.jsx(Q,{className:"h-5 w-32"})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-4 w-12"}),n.jsx(Q,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-3 w-48"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"h-4 w-28"}),n.jsx(Q,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsx(Q,{className:"h-10 flex-1"}),n.jsx(Q,{className:"h-10 flex-1"})]})]})]})})}const gV=({device:t,open:r,onOpenChange:e,onClose:s})=>{const{t:l}=Be(),{setError:o}=Dt(),[i,d]=B.useState(!1),c=dl({defaultValues:{deviceName:t.deviceName}}),a=async m=>{try{d(!0),await cc.updateName(t.deviceUuid,m),s(!0)}catch(h){Ln.isAxiosError(h)&&h.response?.status===400&&h.response?.data?.error==="Device name already in use"?o(l("deviceNameAlreadyInUse")):o(`Failed to update device name: ${h}`)}finally{d(!1)}},u=()=>{s(!1)};return i?n.jsx(mV,{open:r}):n.jsx(lr,{open:r,onOpenChange:e,children:n.jsxs(cr,{children:[n.jsx(ur,{children:n.jsx(dr,{children:l("changeDeviceName")})}),n.jsx(fl,{...c,children:n.jsxs("form",{onSubmit:c.handleSubmit(a),className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[l("device"),": ",n.jsx("span",{className:"font-medium",children:t.deviceName})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[l("deviceUuid"),": ",n.jsx("span",{className:"font-mono text-xs",children:t.deviceUuid})]})]}),n.jsx(Dr,{control:c.control,name:"deviceName",rules:{required:l("deviceNameRequired"),minLength:{value:3,message:l("deviceNameMinLength")},maxLength:{value:100,message:l("deviceNameMaxLength")},validate:m=>m!==t.deviceName||l("enterDifferentName")},render:({field:m})=>n.jsxs(Ir,{children:[n.jsxs(Pr,{children:[l("newDeviceName")," *"]}),n.jsx(qr,{children:n.jsx(on,{placeholder:l("enterNewDeviceName"),...m})}),n.jsx(Bs,{})]})}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsxs(Ie,{type:"submit",disabled:i,className:"flex-1",children:[n.jsx(yc,{className:"h-4 w-4 mr-2"}),l(i?"updating":"changeName")]}),n.jsxs(Ie,{type:"button",variant:"outline",onClick:u,disabled:i,className:"flex-1",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),l("cancel")]})]})]})})]})})};function bV({open:t,onOpenChange:r}){return n.jsx(lr,{open:t,onOpenChange:r,children:n.jsxs(cr,{className:"max-w-4xl","aria-label":"Loading device details...",children:[n.jsx(ur,{children:n.jsx(dr,{children:n.jsx(Q,{className:"h-5 w-32"})})}),n.jsxs(Ad,{defaultValue:"details",children:[n.jsxs(Md,{className:"grid w-full grid-cols-2",children:[n.jsx(ya,{value:"details",children:n.jsx(Q,{className:"h-4 w-12"})}),n.jsx(ya,{value:"audit",children:n.jsx(Q,{className:"h-4 w-20"})})]}),n.jsx(xa,{value:"details",className:"space-y-4",children:n.jsxs(ot,{children:[n.jsx(zn,{children:n.jsx(Kr,{className:"text-lg",children:n.jsx(Q,{className:"h-5 w-40"})})}),n.jsxs(Gt,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Q,{className:"w-4 h-4 mr-2"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsx(Q,{className:"h-5 w-32"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Q,{className:"w-4 h-4 mr-2"}),n.jsx(Q,{className:"h-4 w-12"})]}),n.jsx(Q,{className:"h-6 w-16"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Q,{className:"w-4 h-4 mr-2"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsx(Q,{className:"h-4 w-64"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Q,{className:"w-4 h-4 mr-2"}),n.jsx(Q,{className:"h-4 w-28"})]}),n.jsx(Q,{className:"h-4 w-24"})]})]}),n.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[n.jsx(Q,{className:"h-4 w-20"}),n.jsx(Q,{className:"h-4 w-full"}),n.jsx(Q,{className:"h-4 w-3/4"})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Q,{className:"h-8 w-24"}),n.jsx(Q,{className:"h-8 w-24"})]})]})]})}),n.jsx(xa,{value:"audit",className:"space-y-4",children:n.jsxs(ot,{children:[n.jsx(zn,{children:n.jsx(Kr,{className:"text-lg",children:n.jsx(Q,{className:"h-5 w-28"})})}),n.jsx(Gt,{children:n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,s)=>n.jsxs("div",{className:"flex gap-4 pb-4 border-b last:border-0",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Q,{className:"w-8 h-8 rounded-full"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-4 w-24"}),n.jsx(Q,{className:"h-3 w-20"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"w-3 h-3"}),n.jsx(Q,{className:"h-4 w-16"})]}),n.jsx(Q,{className:"h-4 w-full"}),n.jsx(Q,{className:"h-4 w-3/4"})]})]},s))})})]})})]})]})})}const yV=({device:t,open:r,onOpenChange:e,onUpdate:s})=>{const{t:l}=Be(),{setLoading:o,setError:i}=Dt(),[d,c]=B.useState([]),[a,u]=B.useState(!1),[m,h]=B.useState(!1),[p,y]=B.useState("details"),[x,g]=B.useState(!1);B.useEffect(()=>{r&&t&&w()},[r,t]);const w=async()=>{try{g(!0);const T=await cc.getAuditHistory(t.deviceUuid);c(T)}catch(T){i(`Failed to load audit history: ${T}`)}finally{g(!1)}},v=T=>{switch(T?.toLowerCase()){case"active":return"default";case"inactive":return"secondary";case"suspended":return"outline";case"blocked":return"destructive";default:return"outline"}},j=T=>T?new Date(T).toLocaleString():"-",N=async T=>{u(!1),h(!1),T&&(await w(),s())};return x?n.jsx(bV,{open:r,onOpenChange:e}):n.jsxs(n.Fragment,{children:[n.jsx(lr,{open:r,onOpenChange:e,children:n.jsxs(cr,{className:"max-w-4xl",children:[n.jsx(ur,{children:n.jsx(dr,{children:l("deviceDetails")})}),n.jsxs(Ad,{value:p,onValueChange:y,children:[n.jsxs(Md,{className:"grid w-full grid-cols-2",children:[n.jsx(ya,{value:"details",children:l("details")}),n.jsx(ya,{value:"audit",children:l("auditHistory")})]}),n.jsx(xa,{value:"details",className:"space-y-4",children:n.jsxs(ot,{children:[n.jsx(zn,{children:n.jsx(Kr,{className:"text-lg",children:l("deviceInformation")})}),n.jsxs(Gt,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(ab,{className:"w-4 h-4 mr-2"}),l("deviceName")]}),n.jsx("p",{className:"font-medium",children:t.deviceName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(l9,{className:"w-4 h-4 mr-2"}),l("status")]}),n.jsx(Nr,{variant:v(t.status),children:t.status})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(ab,{className:"w-4 h-4 mr-2"}),l("deviceUuid")]}),n.jsx("p",{className:"font-mono text-sm",children:t.deviceUuid})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(vh,{className:"w-4 h-4 mr-2"}),l("registrationDate")]}),n.jsx("p",{className:"text-sm",children:j(t.registrationDate)})]})]}),t.statusNotes&&n.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:l("statusNotes")}),n.jsx("p",{className:"text-sm",children:t.statusNotes})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>u(!0),children:l("updateStatus")}),n.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>h(!0),children:l("changeName")})]})]})]})}),n.jsx(xa,{value:"audit",className:"space-y-4",children:n.jsxs(ot,{children:[n.jsx(zn,{children:n.jsx(Kr,{className:"text-lg",children:l("auditHistory")})}),n.jsx(Gt,{children:d.length===0?n.jsx("p",{className:"text-center py-8 text-muted-foreground",children:l("noAuditHistory")}):n.jsx("div",{className:"space-y-4",children:d.map((T,D)=>n.jsxs("div",{className:"flex gap-4 pb-4 border-b last:border-0",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(uo,{className:"w-4 h-4 text-primary"})})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:"Status Changed"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:j(T.changedAt)})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Hb,{className:"w-3 h-3"}),n.jsx("span",{children:T.changedByUser})]}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("span",{className:"text-muted-foreground font-medium",children:[l("reason"),": "]}),n.jsx("span",{children:T.reason||l("noReasonProvided")})]}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:[l("from"),": ",n.jsx("span",{className:"font-mono",children:T.previousStatus})]}),"  ",n.jsxs("span",{className:"text-muted-foreground",children:[l("to"),": ",n.jsx("span",{className:"font-mono",children:T.newStatus})]})]})]})]},`${T.changedAt}-${D}`))})})]})})]})]})}),a&&n.jsx(pV,{device:t,open:a,onOpenChange:u,onClose:N}),m&&n.jsx(gV,{device:t,open:m,onOpenChange:h,onClose:N})]})},xV=()=>{const{t}=Be(),{setError:r}=Dt(),[e,s]=B.useState([]),[l,o]=B.useState({}),[i,d]=B.useState(null),[c,a]=B.useState(!1),[u,m]=B.useState(!1);B.useEffect(()=>{h()},[l]);const h=async()=>{try{m(!0);const N=await cc.getAll(l);s(N)}catch(N){r(`Failed to load devices: ${N}`)}finally{m(!1)}},p=N=>{o(T=>({...T,searchTerm:N}))},y=N=>{o(T=>({...T,status:N==="all"?void 0:N}))},x=N=>{d(N),a(!0)},g=async N=>{a(N),N||d(null)},w=async()=>{if(await h(),i)try{const N=await cc.getByUuid(i.deviceUuid);d(N)}catch(N){r(`Failed to refresh device details: ${N}`)}},v=N=>{switch(N?.toLowerCase()){case"active":return"default";case"inactive":return"secondary";case"suspended":return"outline";case"blocked":return"destructive";default:return"outline"}},j=N=>N?new Date(N).toLocaleDateString():"-";return n.jsx(xn,{title:t("settings"),titleBreadcrumbs:[{label:t("devices")}],children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(ot,{children:n.jsxs(Gt,{children:[u?n.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[n.jsx("div",{className:"flex-1 min-w-64",children:n.jsx(Q,{className:"h-10 w-full"})}),n.jsx(Q,{className:"h-10 w-48"})]}):n.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[n.jsx("div",{className:"flex-1 min-w-64",children:n.jsxs("div",{className:"relative",children:[n.jsx(mp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(on,{placeholder:t("searchDevices"),className:"pl-10",onChange:N=>p(N.target.value)})]})}),n.jsxs(us,{onValueChange:y,defaultValue:"all",children:[n.jsx(fs,{className:"w-48",children:n.jsx(ds,{placeholder:t("status")})}),n.jsxs(hs,{children:[n.jsx(mr,{value:"all",children:t("allStatuses")}),Object.values(Lr).map(N=>n.jsx(mr,{value:N,children:N},N))]})]})]}),n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("deviceName")}),n.jsx(he,{children:t("deviceUuid")}),n.jsx(he,{children:t("status")}),n.jsx(he,{children:t("registrationDate")}),n.jsx(he,{className:"text-right",children:t("actions")})]})}),n.jsx(en,{children:u?Array.from({length:5}).map((N,T)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-48 font-mono"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-5 w-20 rounded-full"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{className:"text-right",children:n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(Q,{className:"h-8 w-24"})})})]},`skeleton-${T}`)):n.jsxs(n.Fragment,{children:[e?.map(N=>n.jsxs(We,{children:[n.jsx(ue,{className:"font-medium",children:N.deviceName}),n.jsx(ue,{className:"font-mono text-sm",children:N.deviceUuid}),n.jsx(ue,{children:n.jsx(Nr,{variant:v(N.status),children:N.status})}),n.jsx(ue,{children:j(N.registrationDate)}),n.jsx(ue,{className:"text-right",children:n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>x(N),children:[n.jsx(fp,{className:"h-4 w-4 mr-1"}),t("viewDetails")]})})})]},N.id)),!u&&e.length===0&&n.jsx(We,{children:n.jsx(ue,{colSpan:5,className:"text-center py-8",children:t("noDevicesFound")})})]})})]})]})}),i&&n.jsx(yV,{device:i,open:c,onOpenChange:g,onUpdate:w})]})})},F0={async getLicenseStatus(){try{return(await Ye.get("/license/status")).data}catch(t){throw new Error(`Failed to get license status: ${t.response?.data?.message||t.message}`)}},async getQueueStatus(){try{return(await Ye.get("/license/queue-status")).data}catch(t){throw new Error(`Failed to get queue status: ${t.response?.data?.message||t.message}`)}},async forceSync(){try{await Ye.post("/license/force-sync")}catch(t){throw new Error(`Failed to force sync: ${t.response?.data?.message||t.message}`)}}};var Iu=(t=>(t.LicenseIssueDetected="LicenseIssueDetected",t.PaymentDue="PaymentDue",t.PaymentStatusUnknown="PaymentStatusUnknown",t.AccountExpiresIn="AccountExpiresIn",t))(Iu||{});const vV=({data:t,onRefresh:r,isLoading:e=!1})=>{const{t:s}=Be(),l=a=>{switch(a.status){case"Active":return{color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badgeVariant:"default",icon:n.jsx(Br,{className:"h-5 w-5"})};case"PaymentDue":return{color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",badgeVariant:"secondary",icon:n.jsx(uo,{className:"h-5 w-5"})};case"PaymentDueUnknown":return{color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",badgeVariant:"outline",icon:n.jsx(sr,{className:"h-5 w-5"})};case"Disabled":return{color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",badgeVariant:"destructive",icon:n.jsx(br,{className:"h-5 w-5"})};case"Demo":return{color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",badgeVariant:"outline",icon:n.jsx(sb,{className:"h-5 w-5"})};case"DemoExpired":return{color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",badgeVariant:"outline",icon:n.jsx(uo,{className:"h-5 w-5"})};default:return{color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",badgeVariant:"outline",icon:n.jsx(sr,{className:"h-5 w-5"})}}},o=a=>a?new Date(a).toLocaleDateString():"-",i=a=>a?new Date(a).toLocaleString():"-",d=a=>{switch(a.type){case Iu.PaymentDue:return s("license.warning.paymentDue");case Iu.PaymentStatusUnknown:return s("license.warning.paymentStatusUnknown",{days:t.daysUntilExpiration});case Iu.AccountExpiresIn:return s("license.warning.accountExpiresIn",{days:t.daysUntilExpiration});case Iu.LicenseIssueDetected:return s("license.warning.licenseIssueDetected");default:return s("license.warning.unknown")}},c=l(t.accountStatus);return n.jsxs(ot,{className:`${c.bgColor} ${c.borderColor}`,children:[n.jsx(zn,{children:n.jsxs(Kr,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:c.color,children:c.icon}),n.jsx("span",{children:s("license.status")})]}),n.jsxs(Ie,{variant:"outline",size:"sm",onClick:r,disabled:e,children:[n.jsx(pp,{className:`h-4 w-4 mr-2 ${e?"animate-spin":""}`}),s(e?"loading":"refresh")]})]})}),n.jsx(Gt,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.accountStatus")}),n.jsx("div",{className:"mt-1",children:n.jsx(Nr,{variant:c.badgeVariant,children:t.accountStatus.status})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.validity")}),n.jsx("div",{className:"mt-1 text-sm text-gray-900",children:t.isValid?s("valid"):s("invalid")})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.daysUntilExpiration")}),n.jsx("div",{className:"mt-1 text-sm text-gray-900",children:t.daysUntilExpiration>0?s("license.daysRemaining",{days:t.daysUntilExpiration}):s("expired")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.gracePeriod")}),n.jsx("div",{className:"mt-1 text-sm text-gray-900",children:t.isInGracePeriod?s("yes"):s("no")})]})]}),t.expirationDate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.expirationDate")}),n.jsx("div",{className:"mt-1 text-sm text-gray-900",children:o(t.expirationDate.toString())})]}),t.accountStatus.demoExpirationDate&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.demoExpirationDate")}),n.jsx("div",{className:"mt-1 text-sm text-gray-900",children:o(t.accountStatus.demoExpirationDate.toString())})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.lastValidation")}),n.jsx("div",{className:"mt-1 text-sm text-gray-900",children:i(t.accountStatus.lastValidationTimestamp.toString())})]}),t.showWarning&&t.warning&&n.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(sr,{className:"h-4 w-4 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:s("warning")}),n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:d(t.warning)})]})]})})]})})]})},wV=({data:t,onForceSync:r,isLoading:e=!1})=>{const{t:s}=Be(),l=(d,c)=>c?d===0?{color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badgeVariant:"default",icon:n.jsx(Br,{className:"h-5 w-5"}),status:s("license.queue.synced")}:{color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",badgeVariant:"secondary",icon:n.jsx(uo,{className:"h-5 w-5"}),status:s("license.queue.pending")}:{color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",badgeVariant:"destructive",icon:n.jsx(sr,{className:"h-5 w-5"}),status:s("license.queue.disconnected")},o=d=>d.toLocaleString(),i=l(t.pendingEventCount,t.cloudServiceAvailable);return n.jsxs(ot,{className:`${i.bgColor} ${i.borderColor}`,children:[n.jsx(zn,{children:n.jsxs(Kr,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:i.color,children:i.icon}),n.jsx("span",{children:s("license.queue.title")})]}),n.jsxs(Ie,{variant:"outline",size:"sm",onClick:r,disabled:e||!t.cloudServiceAvailable,children:[n.jsx(pp,{className:"h-4 w-4 mr-2"}),s(e?"syncing":"license.queue.forceSync")]})]})}),n.jsx(Gt,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.queue.status")}),n.jsx("div",{className:"mt-1",children:n.jsx(Nr,{variant:i.badgeVariant,children:i.status})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.queue.pendingEvents")}),n.jsx("div",{className:"mt-1 text-sm text-gray-900 font-medium",children:t.pendingEventCount})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.queue.cloudService")}),n.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${t.cloudServiceAvailable?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:"text-sm text-gray-900",children:t.cloudServiceAvailable?s("available"):s("unavailable")})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:s("license.queue.lastChecked")}),n.jsx("div",{className:"mt-1 text-sm text-gray-900",children:o(t.lastChecked)})]})]}),t.pendingEventCount>0&&n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(uo,{className:"h-4 w-4 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:s("license.queue.pendingTitle")}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:s("license.queue.pendingDescription",{count:t.pendingEventCount})})]})]})}),!t.cloudServiceAvailable&&n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(sr,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-800",children:s("license.queue.serviceUnavailable")}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:s("license.queue.serviceUnavailableDescription")})]})]})})]})})]})},jV=()=>n.jsxs(ot,{"aria-label":"Loading license status...",children:[n.jsx(zn,{children:n.jsxs(Kr,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Q,{className:"h-5 w-5 rounded-full"}),n.jsx(Q,{className:"h-6 w-24"})]}),n.jsx(Q,{className:"h-8 w-20 rounded-md"})]})}),n.jsx(Gt,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-20 mb-2"}),n.jsx(Q,{className:"h-6 w-16 rounded-full"})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-16 mb-2"}),n.jsx(Q,{className:"h-4 w-12"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-28 mb-2"}),n.jsx(Q,{className:"h-4 w-20"})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-20 mb-2"}),n.jsx(Q,{className:"h-4 w-8"})]})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-24 mb-2"}),n.jsx(Q,{className:"h-4 w-32"})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-32 mb-2"}),n.jsx(Q,{className:"h-4 w-40"})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-28 mb-2"}),n.jsx(Q,{className:"h-4 w-36"})]})]})})]}),SV=()=>n.jsxs(ot,{"aria-label":"Loading queue status...",children:[n.jsx(zn,{children:n.jsxs(Kr,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Q,{className:"h-5 w-5 rounded-full"}),n.jsx(Q,{className:"h-6 w-20"})]}),n.jsx(Q,{className:"h-8 w-24 rounded-md"})]})}),n.jsx(Gt,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-12 mb-2"}),n.jsx(Q,{className:"h-6 w-20 rounded-full"})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-24 mb-2"}),n.jsx(Q,{className:"h-4 w-4"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-24 mb-2"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{className:"h-2 w-2 rounded-full"}),n.jsx(Q,{className:"h-4 w-20"})]})]}),n.jsxs("div",{children:[n.jsx(Q,{className:"h-4 w-20 mb-2"}),n.jsx(Q,{className:"h-4 w-32"})]})]})]})})]}),_V=()=>{const{t}=Be(),{setError:r}=Dt(),[e,s]=B.useState(null),[l,o]=B.useState(null),[i,d]=B.useState(!1),[c,a]=B.useState(!1);B.useEffect(()=>{u(),m()},[]);const u=async()=>{try{d(!0);const p=await F0.getLicenseStatus();s(p)}catch(p){r(`Failed to load license status: ${p}`)}finally{d(!1)}},m=async()=>{try{const p=await F0.getQueueStatus();o(p)}catch(p){r(`Failed to load queue status: ${p}`)}},h=async()=>{try{a(!0),await F0.forceSync(),await m()}catch(p){r(`Failed to force sync: ${p}`)}finally{a(!1)}};return n.jsx(xn,{title:t("settings"),titleBreadcrumbs:[{label:t("license.title")}],children:n.jsxs("div",{className:"space-y-6",children:[i?n.jsx(jV,{}):e?n.jsx(vV,{data:e,onRefresh:u,isLoading:i}):null,i?n.jsx(SV,{}):l?n.jsx(wV,{data:l,onForceSync:h,isLoading:c}):null]})})};var Ua=(t=>(t[t.Transfer=0]="Transfer",t[t.GoodsReceipt=1]="GoodsReceipt",t[t.InventoryCounting=2]="InventoryCounting",t[t.PickList=3]="PickList",t[t.ConfirmationAdjustments=4]="ConfirmationAdjustments",t[t.PickListCancellation=5]="PickListCancellation",t))(Ua||{});const Ru={async getExternalUsers(){return(await Ye.get("ExternalSystemAlert/users")).data},async getAll(){return(await Ye.get("ExternalSystemAlert")).data},async create(t){return(await Ye.post("ExternalSystemAlert",t)).data},async update(t,r){return(await Ye.put(`ExternalSystemAlert/${t}`,r)).data},async delete(t){await Ye.delete(`ExternalSystemAlert/${t}`)}},CV=()=>{const{t}=Be(),{setError:r}=Dt(),[e,s]=B.useState([]),[l,o]=B.useState([]),[i,d]=B.useState(!1),[c,a]=B.useState(null),[u,m]=B.useState(!1),[h,p]=B.useState(!1),[y,x]=B.useState(Ua.Transfer),[g,w]=B.useState(""),[v,j]=B.useState(!0),N=O=>{switch(O){case Ua.Transfer:return t("transfer");case Ua.GoodsReceipt:return t("goodsReceipt");case Ua.InventoryCounting:return t("inventoryCounting");case Ua.PickList:return t("pickList");case Ua.ConfirmationAdjustments:return t("confirmationAdjustments");case Ua.PickListCancellation:return t("pickListCancellation")}},T=O=>l.find(R=>R.userId===O)?.userName||O;B.useEffect(()=>{D(),V()},[]);const D=async()=>{try{p(!0);const I=(await Ru.getAll()).sort((R,S)=>{const C=N(R.objectType),k=N(S.objectType);return C.localeCompare(k)});s(I)}catch(O){r(`Failed to load external alerts: ${O}`)}finally{p(!1)}},V=async()=>{try{const O=await Ru.getExternalUsers();o(O)}catch(O){r(`Failed to load external users: ${O}`)}},P=O=>{a(O),d(!0)},$=async()=>{if(c)try{p(!0),await Ru.delete(c.id),await D(),d(!1),a(null)}catch(O){r(`Failed to delete alert: ${O}`)}finally{p(!1)}},G=()=>{x(Ua.Transfer),w(""),j(!0),m(!0)},Y=async()=>{if(!g){r(t("pleaseSelectUser"));return}if(e.find(I=>I.objectType===y&&I.externalUserId===g)){r(t("alertAlreadyExists"));return}try{p(!0),await Ru.create({objectType:y,externalUserId:g,enabled:v}),await D(),m(!1)}catch(I){r(`Failed to create alert: ${I}`)}finally{p(!1)}},W=async O=>{try{p(!0),await Ru.update(O.id,{enabled:!O.enabled}),await D()}catch(I){r(`Failed to update alert: ${I}`)}finally{p(!1)}};return n.jsx(xn,{title:t("settings"),titleBreadcrumbs:[{label:t("externalAlerts")}],onAdd:G,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(ot,{children:n.jsx(Gt,{children:n.jsxs(Zt,{children:[n.jsx(Jt,{children:n.jsxs(We,{children:[n.jsx(he,{children:t("objectType")}),n.jsx(he,{children:t("externalUser")}),n.jsx(he,{children:t("status")}),n.jsx(he,{children:t("createdAt")}),n.jsx(he,{className:"text-right",children:t("actions")})]})}),n.jsx(en,{children:h?Array.from({length:5}).map((O,I)=>n.jsxs(We,{children:[n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-32"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-40"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-5 w-20 rounded-full"})}),n.jsx(ue,{children:n.jsx(Q,{className:"h-4 w-24"})}),n.jsx(ue,{className:"text-right",children:n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(Q,{className:"h-8 w-20"})})})]},`skeleton-${I}`)):n.jsxs(n.Fragment,{children:[e.map(O=>n.jsxs(We,{children:[n.jsx(ue,{className:"font-medium",children:N(O.objectType)}),n.jsx(ue,{children:T(O.externalUserId)}),n.jsx(ue,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Sb,{checked:O.enabled,onCheckedChange:()=>W(O)}),n.jsx(Nr,{variant:O.enabled?"default":"secondary",children:O.enabled?t("enabled"):t("disabled")})]})}),n.jsx(ue,{children:O.createdAt?new Date(O.createdAt).toLocaleDateString():"-"}),n.jsx(ue,{className:"text-right",children:n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsxs(Ie,{variant:"destructive",size:"sm",onClick:()=>P(O),children:[n.jsx(pd,{className:"h-4 w-4 mr-1"}),t("delete")]})})})]},O.id)),!h&&e.length===0&&n.jsx(We,{children:n.jsx(ue,{colSpan:5,className:"text-center py-8",children:t("noExternalAlertsFound")})})]})})]})})}),n.jsx(lr,{open:u,onOpenChange:m,children:n.jsxs(cr,{children:[n.jsxs(ur,{children:[n.jsx(dr,{children:t("addExternalAlert")}),n.jsx(_i,{children:t("addExternalAlertDescription")})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"objectType",children:t("objectType")}),n.jsxs(us,{value:y.toString(),onValueChange:O=>x(parseInt(O)),children:[n.jsx(fs,{children:n.jsx(ds,{})}),n.jsx(hs,{children:Object.values(Ua).filter(O=>typeof O=="number").sort((O,I)=>{const R=N(O),S=N(I);return R.localeCompare(S)}).map(O=>n.jsx(mr,{value:O.toString(),children:N(O)},O))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cn,{htmlFor:"externalUser",children:t("externalUser")}),n.jsxs(us,{value:g,onValueChange:w,children:[n.jsx(fs,{children:n.jsx(ds,{placeholder:t("selectUser")})}),n.jsx(hs,{children:l.map(O=>n.jsxs(mr,{value:O.userId,children:[O.userName," ",n.jsxs("span",{className:"text-xs text-gray-500",children:["(",O.userId,")"]})]},O.userId))})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Sb,{id:"enabled",checked:v,onCheckedChange:j}),n.jsx(cn,{htmlFor:"enabled",children:t("enabled")})]})]}),n.jsxs(ra,{children:[n.jsx(Ie,{variant:"outline",onClick:()=>m(!1),children:t("cancel")}),n.jsxs(Ie,{onClick:Y,children:[n.jsx(Vb,{className:"h-4 w-4 mr-1"}),t("create")]})]})]})}),n.jsx(Qa,{open:i,onOpenChange:d,children:n.jsxs(Ci,{children:[n.jsxs(Ni,{children:[n.jsx(ki,{children:t("confirmDelete")}),n.jsx(jo,{children:t("confirmDeleteExternalAlert")})]}),n.jsxs(wo,{children:[n.jsx(wd,{children:t("cancel")}),n.jsx(vd,{onClick:$,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("delete")})]})]})})]})})};function NV(){const{user:t}=bt(),r=fV(),e=fn();B.useEffect(()=>{oR(e)},[e]);function s(){let g=[Ae.GOODS_RECEIPT_SUPERVISOR];if(!t?.settings?.goodsReceiptCreateSupervisorRequired)return g.push(Ae.GOODS_RECEIPT),g}function l(){let g=[Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR];if(!t?.settings?.goodsReceiptCreateSupervisorRequired)return g.push(Ae.GOODS_RECEIPT_CONFIRMATION),g}function o(){let g=[Ae.TRANSFER_SUPERVISOR];return t?.settings?.transferCreateSupervisorRequired||g.push(Ae.TRANSFER),g}function i(){return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/login",element:n.jsx(Lz,{})}),n.jsx(At,{path:"/unauthorized",element:n.jsx(Cz,{})})]})}function d(){const g=[Ae.GOODS_RECEIPT_SUPERVISOR,Ae.PICKING_SUPERVISOR,Ae.COUNTING_SUPERVISOR,Ae.TRANSFER_SUPERVISOR],w=[...g,Ae.PACKAGE_MANAGEMENT,Ae.PACKAGE_MANAGEMENT_SUPERVISOR];return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/binCheck",element:n.jsx(Ht,{authorizations:g,element:n.jsx(T4,{})})}),n.jsx(At,{path:"/binCheck/:binEntry/:binCode",element:n.jsx(Ht,{authorizations:g,element:n.jsx(T4,{})})}),n.jsx(At,{path:"/itemCheck",element:n.jsx(Ht,{authorizations:g,element:n.jsx(E4,{})})}),n.jsx(At,{path:"/itemCheck/:code",element:n.jsx(Ht,{authorizations:g,element:n.jsx(E4,{})})}),n.jsx(At,{path:"/packageCheck",element:n.jsx(Ht,{authorizations:w,element:n.jsx(A4,{})})}),n.jsx(At,{path:"/packageCheck/:id/:barcode",element:n.jsx(Ht,{authorizations:w,element:n.jsx(A4,{})})})]})}function c(){return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/counting",element:n.jsx(Ht,{authorization:Ae.COUNTING,element:n.jsx(bq,{})})}),n.jsx(At,{path:"/counting/:scanCode",element:n.jsx(Ht,{authorization:Ae.COUNTING,element:n.jsx(xq,{})})}),n.jsx(At,{path:"/countingSupervisor",element:n.jsx(Ht,{authorization:Ae.COUNTING_SUPERVISOR,element:n.jsx(jq,{})})}),n.jsx(At,{path:"/countingSummaryReport/:scanCode",element:n.jsx(Ht,{authorization:Ae.COUNTING_SUPERVISOR,element:n.jsx(Wq,{})})})]})}function a(){return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/goodsReceipt",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT,element:n.jsx(O0,{processType:qe.Regular},"goodsReceipt")})}),n.jsx(At,{path:"/goodsReceipt/:scanCode",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT,element:n.jsx(D0,{processType:qe.Regular},"goodsReceiptProcess")})}),n.jsx(At,{path:"/goodsReceiptSupervisor",element:n.jsx(Ht,{authorizations:s(),element:n.jsx(I0,{processType:qe.Regular},"goodsReceipt")})}),n.jsx(At,{path:"/goodsReceiptReport",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_SUPERVISOR,element:n.jsx(P0,{processType:qe.Regular},"goodsReceiptReport")})}),n.jsx(At,{path:"/goodsReceiptVSExitReport/:scanCode",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_SUPERVISOR,element:n.jsx(R4,{processType:qe.Regular},"goodsReceiptVSExitReport")})}),n.jsx(At,{path:"/goodsReceiptProcessDifferenceReport/:scanCode",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_SUPERVISOR,element:n.jsx(B0,{processType:qe.Regular},"goodsReceiptProcessDifferenceReport")})}),n.jsx(At,{path:"/goodsReceiptReportAll/:scanCode",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_SUPERVISOR,element:n.jsx(L0,{processType:qe.Regular},"goodsReceiptAll")})})]})}function u(){return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/goodsReceiptConfirmation",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_CONFIRMATION,element:n.jsx(O0,{processType:qe.Confirmation},"receiptConfirmation")})}),n.jsx(At,{path:"/goodsReceiptConfirmation/:scanCode",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_CONFIRMATION,element:n.jsx(D0,{processType:qe.Confirmation},"receiptConfirmationProcess")})}),n.jsx(At,{path:"/goodsReceiptConfirmationSupervisor",element:n.jsx(Ht,{authorizations:l(),element:n.jsx(I0,{processType:qe.Confirmation},"receiptConfirmation")})}),n.jsx(At,{path:"/goodsReceiptConfirmationReport",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR,element:n.jsx(P0,{processType:qe.Confirmation},"receiptConfirmationReport")})}),n.jsx(At,{path:"/goodsReceiptConfirmationVSExitReport/:scanCode",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR,element:n.jsx(R4,{processType:qe.Confirmation},"receiptConfirmationVSExitReport")})}),n.jsx(At,{path:"/goodsReceiptConfirmationProcessDifferenceReport/:scanCode",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR,element:n.jsx(B0,{processType:qe.Confirmation},"receiptConfirmationProcessDifferenceReport")})}),n.jsx(At,{path:"/goodsReceiptConfirmationReportAll/:scanCode",element:n.jsx(Ht,{authorization:Ae.GOODS_RECEIPT_CONFIRMATION_SUPERVISOR,element:n.jsx(L0,{processType:qe.Confirmation},"receiptConfirmationAll")})})]})}function m(){return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/pick",element:n.jsx(Ht,{authorization:Ae.PICKING,element:n.jsx(Wz,{})})}),n.jsx(At,{path:"/pick/:idParam",element:n.jsx(Ht,{authorization:Ae.PICKING,element:n.jsx(Gz,{})})}),n.jsx(At,{path:"/pick/:idParam/:typeParam/:entryParam",element:n.jsx(Ht,{authorization:Ae.PICKING,element:n.jsx(Zz,{})})}),n.jsx(At,{path:"/pick/:id/check",element:n.jsx(Ht,{authorizations:[Ae.PICKING,Ae.PICKING_SUPERVISOR],element:n.jsx(eq,{})})}),n.jsx(At,{path:"/pickSupervisor",element:n.jsx(Ht,{authorization:Ae.PICKING_SUPERVISOR,element:n.jsx(Hz,{})})})]})}function h(){return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/transfer",element:n.jsx(Ht,{authorization:Ae.TRANSFER,element:n.jsx(Eq,{})})}),n.jsx(At,{path:"/transfer/:scanCode/*",element:n.jsx(Ht,{authorization:Ae.TRANSFER,element:n.jsx(Bq,{children:n.jsxs(Fw,{children:[n.jsx(At,{path:"/",element:n.jsx(zq,{})}),n.jsx(At,{path:"/source",element:n.jsx(Vq,{})}),n.jsx(At,{path:"/targetBins",element:n.jsx(eV,{})})]})})})}),n.jsx(At,{path:"/transferSupervisor",element:n.jsx(Ht,{authorizations:o(),element:n.jsx(Mq,{})})}),n.jsx(At,{path:"/transfer/approve",element:n.jsx(Ht,{authorization:Ae.TRANSFER_SUPERVISOR,element:n.jsx(Oq,{})})}),n.jsx(At,{path:"/transfer/approve/:id",element:n.jsx(Ht,{authorization:Ae.TRANSFER_SUPERVISOR,element:n.jsx(Pq,{})})}),n.jsx(At,{path:"/transferRequest",element:n.jsx(Ht,{authorization:Ae.TRANSFER_REQUEST,element:n.jsx(nV,{})})})]})}function p(){return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/transferConfirmation",element:n.jsx(Ht,{authorization:Ae.TRANSFER_CONFIRMATION,element:n.jsx(O0,{processType:qe.TransferConfirmation},"transferConfirmation")})}),n.jsx(At,{path:"/transferConfirmation/:scanCode",element:n.jsx(Ht,{authorization:Ae.TRANSFER_CONFIRMATION,element:n.jsx(D0,{processType:qe.TransferConfirmation},"transferConfirmationProcess")})}),n.jsx(At,{path:"/transferConfirmationSupervisor",element:n.jsx(Ht,{authorizations:l(),element:n.jsx(I0,{processType:qe.TransferConfirmation},"transferConfirmation")})}),n.jsx(At,{path:"/transferConfirmationReport",element:n.jsx(Ht,{authorization:Ae.TRANSFER_CONFIRMATION_SUPERVISOR,element:n.jsx(P0,{processType:qe.TransferConfirmation},"transferConfirmationReport")})}),n.jsx(At,{path:"/transferConfirmationProcessDifferenceReport/:scanCode",element:n.jsx(Ht,{authorization:Ae.TRANSFER_CONFIRMATION_SUPERVISOR,element:n.jsx(B0,{processType:qe.TransferConfirmation},"transferConfirmationProcessDifferenceReport")})}),n.jsx(At,{path:"/transferConfirmationReportAll/:scanCode",element:n.jsx(Ht,{authorization:Ae.TRANSFER_CONFIRMATION_SUPERVISOR,element:n.jsx(L0,{processType:qe.TransferConfirmation},"transferConfirmationAll")})})]})}function y(){return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/settings/cancelReasons",element:n.jsx(Ht,{superUser:!0,element:n.jsx(aV,{})})}),n.jsx(At,{path:"/settings/users",element:n.jsx(Ht,{superUser:!0,element:n.jsx(lV,{})})}),n.jsx(At,{path:"/settings/authorizationGroups",element:n.jsx(Ht,{superUser:!0,element:n.jsx(cV,{})})}),n.jsx(At,{path:"/settings/authorizationGroups/add",element:n.jsx(Ht,{superUser:!0,element:n.jsx(M4,{})})}),n.jsx(At,{path:"/settings/authorizationGroups/:id",element:n.jsx(Ht,{superUser:!0,element:n.jsx(M4,{})})}),n.jsx(At,{path:"/settings/devices",element:n.jsx(Ht,{superUser:!0,element:n.jsx(xV,{})})}),n.jsx(At,{path:"/settings/license",element:n.jsx(Ht,{superUser:!0,element:n.jsx(_V,{})})}),n.jsx(At,{path:"/settings/externalAlerts",element:n.jsx(Ht,{superUser:!0,element:n.jsx(CV,{})})})]})}function x(){return n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/",element:n.jsx(Ht,{element:n.jsx(zz,{})})}),n.jsx(At,{path:"*",element:n.jsx(X$,{})})]})}return n.jsxs(n.Fragment,{children:[n.jsx(HD,{closeButton:!0,richColors:!0}),r&&n.jsx(dV,{}),n.jsxs(Fw,{children:[i(),d(),c(),a(),u(),m(),h(),p(),y(),x()]})]})}function kV(){return n.jsx(pR,{children:n.jsx(z$,{children:n.jsx(Jk,{children:n.jsx(NV,{})})})})}const Qt=t=>typeof t=="string",Tu=()=>{let t,r;const e=new Promise((s,l)=>{t=s,r=l});return e.resolve=t,e.reject=r,e},O4=t=>t==null?"":""+t,EV=(t,r,e)=>{t.forEach(s=>{r[s]&&(e[s]=r[s])})},RV=/###/g,D4=t=>t&&t.indexOf("###")>-1?t.replace(RV,"."):t,I4=t=>!t||Qt(t),$u=(t,r,e)=>{const s=Qt(r)?r.split("."):r;let l=0;for(;l<s.length-1;){if(I4(t))return{};const o=D4(s[l]);!t[o]&&e&&(t[o]=new e),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++l}return I4(t)?{}:{obj:t,k:D4(s[l])}},P4=(t,r,e)=>{const{obj:s,k:l}=$u(t,r,Object);if(s!==void 0||r.length===1){s[l]=e;return}let o=r[r.length-1],i=r.slice(0,r.length-1),d=$u(t,i,Object);for(;d.obj===void 0&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),d=$u(t,i,Object),d?.obj&&typeof d.obj[`${d.k}.${o}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${o}`]=e},TV=(t,r,e,s)=>{const{obj:l,k:o}=$u(t,r,Object);l[o]=l[o]||[],l[o].push(e)},Kh=(t,r)=>{const{obj:e,k:s}=$u(t,r);if(e&&Object.prototype.hasOwnProperty.call(e,s))return e[s]},AV=(t,r,e)=>{const s=Kh(t,e);return s!==void 0?s:Kh(r,e)},kC=(t,r,e)=>{for(const s in r)s!=="__proto__"&&s!=="constructor"&&(s in t?Qt(t[s])||t[s]instanceof String||Qt(r[s])||r[s]instanceof String?e&&(t[s]=r[s]):kC(t[s],r[s],e):t[s]=r[s]);return t},Kl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var MV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const OV=t=>Qt(t)?t.replace(/[&<>"'\/]/g,r=>MV[r]):t;class DV{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const e=this.regExpMap.get(r);if(e!==void 0)return e;const s=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,s),this.regExpQueue.push(r),s}}const IV=[" ",",","?","!",";"],PV=new DV(20),LV=(t,r,e)=>{r=r||"",e=e||"";const s=IV.filter(i=>r.indexOf(i)<0&&e.indexOf(i)<0);if(s.length===0)return!0;const l=PV.getRegExp(`(${s.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!l.test(t);if(!o){const i=t.indexOf(e);i>0&&!l.test(t.substring(0,i))&&(o=!0)}return o},Eb=(t,r,e=".")=>{if(!t)return;if(t[r])return Object.prototype.hasOwnProperty.call(t,r)?t[r]:void 0;const s=r.split(e);let l=t;for(let o=0;o<s.length;){if(!l||typeof l!="object")return;let i,d="";for(let c=o;c<s.length;++c)if(c!==o&&(d+=e),d+=s[c],i=l[d],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<s.length-1)continue;o+=c-o+1;break}l=i}return l},nd=t=>t?.replace("_","-"),BV={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,r){console?.[t]?.apply?.(console,r)}};class Qh{constructor(r,e={}){this.init(r,e)}init(r,e={}){this.prefix=e.prefix||"i18next:",this.logger=r||BV,this.options=e,this.debug=e.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,e,s,l){return l&&!this.debug?null:(Qt(r[0])&&(r[0]=`${s}${this.prefix} ${r[0]}`),this.logger[e](r))}create(r){return new Qh(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new Qh(this.logger,r)}}var Ha=new Qh;class am{constructor(){this.observers={}}on(r,e){return r.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const l=this.observers[s].get(e)||0;this.observers[s].set(e,l+1)}),this}off(r,e){if(this.observers[r]){if(!e){delete this.observers[r];return}this.observers[r].delete(e)}}emit(r,...e){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([l,o])=>{for(let i=0;i<o;i++)l(...e)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([l,o])=>{for(let i=0;i<o;i++)l.apply(l,[r,...e])})}}class L4 extends am{constructor(r,e={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const e=this.options.ns.indexOf(r);e>-1&&this.options.ns.splice(e,1)}getResource(r,e,s,l={}){const o=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,i=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;r.indexOf(".")>-1?d=r.split("."):(d=[r,e],s&&(Array.isArray(s)?d.push(...s):Qt(s)&&o?d.push(...s.split(o)):d.push(s)));const c=Kh(this.data,d);return!c&&!e&&!s&&r.indexOf(".")>-1&&(r=d[0],e=d[1],s=d.slice(2).join(".")),c||!i||!Qt(s)?c:Eb(this.data?.[r]?.[e],s,o)}addResource(r,e,s,l,o={silent:!1}){const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let d=[r,e];s&&(d=d.concat(i?s.split(i):s)),r.indexOf(".")>-1&&(d=r.split("."),l=e,e=d[1]),this.addNamespaces(e),P4(this.data,d,l),o.silent||this.emit("added",r,e,s,l)}addResources(r,e,s,l={silent:!1}){for(const o in s)(Qt(s[o])||Array.isArray(s[o]))&&this.addResource(r,e,o,s[o],{silent:!0});l.silent||this.emit("added",r,e,s)}addResourceBundle(r,e,s,l,o,i={silent:!1,skipCopy:!1}){let d=[r,e];r.indexOf(".")>-1&&(d=r.split("."),l=s,s=e,e=d[1]),this.addNamespaces(e);let c=Kh(this.data,d)||{};i.skipCopy||(s=JSON.parse(JSON.stringify(s))),l?kC(c,s,o):c={...c,...s},P4(this.data,d,c),i.silent||this.emit("added",r,e,s)}removeResourceBundle(r,e){this.hasResourceBundle(r,e)&&delete this.data[r][e],this.removeNamespaces(e),this.emit("removed",r,e)}hasResourceBundle(r,e){return this.getResource(r,e)!==void 0}getResourceBundle(r,e){return e||(e=this.options.defaultNS),this.getResource(r,e)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const e=this.getDataByLanguage(r);return!!(e&&Object.keys(e)||[]).find(l=>e[l]&&Object.keys(e[l]).length>0)}toJSON(){return this.data}}var EC={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,r,e,s,l){return t.forEach(o=>{r=this.processors[o]?.process(r,e,s,l)??r}),r}};const RC=Symbol("i18next/PATH_KEY");function FV(){const t=[],r=Object.create(null);let e;return r.get=(s,l)=>(e?.revoke?.(),l===RC?t:(t.push(l),e=Proxy.revocable(s,r),e.proxy)),Proxy.revocable(Object.create(null),r).proxy}function Rb(t,r){const{[RC]:e}=t(FV());return e.join(r?.keySeparator??".")}const B4={},F4=t=>!Qt(t)&&typeof t!="boolean"&&typeof t!="number";class Zh extends am{constructor(r,e={}){super(),EV(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ha.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,e={interpolation:{}}){const s={...e};return r==null?!1:this.resolve(r,s)?.res!==void 0}extractFromKey(r,e){let s=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const l=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let o=e.ns||this.options.defaultNS||[];const i=s&&r.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!LV(r,s,l);if(i&&!d){const c=r.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:r,namespaces:Qt(o)?[o]:o};const a=r.split(s);(s!==l||s===l&&this.options.ns.indexOf(a[0])>-1)&&(o=a.shift()),r=a.join(l)}return{key:r,namespaces:Qt(o)?[o]:o}}translate(r,e,s){let l=typeof e=="object"?{...e}:e;if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof l=="object"&&(l={...l}),l||(l={}),r==null)return"";typeof r=="function"&&(r=Rb(r,{...this.options,...l})),Array.isArray(r)||(r=[String(r)]);const o=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,i=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:d,namespaces:c}=this.extractFromKey(r[r.length-1],l),a=c[c.length-1];let u=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const m=l.lng||this.language,h=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return h?o?{res:`${a}${u}${d}`,usedKey:d,exactUsedKey:d,usedLng:m,usedNS:a,usedParams:this.getUsedParamsDetails(l)}:`${a}${u}${d}`:o?{res:d,usedKey:d,exactUsedKey:d,usedLng:m,usedNS:a,usedParams:this.getUsedParamsDetails(l)}:d;const p=this.resolve(r,l);let y=p?.res;const x=p?.usedKey||d,g=p?.exactUsedKey||d,w=["[object Number]","[object Function]","[object RegExp]"],v=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,N=l.count!==void 0&&!Qt(l.count),T=Zh.hasDefaultValue(l),D=N?this.pluralResolver.getSuffix(m,l.count,l):"",V=l.ordinal&&N?this.pluralResolver.getSuffix(m,l.count,{ordinal:!1}):"",P=N&&!l.ordinal&&l.count===0,$=P&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${D}`]||l[`defaultValue${V}`]||l.defaultValue;let G=y;j&&!y&&T&&(G=$);const Y=F4(G),W=Object.prototype.toString.apply(G);if(j&&G&&Y&&w.indexOf(W)<0&&!(Qt(v)&&Array.isArray(G))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,G,{...l,ns:c}):`key '${d} (${this.language})' returned an object instead of string.`;return o?(p.res=O,p.usedParams=this.getUsedParamsDetails(l),p):O}if(i){const O=Array.isArray(G),I=O?[]:{},R=O?g:x;for(const S in G)if(Object.prototype.hasOwnProperty.call(G,S)){const C=`${R}${i}${S}`;T&&!y?I[S]=this.translate(C,{...l,defaultValue:F4($)?$[S]:void 0,joinArrays:!1,ns:c}):I[S]=this.translate(C,{...l,joinArrays:!1,ns:c}),I[S]===C&&(I[S]=G[S])}y=I}}else if(j&&Qt(v)&&Array.isArray(y))y=y.join(v),y&&(y=this.extendTranslation(y,r,l,s));else{let O=!1,I=!1;!this.isValidLookup(y)&&T&&(O=!0,y=$),this.isValidLookup(y)||(I=!0,y=d);const S=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:y,C=T&&$!==y&&this.options.updateMissing;if(I||O||C){if(this.logger.log(C?"updateKey":"missingKey",m,a,d,C?$:y),i){const L=this.resolve(d,{...l,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let k=[];const E=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&E&&E[0])for(let L=0;L<E.length;L++)k.push(E[L]);else this.options.saveMissingTo==="all"?k=this.languageUtils.toResolveHierarchy(l.lng||this.language):k.push(l.lng||this.language);const M=(L,z,K)=>{const Z=T&&K!==y?K:S;this.options.missingKeyHandler?this.options.missingKeyHandler(L,a,z,Z,C,l):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(L,a,z,Z,C,l),this.emit("missingKey",L,a,z,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?k.forEach(L=>{const z=this.pluralResolver.getSuffixes(L,l);P&&l[`defaultValue${this.options.pluralSeparator}zero`]&&z.indexOf(`${this.options.pluralSeparator}zero`)<0&&z.push(`${this.options.pluralSeparator}zero`),z.forEach(K=>{M([L],d+K,l[`defaultValue${K}`]||$)})}):M(k,d,$))}y=this.extendTranslation(y,r,l,p,s),I&&y===d&&this.options.appendNamespaceToMissingKey&&(y=`${a}${u}${d}`),(I||O)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}${u}${d}`:d,O?y:void 0,l))}return o?(p.res=y,p.usedParams=this.getUsedParamsDetails(l),p):y}extendTranslation(r,e,s,l,o){if(this.i18nFormat?.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const c=Qt(r)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(c){const m=r.match(this.interpolator.nestingRegexp);a=m&&m.length}let u=s.replace&&!Qt(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),r=this.interpolator.interpolate(r,u,s.lng||this.language||l.usedLng,s),c){const m=r.match(this.interpolator.nestingRegexp),h=m&&m.length;a<h&&(s.nest=!1)}!s.lng&&l&&l.res&&(s.lng=this.language||l.usedLng),s.nest!==!1&&(r=this.interpolator.nest(r,(...m)=>o?.[0]===m[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${e[0]}`),null):this.translate(...m,e),s)),s.interpolation&&this.interpolator.reset()}const i=s.postProcess||this.options.postProcess,d=Qt(i)?[i]:i;return r!=null&&d?.length&&s.applyPostProcessor!==!1&&(r=EC.handle(d,r,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),r}resolve(r,e={}){let s,l,o,i,d;return Qt(r)&&(r=[r]),r.forEach(c=>{if(this.isValidLookup(s))return;const a=this.extractFromKey(c,e),u=a.key;l=u;let m=a.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const h=e.count!==void 0&&!Qt(e.count),p=h&&!e.ordinal&&e.count===0,y=e.context!==void 0&&(Qt(e.context)||typeof e.context=="number")&&e.context!=="",x=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);m.forEach(g=>{this.isValidLookup(s)||(d=g,!B4[`${x[0]}-${g}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(B4[`${x[0]}-${g}`]=!0,this.logger.warn(`key "${l}" for languages "${x.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(w=>{if(this.isValidLookup(s))return;i=w;const v=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(v,u,w,g,e);else{let N;h&&(N=this.pluralResolver.getSuffix(w,e.count,e));const T=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(e.ordinal&&N.indexOf(D)===0&&v.push(u+N.replace(D,this.options.pluralSeparator)),v.push(u+N),p&&v.push(u+T)),y){const V=`${u}${this.options.contextSeparator||"_"}${e.context}`;v.push(V),h&&(e.ordinal&&N.indexOf(D)===0&&v.push(V+N.replace(D,this.options.pluralSeparator)),v.push(V+N),p&&v.push(V+T))}}let j;for(;j=v.pop();)this.isValidLookup(s)||(o=j,s=this.getResource(w,g,j,e))}))})}),{res:s,usedKey:l,exactUsedKey:o,usedLng:i,usedNS:d}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,e,s,l={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(r,e,s,l):this.resourceStore.getResource(r,e,s,l)}getUsedParamsDetails(r={}){const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=r.replace&&!Qt(r.replace);let l=s?r.replace:r;if(s&&typeof r.count<"u"&&(l.count=r.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!s){l={...l};for(const o of e)delete l[o]}return l}static hasDefaultValue(r){const e="defaultValue";for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&e===s.substring(0,e.length)&&r[s]!==void 0)return!0;return!1}}class U4{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ha.create("languageUtils")}getScriptPartFromCode(r){if(r=nd(r),!r||r.indexOf("-")<0)return null;const e=r.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(r){if(r=nd(r),!r||r.indexOf("-")<0)return r;const e=r.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(r){if(Qt(r)&&r.indexOf("-")>-1){let e;try{e=Intl.getCanonicalLocales(r)[0]}catch{}return e&&this.options.lowerCaseLng&&(e=e.toLowerCase()),e||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let e;return r.forEach(s=>{if(e)return;const l=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(l))&&(e=l)}),!e&&this.options.supportedLngs&&r.forEach(s=>{if(e)return;const l=this.getScriptPartFromCode(s);if(this.isSupportedCode(l))return e=l;const o=this.getLanguagePartFromCode(s);if(this.isSupportedCode(o))return e=o;e=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(r,e){if(!r)return[];if(typeof r=="function"&&(r=r(e)),Qt(r)&&(r=[r]),Array.isArray(r))return r;if(!e)return r.default||[];let s=r[e];return s||(s=r[this.getScriptPartFromCode(e)]),s||(s=r[this.formatLanguageCode(e)]),s||(s=r[this.getLanguagePartFromCode(e)]),s||(s=r.default),s||[]}toResolveHierarchy(r,e){const s=this.getFallbackCodes((e===!1?[]:e)||this.options.fallbackLng||[],r),l=[],o=i=>{i&&(this.isSupportedCode(i)?l.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return Qt(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(r))):Qt(r)&&o(this.formatLanguageCode(r)),s.forEach(i=>{l.indexOf(i)<0&&o(this.formatLanguageCode(i))}),l}}const $4={zero:0,one:1,two:2,few:3,many:4,other:5},z4={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class UV{constructor(r,e={}){this.languageUtils=r,this.options=e,this.logger=Ha.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,e){this.rules[r]=e}clearCache(){this.pluralRulesCache={}}getRule(r,e={}){const s=nd(r==="dev"?"en":r),l=e.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:s,type:l});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(s,{type:l})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),z4;if(!r.match(/-|_/))return z4;const c=this.languageUtils.getLanguagePartFromCode(r);i=this.getRule(c,e)}return this.pluralRulesCache[o]=i,i}needsPlural(r,e={}){let s=this.getRule(r,e);return s||(s=this.getRule("dev",e)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(r,e,s={}){return this.getSuffixes(r,s).map(l=>`${e}${l}`)}getSuffixes(r,e={}){let s=this.getRule(r,e);return s||(s=this.getRule("dev",e)),s?s.resolvedOptions().pluralCategories.sort((l,o)=>$4[l]-$4[o]).map(l=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${l}`):[]}getSuffix(r,e,s={}){const l=this.getRule(r,s);return l?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${l.select(e)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",e,s))}}const q4=(t,r,e,s=".",l=!0)=>{let o=AV(t,r,e);return!o&&l&&Qt(e)&&(o=Eb(t,e,s),o===void 0&&(o=Eb(r,e,s))),o},U0=t=>t.replace(/\$/g,"$$$$");class $V{constructor(r={}){this.logger=Ha.create("interpolator"),this.options=r,this.format=r?.interpolation?.format||(e=>e),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:e,escapeValue:s,useRawValueToEscape:l,prefix:o,prefixEscaped:i,suffix:d,suffixEscaped:c,formatSeparator:a,unescapeSuffix:u,unescapePrefix:m,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:x,nestingOptionsSeparator:g,maxReplaces:w,alwaysFormat:v}=r.interpolation;this.escape=e!==void 0?e:OV,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=o?Kl(o):i||"{{",this.suffix=d?Kl(d):c||"}}",this.formatSeparator=a||",",this.unescapePrefix=u?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?Kl(h):p||Kl("$t("),this.nestingSuffix=y?Kl(y):x||Kl(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=w||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(e,s)=>e?.source===s?(e.lastIndex=0,e):new RegExp(s,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,e,s,l){let o,i,d;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},a=p=>{if(p.indexOf(this.formatSeparator)<0){const w=q4(e,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,s,{...l,...e,interpolationkey:p}):w}const y=p.split(this.formatSeparator),x=y.shift().trim(),g=y.join(this.formatSeparator).trim();return this.format(q4(e,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),g,s,{...l,...e,interpolationkey:x})};this.resetRegExp();const u=l?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=l?.interpolation?.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>U0(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?U0(this.escape(p)):U0(p)}].forEach(p=>{for(d=0;o=p.regex.exec(r);){const y=o[1].trim();if(i=a(y),i===void 0)if(typeof u=="function"){const g=u(r,o,l);i=Qt(g)?g:""}else if(l&&Object.prototype.hasOwnProperty.call(l,y))i="";else if(m){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${r}`),i="";else!Qt(i)&&!this.useRawValueToEscape&&(i=O4(i));const x=p.safeValue(i);if(r=r.replace(o[0],x),m?(p.regex.lastIndex+=i.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),r}nest(r,e,s={}){let l,o,i;const d=(c,a)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const m=c.split(new RegExp(`${u}[ ]*{`));let h=`{${m[1]}`;c=m[0],h=this.interpolate(h,i);const p=h.match(/'/g),y=h.match(/"/g);((p?.length??0)%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),a&&(i={...a,...i})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${u}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;l=this.nestingRegexp.exec(r);){let c=[];i={...s},i=i.replace&&!Qt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const a=/{.*}/.test(l[1])?l[1].lastIndexOf("}")+1:l[1].indexOf(this.formatSeparator);if(a!==-1&&(c=l[1].slice(a).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),l[1]=l[1].slice(0,a)),o=e(d.call(this,l[1].trim(),i),i),o&&l[0]===r&&!Qt(o))return o;Qt(o)||(o=O4(o)),o||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${r}`),o=""),c.length&&(o=c.reduce((u,m)=>this.format(u,m,s.lng,{...s,interpolationkey:l[1].trim()}),o.trim())),r=r.replace(l[0],o),this.regexp.lastIndex=0}return r}}const zV=t=>{let r=t.toLowerCase().trim();const e={};if(t.indexOf("(")>-1){const s=t.split("(");r=s[0].toLowerCase().trim();const l=s[1].substring(0,s[1].length-1);r==="currency"&&l.indexOf(":")<0?e.currency||(e.currency=l.trim()):r==="relativetime"&&l.indexOf(":")<0?e.range||(e.range=l.trim()):l.split(";").forEach(i=>{if(i){const[d,...c]=i.split(":"),a=c.join(":").trim().replace(/^'+|'+$/g,""),u=d.trim();e[u]||(e[u]=a),a==="false"&&(e[u]=!1),a==="true"&&(e[u]=!0),isNaN(a)||(e[u]=parseInt(a,10))}})}return{formatName:r,formatOptions:e}},V4=t=>{const r={};return(e,s,l)=>{let o=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(o={...o,[l.interpolationkey]:void 0});const i=s+JSON.stringify(o);let d=r[i];return d||(d=t(nd(s),l),r[i]=d),d(e)}},qV=t=>(r,e,s)=>t(nd(e),s)(r);class VV{constructor(r={}){this.logger=Ha.create("formatter"),this.options=r,this.init(r)}init(r,e={interpolation:{}}){this.formatSeparator=e.interpolation.formatSeparator||",";const s=e.cacheInBuiltFormats?V4:qV;this.formats={number:s((l,o)=>{const i=new Intl.NumberFormat(l,{...o});return d=>i.format(d)}),currency:s((l,o)=>{const i=new Intl.NumberFormat(l,{...o,style:"currency"});return d=>i.format(d)}),datetime:s((l,o)=>{const i=new Intl.DateTimeFormat(l,{...o});return d=>i.format(d)}),relativetime:s((l,o)=>{const i=new Intl.RelativeTimeFormat(l,{...o});return d=>i.format(d,o.range||"day")}),list:s((l,o)=>{const i=new Intl.ListFormat(l,{...o});return d=>i.format(d)})}}add(r,e){this.formats[r.toLowerCase().trim()]=e}addCached(r,e){this.formats[r.toLowerCase().trim()]=V4(e)}format(r,e,s,l={}){const o=e.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(d=>d.indexOf(")")>-1)){const d=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,d)].join(this.formatSeparator)}return o.reduce((d,c)=>{const{formatName:a,formatOptions:u}=zV(c);if(this.formats[a]){let m=d;try{const h=l?.formatParams?.[l.interpolationkey]||{},p=h.locale||h.lng||l.locale||l.lng||s;m=this.formats[a](d,p,{...u,...l,...h})}catch(h){this.logger.warn(h)}return m}else this.logger.warn(`there was no format function for ${a}`);return d},r)}}const HV=(t,r)=>{t.pending[r]!==void 0&&(delete t.pending[r],t.pendingCount--)};class WV extends am{constructor(r,e,s,l={}){super(),this.backend=r,this.store=e,this.services=s,this.languageUtils=s.languageUtils,this.options=l,this.logger=Ha.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,l.backend,l)}queueLoad(r,e,s,l){const o={},i={},d={},c={};return r.forEach(a=>{let u=!0;e.forEach(m=>{const h=`${a}|${m}`;!s.reload&&this.store.hasResourceBundle(a,m)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,u=!1,i[h]===void 0&&(i[h]=!0),o[h]===void 0&&(o[h]=!0),c[m]===void 0&&(c[m]=!0)))}),u||(d[a]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(c)}}loaded(r,e,s){const l=r.split("|"),o=l[0],i=l[1];e&&this.emit("failedLoading",o,i,e),!e&&s&&this.store.addResourceBundle(o,i,s,void 0,void 0,{skipCopy:!0}),this.state[r]=e?-1:2,e&&s&&(this.state[r]=0);const d={};this.queue.forEach(c=>{TV(c.loaded,[o],i),HV(c,r),e&&c.errors.push(e),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(a=>{d[a]||(d[a]={});const u=c.loaded[a];u.length&&u.forEach(m=>{d[a][m]===void 0&&(d[a][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(c=>!c.done)}read(r,e,s,l=0,o=this.retryTimeout,i){if(!r.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:e,fcName:s,tried:l,wait:o,callback:i});return}this.readingCalls++;const d=(a,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(a&&u&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,r,e,s,l+1,o*2,i)},o);return}i(a,u)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const a=c(r,e);a&&typeof a.then=="function"?a.then(u=>d(null,u)).catch(d):d(null,a)}catch(a){d(a)}return}return c(r,e,d)}prepareLoading(r,e,s={},l){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();Qt(r)&&(r=this.languageUtils.toResolveHierarchy(r)),Qt(e)&&(e=[e]);const o=this.queueLoad(r,e,s,l);if(!o.toLoad.length)return o.pending.length||l(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(r,e,s){this.prepareLoading(r,e,{},s)}reload(r,e,s){this.prepareLoading(r,e,{reload:!0},s)}loadOne(r,e=""){const s=r.split("|"),l=s[0],o=s[1];this.read(l,o,"read",void 0,void 0,(i,d)=>{i&&this.logger.warn(`${e}loading namespace ${o} for language ${l} failed`,i),!i&&d&&this.logger.log(`${e}loaded namespace ${o} for language ${l}`,d),this.loaded(r,i,d)})}saveMissing(r,e,s,l,o,i={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(e)){this.logger.warn(`did not save key "${s}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const c={...i,isUpdate:o},a=this.backend.create.bind(this.backend);if(a.length<6)try{let u;a.length===5?u=a(r,e,s,l,c):u=a(r,e,s,l),u&&typeof u.then=="function"?u.then(m=>d(null,m)).catch(d):d(null,u)}catch(u){d(u)}else a(r,e,s,l,d,c)}!r||!r[0]||this.store.addResource(r[0],e,s,l)}}}const H4=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let r={};if(typeof t[1]=="object"&&(r=t[1]),Qt(t[1])&&(r.defaultValue=t[1]),Qt(t[2])&&(r.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const e=t[3]||t[2];Object.keys(e).forEach(s=>{r[s]=e[s]})}return r},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),W4=t=>(Qt(t.ns)&&(t.ns=[t.ns]),Qt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Qt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),rh=()=>{},GV=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(e=>{typeof t[e]=="function"&&(t[e]=t[e].bind(t))})};class rd extends am{constructor(r={},e){if(super(),this.options=W4(r),this.services={},this.logger=Ha,this.modules={external:[]},GV(this),e&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,e),this;setTimeout(()=>{this.init(r,e)},0)}}init(r={},e){this.isInitializing=!0,typeof r=="function"&&(e=r,r={}),r.defaultNS==null&&r.ns&&(Qt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const s=H4();this.options={...s,...this.options,...W4(r)},this.options.interpolation={...s.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const l=a=>a?typeof a=="function"?new a:a:null;if(!this.options.isClone){this.modules.logger?Ha.init(l(this.modules.logger),this.options):Ha.init(null,this.options);let a;this.modules.formatter?a=this.modules.formatter:a=VV;const u=new U4(this.options);this.store=new L4(this.options.resources,this.options);const m=this.services;m.logger=Ha,m.resourceStore=this.store,m.languageUtils=u,m.pluralResolver=new UV(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),a&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(m.formatter=l(a),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new $V(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new WV(l(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(p,...y)=>{this.emit(p,...y)}),this.modules.languageDetector&&(m.languageDetector=l(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=l(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Zh(this.services,this.options),this.translator.on("*",(p,...y)=>{this.emit(p,...y)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,e||(e=rh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&a[0]!=="dev"&&(this.options.lng=a[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(a=>{this[a]=(...u)=>this.store[a](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(a=>{this[a]=(...u)=>(this.store[a](...u),this)});const d=Tu(),c=()=>{const a=(u,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(m),e(u,m)};if(this.languages&&!this.isInitialized)return a(null,this.t.bind(this));this.changeLanguage(this.options.lng,a)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),d}loadResources(r,e=rh){let s=e;const l=Qt(r)?r:this.language;if(typeof r=="function"&&(s=r),!this.options.resources||this.options.partialBundledLanguages){if(l?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const o=[],i=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(a=>{a!=="cimode"&&o.indexOf(a)<0&&o.push(a)})};l?i(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>i(c)),this.options.preload?.forEach?.(d=>i(d)),this.services.backendConnector.load(o,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(r,e,s){const l=Tu();return typeof r=="function"&&(s=r,r=void 0),typeof e=="function"&&(s=e,e=void 0),r||(r=this.languages),e||(e=this.options.ns),s||(s=rh),this.services.backendConnector.reload(r,e,o=>{l.resolve(),s(o)}),l}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&EC.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let e=0;e<this.languages.length;e++){const s=this.languages[e];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,e){this.isLanguageChangingTo=r;const s=Tu();this.emit("languageChanging",r);const l=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},o=(d,c)=>{c?this.isLanguageChangingTo===r&&(l(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve((...a)=>this.t(...a)),e&&e(d,(...a)=>this.t(...a))},i=d=>{!r&&!d&&this.services.languageDetector&&(d=[]);const c=Qt(d)?d:d&&d[0],a=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Qt(d)?[d]:d);a&&(this.language||l(a),this.translator.language||this.translator.changeLanguage(a),this.services.languageDetector?.cacheUserLanguage?.(a)),this.loadResources(a,u=>{o(u,a)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(r),s}getFixedT(r,e,s){const l=(o,i,...d)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([o,i].concat(d)):c={...i},c.lng=c.lng||l.lng,c.lngs=c.lngs||l.lngs,c.ns=c.ns||l.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||l.keyPrefix);const a=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(o)?u=o.map(m=>(typeof m=="function"&&(m=Rb(m,{...this.options,...i})),`${c.keyPrefix}${a}${m}`)):(typeof o=="function"&&(o=Rb(o,{...this.options,...i})),u=c.keyPrefix?`${c.keyPrefix}${a}${o}`:o),this.t(u,c)};return Qt(r)?l.lng=r:l.lngs=r,l.ns=e,l.keyPrefix=s,l}t(...r){return this.translator?.translate(...r)}exists(...r){return this.translator?.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,e={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=e.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const i=(d,c)=>{const a=this.services.backendConnector.state[`${d}|${c}`];return a===-1||a===0||a===2};if(e.precheck){const d=e.precheck(this,i);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(s,r)&&(!l||i(o,r)))}loadNamespaces(r,e){const s=Tu();return this.options.ns?(Qt(r)&&(r=[r]),r.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{s.resolve(),e&&e(l)}),s):(e&&e(),Promise.resolve())}loadLanguages(r,e){const s=Tu();Qt(r)&&(r=[r]);const l=this.options.preload||[],o=r.filter(i=>l.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return o.length?(this.options.preload=l.concat(o),this.loadResources(i=>{s.resolve(),e&&e(i)}),s):(e&&e(),Promise.resolve())}dir(r){if(r||(r=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!r)return"rtl";try{const l=new Intl.Locale(r);if(l&&l.getTextInfo){const o=l.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new U4(H4());return r.toLowerCase().indexOf("-latn")>1?"ltr":e.indexOf(s.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},e){return new rd(r,e)}cloneInstance(r={},e=rh){const s=r.forkResourceStore;s&&delete r.forkResourceStore;const l={...this.options,...r,isClone:!0},o=new rd(l);if((r.debug!==void 0||r.prefix!==void 0)&&(o.logger=o.logger.clone(r)),["store","services","language"].forEach(d=>{o[d]=this[d]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},s){const d=Object.keys(this.store.data).reduce((c,a)=>(c[a]={...this.store.data[a]},c[a]=Object.keys(c[a]).reduce((u,m)=>(u[m]={...c[a][m]},u),c[a]),c),{});o.store=new L4(d,l),o.services.resourceStore=o.store}return o.translator=new Zh(o.services,l),o.translator.on("*",(d,...c)=>{o.emit(d,...c)}),o.init(l,e),o.translator.options=l,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zr=rd.createInstance();Zr.createInstance=rd.createInstance;Zr.createInstance;Zr.dir;Zr.init;Zr.loadResources;Zr.reloadResources;Zr.use;Zr.changeLanguage;Zr.getFixedT;Zr.t;Zr.exists;Zr.setDefaultNamespace;Zr.hasLoadedNamespace;Zr.loadNamespaces;Zr.loadLanguages;const YV="Home",XV="Item Check",KV="Inventory Check",QV="Differences Report",ZV="Difference",JV="Show only differences",eH="Goods Receipt",tH="Goods Receipts",nH="Receipt Confirmation",rH="Receipt Confirmations",sH="Goods Receipt Supervisor",aH="Goods Receipt Creation",iH="Confirmation Supervisor",oH="Confirmation Creation",lH="Confirmation Report",cH="Goods Receipt Report",uH="Goods Receipt vs Exit",dH="Transfer vs Exit",fH="Confirmation vs Exit",hH="Picking",pH="Pickings",mH="Picking Supervisor",gH="Picking Report",bH="Start Check",yH="Check Started",xH="Check",vH="Restart Check",wH="View Check",jH="Picking Check",SH="Started By",_H="Progress",CH="Discrepancies",NH="Complete Check",kH="Checked",EH="{{count}} discrepancies found. Please review before completing.",RH="Picking check completed successfully",TH="Counting",AH="Counts",MH="Counting Supervisor",OH="Counting Report",DH="Counting Summary Report",IH="Transfer",PH="Transfers",LH="Transfer Supervisor",BH="Transfer Creation",FH="Transfer Report",UH="Transfer Confirmation",$H="Transfer Confirmations",zH="Transfer Confirmation Supervisor",qH="Transfer Confirmation Report",VH="Transfer Confirmation vs Exit Report",HH="Transfer Approval",WH="Transfer Approvals",GH="Transfers Approval",YH="Target Warehouse",XH="Source Warehouse",KH="Select target warehouse",QH="Cross-Warehouse Transfer",ZH="You must select a target warehouse",JH="Waiting for Approval",eW="Approve Transfer",tW="Reject Transfer",nW="Transfer submitted for approval",rW="This cross-warehouse transfer requires supervisor approval",sW="Rejection Reason",aW="Enter reason for rejection",iW="Are you sure you want to approve transfer #{0}?",oW="Are you sure you want to reject transfer #{0}?",lW="Transfer approved successfully",cW="Transfer rejected successfully",uW="No transfers awaiting approval",dW="Login",fW="Enter",hW="User Name",pW="Password",mW="Language",gW="Warehouse",bW="Select a warehouse",yW="Multiple warehouses available. Please select one to continue.",xW="No",vW="Yes",wW="Add",jW="Approve",SW="Reject",_W="Rejected",CW="Cancel",NW="Select",kW="Update",EW="Synchronize",RW="Finish",TW="Request Approval",AW="Create",MW="Close",OW="Accept",DW="Details",IW="Details for",PW="No details available",LW="ID",BW="Code",FW="Description",UW="Barcode",$W="New Barcode",zW="Barcodes",qW="Unknown",VW="Clear",HW="Crear Solicitud",WW="Approved",GW="Cancelled",YW="Pending Approval",XW="Approval Status",KW="Requested By",QW="Requested At",ZW="Approved By",JW="Approved At",eG="Reviewed By",tG="Reviewed At",nG="Review Comments",rG="The transfer has been successfully completed.",sG="The transfer has been successfully cancelled.",aG="You transfer request {0} has been created.",iG="Start",oG="Report",lG="Back",cG="Back to Transfer",uG="Pending",dG="Picked",fG="Available",hG="Total Items",pG="Total Open Items",mG="Detail",gG="Employee",bG="Open",yG="In Progress",xG="Finished",vG="Cancelled",wG="Processing",jG="Type",SG="Bin Location",_G="Change Bin",CG="Item",NG="Items",kG="Edit metadata",EG="Metadata",RG="Bin Locations",TG="Vendor",AG="Number",MG="Document Date",OG="Created By",DG="Status",IG="Status Date",PG="Unit",LG="Units",BG="Dozen",FG="Dozens",UG="Box",$G="Boxes",zG="Of",qG="Date",VG="From Date",HG="To Date",WG="Transaction",GG="Filters",YG="Execute",XG="Transfer Request",KG="Purchase Order",QG="Purchase Invoice",ZG="Sales Order",JG="Sales Orders",eY="Reserved Invoice",tY="Invoices",nY="Transfer Requests",rY="Transfer Number",sY="Document Number",aY="Address",iY="Supplier",oY="Supplier Name",lY="Customer",cY="Customer Name",uY="Open Quantity",dY="Bin Quantity",fY="Quantity",hY="Scanned Quantity",pY="Document Quantity",mY="Package Quantity",gY="Package Unit",bY="Pur. Unit",yY="Pack. Unit",xY="Dozen Quantity",vY="Dozen Unit",wY="Message",jY="Messages",SY="Time",_Y="Delivery",CY="Showroom",NY="In Warehouse",kY="Stock",EY="Comment",RY="Add Comment",TY="Edit Quantity",AY="Process",MY="Supervisor Code",OY="Reason",DY="Quantity in Unit",IY="Quantity in Package",PY="Package Unit",LY="Automatic",BY="Specific Documents",FY="Transfers List",UY="Documents List",$Y="Open Documents",zY="No Data",qY="Complete",VY="Less than ordered",HY="More then ordered",WY="Closed",GY="Not Received",YY="Modify Values",XY="Supervisor",KY="Select Vendor",QY="Select a vendor",ZY="Select a status",JY="Select Box",eX="Scan pickup bin location",tX="Scan destination bin location",nX="Choose Pickup Location",rX="Select source items",sX="Select Items for Transfer #{0}",aX="Choose Items for Destination",iX="Choose Bins for Destination",oX="Pick a Date",lX="Quantity in Bin",cX="No se encontraron datos de inventario",uX="Bin Check",dX="Scan Bin Location",fX="Change Bin Location",hX="Bin Location {0} not found.",pX="Show Bin Locations",mX="Could not find data for item {0}",gX="Are you sure you want to finish transfer #{0}?",bX="Picking #{0} is not valid",yX=`The status of the picking #{0} is {1}.
Cannot continue.`,xX="Picking of item {0} was successfully",vX="Picking of package {0} was successfully",wX="Picking #{0} is closed",jX="The entry #{0} is not valid",SX=`The status of the entry #{0} is {1}.
Cannot continue.`,_X="Entry #{0} is closed",CX="The transfer #{0} is not valid",NX="Transfer Items",kX="No items found",EX=`The status of the transfer #{0} is {1}.
Cannot continue.`,RX="Transfer #{0} is closed",TX="The Inventory Counting #{0} is not valid",AX=`The status of the Inventory Counting #{0} is {1}.
Cannot continue.`,MX="Inventory Counting #{0} is closed",OX="An ID must be entered",DX="A vendor must be selected",IX="A document number must be entered",PX="Duplicate values are not allowed.",LX="Item with this code already exists.",BX="Invalid ID",FX="A code must be scanned",UX="A barcode must be scanned",$X="A barcode or item must be scanned",zX='Barcode "{0}" not found',qX='Code "{0}" not found',VX=`Code returns multiple item codes:
{0}.
Request a correction in the system and try again.`,HX="No content found for bin location",WX="Bin is Empty",GX="Ready for inventory",YX="Next Action",XX="You have no pending exits or transfers.",KX="You have no pending pickings.",QX="Search by number, orders, invoices, transfers, or comments...",ZX="No results found for your search.",JX="You have no pending goods receipts.",eK="You have no pending confirmations.",tK="You have no pending inventory counting.",nK="You have no pending transfers.",rK="Invalid Code",sK="Store in Warehouse",aK="Separate for Customer Delivery",iK="Send to Showroom",oK="Separate for Supervisor",lK="Confirm box number",cK="Transaction {0} is not in progress",uK="Transaction {0}, Line {1} is not open",dK="Invalid cancellation status",fK="Wrong supervisor password",hK="The entered code is not a supervisor code",pK="Quantity exceeds available stock. Please enter a quantity that does not exceed the available inventory.",mK="Quantity exceeds bin available stock for item {0}",gK='Customer "{0}" is marked as "Accepts only closed packages"',bK="No data found",yK="Multiple Items Detected",xK="Unknown error",vK="The {0} #{1} {2}",wK="does not exist",jK="is not open",SK="Picking #{0} still has open quantity",_K="Picking update #{0} was successfully",CK="Picking cancel #{0} was successfully",NK="You do not have authorization to view any menu options.",kK="Scan an item or barcode to start",EK="Enter the document ID",RK="Confirm Action",TK="Are you sure you want to approve document #{0}?",AK="Are you sure you want to cancel document #{0}?",MK="Are you sure you want to finish document #{0}?",OK="Are you sure you want to cancel transfer #{0}?",DK="Are you sure you want to finish transfer #{0}?",IK="Are you sure you want to request approval for transfer #{0}?",PK="This action cannot be reversed",LK="Are you sure that the code {1} belongs to the item {0}?",BK="Do you want to continue?",FK="Are you sure you want to remove item {0}?",UK="Invalid document number",$K="No transfers added yet",zK="No documents added yet",qK="Document Type",VK="Select document type",HK="Enter transfer number",WK="Enter document number",GK="Awaiting item count for this location.",YK="Counted",XK="Enter comments here",KK="Logout",QK="Picking completed for {{type}} #{{number}}",ZK="Unauthorized",JK="Oops! You're not authorized to view this page.",eQ="Your session has expired. Please log in again.",tQ="You don't have permission to access this resource.",nQ="Return to Home",rQ="Page Not Found",sQ="Oops! Page not found.",aQ="Line Number",iQ="Settings",oQ="Cancellation Reasons",lQ="Users",cQ="Authorization Groups",uQ="External Alerts",dQ="Search cancellation reasons...",fQ="All",hQ="Active",pQ="Inactive",mQ="Online",gQ="Offline",bQ="Online Status",yQ="Network Quality",xQ="Excellent Connection",vQ="Good Connection",wQ="Poor Connection",jQ="Offline",SQ="No internet connection",_Q="Latency",CQ="Real-time connection disconnected",NQ="Created At",kQ="Actions",EQ="Edit",RQ="No cancellation reasons found",TQ="Confirm Delete",AQ="Are you sure you want to delete cancellation reason '{{name}}'? This action cannot be undone.",MQ="Add Cancellation Reason",OQ="Edit Cancellation Reason",DQ="Code must contain only uppercase letters, numbers, and underscores",IQ="Enter name",PQ="Description is required",LQ="Description must be at least 5 characters",BQ="Description must not exceed 255 characters",FQ="Enter description",UQ="Is Active",$Q="Saving...",zQ="Save",qQ="Reset",VQ="Text",HQ="Not set",WQ="Search users...",GQ="All Warehouses",YQ="All Authorization Groups",XQ="Authorization Group",KQ="Include Inactive",QQ="Full Name",ZQ="Position",JQ="Warehouses",eZ={title:"License",status:"License Status",accountStatus:"Account Status",validity:"Validity",daysUntilExpiration:"Days Until Expiration",gracePeriod:"Grace Period",expirationDate:"Expiration Date",demoExpirationDate:"Demo Expiration Date",lastValidation:"Last Validation",daysRemaining:"{{days}} days remaining",warning:{paymentDue:"Payment is due. Please contact support.",paymentStatusUnknown:"Payment status unknown. System will be disabled in {{days}} days.",accountExpiresIn:"Account expires in {{days}} days. Please renew.",licenseIssueDetected:"License issue detected. Please contact support.",unknown:"Unknown license issue"},queue:{title:"Queue Status",status:"Status",synced:"Synced",pending:"Pending",disconnected:"Disconnected",pendingEvents:"Pending Events",cloudService:"Cloud Service",lastChecked:"Last Checked",forceSync:"Force Sync",pendingTitle:"Pending Events",pendingDescription:"There are {{count}} pending events waiting to be synchronized.",serviceUnavailable:"Service Unavailable",serviceUnavailableDescription:"The cloud service is currently unavailable. Events will be queued until the service is restored."}},tZ="Super User",nZ="Disable",rZ="Enable",sZ="No users found",aZ="Are you sure you want to delete user '{{name}}'? This action cannot be undone.",iZ="Add User",oZ="Edit User",lZ="Full name is required",cZ="Full name must be at least 2 characters",uZ="Full name must not exceed 100 characters",dZ="Enter full name",fZ="Invalid email format",hZ="Enter email",pZ="Enter position",mZ="Password is required",gZ="Password must be at least 6 characters",bZ="Leave empty to keep current password",yZ="Enter new password",xZ="Enter password",vZ="Select authorization group",wZ="None",jZ="Super users have access to all system functions",SZ="Import from External User",_Z="Select external user",CZ="Create manually",NZ="External ID",kZ="External User",EZ="External User ID",RZ="At least one warehouse must be selected",TZ="Search authorization groups...",AZ="Name",MZ={title:"Authorizations",itemManagement:"Item Management",itemManagementDescription:"Manage item data, barcodes, and metadata",itemManagementSupervisor:"Item Management Supervisor",itemManagementSupervisorDescription:"Supervise item management operations and generate reports",roleGoodsReceipt:"Goods Receipt",roleGoodsReceiptDescription:"Process incoming goods and update inventory",roleGoodsReceiptSupervisor:"Goods Receipt Supervisor",roleGoodsReceiptSupervisorDescription:"Supervise goods receipt operations and generate reports",roleGoodsReceiptConfirmation:"Goods Receipt Confirmation",roleGoodsReceiptConfirmationDescription:"Confirm and validate received goods",roleGoodsReceiptConfirmationSupervisor:"Goods Receipt Confirmation Supervisor",roleGoodsReceiptConfirmationSupervisorDescription:"Supervise goods receipt confirmation processes",rolePicking:"Picking",rolePickingDescription:"Pick items for orders and shipments",rolePickingSupervisor:"Picking Supervisor",rolePickingSupervisorDescription:"Supervise picking operations and manage assignments",rolePickingCheck:"Picking Check",rolePickingCheckDescription:"Verify and validate picked items for accuracy",roleCounting:"Inventory Counting",roleCountingDescription:"Perform physical inventory counts and cycle counts",roleCountingSupervisor:"Counting Supervisor",roleCountingSupervisorDescription:"Supervise inventory counting activities and resolve discrepancies",roleTransfer:"Transfer",roleTransferDescription:"Move inventory between locations and warehouses",roleTransferSupervisor:"Transfer Supervisor",roleTransferSupervisorDescription:"Supervise transfer operations and approve movements",roleTransferConfirmation:"Transfer Confirmation",roleTransferConfirmationDescription:"Confirm and validate completed transfers",roleTransferConfirmationSupervisor:"Transfer Confirmation Supervisor",roleTransferConfirmationSupervisorDescription:"Supervise transfer confirmation processes and resolve discrepancies"},OZ="System",DZ="Operations",IZ="Supervision",PZ="Administration",LZ="Roles",BZ="No roles",FZ="No authorization groups found",UZ="Cannot delete system authorization groups",$Z="Are you sure you want to delete authorization group '{{name}}'? This action cannot be undone.",zZ="Add Authorization Group",qZ="Edit Authorization Group",VZ="No external alerts found",HZ="Are you sure you want to delete this external alert? This action cannot be undone.",WZ="Add External Alert",GZ="Configure alerts for external system users per object type.",YZ="Object Type",XZ="Select User",KZ="Please select a user",QZ="Pick List",ZZ="Confirmation Adjustments",JZ="Pick List Cancellation",eJ="An alert for this object type and user already exists",tJ="Name is required",nJ="Name must be at least 2 characters",rJ="Name must not exceed 100 characters",sJ="Enter group name",aJ="Enter group description",iJ="Select All",oJ="At least one authorization must be selected",lJ="Email address",cJ="Bin is a required parameter",uJ="Quantity is a required parameter",dJ="UnitType is a required parameter",fJ="lineId is a required parameter",hJ="ItemCode is a required parameter",pJ="BarCode is a required parameter",mJ="Item Code {0} was not found in the database",gJ="The BarCode {0} does not match with Item {1} BarCode",bJ="Transaction with ID {0} does not exists in the system",yJ="Bin Location {0} was not found in the database",xJ="Bin Location {0} is not current warehouse Warehouses",vJ="Bin is a required parameter",wJ="Item {0}, Bar Code {1} is not enabled in the warehouse",jJ="Item {0}, Bar Code {1} is not a inventory managed item",SJ="Selected quantity for item {0} is more than available quantity",_J="Item {0}, Bar Code {1} is not a purchase item",CJ="WMS Transaction #{0}",NJ="WMS Transaction",kJ="Draft Number",EJ="Item {0}, Bar Code {1} was not found in transaction specific documents",RJ="Inventory Counting",TJ="Inventory Transfer",AJ="Purchase Delivery Note",MJ="Draft",OJ="No valid source purchase document found for item {0}",DJ="Released quantity from item {0} is less then added quantity",IJ="Selected quantity for current item is less then available quantity",PJ="Selected quantity for item {0} is less then available quantity",LJ="PickEntry is a required parameter",BJ="Item Details",FJ="Document",UJ="Purchasing UoM",$J="Packaging UoM",zJ="No lines found in selected document for current connected warehouse",qJ="Document has been processed",VJ="Error during login",HJ="Invalid password or account disabled",WJ="Item {0} was not found in Picking {1}",GJ="Item {0} was not found in Picking {1}, Bin {2}",YJ="Are you sure you want to cancel picking #{0}?",XJ="Package {{barcode}} was not found in the system.",KJ="Package {{barcode}} is not assigned to current document.",QJ="Current Package",ZJ="Create new package",JJ="Scan Package Mode",eee="Scan Item Mode",tee="Scan Package",nee="New Package",ree="Multiple Boxes not implemented yet",see="Select Unit",aee="Barcode is required",iee="Clear Package",oee="Unload Package",lee={totalLocations:"Total Locations",totalBoxes:"Total Boxes",mixedBoxes:"Mixed Boxes",units:{box:{label:"Pack",multiple:"Packs",abbr:"P"},dozen:{label:"Dozen",multiple:"Dozens",abbr:"D"},unit:{label:"Unit",multiple:"Units",abbr:"U"}}},cee="Overview",uee="Active Modules",dee="Packages Check",fee={packages:"Packages",packageCheck:"Package Check",packageScanner:"Package Scanner",scanPackageBarcode:"Scan package barcode",packageStatus:"Package Status",packageContents:"Package Contents",noPackageContentFound:"No package content found",packageNotFound:"Package not found",packageLocation:"Package Location",packageCreated:"Created",packageClosed:"Closed",totalItemsInPackage:"Total Items in Package",packageBarcode:"Package Barcode",uniqueItems:"Unique Items",totalQuantity:"Total Quantity",unitType:"Unit Type",binCode:"Bin Code",whsCode:"Warehouse Code",itemName:"Item Name",status:{init:"Initialized",active:"Active",closed:"Closed",cancelled:"Cancelled",locked:"Locked"},metadata:"Metadata",noMetadataFieldsConfigured:"No metadata fields configured",noMetadataValues:"No metadata values set",enterValue:"Enter",editMetadata:"Edit metadata"},hee="Calculated",pee="Formula",mee="Depends on",gee="Note",bee="Manual editing this field will clear all dependent calculated fields",yee="Editable",xee="Scan",vee="Internet Signal Lost",wee="Please check your internet connection and try again.",jee="New device detected. Please provide a name for this device to continue.",See="Device Name",_ee="Enter a device name (max 100 characters)",Cee="This device name is already taken. Please choose a different name.",Nee="Devices",kee="Device Details",Eee="Device Information",Ree="Device UUID",Tee="Registration Date",Aee="Status Notes",Mee="Audit History",Oee="No audit history available",Dee="View Details",Iee="Update Status",Pee="Change Name",Lee="Update Device Status",Bee="Change Device Name",Fee="Current Status",Uee="New Status",$ee="New Device Name",zee="Reason is required",qee="Reason must be at least 10 characters",Vee="Reason must not exceed 500 characters",Hee="Enter reason for status change",Wee="Status is required",Gee="Please select a different status",Yee="Select status",Xee="Device name is required",Kee="Device name must be at least 3 characters",Qee="Device name must not exceed 100 characters",Zee="Please enter a different name",Jee="Enter new device name",ete="Updating...",tte="Search devices...",nte="All Statuses",rte="No devices found",ste="From",ate="To",ite="New device name is used in another device",ote="No reason provided",lte={invalid:"Your account status is invalid. Please contact support.",paymentDue:"Payment is due for your account. Please update your payment method.",paymentDueUnknown:"Payment status is unknown. Please contact support to verify your account.",demo:"You are using a demo account with limited features.",demoExpired:"Your demo account has expired. Please contact support to upgrade.",disabled:"Your account has been disabled. Please contact support."},cte={inactive:"Your device is currently inactive. Please contact your administrator.",disabled:"Your device has been disabled. Please contact your administrator.",activateDevice:"Activate Device",activateDeviceTitle:"Activate Device",activateDeviceDescription:"Please provide a reason for activating this device.",reasonRequired:"Reason is required",reasonMinLength:"Reason must be at least 10 characters",reasonMaxLength:"Reason must not exceed 500 characters",reasonLabel:"Reason",reasonPlaceholder:"Enter the reason for activating this device...",activating:"Activating...",activate:"Activate",activationError:"Failed to activate device. Please try again."},ute="Refresh",dte="Valid",fte="Invalid",hte="Expired",pte="Loading...",mte="Warning",gte="Error",bte="Syncing...",yte="Unavailable",xte="Package is already counted in another bin location",vte="Package with code {{code}} not found",wte="View Contents",jte="No package contents found",Ste="Package {{barcode}} is already added as source to this transfer",_te="Enter Value",Cte="Item was not found in any of the source documents",Nte="Processing Item",kte="Loading Values",Ete="Processing",Rte="Retry",Tte="Connection Error",Ate="Cannot establish connection to server",Mte="Notifications",Ote="No notifications",Dte="Mark all as read",Ite="Pending",Pte="Approved",Lte="Rejected",Bte={home:YV,itemCheck:XV,inventoryCheck:KV,differencesReport:QV,difference:ZV,showOnlyDifferences:JV,goodsReceipt:eH,goodsReceipts:tH,receiptConfirmation:nH,receiptConfirmations:rH,goodsReceiptSupervisor:sH,goodsReceiptCreation:aH,goodsReceiptConfirmationSupervisor:iH,goodsReceiptConfirmationCreation:oH,confirmationReport:lH,goodsReceiptReport:cH,goodsReceiptVSExit:uH,transferVSExit:dH,confirmationReceiptVSExit:fH,picking:hH,pickings:pH,pickSupervisor:mH,pickReport:gH,startCheck:bH,checkStarted:yH,check:xH,restartCheck:vH,viewCheck:wH,pickingCheck:jH,startedBy:SH,progress:_H,discrepancies:CH,completeCheck:NH,checked:kH,checkDiscrepanciesFound:EH,pickingCheckComplete:RH,counting:TH,counts:AH,countingSupervisor:MH,countingReport:OH,countingSummaryReport:DH,transfer:IH,transfers:PH,transferSupervisor:LH,transferCreation:BH,transferReport:FH,transferConfirmation:UH,transfersConfirmations:$H,transferConfirmationSupervisor:zH,transferConfirmationReport:qH,transferConfirmationVSExitReport:VH,transferApproval:HH,transferApprovals:WH,transfersApproval:GH,targetWarehouse:YH,sourceWarehouse:XH,selectTargetWarehouse:KH,crossWarehouseTransfer:QH,mustSelectDifferentWarehouse:ZH,waitingForApprovalStatus:JH,approveTransfer:eW,rejectTransfer:tW,transferSubmittedForApproval:nW,transferApprovalRequired:rW,rejectionReason:sW,enterRejectionReason:aW,confirmApproveTransfer:iW,confirmRejectTransfer:oW,transferApprovedSuccess:lW,transferRejectedSuccess:cW,noTransfersAwaitingApproval:uW,login:dW,enter:fW,username:hW,password:pW,language:mW,warehouse:gW,selectWarehouse:bW,multipleWarehousesAvailable:yW,no:xW,yes:vW,add:wW,approve:jW,reject:SW,rejected:_W,cancel:CW,delete:"Delete",select:NW,update:kW,sync:EW,finish:RW,requestApproval:TW,create:AW,close:MW,accept:OW,details:DW,detailsFor:IW,noDetailsAvailable:PW,id:LW,code:BW,description:FW,barcode:UW,newBarcode:$W,barcodes:zW,unknown:qW,clear:VW,createRequest:HW,approved:WW,cancelled:GW,pendingApproval:YW,approvalStatus:XW,requestedBy:KW,requestedAt:QW,approvedBy:ZW,approvedAt:JW,reviewedBy:eG,reviewedAt:tG,reviewComments:nG,transferApproved:rG,transferCancelled:sG,transferRequestCreated:aG,start:iG,report:oG,back:lG,backToTransfer:cG,pending:uG,picked:dG,available:fG,totalItems:hG,totalOpenItems:pG,detail:mG,employee:gG,openStatus:bG,inProgressStatus:yG,finishedStatus:xG,cancelledStatus:vG,processingStatus:wG,type:jG,bin:SG,changeBin:_G,item:CG,items:NG,editMetadata:kG,metadata:EG,binLocations:RG,vendor:TG,number:AG,docDate:MG,createdBy:OG,status:DG,statusDate:IG,unit:PG,units:LG,dozen:BG,dozens:FG,box:UG,boxes:$G,of:zG,date:qG,fromDate:VG,toDate:HG,transaction:WG,filters:GG,execute:YG,transferRequest:XG,purchaseOrder:KG,purchaseInvoice:QG,salesOrder:ZG,salesOrders:JG,reservedInvoice:eY,invoices:tY,transferRequests:nY,transferNumber:rY,documentNumber:sY,address:aY,supplier:iY,supplierName:oY,customer:lY,customerName:cY,openQuantity:uY,binQuantity:dY,quantity:fY,scannedQuantity:hY,documentQuantity:pY,packageQuantity:mY,packageUnit:gY,buyUnit:bY,packUnit:yY,dozenQuantity:xY,dozenUnit:vY,message:wY,messages:jY,time:SY,delivery:_Y,showroom:CY,inWarehouse:NY,stock:kY,comment:EY,addComment:RY,editQuantity:TY,process:AY,supervisorCode:MY,reason:OY,qtyInUn:DY,qtyInPack:IY,packUn:PY,automatic:LY,specificDocuments:BY,transfersList:FY,documentsList:UY,openDocuments:$Y,nodata:zY,complete:qY,lessThenOrdered:VY,moreThenOrdered:HY,closed:WY,notReceived:GY,modifyValues:YY,supervisor:XY,selectVendor:KY,selectVendorPlaceholder:QY,selectStatusPlaceholder:ZY,selectBox:JY,scanTransferSourceBin:eX,scanTransferTargetBin:tX,selectTransferSource:nX,selectSourceItems:rX,selectItemsForTransfers:sX,selectTransferTargetItems:aX,selectTransferTargetBins:iX,pickADate:oX,quantityInBin:lX,noStockDataFound:cX,binCheck:uX,scanBinLocation:dX,changeBinLocation:fX,binLocationNotFound:hX,showBinLocations:pX,transferItemNotFound:mX,createTransferConfirm:gX,pickingNotFound:bX,pickingStatusError:yX,pickingProcessSuccess:xX,pickingPackageSuccess:vX,pickedIsClosed:wX,goodsReceiptNotFound:jX,goodsReceiptStatusError:SX,goodsReceiptIsClosed:_X,transferNotFound:CX,transferItems:NX,noItemsFound:kX,transferStatusError:EX,transferIsClosed:RX,countingNotFound:TX,countingStatusError:AX,countingIsClosed:MX,idRequired:OX,vendorRequired:DX,documentRequired:IX,duplicateNotAllowed:PX,duplicateItems:LX,invalidID:BX,scanCodeRequired:FX,barCodeRequired:UX,barcodeOrItemRequired:$X,barcodeNotFound:zX,codeNotFound:qX,multipleItemsError:VX,noBinContentFound:HX,binIsEmpty:WX,readyForInventory:GX,nextAction:YX,noExitData:XX,noPickingData:KX,searchPickings:QX,noSearchResults:ZX,noGoodsReceiptData:JX,noConfirmationData:eK,noCountingData:tK,noTransferData:nK,invalidScanCode:rK,scanConfirmStoreInWarehouse:sK,scanConfirmFulfillment:aK,scanConfirmShowroom:iK,scanConfirmSupervisor:oK,scanConfirmBoxNumber:lK,updateLineStatusError:cK,updateLineLineStatusError:uK,updateLineReason:dK,updateLineWrongSupervisorPassword:fK,updateLineNotSupervisorError:hK,updateLineQuantityMoreThenAvailableError:pK,binQuantityExceedError:mK,pickPackOnlyError:gK,noDataFound:bK,multipleItemsDetected:yK,unknownError:xK,badDocumentError:vK,doesNotExists:wK,isNotOpen:jK,pickOpenQuantityAlert:SK,pickingUpdateSuccess:_K,pickingCancelSuccess:CK,noAuthorizationOptions:NK,scanItemBarCodeStart:kK,enterDocumentId:EK,confirmAction:RK,confirmApproveDocument:TK,confirmCancelDocument:AK,confirmFinishDocument:MK,confirmCancelTransfer:OK,confirmFinishTransfer:DK,confirmRequestApprovalTransfer:IK,actionCannotReverse:PK,confirmItemBarCode:LK,confirmContinue:BK,confirmRemoveItem:FK,invalidDocumentNumber:UK,noTransfersAdded:$K,noDocumentsAdded:zK,documentType:qK,selectDocumentType:VK,enterTransferNumber:HK,enterDocumentNumber:WK,binCountItems:GK,counted:YK,enterCommentsHere:XK,logout:KK,pickingCompletedFor:QK,unauthorized:ZK,unauthorizedMessage:JK,unauthorizedMessage401:eQ,unauthorizedMessage403:tQ,returnToHome:nQ,notFound:rQ,notFoundMessage:sQ,lineNumber:aQ,settings:iQ,cancellationReasons:oQ,users:lQ,authorizationGroups:cQ,externalAlerts:uQ,searchCancellationReasons:dQ,all:fQ,active:hQ,inactive:pQ,online:mQ,offline:gQ,onlineStatus:bQ,networkQuality:yQ,networkExcellent:xQ,networkGood:vQ,networkPoor:wQ,networkOffline:jQ,networkOfflineDesc:SQ,latency:_Q,signalrDisconnected:CQ,createdAt:NQ,actions:kQ,edit:EQ,noCancellationReasonsFound:RQ,confirmDelete:TQ,confirmDeleteCancellationReason:AQ,addCancellationReason:MQ,editCancellationReason:OQ,codePattern:DQ,enterName:IQ,descriptionRequired:PQ,descriptionMinLength:LQ,descriptionMaxLength:BQ,enterDescription:FQ,isActive:UQ,saving:$Q,save:zQ,reset:qQ,text:VQ,notSet:HQ,searchUsers:WQ,allWarehouses:GQ,allAuthorizationGroups:YQ,authorizationGroup:XQ,includeInactive:KQ,fullName:QQ,position:ZQ,warehouses:JQ,license:eZ,superUser:tZ,disable:nZ,enable:rZ,noUsersFound:sZ,confirmDeleteUser:aZ,addUser:iZ,editUser:oZ,fullNameRequired:lZ,fullNameMinLength:cZ,fullNameMaxLength:uZ,enterFullName:dZ,invalidEmailFormat:fZ,enterEmail:hZ,enterPosition:pZ,passwordRequired:mZ,passwordMinLength:gZ,leaveEmptyToKeepCurrent:bZ,enterNewPassword:yZ,enterPassword:xZ,selectAuthorizationGroup:vZ,none:wZ,superUserDescription:jZ,importFromExternalUser:SZ,selectExternalUser:_Z,createManually:CZ,externalId:NZ,externalUser:kZ,externalUserId:EZ,atLeastOneWarehouseRequired:RZ,searchAuthorizationGroups:TZ,name:AZ,authorizations:MZ,system:OZ,operations:DZ,supervision:IZ,administration:PZ,roles:LZ,noRoles:BZ,noAuthorizationGroupsFound:FZ,cannotDeleteSystemGroup:UZ,confirmDeleteAuthorizationGroup:$Z,addAuthorizationGroup:zZ,editAuthorizationGroup:qZ,noExternalAlertsFound:VZ,confirmDeleteExternalAlert:HZ,addExternalAlert:WZ,addExternalAlertDescription:GZ,objectType:YZ,selectUser:XZ,pleaseSelectUser:KZ,pickList:QZ,confirmationAdjustments:ZZ,pickListCancellation:JZ,alertAlreadyExists:eJ,nameRequired:tJ,nameMinLength:nJ,nameMaxLength:rJ,enterGroupName:sJ,enterGroupDescription:aJ,selectAll:iJ,atLeastOneAuthorizationRequired:oJ,email:lJ,binIsRequired:cJ,quantityIsRequired:uJ,unitTypeIsRequired:dJ,lineIdIsRequired:fJ,itemCodeIsRequired:hJ,barcodeIsRequired:pJ,itemCodeNotFound:mJ,itemCodeBarCodeMismatch:gJ,transactionIDNotExists:bJ,binNotExists:yJ,binNotInWarehouse:xJ,binMissing:vJ,itemNotInWarehouse:wJ,notStockItem:jJ,quantityMoreAvailable:SJ,itemBarcodeNotPurchaseItem:_J,wmsTransactionAlert:CJ,wmsTransaction:NJ,draftNumber:kJ,itemBarcodeWasNotFoundInTransactionDocuments:EJ,inventoryCounting:RJ,inventoryTransfer:TJ,purchaseDeliveryNote:AJ,draft:MJ,noValidSourcePurchaseDocumentFound:OJ,releasedQuantityFromItemIsLess:DJ,quantityMoreThanAvailableCurrent:IJ,quantityMoreThanAvailable:PJ,pickEntryIsRequired:LJ,itemDetails:BJ,document:FJ,purchasingUoM:UJ,packagingUoM:$J,noLinesForWarehouse:zJ,documentProcessed:qJ,loginError:VJ,invalidGrant:HJ,itemEntryNotFoundPicking:WJ,itemEntryNotFoundPickingBin:GJ,confirmCancelPick:YJ,scanPackageNotFound:XJ,scanPackageSourceDoc:KJ,currentPackage:QJ,createNewPackage:ZJ,scanPackageMode:JJ,scanItemMode:eee,scanPackage:tee,newPackage:nee,multipleBoxesNotImplemented:ree,selectUnit:see,barcodeRequired:aee,clearPackage:iee,unloadPackage:oee,package:"Package",inventory:lee,dashboardOverview:cee,activeModules:uee,packagesCheck:dee,packages:fee,calculated:hee,formula:pee,dependsOn:mee,note:gee,manualEditWillClearDependents:bee,editable:yee,scan:xee,offlineTitle:vee,offlineMessage:wee,newDeviceDetected:jee,deviceName:See,enterDeviceName:_ee,deviceNameTaken:Cee,devices:Nee,deviceDetails:kee,deviceInformation:Eee,deviceUuid:Ree,registrationDate:Tee,statusNotes:Aee,auditHistory:Mee,noAuditHistory:Oee,viewDetails:Dee,updateStatus:Iee,changeName:Pee,updateDeviceStatus:Lee,changeDeviceName:Bee,currentStatus:Fee,newStatus:Uee,newDeviceName:$ee,reasonRequired:zee,reasonMinLength:qee,reasonMaxLength:Vee,enterReasonForStatusChange:Hee,statusRequired:Wee,selectDifferentStatus:Gee,selectStatus:Yee,deviceNameRequired:Xee,deviceNameMinLength:Kee,deviceNameMaxLength:Qee,enterDifferentName:Zee,enterNewDeviceName:Jee,updating:ete,searchDevices:tte,allStatuses:nte,noDevicesFound:rte,from:ste,to:ate,deviceNameAlreadyInUse:ite,noReasonProvided:ote,accountStatusBanner:lte,deviceStatusBanner:cte,refresh:ute,valid:dte,invalid:fte,expired:hte,loading:pte,warning:mte,error:gte,syncing:bte,unavailable:yte,packageAlreadyCounted:xte,packageNotFoundWithCode:vte,viewContents:wte,noPackageContents:jte,packageAlreadyAddedAsSource:Ste,enterValue:_te,itemNotFoundInSource:Cte,processingItem:Nte,loadingValues:kte,processing:Ete,retry:Rte,connectionError:Tte,cannotEstablishConnection:Ate,notifications:Mte,noNotifications:Ote,markAllAsRead:Dte,alertPending:Ite,alertApproved:Pte,alertRejected:Lte},Fte="Inicio",Ute="Revision de Articulo",$te="Revision de Inventario",zte="Reporte de Diferencias",qte="Diferencia",Vte="Mostrar solo diferencias",Hte="Entrada",Wte="Entradas",Gte="Confirmacin de Entrada",Yte="Confirmaciones de Entradas",Xte="Supervisor de Entradas",Kte="Creacin de Entradas",Qte="Supervisor de Confirmaciones",Zte="Confirmaciones",Jte="Reporte de Confirmaciones",ene="Reporte de Entradas",tne="Reporte de Entradas vs Salida",nne="Transferencia vs Salida",rne="Confirmaciones vs Salida",sne="Picking",ane="Pickings",ine="Supervisor de Picking",one="Reporte de Picking",lne="Iniciar Verificacin",cne="Verificacin Iniciada",une="Verificacin",dne="Reiniciar Verificacin",fne="Ver Verificacin",hne="Verificacin de Picking",pne="Iniciado por",mne="Progreso",gne="Discrepancias",bne="Completar Verificacin",yne="Verificado",xne="{{count}} discrepancias encontradas. Por favor revise antes de completar.",vne="Verificacin de picking completada exitosamente",wne="Conteo",jne="Conteos",Sne="Supervisor Conteo",_ne="Reporte Conteo",Cne="Reporte Resumen Conteo",Nne="Transferencia",kne="Transferencias",Ene="Supervisor Transferencia",Rne="Creacin de Transferencia",Tne="Reporte Transferencia",Ane="Confirmacin Transferencia",Mne="Confirmaciones Transferencias",One="Supervisor Confirmacin Transferencia",Dne="Reporte Confirmaciones Transferencia",Ine="Reporte Confirmaciones Transferencia vs Salida",Pne="Aprobacin de Transferencia",Lne="Aprobaciones de Transferencias",Bne="Aprobaciones de Transferencias",Fne="Almacn Destino",Une="Almacn Origen",$ne="Seleccione almacn destino",zne="Transferencia entre Almacenes",qne="Debe seleccionar un almacn destino",Vne="Esperando Aprobacin",Hne="Aprobar Transferencia",Wne="Rechazar Transferencia",Gne="Transferencia enviada para aprobacin",Yne="Esta transferencia entre almacenes requiere aprobacin de supervisor",Xne="Razn de Rechazo",Kne="Ingrese razn para el rechazo",Qne="Est seguro que desea aprobar la transferencia #{0}?",Zne="Est seguro que desea rechazar la transferencia #{0}?",Jne="Transferencia aprobada exitosamente",ere="Transferencia rechazada exitosamente",tre="No hay transferencias esperando aprobacin",nre="Entrada de Usuario",rre="Entrar",sre="Usuario",are="Contrasea",ire="Lenguaje",ore="Almacn",lre="Seleccione un almacn",cre="Mltiples almacenes disponibles. Por favor seleccione uno para continuar.",ure="No",dre="S",fre="Agregar",hre="Aprobar",pre="Rechazar",mre="Rechazado",gre="Cancelar",bre="Seleccione",yre="Actualizar",xre="Sincronizar",vre="Finalizar",wre="Solicitar Aprobacin",jre="Crear",Sre="Cerrar",_re="Aceptar",Cre="Detalles",Nre="Detalles para",kre="No hay detalles disponibles",Ere="Identificacin",Rre="Cdigo de Barra",Tre="Nuevo Cdigo",Are="Cdigos de Barra",Mre="Desconocido",Ore="Borrar",Dre="Create Request",Ire="Aprobado",Pre="Cancelado",Lre="Pendiente de Aprobacin",Bre="Estado de Aprobacin",Fre="Solicitado Por",Ure="Solicitado El",$re="Aprobado Por",zre="Aprobado El",qre="Revisado Por",Vre="Revisado El",Hre="Comentarios de Revisin",Wre="La transferencia ha sido finalizado con xito.",Gre="La transferencia ha sido cancelado con xito.",Yre="Se ha creado su solicitud de transferencia {0}.",Xre="Iniciar",Kre="Reporte",Qre="Regresar",Zre="Regresar a Transferencia",Jre="Pendiente",ese="Seleccionada",tse="Disponible",nse="Total Artculos",rse="Total Artculos Abiertos",sse="Detalle",ase="Empleado",ise="Abierto",ose="En Proceso",lse="Finalizado",cse="Cancelado",use="Procesando",dse="Tipo",fse="Ubicacin",hse="Seleccin de Ubicacin",pse="Articulo",mse="Artculos",gse="Editar metadatos",bse="Metadatos",yse="Proveedor",xse="Nmero",vse="Fecha",wse="Creado Por",jse="Fecha de Estado",Sse="Unidad",_se="Unidades",Cse="Docena",Nse="Docenas",kse="Caja",Ese="Cajas",Rse="de",Tse="Fecha",Ase="Fecha Desde",Mse="Fecha Hasta",Ose="Transaccin",Dse="Filtros",Ise="Ejecutar",Pse="Solicitud de Transferencia",Lse="Orden de Compra",Bse="Factura de Compra",Fse="Orden de Venta",Use="Ordenes de Venta",$se="Factura Reservada",zse="Facturas",qse="Solicitudes de Transferencia",Vse="Nmero de Transferencia",Hse="Numero de Documento",Wse="Direccin",Gse="Proveedor",Yse="Nombre del Proveedor",Xse="Cliente",Kse="Nombre de Cliente",Qse="Cantidad Abierta",Zse="Cantidad Ubicacin",Jse="Cantidad",eae="Cantidad Escaneada",tae="Cantidad Documento",nae="Cantidad de Empaque",rae="Unidad de Empaque",sae="Un. Compra",aae="Un. Emp",iae="Cantidad de Docenas",oae="Unidad de Docenas",lae="Mensaje",cae="Mensajes",uae="Tiempo",dae="Entrega",fae="Showroom",hae="En Bodega",pae="Inventario",mae="Comentario",gae="Agregar Comentario",bae="Editar Cantidad",yae="Procesar",xae="Codigo de Supervisor",vae="Razn",wae="Cantidad en Unidad",jae="Cantidad en Empaque",Sae="Unidad de Empaque",_ae="Automtico",Cae="Documentos Especficos",Nae="Lista de Transferencias",kae="Lista de Documentos",Eae="Documentos Abiertos",Rae="No hay datos",Tae="Completado",Aae="Menos de Ordenado",Mae="Ms de Ordenado",Oae="Cerrado",Dae="No Recibido",Iae="Modificar Values",Pae="Supervisor",Lae="Seleccione el Proveedor",Bae="Seleccione un proveedor",Fae="Seleccione un estado",Uae="Seleccione la Caja",$ae="Escanear la ubicacin de recogida",zae="Escanear la ubicacin de destino",qae="Elija la ubicacin de recogida",Vae="Seleccionar artculos de origen",Hae="Seleccionar artculos para transferencia #{0}",Wae="Elija artculos para el destino",Gae="Elija ubicaciones para el destino",Yae="Seleccione una fecha",Xae="Cantidad en Ubicacin",Kae="No se encontraron datos de inventario",Qae="Revision de Ubicacin",Zae="Escanear la Ubicacin",Jae="Cambiar Ubicacin",eie="Ubicacin del contenedor {0} no encontrada.",tie="Mostrar Ubicaciones",nie="No se pudo encontrar datos para el artculo {0}",rie="Est seguro de que desea finalizar la transferencia #{0}?",sie="Picking #{0} no es vlido",aie=`El estado del picking #{0} es {1}.
No se puede continuar.`,iie="La seleccin del artculo {0} se realiz con xito.",oie="La seleccin del paquete {0} se realiz con xito.",lie="Picking #{0} esta cerrado",cie="La entrada #{0} no es vlida",uie=`El estado de la entrada #{0} es {1}.
No se puede continuar.`,die="Entrada #{0} esta cerrada",fie="La transferencia #{0} no es vlida",hie="Artculos de Transferencia",pie="No se encontraron artculos",mie=`El estado de la transferencia #{0} es {1}.
No se puede continuar.`,gie="Transferencia #{0} esta cerrada",bie="El Conteo de Inventario #{0} no es vlida",yie=`El estado del Conteo de Inventario #{0} es {1}.
No se puede continuar.`,xie="Conteo de Inventario #{0} esta cerrado",vie="Debe introducir una identificacin",wie="Debe seleccionar el proveedor",jie="Debe introducir el numero de documento",Sie="Valores duplicados no son permitidos.",_ie="El artculo con este cdigo ya existe.",Cie="Identificacin Invlida",Nie="Debe escanear un cdigo",kie="Debe escanear un cdigo de barra",Eie="Debe escanear un cdigo de barra or articulo",Rie='No se encontr el cdigo de barra "{0}"',Tie='No se encontr el cdigo "{0}"',Aie=`Cdigo retorn mltiples cdigos de artculos:
{0}.
Solicite la correccin en el sistema e intente de nuevo.`,Mie="No se encontraron datos de ubicacin",Oie="Ubicacin Vaca",Die="Lista para inventario",Iie="Siguiente Accin",Pie="No tiene salidas o transferencias pendientes.",Lie="No tiene picking pendientes.",Bie="Buscar por nmero, rdenes, facturas, transferencias o comentarios...",Fie="No se encontraron resultados para su bsqueda.",Uie="No tiene entradas pendientes.",$ie="No tiene confirmaciones pendientes.",zie="No tiene conteos de inventario pendientes.",qie="No tiene transferencias pendientes.",Vie="Cdigo Errneo",Hie="Guardar en Bodega",Wie="Separar para Entrega a Cliente",Gie="Enviar a Showroom",Yie="Separar para Supervisor",Xie="Confirmar numero de caja",Kie="Transaccin {0} no esta en proceso",Qie="Transaccin {0}, Linea {1} no esta en abierta",Zie="Estado de cancelacin invalido",Jie="Contrasea de supervisin errnea",eoe="El cdigo introducido no es de un supervisor",toe="La cantidad excede el stock disponible. Por favor, introduzca una cantidad que no supere el inventario disponible.",noe="La cantidad excede el stock disponible en ubicacin para el artculo {0}",roe='El cliente "{0}" est marcado como "Acepta solo paquetes cerrados"',soe="No se encontr datos",aoe="Multiples Artculos Detectados",ioe="Error desconocido",ooe="La {0} #{1} {2}",loe="no existe",coe="no esta abierta",uoe="El Picking #{0} an tiene cantidad pendiente",doe="La actualizacin del Picking #{0} se realiz con xito",foe="La cancelacin del Picking #{0} se realiz con xito",hoe="No tienes autorizacin para ver ninguna opcin del men.",poe="Escanee un artculo o cdigo de barras para comenzar",moe="Introduzca el ID del documento",goe="Confirmar Accin",boe="Est seguro que desea aprobar el documento #{0}?",yoe="Est seguro que desea cancelar el documento #{0}?",xoe="Est seguro que desea finalizar el documento #{0}?",voe="Est seguro que desea cancelar la transferencia #{0}?",woe="Est seguro que desea finalizar la transferencia #{0}?",joe="Est seguro que desea solicitar aprobacin para la transferencia #{0}?",Soe="Esta accin no se puede revertir",_oe="Esta seguro que el cdigo {1} le pertenece al articulo {0}?",Coe="Est seguro que desea continuar?",Noe="Est seguro de que quiere eliminar el artculo {0}?",koe="Nmero de documento invlido",Eoe="No se han agregado transferencias an",Roe="No se han agregado documentos an",Toe="Tipo de Documento",Aoe="Seleccione el tipo de documento",Moe="Ingrese el nmero de transferencia",Ooe="Ingrese el nmero de documento",Doe="En espera del conteo de artculos para esta ubicacin.",Ioe="Contado",Poe="Ingrese comentarios aqu",Loe="Cerrar Sesin",Boe="Picking completado para el artculo {{type}} #{{number}}",Foe="No Autorizado",Uoe="Oops! No ests autorizado para ver esta pgina.",$oe="Tu sesin ha expirado. Por favor, inicia sesin nuevamente.",zoe="No tienes permisos para acceder a este recurso.",qoe="Regresar a Inicio",Voe="Pgina no Encontrada",Hoe="Oops! Pgina no encontrada.",Woe="Nmero de Lnea",Goe="Configuracin",Yoe="Motivos de Cancelacin",Xoe="Usuarios",Koe="Grupos de Autorizacin",Qoe="Alertas Externas",Zoe="Buscar motivos de cancelacin...",Joe="Estado",ele="Todos",tle="Activo",nle="Inactivo",rle="En Lnea",sle="Desconectado",ale="Estado de Conexin",ile="Calidad de Red",ole="Conexin Excelente",lle="Conexin Buena",cle="Conexin Deficiente",ule="Sin Conexin",dle="Sin conexin a internet",fle="Latencia",hle="Conexin en tiempo real desconectada",ple="Cdigo",mle="Descripcin",gle="Creado en",ble="Acciones",yle="Editar",xle="No se encontraron motivos de cancelacin",vle="Confirmar Eliminacin",wle="Est seguro de que desea eliminar el motivo de cancelacin '{{name}}'? Esta accin no se puede deshacer.",jle="Agregar Motivo de Cancelacin",Sle="Editar Motivo de Cancelacin",_le="El cdigo debe contener solo letras maysculas, nmeros y guiones bajos",Cle="Ingrese el nombre",Nle="La descripcin es requerida",kle="La descripcin debe tener al menos 5 caracteres",Ele="La descripcin no debe exceder 255 caracteres",Rle="Ingrese la descripcin",Tle="Est Activo",Ale="Guardando...",Mle="Guardar",Ole="Restablecer",Dle="Texto",Ile="Sin establecer",Ple="Buscar usuarios...",Lle="Todos los Almacenes",Ble="Todos los Grupos de Autorizacin",Fle="Grupo de Autorizacin",Ule="Incluir Inactivos",$le="Nombre Completo",zle="Cargo",qle="Almacenes",Vle={title:"Licencia",status:"Estado de Licencia",accountStatus:"Estado de Cuenta",validity:"Validez",daysUntilExpiration:"Das Hasta Expiracin",gracePeriod:"Perodo de Gracia",expirationDate:"Fecha de Expiracin",demoExpirationDate:"Fecha de Expiracin de Demo",lastValidation:"ltima Validacin",daysRemaining:"{{days}} das restantes",warning:{paymentDue:"Pago pendiente. Por favor, contacte al soporte.",paymentStatusUnknown:"Estado de pago desconocido. El sistema ser deshabilitado en {{days}} das.",accountExpiresIn:"La cuenta expira en {{days}} das. Por favor, renueve.",licenseIssueDetected:"Se detect un problema de licencia. Por favor, contacte al soporte.",unknown:"Problema de licencia desconocido"},queue:{title:"Estado de Cola",status:"Estado",synced:"Sincronizado",pending:"Pendiente",disconnected:"Desconectado",pendingEvents:"Eventos Pendientes",cloudService:"Servicio en la Nube",lastChecked:"ltima Verificacin",forceSync:"Sincronizar Forzado",pendingTitle:"Eventos Pendientes",pendingDescription:"Hay {{count}} eventos pendientes esperando a ser sincronizados.",serviceUnavailable:"Servicio No Disponible",serviceUnavailableDescription:"El servicio en la nube no est disponible actualmente. Los eventos se pondrn en cola hasta que el servicio se restaure."}},Hle="Super Usuario",Wle="Deshabilitar",Gle="Habilitar",Yle="No se encontraron usuarios",Xle="Est seguro de que desea eliminar el usuario '{{name}}'? Esta accin no se puede deshacer.",Kle="Agregar Usuario",Qle="Editar Usuario",Zle="El nombre completo es requerido",Jle="El nombre completo debe tener al menos 2 caracteres",ece="El nombre completo no debe exceder 100 caracteres",tce="Ingrese el nombre completo",nce="Formato de email invlido",rce="Ingrese el email",sce="Ingrese el cargo",ace="La contrasea es requerida",ice="La contrasea debe tener al menos 6 caracteres",oce="Deje vaco para mantener la contrasea actual",lce="Ingrese nueva contrasea",cce="Ingrese contrasea",uce="Seleccione grupo de autorizacin",dce="Ninguno",fce="Ubicaciones de Bin",hce="Los super usuarios tienen acceso a todas las funciones del sistema",pce="Importar de Usuario Externo",mce="Seleccionar usuario externo",gce="Crear manualmente",bce="ID Externo",yce="Usuario Externo",xce="ID de Usuario Externo",vce="Al menos un almacn debe ser seleccionado",wce="Buscar grupos de autorizacin...",jce="Nombre",Sce={title:"Autorizaciones",itemManagement:"Gestin de Artculos",itemManagementDescription:"Gestionar datos de artculos, cdigos de barras y metadatos",itemManagementSupervisor:"Supervisor de Gestin de Artculos",itemManagementSupervisorDescription:"Supervisar operaciones de gestin de artculos y generar reportes",roleGoodsReceipt:"Entrada de Mercancas",roleGoodsReceiptDescription:"Procesar mercancas entrantes y actualizar inventario",roleGoodsReceiptSupervisor:"Supervisor de Entrada de Mercancas",roleGoodsReceiptSupervisorDescription:"Supervisar operaciones de entrada de mercancas y generar reportes",roleGoodsReceiptConfirmation:"Confirmacin de Entrada de Mercancas",roleGoodsReceiptConfirmationDescription:"Confirmar y validar mercancas recibidas",roleGoodsReceiptConfirmationSupervisor:"Supervisor de Confirmacin de Entrada",roleGoodsReceiptConfirmationSupervisorDescription:"Supervisar procesos de confirmacin de entrada de mercancas",rolePicking:"Picking",rolePickingDescription:"Seleccionar artculos para rdenes y envos",rolePickingSupervisor:"Supervisor de Picking",rolePickingSupervisorDescription:"Supervisar operaciones de picking y gestionar asignaciones",rolePickingCheck:"Verificacin de Picking",rolePickingCheckDescription:"Verificar y validar artculos seleccionados para precisin",roleCounting:"Conteo de Inventario",roleCountingDescription:"Realizar conteos fsicos de inventario y conteos cclicos",roleCountingSupervisor:"Supervisor de Conteo",roleCountingSupervisorDescription:"Supervisar actividades de conteo de inventario y resolver discrepancias",roleTransfer:"Transferencia",roleTransferDescription:"Mover inventario entre ubicaciones y almacenes",roleTransferSupervisor:"Supervisor de Transferencia",roleTransferSupervisorDescription:"Supervisar operaciones de transferencia y aprobar movimientos",roleTransferConfirmation:"Confirmacin de Transferencia",roleTransferConfirmationDescription:"Confirmar y validar transferencias completadas",roleTransferConfirmationSupervisor:"Supervisor de Confirmacin de Transferencia",roleTransferConfirmationSupervisorDescription:"Supervisar procesos de confirmacin de transferencia y resolver discrepancias"},_ce="Sistema",Cce="Operaciones",Nce="Supervisin",kce="Administracin",Ece="Roles",Rce="Sin roles",Tce="No se encontraron grupos de autorizacin",Ace="No se pueden eliminar grupos de autorizacin del sistema",Mce="Est seguro de que desea eliminar el grupo de autorizacin '{{name}}'? Esta accin no se puede deshacer.",Oce="Agregar Grupo de Autorizacin",Dce="Editar Grupo de Autorizacin",Ice="No se encontraron alertas externas",Pce="Est seguro de que desea eliminar esta alerta externa? Esta accin no se puede deshacer.",Lce="Agregar Alerta Externa",Bce="Configurar alertas para usuarios de sistemas externos por tipo de objeto.",Fce="Tipo de Objeto",Uce="Seleccionar Usuario",$ce="Por favor seleccione un usuario",zce="Lista de Picking",qce="Ajustes de Confirmacin",Vce="Cancelacin de Picking",Hce="Ya existe una alerta para este tipo de objeto y usuario",Wce="El nombre es requerido",Gce="El nombre debe tener al menos 2 caracteres",Yce="El nombre no debe exceder 100 caracteres",Xce="Ingrese el nombre del grupo",Kce="Ingrese la descripcin del grupo",Qce="Seleccionar Todo",Zce="Al menos una autorizacin debe ser seleccionada",Jce="Correo electrnico",eue="Bin es un parmetro requerido",tue="Cantidad es un parmetro requerido",nue="Tipo de Unidad es un parmetro requerido",rue="lineId es un parmetro requerido",sue='El parmetro "ItemCode" (Cdigo de Artculo) es obligatorio',aue='El parmetro "BarCode" (Cdigo de Barra) es obligatorio',iue="El cdigo de artculo {0} no se encontr en la base de datos",oue="El cdigo de barras {0} no coincide con el cdigo de barras del artculo {1}",lue="La transaccin con ID {0} no existe en el sistema",cue="La ubicacin {0} no se encontr en la base de datos",uue="La ubicacin {0} no est en los almacenes del almacn actual",due="Bin es un parmetro requerido",fue="Artculo {0}, Cdigo de Barras {1} no est habilitado en el almacn",hue="Artculo {0}, Cdigo de Barras {1} no es un artculo gestionado por inventario",pue="La cantidad seleccionada para el artculo {0} es mayor que la cantidad disponible",mue="Artculo {0}, Cdigo de Barras {1} no es un artculo de compra",gue="Transaccin de WMS #{0}",bue="Transaccin WMS",yue="Nmero Borrador",xue="Artculo {0}, Cdigo de Barras {1} no fue encontrado en los documentos especficos de la transaccin",vue="Conteo de Inventario",wue="Transferencia de Inventario",jue="Entrada de Mercanca",Sue="Borrador",_ue="No se encontr documento de compra fuente vlido para el artculo {0}",Cue="La cantidad liberada del artculo {0} es menor que la cantidad agregada",Nue="La cantidad seleccionada para el artculo actual es menor que la cantidad disponible",kue="La cantidad seleccionada para el artculo {0} es menor que la cantidad disponible",Eue='El parmetro "PickEntry" es obligatorio',Rue="Detalles del Artculo",Tue="Documento",Aue="Unidad de medida de compras",Mue="Unidad de medida de embalaje",Oue="No se encontraron lneas en el documento seleccionado para el almacn conectado actual",Due="El documento ha sido procesado",Iue="Error durante el inicio de sesin",Pue="Contrasea invlida o cuenta deshabilitada",Lue="Artculo {0} no fue encontrado en el Picking {1}",Bue="Artculo {0} no fue encontrado en el Picking {1}, Ubicacin {2}",Fue="Est seguro que desea cancelar el picking #{0}?",Uue="El paquete {{barcode}} no fue encontrado en el sistema.",$ue="El paquete {{barcode}} no esta asignado al document {{number}}.",zue="Paquete Actual",que="Crear nuevo paquete",Vue="Modo Escanear Paquete",Hue="Modo Escanear Artculo",Wue="Escanear Paquete",Gue="Nuevo Paquete",Yue="Mltiples cajas no implementado an",Xue="Seleccionar Unidad",Kue="Se requiere cdigo de barras",Que="Limpiar Paquete",Zue="Liberar Paquete",Jue={totalLocations:"Total Ubicaciones",totalBoxes:"Total Paquetes",mixedBoxes:"Paquetes Mixtos",units:{box:{label:"Caja",multiple:"Cajas",abbr:"C"},dozen:{label:"Docena",multiple:"Docenas",abbr:"D"},unit:{label:"Unidad",multiple:"Unidades",abbr:"U"}}},ede="Resumen",tde="Mdulos Activos",nde="Revision de Paquetes",rde={packages:"Packages",packageCheck:"Revisin de Paquetes",packageScanner:"Escner de Paquetes",scanPackageBarcode:"Escanear cdigo de barras del paquete",packageStatus:"Estado del Paquete",packageContents:"Contenido del Paquete",noPackageContentFound:"No se encontr contenido del paquete",packageNotFound:"Paquete no encontrado",packageLocation:"Ubicacin del Paquete",packageCreated:"Creado",packageClosed:"Cerrado",totalItemsInPackage:"Total de Artculos en el Paquete",packageBarcode:"Cdigo de Barras del Paquete",uniqueItems:"Artculos nicos",totalQuantity:"Cantidad Total",unitType:"Tipo de Unidad",binCode:"Cdigo de Bin",whsCode:"Cdigo de Almacn",itemName:"Nombre del Artculo",status:{init:"Inicializado",active:"Activo",closed:"Cerrado",cancelled:"Cancelado",locked:"Bloqueado"},metadata:"Metadatos",noMetadataFieldsConfigured:"No hay campos de metadatos configurados",noMetadataValues:"No se han establecido valores de metadatos",enterValue:"Ingrese",editMetadata:"Editar metadatos"},sde="Calculado",ade="Frmula",ide="Depende de",ode="Nota",lde="Editar manualmente este campo borrar todos los campos calculados dependientes",cde="Editable",ude="Escanear",dde="Seal de Internet Perdida",fde="Por favor verifique su conexin a internet e intente de nuevo.",hde="Nuevo dispositivo detectado. Por favor proporcione un nombre para este dispositivo para continuar.",pde="Nombre del Dispositivo",mde="Ingrese un nombre de dispositivo (mximo 100 caracteres)",gde="Este nombre de dispositivo ya est en uso. Por favor elija un nombre diferente.",bde="Dispositivos",yde="Detalles del Dispositivo",xde="Informacin del Dispositivo",vde="UUID del Dispositivo",wde="Fecha de Registro",jde="Notas de Estado",Sde="Historial de Auditora",_de="No hay historial de auditora disponible",Cde="Ver Detalles",Nde="Actualizar Estado",kde="Cambiar Nombre",Ede="Actualizar Estado del Dispositivo",Rde="Cambiar Nombre del Dispositivo",Tde="Estado Actual",Ade="Nuevo Estado",Mde="Nuevo Nombre del Dispositivo",Ode="La razn es requerida",Dde="La razn debe tener al menos 10 caracteres",Ide="La razn no debe exceder 500 caracteres",Pde="Ingrese la razn para el cambio de estado",Lde="El estado es requerido",Bde="Por favor seleccione un estado diferente",Fde="Seleccionar estado",Ude="El nombre del dispositivo es requerido",$de="El nombre del dispositivo debe tener al menos 3 caracteres",zde="El nombre del dispositivo no debe exceder 100 caracteres",qde="Por favor ingrese un nombre diferente",Vde="Ingrese el nuevo nombre del dispositivo",Hde="Actualizando...",Wde="Buscar dispositivos...",Gde="Todos los Estados",Yde="No se encontraron dispositivos",Xde="De",Kde="A",Qde="El nuevo nombre del dispositivo ya est en uso en otro dispositivo",Zde="No se proporcion razn",Jde={invalid:"El estado de su cuenta es invlido. Por favor contacte al soporte.",paymentDue:"Su cuenta tiene un pago pendiente. Por favor actualice su mtodo de pago.",paymentDueUnknown:"El estado de pago es desconocido. Por favor contacte al soporte para verificar su cuenta.",demo:"Est usando una cuenta de demostracin con funciones limitadas.",demoExpired:"Su cuenta de demostracin ha expirado. Por favor contacte al soporte para actualizar.",disabled:"Su cuenta ha sido deshabilitada. Por favor contacte al soporte."},efe={inactive:"Su dispositivo est actualmente inactivo. Por favor contacte a su administrador.",disabled:"Su dispositivo ha sido deshabilitado. Por favor contacte a su administrador.",activateDevice:"Activar Dispositivo",activateDeviceTitle:"Activar Dispositivo",activateDeviceDescription:"Por favor proporcione una razn para activar este dispositivo.",reasonRequired:"La razn es requerida",reasonMinLength:"La razn debe tener al menos 10 caracteres",reasonMaxLength:"La razn no debe exceder 500 caracteres",reasonLabel:"Razn",reasonPlaceholder:"Ingrese la razn para activar este dispositivo...",activating:"Activando...",activate:"Activar",activationError:"Error al activar el dispositivo. Por favor intente de nuevo."},tfe="Actualizar",nfe="Vlido",rfe="Invlido",sfe="Expirado",afe="Cargando...",ife="Advertencia",ofe="Error",lfe="Sincronizando...",cfe="No disponible",ufe="El paquete ya est contado en otra ubicacin",dfe="Paquete con cdigo {{code}} no encontrado",ffe="Ver Contenidos",hfe="No se encontraron contenidos del paquete",pfe="El paquete {{barcode}} ya est agregado como fuente a esta transferencia",mfe="Ingrese valor",gfe="El artculo no fue encontrado en ninguno de los documentos fuente",bfe="Procesando Articulo",yfe="Cargando Valores",xfe="Procesando",vfe="Reintentar",wfe="Error de Conexin",jfe="No se puede establecer conexin con el servidor",Sfe="Notificaciones",_fe="Sin notificaciones",Cfe="Marcar todo como ledo",Nfe="Pendiente",kfe="Aprobado",Efe="Rechazado",Rfe={home:Fte,itemCheck:Ute,inventoryCheck:$te,differencesReport:zte,difference:qte,showOnlyDifferences:Vte,goodsReceipt:Hte,goodsReceipts:Wte,receiptConfirmation:Gte,receiptConfirmations:Yte,goodsReceiptSupervisor:Xte,goodsReceiptCreation:Kte,goodsReceiptConfirmationSupervisor:Qte,goodsReceiptConfirmationCreation:Zte,confirmationReport:Jte,goodsReceiptReport:ene,goodsReceiptVSExit:tne,transferVSExit:nne,confirmationReceiptVSExit:rne,picking:sne,pickings:ane,pickSupervisor:ine,pickReport:one,startCheck:lne,checkStarted:cne,check:une,restartCheck:dne,viewCheck:fne,pickingCheck:hne,startedBy:pne,progress:mne,discrepancies:gne,completeCheck:bne,checked:yne,checkDiscrepanciesFound:xne,pickingCheckComplete:vne,counting:wne,counts:jne,countingSupervisor:Sne,countingReport:_ne,countingSummaryReport:Cne,transfer:Nne,transfers:kne,transferSupervisor:Ene,transferCreation:Rne,transferReport:Tne,transferConfirmation:Ane,transfersConfirmations:Mne,transferConfirmationSupervisor:One,transferConfirmationReport:Dne,transferConfirmationVSExitReport:Ine,transferApproval:Pne,transferApprovals:Lne,transfersApproval:Bne,targetWarehouse:Fne,sourceWarehouse:Une,selectTargetWarehouse:$ne,crossWarehouseTransfer:zne,mustSelectDifferentWarehouse:qne,waitingForApprovalStatus:Vne,approveTransfer:Hne,rejectTransfer:Wne,transferSubmittedForApproval:Gne,transferApprovalRequired:Yne,rejectionReason:Xne,enterRejectionReason:Kne,confirmApproveTransfer:Qne,confirmRejectTransfer:Zne,transferApprovedSuccess:Jne,transferRejectedSuccess:ere,noTransfersAwaitingApproval:tre,login:nre,enter:rre,username:sre,password:are,language:ire,warehouse:ore,selectWarehouse:lre,multipleWarehousesAvailable:cre,no:ure,yes:dre,add:fre,approve:hre,reject:pre,rejected:mre,cancel:gre,delete:"Eliminar",select:bre,update:yre,sync:xre,finish:vre,requestApproval:wre,create:jre,close:Sre,accept:_re,details:Cre,detailsFor:Nre,noDetailsAvailable:kre,id:Ere,barcode:Rre,newBarcode:Tre,barcodes:Are,unknown:Mre,clear:Ore,createRequest:Dre,approved:Ire,cancelled:Pre,pendingApproval:Lre,approvalStatus:Bre,requestedBy:Fre,requestedAt:Ure,approvedBy:$re,approvedAt:zre,reviewedBy:qre,reviewedAt:Vre,reviewComments:Hre,transferApproved:Wre,transferCancelled:Gre,transferRequestCreated:Yre,start:Xre,report:Kre,back:Qre,backToTransfer:Zre,pending:Jre,picked:ese,available:tse,totalItems:nse,totalOpenItems:rse,detail:sse,employee:ase,openStatus:ise,inProgressStatus:ose,finishedStatus:lse,cancelledStatus:cse,processingStatus:use,type:dse,bin:fse,changeBin:hse,item:pse,items:mse,editMetadata:gse,metadata:bse,vendor:yse,number:xse,docDate:vse,createdBy:wse,statusDate:jse,unit:Sse,units:_se,dozen:Cse,dozens:Nse,box:kse,boxes:Ese,of:Rse,date:Tse,fromDate:Ase,toDate:Mse,transaction:Ose,filters:Dse,execute:Ise,transferRequest:Pse,purchaseOrder:Lse,purchaseInvoice:Bse,salesOrder:Fse,salesOrders:Use,reservedInvoice:$se,invoices:zse,transferRequests:qse,transferNumber:Vse,documentNumber:Hse,address:Wse,supplier:Gse,supplierName:Yse,customer:Xse,customerName:Kse,openQuantity:Qse,binQuantity:Zse,quantity:Jse,scannedQuantity:eae,documentQuantity:tae,packageQuantity:nae,packageUnit:rae,buyUnit:sae,packUnit:aae,dozenQuantity:iae,dozenUnit:oae,message:lae,messages:cae,time:uae,delivery:dae,showroom:fae,inWarehouse:hae,stock:pae,comment:mae,addComment:gae,editQuantity:bae,process:yae,supervisorCode:xae,reason:vae,qtyInUn:wae,qtyInPack:jae,packUn:Sae,automatic:_ae,specificDocuments:Cae,transfersList:Nae,documentsList:kae,openDocuments:Eae,nodata:Rae,complete:Tae,lessThenOrdered:Aae,moreThenOrdered:Mae,closed:Oae,notReceived:Dae,modifyValues:Iae,supervisor:Pae,selectVendor:Lae,selectVendorPlaceholder:Bae,selectStatusPlaceholder:Fae,selectBox:Uae,scanTransferSourceBin:$ae,scanTransferTargetBin:zae,selectTransferSource:qae,selectSourceItems:Vae,selectItemsForTransfers:Hae,selectTransferTargetItems:Wae,selectTransferTargetBins:Gae,pickADate:Yae,quantityInBin:Xae,noStockDataFound:Kae,binCheck:Qae,scanBinLocation:Zae,changeBinLocation:Jae,binLocationNotFound:eie,showBinLocations:tie,transferItemNotFound:nie,createTransferConfirm:rie,pickingNotFound:sie,pickingStatusError:aie,pickingProcessSuccess:iie,pickingPackageSuccess:oie,pickedIsClosed:lie,goodsReceiptNotFound:cie,goodsReceiptStatusError:uie,goodsReceiptIsClosed:die,transferNotFound:fie,transferItems:hie,noItemsFound:pie,transferStatusError:mie,transferIsClosed:gie,countingNotFound:bie,countingStatusError:yie,countingIsClosed:xie,idRequired:vie,vendorRequired:wie,documentRequired:jie,duplicateNotAllowed:Sie,duplicateItems:_ie,invalidID:Cie,scanCodeRequired:Nie,barCodeRequired:kie,barcodeOrItemRequired:Eie,barcodeNotFound:Rie,codeNotFound:Tie,multipleItemsError:Aie,noBinContentFound:Mie,binIsEmpty:Oie,readyForInventory:Die,nextAction:Iie,noExitData:Pie,noPickingData:Lie,searchPickings:Bie,noSearchResults:Fie,noGoodsReceiptData:Uie,noConfirmationData:$ie,noCountingData:zie,noTransferData:qie,invalidScanCode:Vie,scanConfirmStoreInWarehouse:Hie,scanConfirmFulfillment:Wie,scanConfirmShowroom:Gie,scanConfirmSupervisor:Yie,scanConfirmBoxNumber:Xie,updateLineStatusError:Kie,updateLineLineStatusError:Qie,updateLineReason:Zie,updateLineWrongSupervisorPassword:Jie,updateLineNotSupervisorError:eoe,updateLineQuantityMoreThenAvailableError:toe,binQuantityExceedError:noe,pickPackOnlyError:roe,noDataFound:soe,multipleItemsDetected:aoe,unknownError:ioe,badDocumentError:ooe,doesNotExists:loe,isNotOpen:coe,pickOpenQuantityAlert:uoe,pickingUpdateSuccess:doe,pickingCancelSuccess:foe,noAuthorizationOptions:hoe,scanItemBarCodeStart:poe,enterDocumentId:moe,confirmAction:goe,confirmApproveDocument:boe,confirmCancelDocument:yoe,confirmFinishDocument:xoe,confirmCancelTransfer:voe,confirmFinishTransfer:woe,confirmRequestApprovalTransfer:joe,actionCannotReverse:Soe,confirmItemBarCode:_oe,confirmContinue:Coe,confirmRemoveItem:Noe,invalidDocumentNumber:koe,noTransfersAdded:Eoe,noDocumentsAdded:Roe,documentType:Toe,selectDocumentType:Aoe,enterTransferNumber:Moe,enterDocumentNumber:Ooe,binCountItems:Doe,counted:Ioe,enterCommentsHere:Poe,logout:Loe,pickingCompletedFor:Boe,unauthorized:Foe,unauthorizedMessage:Uoe,unauthorizedMessage401:$oe,unauthorizedMessage403:zoe,returnToHome:qoe,notFound:Voe,notFoundMessage:Hoe,lineNumber:Woe,settings:Goe,cancellationReasons:Yoe,users:Xoe,authorizationGroups:Koe,externalAlerts:Qoe,searchCancellationReasons:Zoe,status:Joe,all:ele,active:tle,inactive:nle,online:rle,offline:sle,onlineStatus:ale,networkQuality:ile,networkExcellent:ole,networkGood:lle,networkPoor:cle,networkOffline:ule,networkOfflineDesc:dle,latency:fle,signalrDisconnected:hle,code:ple,description:mle,createdAt:gle,actions:ble,edit:yle,noCancellationReasonsFound:xle,confirmDelete:vle,confirmDeleteCancellationReason:wle,addCancellationReason:jle,editCancellationReason:Sle,codePattern:_le,enterName:Cle,descriptionRequired:Nle,descriptionMinLength:kle,descriptionMaxLength:Ele,enterDescription:Rle,isActive:Tle,saving:Ale,save:Mle,reset:Ole,text:Dle,notSet:Ile,searchUsers:Ple,allWarehouses:Lle,allAuthorizationGroups:Ble,authorizationGroup:Fle,includeInactive:Ule,fullName:$le,position:zle,warehouses:qle,license:Vle,superUser:Hle,disable:Wle,enable:Gle,noUsersFound:Yle,confirmDeleteUser:Xle,addUser:Kle,editUser:Qle,fullNameRequired:Zle,fullNameMinLength:Jle,fullNameMaxLength:ece,enterFullName:tce,invalidEmailFormat:nce,enterEmail:rce,enterPosition:sce,passwordRequired:ace,passwordMinLength:ice,leaveEmptyToKeepCurrent:oce,enterNewPassword:lce,enterPassword:cce,selectAuthorizationGroup:uce,none:dce,binLocations:fce,superUserDescription:hce,importFromExternalUser:pce,selectExternalUser:mce,createManually:gce,externalId:bce,externalUser:yce,externalUserId:xce,atLeastOneWarehouseRequired:vce,searchAuthorizationGroups:wce,name:jce,authorizations:Sce,system:_ce,operations:Cce,supervision:Nce,administration:kce,roles:Ece,noRoles:Rce,noAuthorizationGroupsFound:Tce,cannotDeleteSystemGroup:Ace,confirmDeleteAuthorizationGroup:Mce,addAuthorizationGroup:Oce,editAuthorizationGroup:Dce,noExternalAlertsFound:Ice,confirmDeleteExternalAlert:Pce,addExternalAlert:Lce,addExternalAlertDescription:Bce,objectType:Fce,selectUser:Uce,pleaseSelectUser:$ce,pickList:zce,confirmationAdjustments:qce,pickListCancellation:Vce,alertAlreadyExists:Hce,nameRequired:Wce,nameMinLength:Gce,nameMaxLength:Yce,enterGroupName:Xce,enterGroupDescription:Kce,selectAll:Qce,atLeastOneAuthorizationRequired:Zce,email:Jce,binIsRequired:eue,quantityIsRequired:tue,unitTypeIsRequired:nue,lineIdIsRequired:rue,itemCodeIsRequired:sue,barcodeIsRequired:aue,itemCodeNotFound:iue,itemCodeBarCodeMismatch:oue,transactionIDNotExists:lue,binNotExists:cue,binNotInWarehouse:uue,binMissing:due,itemNotInWarehouse:fue,notStockItem:hue,quantityMoreAvailable:pue,itemBarcodeNotPurchaseItem:mue,wmsTransactionAlert:gue,wmsTransaction:bue,draftNumber:yue,itemBarcodeWasNotFoundInTransactionDocuments:xue,inventoryCounting:vue,inventoryTransfer:wue,purchaseDeliveryNote:jue,draft:Sue,noValidSourcePurchaseDocumentFound:_ue,releasedQuantityFromItemIsLess:Cue,quantityMoreThanAvailableCurrent:Nue,quantityMoreThanAvailable:kue,pickEntryIsRequired:Eue,itemDetails:Rue,document:Tue,purchasingUoM:Aue,packagingUoM:Mue,noLinesForWarehouse:Oue,documentProcessed:Due,loginError:Iue,invalidGrant:Pue,itemEntryNotFoundPicking:Lue,itemEntryNotFoundPickingBin:Bue,confirmCancelPick:Fue,scanPackageNotFound:Uue,scanPackageSourceDoc:$ue,currentPackage:zue,createNewPackage:que,scanPackageMode:Vue,scanItemMode:Hue,scanPackage:Wue,newPackage:Gue,multipleBoxesNotImplemented:Yue,selectUnit:Xue,barcodeRequired:Kue,clearPackage:Que,unloadPackage:Zue,package:"Paquete",inventory:Jue,dashboardOverview:ede,activeModules:tde,packagesCheck:nde,packages:rde,calculated:sde,formula:ade,dependsOn:ide,note:ode,manualEditWillClearDependents:lde,editable:cde,scan:ude,offlineTitle:dde,offlineMessage:fde,newDeviceDetected:hde,deviceName:pde,enterDeviceName:mde,deviceNameTaken:gde,devices:bde,deviceDetails:yde,deviceInformation:xde,deviceUuid:vde,registrationDate:wde,statusNotes:jde,auditHistory:Sde,noAuditHistory:_de,viewDetails:Cde,updateStatus:Nde,changeName:kde,updateDeviceStatus:Ede,changeDeviceName:Rde,currentStatus:Tde,newStatus:Ade,newDeviceName:Mde,reasonRequired:Ode,reasonMinLength:Dde,reasonMaxLength:Ide,enterReasonForStatusChange:Pde,statusRequired:Lde,selectDifferentStatus:Bde,selectStatus:Fde,deviceNameRequired:Ude,deviceNameMinLength:$de,deviceNameMaxLength:zde,enterDifferentName:qde,enterNewDeviceName:Vde,updating:Hde,searchDevices:Wde,allStatuses:Gde,noDevicesFound:Yde,from:Xde,to:Kde,deviceNameAlreadyInUse:Qde,noReasonProvided:Zde,accountStatusBanner:Jde,deviceStatusBanner:efe,refresh:tfe,valid:nfe,invalid:rfe,expired:sfe,loading:afe,warning:ife,error:ofe,syncing:lfe,unavailable:cfe,packageAlreadyCounted:ufe,packageNotFoundWithCode:dfe,viewContents:ffe,noPackageContents:hfe,packageAlreadyAddedAsSource:pfe,enterValue:mfe,itemNotFoundInSource:gfe,processingItem:bfe,loadingValues:yfe,processing:xfe,retry:vfe,connectionError:wfe,cannotEstablishConnection:jfe,notifications:Sfe,noNotifications:_fe,markAllAsRead:Cfe,alertPending:Nfe,alertApproved:kfe,alertRejected:Efe},Tfe={en:{translation:Bte},es:{translation:Rfe}},Afe=new pj,Mfe=Afe.get("userLanguage"),G4=navigator.language.split("-")[0],Ofe=Mfe||(["en","es"].includes(G4)?G4:"en");Zr.use(wE).init({fallbackLng:"en",resources:Tfe,lng:Ofe,react:{useSuspense:!1}});fetch("/translations/overrides.json").then(t=>t.ok?t.json():{}).then(t=>{Object.keys(t).forEach(r=>{t[r]&&Zr.addResourceBundle(r,"translation",t[r],!0,!0)})}).catch(()=>{console.log("No translation overrides found, using default translations")});const Dfe=U8.createRoot(document.getElementById("root"));Dfe.render(n.jsx(Te.StrictMode,{children:n.jsx(XD,{children:n.jsx(kV,{})})}));
