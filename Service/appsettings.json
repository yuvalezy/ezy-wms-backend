{
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:5000",
      "http://localhost:5001",
      "http://localhost:5002",
      "http://localhost:5003",
      "http://192.168.88.24:5001",
      "http://192.168.88.24:5002"
    ]
  },
  "Logging": {
    "LogLevel": {
      "Default": "Debug",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "AllowedHosts": "*",
  "Kestrel": {
    "Endpoints": {
      "Http": {
        "Url": "http://0.0.0.0:5000"
      }
    }
  },
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=EZY_WMS_UNIT_TEST;User Id=sa;Password=alsldkfj;TrustServerCertificate=true;",
    "ExternalAdapterConnection": "Server=localhost;Database=UNIT_TEST;User Id=sa;Password=alsldkfj;TrustServerCertificate=true;"
  },
  "Jwt": {
    "Key": "1722da9b7da1c44b34b8dbf3654239eded57d36e1a9b54b4f637f3c49a1f209d0c91fd42bf4fb09b5ee2e713860f8849081ac2ccdcbb153aeb872acdc26a78212e1767f5672cbea0f218134c8c9c7c2e8745889bc74b83be9c8bbbb1e21c4044bedf3d84e5d8041b6931a4cf20298da91a51a24a9978c1fc2ffdc31c4dc22abe44e031fdd752045d176d685e39c2cfcd86acea4c38c28d96e2d323524f9e00d668159115d28547f1d17c75e07ea3dad5021a8ca94aabbac2e1efaa3020506212b1c0bc89d16510d513402e3494f24dbc8d8a9158618d2f1d61b2ed9582ba9668453ead49f61bf910c4227f617e8f0e5894d7c9a5d4bf7d2df29112f5d5288955",
    "Issuer": "EzyWMS",
    "Audience": "EzyWMS-Client",
    "ExpiresInMinutes": 60
  },
  "Options": {
    "WhsCodeBinSuffix": false,
    "GoodsReceiptDraft": false,
    "GoodsReceiptModificationsRequiredSupervisor": true,
    "GoodsReceiptCreateSupervisorRequired": true,
    "GoodsReceiptTargetDocuments": false,
    "TransferTargetItems": false,
    "EnablePackages": true,
    "EnableUnitSelection": true,
    "IdleLogoutTimeout": 0,
    "EnablePickingCheck": true,
    "GoodsReceiptPackages": true,
    "EnableUseBaseUn": true,
    "EnableTransferConfirm": true,
    "DisplayVendor": true,
    "GoodsReceiptConfirmationAdjustStock": true
  },
  "Package": {
    "Label": {
      "AutoPrint": true
    },
    "Barcode": {
      "Prefix": "PKG",
      "Length": 14,
      "Suffix": "",
      "StartNumber": 1
    },
    "MetadataDefinition": [
      {
        "Type": "Decimal",
        "Id": "Volume",
        "Description": "Volume (m³)"
      },
      {
        "Type": "String",
        "Id": "Note",
        "Description": "Special Notes"
      },
      {
        "Type": "Date",
        "Id": "ExpiryDate",
        "Description": "Expiry Date"
      }
    ]
  },
  "Filters": {
    "Vendors": "\"QryGroup1\" = 'Y'",
    "PickPackOnly": {
      "Query": "OCRD.\"QryGroup4\" = 'Y'",
      "GroupBy": "OCRD.\"QryGroup4\""
    }
  },
  "Warehouses": {
    "SM": {
      "InitialCountingBinEntry": 3404,
      "CancelPickingBinEntry": 3577,
      "StagingBinEntry": 3578
    }
  },
  "CustomFields": {
    "Items": [
      {
        "Key": "FrgnName",
        "Query": "OITM.FrgnName",
        "Description": "Second Name",
        "Type": "Text"
      },
      {
        "Key": "ItmsGrpNam",
        "Query": "(SELECT [ItmsGrpNam] FROM OITB WHERE ItmsGrpCod = OITM.ItmsGrpCod)",
        "Description": "Item Group",
        "Type": "Text",
        "GroupBy": "OITM.ItmsGrpCod"
      },
      {
        "Key": "FirmName",
        "Query": "(SELECT [FirmName] FROM OMRC WHERE FirmCode = OITM.FirmCode)",
        "Description": "Firm Name",
        "Type": "Text",
        "GroupBy": "OITM.FirmCode"
      },
      {
        "Key": "DocEntry",
        "Query": "OITM.DocEntry",
        "Description": "Item Entry",
        "Type": "Number"
      },
      {
        "Key": "UpdateDate",
        "Query": "OITM.UpdateDate",
        "Description": "Update Date",
        "Type": "Date"
      },
      {
        "Key": "Volume",
        "Query": "OITM.BVolume",
        "Description": "Volumen (m³)",
        "Type": "Number"
      },
      {
        "Key": "Weight",
        "Query": "OITM.BVolume",
        "Description": "Peso (kg)",
        "Type": "Number"
      }
    ]
  },
  "ExternalAdapter": "SboServiceLayer",
  "SboSettings": {
    "ServiceLayerUrl": "https://localhost:50000",
    "Server": "YUVAL-PC",
    "ServerType": 15,
    "Database": "UNIT_TEST",
    "User": "manager",
    "Password": "be1s"
  },
  "SessionManagement": {
    "Type": "Redis",
    "Redis": {
      "Host": "localhost",
      "Port": 6379
    },
    "Cookie": {
      "Domain": null,
      "Secure": false,
      "SameSite": "Lax",
      "HttpOnly": true
    }
  },
  "Licensing": {
    "EncryptionKey": "WrCH0RB8F+o6Hu/AF0POUQ3E/efUkHaQLRC4qSvLduk=",
    "CloudEndpoint": "http://localhost:8080",
    "BearerToken": "elk_c3d4e5f678901234567890123456789012cdef",
    "CacheExpirationHours": 24,
    "GracePeriodDays": 7,
    "DemoExpirationDays": 30,
    "WarningThresholdDays": 3
  },
  "BackgroundServices": {
    "PickListSync": {
      "IntervalSeconds": 30,
      "Enabled": true,
      "CheckClosedPickLists": true,
      "ProcessPackageMovements": true
    },
    "CloudSync": {
      "SyncIntervalMinutes": 10,
      "ValidationIntervalHours": 24,
      "Enabled": true
    }
  },
  "Item": {
    "MetadataDefinition": [
      {
        "Id": "ItemCode",
        "Description": "Item Code",
        "Type": "String",
        "ReadOnly": true,
        "Required": false
      },
      {
        "Id": "ItemName",
        "Description": "Item Name",
        "Type": "String",
        "ReadOnly": true,
        "Required": false
      },
      {
        "Id": "PurchaseUnitLength",
        "Description": "Purchase Unit Length",
        "Type": "Decimal",
        "Step": 4,
        "ReadOnly": false,
        "Required": false
      },
      {
        "Id": "PurchaseUnitWidth",
        "Description": "Purchase Unit Width",
        "Type": "Decimal",
        "Step": 4,
        "ReadOnly": false,
        "Required": false
      },
      {
        "Id": "PurchaseUnitHeight",
        "Description": "Purchase Unit Height",
        "Type": "Decimal",
        "Step": 4,
        "ReadOnly": false,
        "Required": false
      },
      {
        "Id": "PurchaseUnitVolume",
        "Description": "Purchase Unit Volume (m³)",
        "Type": "Decimal",
        "Step": 4,
        "ReadOnly": false,
        "Required": false,
        "Calculated": {
          "Formula": "{PurchaseUnitLength} * {PurchaseUnitWidth} * {PurchaseUnitHeight}",
          "Dependencies": [
            "PurchaseUnitLength",
            "PurchaseUnitWidth",
            "PurchaseUnitHeight"
          ],
          "Precision": 4,
          "ClearDependenciesOnManualEdit": true
        }
      },
      {
        "Id": "PurchaseUnitWeight",
        "Description": "Peso KG",
        "Type": "Decimal",
        "ReadOnly": false,
        "Required": true
      },
      {
        "Id": "U_B1SStdTP",
        "Description": "Template Name",
        "Type": "String",
        "ReadOnly": false,
        "Required": true
      },
      {
        "Id": "U_LW_UPDATE_TIMESTAMP",
        "Description": "Last Update Time",
        "Type": "Date",
        "ReadOnly": false,
        "Required": false
      },
      {
        "Id": "U_LW_UPDATE_USER",
        "Description": "Last Update ID",
        "Type": "Integer",
        "ReadOnly": false,
        "Required": false
      }
    ]
  },
  "ExternalCommands": {
    "Commands": [
      {
        "Id": "PrintPackageBarcodeXML",
        "Name": "Print Package Barcode Label (XML)",
        "Description": "Prints barcode label when package is created - XML format to local path",
        "ObjectType": "Package",
        "TriggerType": "CreatePackage",
        "Enabled": true,
        "Queries": [
          {
            "Name": "PackageData",
            "Query": "SELECT p.Barcode FROM Packages p WHERE p.Id = @ObjectId",
            "ResultType": "Single"
          }
        ],
        "FileFormat": "XML",
        "FileNamePattern": "PKG_{Barcode}_{Timestamp:yyyyMMddHHmmss}.xml",
        "Destination": {
          "Type": "LocalPath",
          "Path": "C:\\PrintQueue\\Labels\\Incoming"
        }
      },
      {
        "Id": "PrintPackageContentXML",
        "Name": "Print Package Content Label (XML)",
        "Description": "Prints label when package is activated - XML format to local path",
        "ObjectType": "Package",
        "TriggerType": "ActivatePackage",
        "Enabled": true,
        "Queries": [
          {
            "Name": "PackageData",
            "Query": "SELECT p.Barcode FROM Packages p WHERE p.Id = @ObjectId",
            "ResultType": "Single"
          },
          {
            "Name": "PackageContent",
            "Query": "select ItemCode, Quantity from \"PackageContents\" where \"PackageId\" = @ObjectId order by 1",
            "ResultType": "Multiple"
          }
        ],
        "FileFormat": "XML",
        "FileNamePattern": "PKG_{Barcode}_Content_{Timestamp:yyyyMMddHHmmss}.xml",
        "Destination": {
          "Type": "LocalPath",
          "Path": "C:\\PrintQueue\\Labels\\Incoming"
        }
      }
    ],
    "GlobalSettings": {
      "MaxConcurrentExecutions": 5,
      "CommandTimeout": 30,
      "RetryPolicy": {
        "MaxRetries": 3,
        "RetryDelaySeconds": 5,
        "RetryOnErrors": [
          "NetworkError",
          "TimeoutError"
        ]
      },
      "FileEncoding": "UTF-8",
      "XmlSettings": {
        "RootElementName": "Root",
        "IncludeXmlDeclaration": true,
        "IndentXml": true
      },
      "JsonSettings": {
        "IndentJson": true,
        "CamelCasePropertyNames": false,
        "DateFormat": "yyyy-MM-ddTHH:mm:ss"
      }
    }
  },
  "PickingPostProcessing": {
    "Processors": [
      {
        "Id": "customer-packaging-calculator",
        "Assembly": "Customer.Extensions.dll",
        "TypeName": "Customer.Extensions.PackagingCalculatorPostProcessor",
        "Enabled": true,
        "Configuration": {
          "Enabled": true,
          "Description": "Calculates packaging requirements and updates SAP Order lines",
          "BatchSize": 100,
          "TimeoutSeconds": 30,
          "RetryAttempts": 3,
          "LogLevel": "Information"
        }
      }
    ]
  }
}